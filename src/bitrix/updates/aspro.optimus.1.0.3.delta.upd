BITRIX42   9463|/aspro.optimus/functions.php|41d65543<?
CModule::IncludeModule("main");
CModule::IncludeModule("iblock");

set_time_limit(0);

if(!function_exists("ClearAllSitesCacheComponents")){
	function ClearAllSitesCacheComponents($arComponentsNames){
		if($arComponentsNames && is_array($arComponentsNames)){
			global $CACHE_MANAGER;
			$arSites = array();
			$rsSites = CSite::GetList($by = "sort", $order = "desc", array("ACTIVE" => "Y"));
			while($arSite = $rsSites->Fetch()){
			  $arSites[] = $arSite;
			}
			foreach($arComponentsNames as $componentName){
				foreach($arSites as $arSite){
					CBitrixComponent::clearComponentCache($componentName, $arSite["ID"]);
				}
			}
		}
	}
}

if(!function_exists("ClearAllSitesCacheDirs")){
	function ClearAllSitesCacheDirs($arDirs){
		if($arDirs && is_array($arDirs)){
			foreach($arDirs as $dir){
				$obCache = new CPHPCache();
				$obCache->CleanDir("", $dir);
			}
		}
	}
}

if(!function_exists("GetIBlocks")){
	function GetIBlocks(){
		$arRes = array();
		$dbRes = CIBlock::GetList(array(), array("ACTIVE" => "Y"));
		while($item = $dbRes->Fetch()){
			$arRes[$item["LID"]][$item["IBLOCK_TYPE_ID"]][$item["CODE"]][] = $item["ID"];
		}
		return $arRes;
	}
}

if(!function_exists("GetSites")){
	function GetSites(){
		$arRes = array();
		$dbRes = CSite::GetList($by="sort", $order="desc", array("ACTIVE" => "Y"));
		while($item = $dbRes->Fetch()){
			$arRes[$item["LID"]] = $item;
		}
		return $arRes;
	}
}

if(!function_exists("GetCurVersion")){
	function GetCurVersion($versionFile){
		$ver = false;
		if(file_exists($versionFile)){
			$arModuleVersion = array();
			include($versionFile);
			$ver = trim($arModuleVersion["VERSION"]);
		}
		return $ver;
	}
}

if(!function_exists("CreateBakFile")){
	function CreateBakFile($file, $curVersion = CURRENT_VERSION){
		$file = trim($file);
		if(file_exists($file)){
			$arPath = pathinfo($file);
			$backFile = $arPath['dirname'].'/_'.$arPath['basename'].'.back'.$curVersion;
			if(!file_exists($backFile)){
				@copy($file, $backFile);
			}
		}
	}
}

if(!function_exists("RemoveFileFromModuleWizard")){
	function RemoveFileFromModuleWizard($file){
		@unlink($_SERVER['DOCUMENT_ROOT'].'/bitrix/modules/'.MODULE_NAME.'/install/wizards/'.PARTNER_NAME.'/'.MODULE_NAME_SHORT.$file);
		@unlink($_SERVER['DOCUMENT_ROOT'].'/bitrix/wizards/'.PARTNER_NAME.'/'.MODULE_NAME_SHORT.$file);
	}
}

if(!function_exists("RemoveFileFromTemplate")){
	function RemoveFileFromTemplate($file, $bModule = true){
		@unlink($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.$file);
		if($bModule){
			RemoveFileFromModuleWizard('/site/templates/'.TEMPLATE_NAME.$file);
		}
	}
}

if(!function_exists('SearchFilesInPublicRecursive')){
	function SearchFilesInPublicRecursive($dir, $pattern, $flags = 0){
		$arDirExclude = array('bitrix', 'upload');
		$pattern = str_replace('//', '/', str_replace('//', '/', $dir.'/').$pattern);
		$files = glob($pattern, $flags);
		foreach(glob(dirname($pattern).'/*', GLOB_ONLYDIR|GLOB_NOSORT) as $dir){
			if(!in_array(basename($dir), $arDirExclude)){
				$files = array_merge($files, SearchFilesInPublicRecursive($dir, basename($pattern), $flags));
			}
		}
		return $files;
	}
}

if(!function_exists('RemoveOldBakFiles')){
	function RemoveOldBakFiles(){
		$arDirs = $arFiles = array();
		$arDirExclude = array($_SERVER["DOCUMENT_ROOT"].'/bitrix', $_SERVER["DOCUMENT_ROOT"].'/upload');

		if(file_exists($_SERVER["DOCUMENT_ROOT"].'/bitrix/templates/')){
			if($arTemplates = glob($_SERVER["DOCUMENT_ROOT"].'/bitrix/templates/'.PARTNER_NAME.'*', 0)){
				foreach($arTemplates as $templatePath){
					$arDirs[] = str_replace('//', '/', $templatePath.'/');
				}
			}
		}

		if(file_exists($_SERVER["DOCUMENT_ROOT"].'/local/templates/')){
			if($arTemplates = glob($_SERVER["DOCUMENT_ROOT"].'/local/templates/'.PARTNER_NAME.'*', 0)){
				foreach($arTemplates as $templatePath){
					$arDirs[] = str_replace('//', '/', $templatePath.'/');
				}
			}
		}

		if(file_exists($_SERVER["DOCUMENT_ROOT"].'/bitrix/modules/')){
			if($arModules = glob($_SERVER["DOCUMENT_ROOT"].'/bitrix/modules/'.PARTNER_NAME.'*', 0)){
				foreach($arModules as $modulePath){
					$arDirs[] = str_replace('//', '/', $modulePath.'/');
				}
			}
		}

		/*if($arSites = GetSites()){
			foreach($arSites as $siteID => $arSite){
				$arSite['DIR'] = str_replace('//', '/', '/'.$arSite['DIR']);
				if(!strlen($arSite['DOC_ROOT'])){
					$arSite['DOC_ROOT'] = $_SERVER["DOCUMENT_ROOT"];
				}
				$arSite['DOC_ROOT'] = str_replace('//', '/', $arSite['DOC_ROOT'].'/');
				$arDirs[] = str_replace('//', '/', $arSite['DOC_ROOT'].$arSite['DIR']);
			}
		}*/

		$i = 0;

		while($arDirs && ++$i < 10000){
			$dir = array_pop($arDirs);
			$arFiles = array_merge($arFiles, (array)glob($dir.'_*.back*', GLOB_NOSORT));
			foreach((array)glob($dir.'*', GLOB_ONLYDIR|GLOB_NOSORT) as $dir){
				if(strlen($dir) && !in_array($dir, $arDirExclude) && strpos($dir, PARTNER_NAME) !== false){
					$arDirs[] = str_replace('//', '/', $dir.'/');
				}
			}
		}

		if($arFiles){
			foreach($arFiles as $file){
				if(file_exists($file) && !is_dir($file)){
					if(time() - filemtime($file) >= 1209600){ // 14 days
						@unlink($file);
					}
				}
			}
		}
	}
}

if(!function_exists("GetDBcharset")){
	function GetDBcharset(){
		$sql='SHOW VARIABLES LIKE "character_set_database";';
		if(method_exists('\Bitrix\Main\Application', 'getConnection')){
			$db=\Bitrix\Main\Application::getConnection();
			$arResult = $db->query($sql)->fetch();
			return $arResult['Value'];
		}elseif($result = @mysqli_query($sql)){
			$arResult = mysql_fetch_row($result);
			return $arResult[1];
		}
		return false;
	}
}

if(!function_exists("GetMes")){
	function GetMes($str){
		static $isUTF8;
		if($isUTF8 === NULL){
			$isUTF8 = GetDBcharset() == 'utf8';
		}
		return ($isUTF8 ? iconv('CP1251', 'UTF-8', $str) : $str);
	}
}

if(!function_exists("UpdaterLog")){
	function UpdaterLog($str){
		static $fLOG;
		if($bFirst = !$fLOG){
			$fLOG = $_SERVER['DOCUMENT_ROOT'].'/bitrix/modules/'.MODULE_NAME.'/updaterlog.txt';
		}
		if(is_array($str)){
			$str = print_r($str, 1);
		}
		@file_put_contents($fLOG, ($bFirst ? PHP_EOL : '').date("d.m.Y H:i:s", time()).' '.$str.PHP_EOL, FILE_APPEND);
	}
}

if(!function_exists("InitComposite")){
	function InitComposite($arSites){
		if(class_exists("CHTMLPagesCache")){
			if(method_exists("CHTMLPagesCache", "GetOptions")){
				if($arHTMLCacheOptions = CHTMLPagesCache::GetOptions()){
					if($arHTMLCacheOptions["COMPOSITE"] !== "Y"){
						$arDomains = array();
						if($arSites){
							foreach($arSites as $arSite){
								if(strlen($serverName = trim($arSite["SERVER_NAME"], " \t\n\r"))){
									$arDomains[$serverName] = $serverName;
								}
								if(strlen($arSite["DOMAINS"])){
									foreach(explode("\n", $arSite["DOMAINS"]) as $domain){
										if(strlen($domain = trim($domain, " \t\n\r"))){
											$arDomains[$domain] = $domain;
										}
									}
								}
							}
						}

						if(!$arDomains){
							$arDomains[$_SERVER["SERVER_NAME"]] = $_SERVER["SERVER_NAME"];
						}

						if(!$arHTMLCacheOptions["GROUPS"]){
							$arHTMLCacheOptions["GROUPS"] = array();
						}
						$rsGroups = CGroup::GetList(($by="id"), ($order="asc"), array());
						while($arGroup = $rsGroups->Fetch()){
							if($arGroup["ID"] > 2){
								if(in_array($arGroup["STRING_ID"], array("RATING_VOTE_AUTHORITY", "RATING_VOTE")) && !in_array($arGroup["ID"], $arHTMLCacheOptions["GROUPS"])){
									$arHTMLCacheOptions["GROUPS"][] = $arGroup["ID"];
								}
							}
						}

						$arHTMLCacheOptions["COMPOSITE"] = "Y";
						$arHTMLCacheOptions["DOMAINS"] = array_merge((array)$arHTMLCacheOptions["DOMAINS"], (array)$arDomains);
						CHTMLPagesCache::SetEnabled(true);
						CHTMLPagesCache::SetOptions($arHTMLCacheOptions);
						bx_accelerator_reset();
					}
				}
			}
		}
	}
}

if(!function_exists('IsCompositeEnabled')){
	function IsCompositeEnabled(){
		if(class_exists('CHTMLPagesCache')){
			if(method_exists('CHTMLPagesCache', 'GetOptions')){
				if($arHTMLCacheOptions = CHTMLPagesCache::GetOptions()){
					if(method_exists('CHTMLPagesCache', 'isOn')){
						if (CHTMLPagesCache::isOn()){
							if(isset($arHTMLCacheOptions['AUTO_COMPOSITE']) && $arHTMLCacheOptions['AUTO_COMPOSITE'] === 'Y'){
								return 'AUTO_COMPOSITE';
							}
							else{
								return 'COMPOSITE';
							}
						}
					}
					else{
						if($arHTMLCacheOptions['COMPOSITE'] === 'Y'){
							return 'COMPOSITE';
						}
					}
				}
			}
		}

		return false;
	}
}

if(!function_exists('EnableComposite')){
	function EnableComposite($auto = false){
		if(class_exists('CHTMLPagesCache')){
			if(method_exists('CHTMLPagesCache', 'GetOptions')){
				if($arHTMLCacheOptions = CHTMLPagesCache::GetOptions()){
					$arHTMLCacheOptions['COMPOSITE'] = 'Y';
					$arHTMLCacheOptions['AUTO_UPDATE'] = 'Y'; // standart mode
					$arHTMLCacheOptions['AUTO_UPDATE_TTL'] = '0'; // no ttl delay
					$arHTMLCacheOptions['AUTO_COMPOSITE'] = ($auto ? 'Y' : 'N'); // auto composite mode
					CHTMLPagesCache::SetEnabled(true);
					CHTMLPagesCache::SetOptions($arHTMLCacheOptions);
					bx_accelerator_reset();
				}
			}
		}
	}
}
?>46   20517|/aspro.optimus/updater1.0.3.php|99dae2ab<?
// aspro.optimus 1.0.3 updater
// changed files

// module:
// /css/theme.less - update
// /admin/options.php - update
// /classes/general/COptimus.php - update
// /lang/ru/classes/general/COptimus.php - update
// /lang/en/classes/general/COptimus.php - update
// /install/components/aspro/oneclickbuy.optimus/functions.php - update
// /install/components/aspro/oneclickbuy.optimus/component.php - update
// /install/components/aspro/catalog.viewed.optimus/component.php - update
// /install/components/aspro/catalog.viewed.optimus/templates/main/template.php - update
// /install/css/style.css - update

// components:

// wizard:
// /site/public/ru/ajax/check_order.php - add
// /site/public/ru/ajax/one_click_buy.php - update
// /site/public/ru/ajax/one_click_buy_basket.php - update

// template:
// /js/main.js - update
// /js/main.min.js - update
// /lang/ru/header.php - update
// /lang/en/header.php - update
// /themes/* - update
// /components/bitrix/catalog/main/element.php - update
// /components/bitrix/map.google.view/map/template.php - update
// /components/bitrix/news/shops/.parameters.php - add
// /components/bitrix/news/shops/lang/ru/.parameters.php - add
// /components/bitrix/news/shops/lang/en/.parameters.php - add
// /components/bitrix/news/shops/detail.php - update
// /components/bitrix/news/shops/news.php - update
// /components/bitrix/news.detail/shops/component_epilog.php - update
// /components/bitrix/news.list/shops/component_epilog.php - update
// /components/bitrix/catalog.store/main/liststores.php - update
// /components/bitrix/catalog.store/main/element.php - update
// /components/bitrix/catalog.store/main/.parameters.php - update
// /components/bitrix/catalog.store/main/lang/ru/.parameters.php - update
// /components/bitrix/catalog.store/main/lang/en/.parameters.php - update
// /components/bitrix/catalog.element/main/component_epilog.php - update
// /components/bitrix/catalog.element/main/script.js - update
// /components/bitrix/catalog.element/main/script.min.js - update
// /components/bitrix/catalog.element/main/template.php - update
// /components/bitrix/catalog.section/catalog_block/result_modifier.php - update
// /components/bitrix/catalog.section/catalog_block/template.php - update
// /components/bitrix/catalog.section/catalog_block/script.js - update
// /components/bitrix/catalog.section/catalog_block/script.min.js - update
// /components/bitrix/catalog.section/catalog_list/result_modifier.php - update
// /components/bitrix/catalog.section/catalog_list/template.php - update
// /components/bitrix/catalog.section/catalog_list/script.js - update
// /components/bitrix/catalog.section/catalog_list/script.min.js - update
// /components/bitrix/catalog.section/catalog_block_slider/result_modifier.php - update
// /components/bitrix/catalog.section/catalog_block_slider/template.php - update
// /components/bitrix/catalog.section/catalog_block_slider/script.js - update
// /components/bitrix/catalog.section/catalog_block_slider/script.min.js - update
// /components/aspro/oneclickbuy.optimus/shop/template.php - update

// public:
// /ajax/check_order.php - add
// /ajax/one_click_buy.php - update
// /ajax/one_click_buy_basket.php - update

require_once __DIR__ .'/functions.php';

define('PARTNER_NAME', 'aspro');
define('MODULE_NAME', 'aspro.optimus');
define('MODULE_NAME_SHORT', 'optimus');
define('TEMPLATE_NAME', 'aspro_optimus');
define('TEMPLATE_PATH', '/bitrix/templates/'.TEMPLATE_NAME);
define('UPDATER_SELF_TEMPLATE_PATH', 'install/wizards/'.PARTNER_NAME.'/'.MODULE_NAME_SHORT.'/site/templates/'.TEMPLATE_NAME);
define('UPDATER_SITE_TEMPLATE_PATH', 'templates/'.TEMPLATE_NAME);
define('CURRENT_VERSION', GetCurVersion($_SERVER['DOCUMENT_ROOT'].'/bitrix/modules/'.MODULE_NAME.'/install/version.php'));
define('NEW_VERSION', GetCurVersion(__DIR__.'/install/version.php'));

UpdaterLog('START UPDATE '.CURRENT_VERSION.' -> '.NEW_VERSION.PHP_EOL);

// remove old bak files
RemoveOldBakFiles();

// create bak files
CreateBakFile($_SERVER['DOCUMENT_ROOT'].'/bitrix/modules/'.MODULE_NAME.'/css/theme.less');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].'/bitrix/modules/'.MODULE_NAME.'/admin/options.php');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].'/bitrix/modules/'.MODULE_NAME.'/classes/general/COptimus.php');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].'/bitrix/modules/'.MODULE_NAME.'/lang/ru/classes/general/COptimus.php');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].'/bitrix/modules/'.MODULE_NAME.'/lang/en/classes/general/COptimus.php');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].'/bitrix/components/'.PARTNER_NAME.'/oneclickbuy.optimus/functions.php');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].'/bitrix/components/'.PARTNER_NAME.'/oneclickbuy.optimus/component.php');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].'/bitrix/components/'.PARTNER_NAME.'/catalog.viewed.optimus/component.php');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].'/bitrix/components/'.PARTNER_NAME.'/catalog.viewed.optimus/templates/main/template.php');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/js/main.js');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/js/main.min.js');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/lang/ru/header.php');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/lang/en/header.php');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/themes/blue/theme.css');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/themes/blue/theme.min.css');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/themes/green/theme.css');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/themes/green/theme.min.css');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/themes/green_sea/theme.css');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/themes/green_sea/theme.min.css');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/themes/irish_green/theme.css');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/themes/irish_green/theme.min.css');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/themes/magenta/theme.css');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/themes/magenta/theme.min.css');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/themes/navy/theme.css');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/themes/navy/theme.min.css');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/themes/orange/theme.css');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/themes/orange/theme.min.css');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/themes/orchid/theme.css');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/themes/orchid/theme.min.css');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/themes/red/theme.css');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/themes/red/theme.min.css');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/themes/yellow/theme.css');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/themes/yellow/theme.min.css');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/components/bitrix/catalog/main/element.php');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/components/bitrix/map.google.view/map/template.php');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/components/bitrix/news/shops/.parameters.php');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/components/bitrix/news/shops/lang/ru/.parameters.php');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/components/bitrix/news/shops/lang/en/.parameters.php');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/components/bitrix/news/shops/detail.php');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/components/bitrix/news/shops/news.php');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/components/bitrix/news.detail/shops/component_epilog.php');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/components/bitrix/news.list/shops/component_epilog.php');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/components/bitrix/catalog.store/main/liststores.php');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/components/bitrix/catalog.store/main/element.php');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/components/bitrix/catalog.store/main/.parameters.php');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/components/bitrix/catalog.store/main/lang/ru/.parameters.php');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/components/bitrix/catalog.store/main/lang/en/.parameters.php');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/components/bitrix/catalog.element/main/component_epilog.php');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/components/bitrix/catalog.element/main/script.js');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/components/bitrix/catalog.element/main/script.min.js');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/components/bitrix/catalog.element/main/template.php');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/components/bitrix/catalog.section/catalog_block/result_modifier.php');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/components/bitrix/catalog.section/catalog_block/template.php');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/components/bitrix/catalog.section/catalog_block/script.js');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/components/bitrix/catalog.section/catalog_block/script.min.js');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/components/bitrix/catalog.section/catalog_list/result_modifier.php');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/components/bitrix/catalog.section/catalog_list/template.php');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/components/bitrix/catalog.section/catalog_list/script.js');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/components/bitrix/catalog.section/catalog_list/script.min.js');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/components/bitrix/catalog.section/catalog_block_slider/result_modifier.php');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/components/bitrix/catalog.section/catalog_block_slider/template.php');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/components/bitrix/catalog.section/catalog_block_slider/script.js');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/components/bitrix/catalog.section/catalog_block_slider/script.min.js');
CreateBakFile($_SERVER['DOCUMENT_ROOT'].TEMPLATE_PATH.'/components/aspro/oneclickbuy.optimus/shop/template.php');

// update module
$updater->CopyFiles('install', 'modules/'.MODULE_NAME.'/install');

// update wizard
$updater->CopyFiles('install/wizards', 'wizards');

if(file_exists($_SERVER['DOCUMENT_ROOT'].'/bitrix/components/aspro/')){
	// update components
	$updater->CopyFiles('install/components', 'components');
}

// update module css
if(file_exists($_SERVER['DOCUMENT_ROOT'].'/bitrix/css/'.MODULE_NAME.'/')){
	CopyDirFiles($_SERVER['DOCUMENT_ROOT'].'/bitrix/modules/'.MODULE_NAME.'/install/css/', $_SERVER['DOCUMENT_ROOT'].'/bitrix/css/'.MODULE_NAME, true, true);
}

if(file_exists($_SERVER['DOCUMENT_ROOT'].'/bitrix/templates/'.TEMPLATE_NAME)){
	// update js
	$updater->CopyFiles(UPDATER_SELF_TEMPLATE_PATH.'/js', UPDATER_SITE_TEMPLATE_PATH.'/js');

	// rewrite css
	//$updater->CopyFiles(UPDATER_SELF_TEMPLATE_PATH.'/css', UPDATER_SITE_TEMPLATE_PATH.'/css');
	//$updater->CopyFiles(UPDATER_SELF_TEMPLATE_PATH.'/ajax', UPDATER_SITE_TEMPLATE_PATH.'/ajax');
	//$updater->CopyFiles(UPDATER_SELF_TEMPLATE_PATH.'/template_styles.css', UPDATER_SITE_TEMPLATE_PATH.'/template_styles.css');
	//$updater->CopyFiles(UPDATER_SELF_TEMPLATE_PATH.'/template_styles.min.css', UPDATER_SITE_TEMPLATE_PATH.'/template_styles.min.css');
	//$updater->CopyFiles(UPDATER_SELF_TEMPLATE_PATH.'/styles.css', UPDATER_SITE_TEMPLATE_PATH.'/styles.css');
	//$updater->CopyFiles(UPDATER_SELF_TEMPLATE_PATH.'/styles.min.css', UPDATER_SITE_TEMPLATE_PATH.'/styles.min.css');

	// update images
	//$updater->CopyFiles(UPDATER_SELF_TEMPLATE_PATH.'/images', UPDATER_SITE_TEMPLATE_PATH.'/images');

	// update bgcolor
	//$updater->CopyFiles(UPDATER_SELF_TEMPLATE_PATH.'/bg_color', UPDATER_SITE_TEMPLATE_PATH.'/bg_color');

	// rewrite components templates
	$updater->CopyFiles(UPDATER_SELF_TEMPLATE_PATH.'/components', UPDATER_SITE_TEMPLATE_PATH.'/components');

	// rewrite themes
	$updater->CopyFiles(UPDATER_SELF_TEMPLATE_PATH.'/themes', UPDATER_SITE_TEMPLATE_PATH.'/themes');
}

// current SITEs
$arSites = GetSites();

// current IBLOCK_IDs
$arIblocks = GetIBlocks();

// add /ajax/check_order.php
// update /ajax/one_click_buy.php & /ajax/one_click_buy_basket.php
if($arSites && $arIblocks){
	foreach($arSites as $arSite){
		$arSite['DIR'] = str_replace('//', '/', '/'.$arSite['DIR']);
		if(!strlen($arSite['DOC_ROOT'])){
			$arSite['DOC_ROOT'] = $_SERVER['DOCUMENT_ROOT'];
		}
		$arSite['DOC_ROOT'] = str_replace('//', '/', $arSite['DOC_ROOT'].'/');
		$siteDir = str_replace('//', '/', $arSite['DOC_ROOT'].$arSite['DIR']);
		$fileCheckSolution = str_replace('//', '/', $siteDir.'/ajax/form.php');
		if(file_exists($fileCheckSolution)){
			$content = @file_get_contents($fileCheckSolution);
			if(strpos($content, 'COptimus') !== false){
				COption::SetOptionString(MODULE_NAME, 'NeedGenerateCustomTheme', 'Y', '', $arSite['LID']);


				$fileIncludeTo = str_replace('//', '/', $siteDir.'/ajax/check_order.php');
				$fileIncludeFrom = str_replace('//', '/', $_SERVER['DOCUMENT_ROOT'].'/bitrix/modules/'.MODULE_NAME.'/install/wizards/'.PARTNER_NAME.'/'.MODULE_NAME_SHORT.'/site/public/ru/ajax/check_order.php');
				if(file_exists($fileIncludeFrom)){
					$content = @file_get_contents($fileIncludeFrom);
					if(file_exists($fileIncludeTo)){
						CreateBakFile($fileIncludeTo);
					}
					@file_put_contents($fileIncludeTo, $content);
					UpdaterLog('Updated /ajax/check_order.php');
				}

				$fileIncludeTo = str_replace('//', '/', $siteDir.'/ajax/one_click_buy.php');
				$fileIncludeFrom = str_replace('//', '/', $_SERVER['DOCUMENT_ROOT'].'/bitrix/modules/'.MODULE_NAME.'/install/wizards/'.PARTNER_NAME.'/'.MODULE_NAME_SHORT.'/site/public/ru/ajax/one_click_buy.php');
				if(file_exists($fileIncludeFrom)){
					if(file_exists($fileIncludeTo)){
						$content = @file_get_contents($fileIncludeTo);
						if(strpos($content, 'COption::GetOptionString') === false && strpos($content, MODULE_NAME) === false){
							// get options
							$re = '@([\'" ]{1,3})DEFAULT_PERSON_TYPE([\'" ]{1,3})(.{1,8})([\'" ]{1,3})(.{1,3})([\'" ]{1,3}),@xs';
							preg_match_all($re, $content, $arMatch);
							if(strlen($arMatch[5][0])){
								$DEFAULT_PERSON_TYPE = intval(trim($arMatch[5][0]));
								UpdaterLog('DEFAULT_PERSON_TYPE finded = '.$DEFAULT_PERSON_TYPE);
								\Bitrix\Main\Config\Option::set(MODULE_NAME, "ONECLICKBUY_PERSON_TYPE", $DEFAULT_PERSON_TYPE, $arSite["LID"]);
							}
							$re = '@([\'" ]{1,3})DEFAULT_DELIVERY([\'" ]{1,3})(.{1,8})([\'" ]{1,3})(.{1,3})([\'" ]{1,3}),@xs';
							preg_match_all($re, $content, $arMatch);
							if(strlen($arMatch[5][0])){
								$DEFAULT_DELIVERY = intval(trim($arMatch[5][0]));
								$DEFAULT_DELIVERY = $DEFAULT_DELIVERY > 0 ? $DEFAULT_DELIVERY : 2;
								UpdaterLog('DEFAULT_DELIVERY finded = '.$DEFAULT_DELIVERY);
								if(CModule::IncludeModule('sale')){
									while(!strlen(\Bitrix\Sale\Delivery\Services\Table::getCodeById($DEFAULT_DELIVERY))){
										++$DEFAULT_DELIVERY;
									}
								}
								UpdaterLog('DEFAULT_DELIVERY checked = '.$DEFAULT_DELIVERY);
								\Bitrix\Main\Config\Option::set(MODULE_NAME, "ONECLICKBUY_DELIVERY", $DEFAULT_DELIVERY, $arSite["LID"]);
							}
							$re = '@([\'" ]{1,3})DEFAULT_PAYMENT([\'" ]{1,3})(.{1,8})([\'" ]{1,3})(.{1,3})([\'" ]{1,3}),@xs';
							preg_match_all($re, $content, $arMatch);
							if(strlen($arMatch[5][0])){
								$DEFAULT_PAYMENT = intval(trim($arMatch[5][0]));
								UpdaterLog('DEFAULT_PAYMENT finded = '.$DEFAULT_PAYMENT);
								\Bitrix\Main\Config\Option::set(MODULE_NAME, "ONECLICKBUY_PAYMENT", $DEFAULT_PAYMENT, $arSite["LID"]);
							}
							$re = '@([\'" ]{1,3})DEFAULT_CURRENCY([\'" ]{1,3})(.{1,8})([\'" ]{1,3})(.{1,3})([\'" ]{1,3}),@xs';
							preg_match_all($re, $content, $arMatch);
							if(strlen($arMatch[5][0])){
								$DEFAULT_CURRENCY = trim($arMatch[5][0]);
								UpdaterLog('DEFAULT_CURRENCY finded = '.$DEFAULT_CURRENCY);
								\Bitrix\Main\Config\Option::set(MODULE_NAME, "ONECLICKBUY_CURRENCY", $DEFAULT_CURRENCY, $arSite["LID"]);
							}

							$re = '@([\'" ]{1,3})PROPERTIES([\'" ]{1,3})(.{1,3})(array\()(.*)(["\)]{1,30}),@x';
							preg_match_all($re, $content, $arMatch);
							if(strlen($arMatch[5][0])){
								$PROPERTIES = $arMatch[5][0];
								$isFullArray = (strpos($PROPERTIES, "=>") !==false);
								$PROPERTIES = preg_replace("/\d/", "", $PROPERTIES);
								$PROPERTIES = preg_replace("/\s/", "", $PROPERTIES);
								if($isFullArray)
									$PROPERTIES = str_replace(",", "", $PROPERTIES);
								$arProps = explode("=>", $PROPERTIES);
								if($arProps)
								{
									foreach($arProps as $key=>$val)
									{
										$val = trim($val);
										$val = str_replace("\"", "", $val);
										if(strlen($val))
										{
											$arProps[$key] = $val;
										}
										else
										{
											unset($arProps[$key]);
										}
									}
									$PROPERTIES = implode(",", $arProps);
								}
								UpdaterLog('PROPERTIES finded = '.$PROPERTIES);
								\Bitrix\Main\Config\Option::set(MODULE_NAME, "ONECLICKBUY_PROPERTIES", $PROPERTIES, $arSite["LID"]);
							}
							$re = '@([\'" ]{1,3})REQUIRED([\'" ]{1,3})(.{1,3})(array\()(.*)(["\)]{1,30}),@x';
							preg_match_all($re, $content, $arMatch);
							if(strlen($arMatch[5][0])){
								$REQUIRED = $arMatch[5][0];
								$isFullArray = (strpos($REQUIRED, "=>") !==false);
								$REQUIRED = preg_replace("/\d/", "", $REQUIRED);
								$REQUIRED = preg_replace("/\s/", "", $REQUIRED);
								if($isFullArray)
									$REQUIRED = str_replace(",", "", $REQUIRED);
								$arProps = explode("=>", $REQUIRED);
								if($arProps)
								{
									foreach($arProps as $key=>$val)
									{
										$val = trim($val);
										$val = str_replace("\"", "", $val);
										if(strlen($val))
										{
											$arProps[$key] = $val;
										}
										else
										{
											unset($arProps[$key]);
										}
									}
									$REQUIRED = implode(",", $arProps);
								}
								UpdaterLog('REQUIRED finded = '.$PROPERTIES);
								\Bitrix\Main\Config\Option::set(MODULE_NAME, "ONECLICKBUY_REQUIRED_PROPERTIES", $REQUIRED, $arSite["LID"]);
							}
						}
					}

					$content = @file_get_contents($fileIncludeFrom);
					if(file_exists($fileIncludeTo)){
						CreateBakFile($fileIncludeTo);
					}
					@file_put_contents($fileIncludeTo, $content);
					UpdaterLog('Updated /ajax/one_click_buy.php');
				}

				$fileIncludeTo = str_replace('//', '/', $siteDir.'/ajax/one_click_buy_basket.php');
				$fileIncludeFrom = str_replace('//', '/', $_SERVER['DOCUMENT_ROOT'].'/bitrix/modules/'.MODULE_NAME.'/install/wizards/'.PARTNER_NAME.'/'.MODULE_NAME_SHORT.'/site/public/ru/ajax/one_click_buy_basket.php');
				if(file_exists($fileIncludeFrom)){
					$content = @file_get_contents($fileIncludeFrom);
					if(file_exists($fileIncludeTo)){
						CreateBakFile($fileIncludeTo);
					}
					@file_put_contents($fileIncludeTo, $content);
					UpdaterLog('Updated /ajax/one_click_buy_basket.php');
				}
			}
		}
	}
}

// is composite enabled
$compositeMode = IsCompositeEnabled();

// clear all sites cache in some components and dirs (include composite cache)
ClearAllSitesCacheDirs(array('html_pages'));
ClearAllSitesCacheComponents(
	array(
		"bitrix:catalog",
		"bitrix:map.google.view",
		"bitrix:news",
		"bitrix:news.detail",
		"bitrix:news.list",
		"bitrix:catalog.store",
		"bitrix:catalog.element",
		"bitrix:catalog.section",
		"aspro:catalog.viewed.optimus",
		"aspro:oneclickbuy.optimus",
	)
);

if($compositeMode){
	EnableComposite($compositeMode === 'AUTO_COMPOSITE');
}
?>66   16896|/aspro.optimus/lang/ru/classes/general/COptimus.php|ce306fe2<?
$MESS["SCOM_BUTTON_NAME"] = "Мастер#BR#настройки";
$MESS["SCOM_BUTTON_DESCRIPTION"] = "Запустить мастер смены дизайна и настроек сайта";
$MESS["STOM_BUTTON_TITLE_W1"] = "Запустить мастер смены дизайна и настройки магазина";
$MESS["STOM_BUTTON_NAME_W1"] = "<b>Мастер настройки магазина</b>";
$MESS["STOM_BUTTON_TITLE_W3"] = "Удаление демонстрационного каталога";
$MESS["STOM_BUTTON_NAME_W3"] = "Удалить демо-каталог";
$MESS["STOM_BUTTON_CONFIRM_W2"] = "Каталог Aspro, установленный в качестве демонстрационного, будет удален. При этом все ваши изменения внутри него будут потеряны. Удалить демо-каталог?";
$MESS["OPTIMUS_MODULE_NOT_INSTALLED"] = 'Модуль &laquo;Аспро: Optimus - Адаптивный интернет-магазин&raquo; не установлен. Пожалуйста, <a href="/bitrix/admin/partner_modules.php">установите модуль</a> и повторите попытку.';
$MESS["ERROR_INCLUDE_MODULE"] = 'Ошибка подключения модуля';
$MESS["NO_RIGHTS_FOR_VIEWING"] = "Недостаточно прав для просмотра";
$MESS["MAIN_OPTIONS"] = "Настройки сайта &laquo;#SITE_NAME#&raquo; (#SITE_ID#)";
$MESS["MAIN_OPTIONS_TITLE"] = "Основные настройки";
$MESS["TEMPLATE_OPTIONS"] = "Шаблон";
$MESS["INDEXPAGE_OPTIONS"] = "Главная страница";
$MESS['BANNER_ANIMATIONTYPE'] = 'Тип анимации большого банера';
$MESS['BANNER_SLIDESSHOWSPEED'] = 'Скорость слайдшоу большого банера (мс)';
$MESS['BANNER_ANIMATIONSPEED'] = 'Скорость анимации большого банера (мс)';
$MESS['ANIMATION_SLIDE_HORIZONTAL'] = 'Скольжение горизонтально (slide)';
$MESS['ANIMATION_SLIDE_VERTICAL'] = 'Скольжение вертикально (slide)';
$MESS['ANIMATION_FADE'] = 'Выцветание (fade)';
$MESS["ADDTOBASKET_OPTIONS"] = "Добавление в корзину";
$MESS["QUANTITY_OPTIONS"] = "Отображение наличия товара";
$MESS["SEARCH_OPTIONS"] = "Настройки поиска в шапке сайта";
$MESS["SEARCH_IB_TYPE"] = "Тип ИБ";
$MESS["SEARCH_IB_ID"] = "ИД ИБ";
$MESS["COLOR_THEME"] = "Цветовая схема";
$MESS["COLOR_THEME_YELLOW"] = "Желтый";
$MESS["COLOR_THEME_ORANGE"] = "Оранжевый";
$MESS["COLOR_THEME_RED"] = "Красный";
$MESS["COLOR_THEME_MAGENTA"] = "Пурпурный красный";
$MESS["COLOR_THEME_ORCHID"] = "Орхидеевый";
$MESS["COLOR_THEME_BLUE"] = "Голубой";
$MESS["COLOR_THEME_NAVY"] = "Синий";
$MESS["COLOR_THEME_AZURE_KRAYOLA"] = "Лазурный Крайола";
$MESS["COLOR_THEME_GREEN_SEA"] = "Зеленое море";
$MESS["COLOR_THEME_GREEN"] = "Зеленый";
$MESS["COLOR_THEME_IRISH_GREEN"] = "Ирландский зеленый";
$MESS["COLOR_THEME_CUSTOM"] = "Пользовательский цвет";
$MESS["CUSTOM_COLOR_THEME"] = "Пользовательский цвет (hex)";

$MESS["BGCOLOR_THEME"] = "Цвет фона";
$MESS["BGCOLOR_THEME_LIGHT"] = "Светлый";
$MESS["BGCOLOR_THEME_DARK"] = "Темный";
$MESS["CUSTOM_BGCOLOR_THEME"] = "Пользовательский цвет фона (hex)";

$MESS["BGCOLOR_THEME_FOOTER_SIDE"] = "Закрашивать боковые части футера в цвет фона";
$MESS["YES_OPTION"] = "Да";
$MESS["NO_OPTION"] = "Нет";

$MESS["PHONE_MASK"] = "Маска ввода телефона";
$MESS["SHOW_BREADCRUMBS_CATALOG_SUBSECTIONS"] = "Отображать выпадающее меню с подразделами каталога в навигационной цепочке";
$MESS["SHOW_BASKET_PRINT"] = "Печать заказа";
$MESS["SHOW_BASKET_ONADDTOCART"] = "Отображать корзину при добавлении в неё товара";
$MESS["EXPRESSIONS_OPTIONS"] = "Выражения и названия";
$MESS["BUYNOPRICEGGOODS"] = "Кнопка покупки у товаров с нулевой/отсутствующей ценой";
$MESS["BUYNOPRICEGGOODS_ORDER"] = "Отображать кнопку \"Под заказ\" с попапом";
$MESS["BUYNOPRICEGGOODS_NOTHING"] = "Ничего не отображать";
$MESS["BUYMISSINGGOODS"] = "Кнопка покупки у отсутствующих товаров";
$MESS["BUYMISSINGGOODS_ADD"] = "Отображать кнопку \"В корзину\"";
$MESS["BUYMISSINGGOODS_ORDER"] = "Отображать кнопку \"Под заказ\" с попапом";
$MESS["EXPRESSION_ADDTOBASKET_BUTTON"] = "Название кнопки \"<i>В корзину</i>\"";
$MESS["EXPRESSION_ADDTOBASKET_BUTTON_DEFAULT"] = "В корзину";
$MESS["EXPRESSION_ADDEDTOBASKET_BUTTON_DEFAULT"] = "В корзине";
$MESS["EXPRESSION_SUBSCRIBE_BUTTON"] = "Название кнопки \"<i>Подписаться</i>\"";
$MESS["EXPRESSION_SUBSCRIBE_BUTTON_DEFAULT"] = "Подписаться";
$MESS["EXPRESSION_SUBSCRIBED_BUTTON"] = "Название кнопки \"<i>Отписаться</i>\"";
$MESS["EXPRESSION_SUBSCRIBED_BUTTON_DEFAULT"] = "Отписаться";
$MESS["EXPRESSION_ORDER_BUTTON"] = "Название кнопки \"<i>Под заказ</i>\"";
$MESS["EXPRESSION_ORDER_BUTTON_DEFAULT"] = "Под заказ";
$MESS["EXPRESSION_ORDER_TEXT"] = "Текст под кнопкой \"<i>Под заказ</i>\"";
$MESS["EXPRESSION_ORDER_TEXT_DEFAULT"] = "Наши менеджеры обязательно свяжутся с вами и уточнят условия заказа";
$MESS["EXPRESSION_READ_MORE_OFFERS_DEFAULT"] = "Подробнее";
$MESS["BUYMISSINGGOODS_SUBSCRIBE"] = "Отображать кнопку \"Подписаться\"";
$MESS["BUYMISSINGGOODS_NOTHING"] = "Ничего не отображать";
$MESS["SHOW_QUANTITY_NOTE"] = "Для выбора нескольких групп используйте клавишу <b>Ctrl</b>";
$MESS["SHOW_QUANTITY_FOR_GROUPS"] = "Отображать наличие товара для групп";
$MESS["SHOW_QUANTITY_COUNT_FOR_GROUPS"] = "Отображать наличие товара количеством для групп";
$MESS["USE_WORD_EXPRESSION"] = "Если доступно отображение остатка количеством, подменять числа на выражения \"<i>мало</i>\" / \"<i>достаточно</i>\" / \"<i>много</i>\"";
$MESS["MAX_AMOUNT"] = "Значение остатка, для которого, выводится выражение \"<i>много</i>\" (больше, чем)";
$MESS["MIN_AMOUNT"] = "Значение остатка, для которого, выводится выражение \"<i>мало</i>\" (меньше, чем)";
$MESS["EXPRESSION_FOR_MAX"] = "Текст выражения \"<i>Много</i>\"";
$MESS["EXPRESSION_FOR_MAX_DEFAULT"] = "Много";
$MESS["EXPRESSION_FOR_MIN"] = "Текст выражения \"<i>Мало</i>\"";
$MESS["EXPRESSION_FOR_MIN_DEFAULT"] = "Мало";
$MESS["EXPRESSION_FOR_MID"] = "Текст выражения \"<i>Достаточно</i>\"";
$MESS["EXPRESSION_FOR_MID_DEFAULT"] = "Достаточно";
$MESS["EXPRESSION_FOR_EXISTS"] = "Текст выражения \"<i>Есть в наличии</i>\"";
$MESS["EXPRESSION_FOR_EXISTS_DEFAULT"] = "Есть в наличии";
$MESS["EXPRESSION_FOR_NOTEXISTS"] = "Текст выражения \"<i>Нет в наличии</i>\"";
$MESS["EXPRESSION_FOR_NOTEXISTS_DEFAULT"] = "Нет в наличии";
$MESS["USE_PRODUCT_QUANTITY_LIST"] = "Разрешить указание количества добавляемого в корзину товара в списке товаров каталога";
$MESS["USE_PRODUCT_QUANTITY_DETAIL"] = "Разрешить указание количества добавляемого в корзину товара на странице товара каталога";
$MESS["BANNER_WIDTH"] = "Ширина баннера";
$MESS["BANNER_WIDTH_AUTO"] = "по ширине окна";
$MESS["BANNER_WIDTH_WIDE"] = "широкий";
$MESS["BANNER_WIDTH_MIDDLE"] = "средний";
$MESS["BANNER_WIDTH_NARROW"] = "узкий";
$MESS["HEAD"] = "Шапка сайта";
$MESS["TYPE_1"] = "1";
$MESS["TYPE_2"] = "2";
$MESS["TYPE_3"] = "3";
$MESS["TYPE_4"] = "4";
$MESS["TYPE_5"] = "5";
$MESS["TYPE_6"] = "6";
$MESS["TYPE_7"] = "7";
$MESS["TYPE_8"] = "8";
$MESS["LOGO_IMAGE"] = "Логотип сайта";
$MESS["FAVICON_IMAGE"] = "Favicon 16x16";
$MESS["APPLE_TOUCH_ICON_IMAGE"] = "Web Clip Icon 180x180";
$MESS["HEAD_COLOR"] = "Тип шапки";
$MESS["HEAD_COLOR_WHITE"] = "белый";
$MESS["HEAD_COLOR_THEME"] = "цветной";
$MESS["BASKET"] = "Корзина";
$MESS["BASKET_NORMAL"] = "В шапке";
$MESS["BASKET_FLY"] = "Летающая";
$MESS["STORES"] = "Блок магазинов на главной";
$MESS["LIGHT_STORES"] = "светлый";
$MESS["DARK_STORES"] = "цветной";
$MESS["STORES_SOURCE"] = "Выводить магазины из";
$MESS["STORES_SOURCE_STORES"] = "складов";
$MESS["STORES_SOURCE_STORES_IBLOCK"] = "инфоблока";
$MESS["DETAIL"] = "ПОДРОБНОСТИ";
$MESS["ADDRESS"] = "Адрес";
$MESS["PHONE"] = "Телефон";
$MESS["EMAIL"] = "Email";
$MESS["SCHEDULE"] = "Режим работы";
$MESS["METRO"] = "Станция метро";
$MESS["BACK_STORE_LIST"] = "Вернуться к списку магазинов";
$MESS["TYPE_SKU"] = "Тип SKU";
$MESS["TYPE_VIEW_FILTER"] = "Умный фильтр";
$MESS["VERTICAL"] = "Вертикальный";
$MESS["HORIZONTAL"] = "Горизонтальный";
$MESS["CT_NAME_GB"] = " гб";
$MESS["CT_NAME_MB"] = " мб";
$MESS["CT_NAME_KB"] = " кб";
$MESS["CT_NAME_b"] = " байт";
$MESS["THEME_SWITCHER"] = "Переключатель тем";
$MESS["YES"] = "да";
$MESS["NO"] = "нет";
$MESS["EMAIL_IS_ALREADY_EXISTS"] = "Email #EMAIL# уже используется";
$MESS["EXPAND_BLOCK"] = "Развернуть";
$MESS['SCROLLTOTOP_OPTIONS'] = 'Кнопка "Наверх"';
$MESS['SCROLLTOTOP_TYPE'] = 'Вид кнопки "Наверх"';
$MESS['SCROLLTOTOP_TYPE_NONE'] = 'Нет';
$MESS['SCROLLTOTOP_TYPE_ROUND_COLOR'] = 'Круглая цветная';
$MESS['SCROLLTOTOP_TYPE_ROUND_GREY'] = 'Круглая серая';
$MESS['SCROLLTOTOP_TYPE_ROUND_WHITE'] = 'Круглая белая';
$MESS['SCROLLTOTOP_TYPE_RECT_COLOR'] = 'Квадратная цветная';
$MESS['SCROLLTOTOP_TYPE_RECT_GREY'] = 'Квадратная серая';
$MESS['SCROLLTOTOP_TYPE_RECT_WHITE'] = 'Квадратная белая';
$MESS['SCROLLTOTOP_POSITION'] = 'Положение кнопки "Наверх"';
$MESS['SCROLLTOTOP_POSITION_TOUCH'] = 'Касается край экрана';
$MESS['SCROLLTOTOP_POSITION_PADDING'] = 'С отступом от края окна';
$MESS['SCROLLTOTOP_POSITION_CONTENT'] = 'С отступом от контента';

$MESS['ONECLICKBUY_OPTIONS'] = 'Покупка в 1 клик';
$MESS['ONECLICKBUY_PERSON_TYPE'] = 'Тип плательщика';
$MESS['ONECLICKBUY_DELIVERY'] = 'Служба доставки';
$MESS['ONECLICKBUY_PAYMENT'] = 'Платежная система';
$MESS['ONECLICKBUY_CURRENCY'] = 'Валюта';
$MESS['ONECLICKBUY_PROPERTIES'] = 'Поля';
$MESS['ONECLICKBUY_REQUIRED_PROPERTIES'] = 'Обязательные поля для заполнения';
$MESS['ONECLICKBUY_PROPERTIES_FIO'] = 'Имя';
$MESS['ONECLICKBUY_PROPERTIES_PHONE'] = 'Контактный телефон';
$MESS['ONECLICKBUY_PROPERTIES_EMAIL'] = 'E-mail';
$MESS['ONECLICKBUY_PROPERTIES_COMMENT'] = 'Комментарий к заказу';

$MESS["MIN_ORDER_PRICES"] = "Минимальная цена покупки";
$MESS["MIN_ORDER_PRICE"] = "Минимальная цена покупки";
$MESS["MIN_ORDER_PRICE_TEXT"] = "Текст с ошибкой";
$MESS["MIN_ORDER_PRICE_TEXT_EXAMPLE"] = "<b>Минимальная сумма заказа #PRICE#</b><br/>Пожалуйста, добавьте еще товаров в корзину";
$MESS["NO_SITE_INSTALLED"] = 'Не найдено сайтов с установленным решением &laquo;Аспро: Optimus - Адаптивный интернет-магазин&raquo;<br />
<input type="button" value="Установить" style="margin-top: 10px;" onclick="document.location.href=\'/bitrix/admin/wizard_install.php?lang=ru&wizardName=aspro:optimus&#SESSION_ID#\'">';
$MESS["ONE_CLICK_BUY"] = "Покупка в 1 клик";
$MESS["QUICK_ORDER"] = "Быстрый заказ";
$MESS["YANDEX_GOOGLE_COUNTER_BLOCK"] = "Яндекс/Google счетчики";
$MESS["YANDEX_COUNTER_TITLE"] = "Код счетчика в яндекс метрике";
$MESS["GOOGLE_COUNTER_TITLE"] = "Код счетчика в google analytics/google tag manager";
$MESS["YANDEX_ECOMERCE_TITLE"] = "Использовать электронную коммерцию яндекс";
$MESS["GOOGLE_ECOMERCE_TITLE"] = "Использовать электронную коммерцию google";
$MESS["TO_BASKET_TITLE"] = "Код цели \"Товар положен в корзину\"";
$MESS["ORDER_START_TITLE"] = "Код цели \"Начало оформления заказа\"";
$MESS["ORDER_SUCCESS_TITLE"] = "Код цели \"Заказ успешно оформлен\"";
$MESS["QUICK_ORDER_SUCCESS_TITLE"] = "Код цели \"Успешное оформление быстрого заказа\"";
$MESS["ONE_CLICK_BUY_SUCCESS_TITLE"] = "Код цели \"Покупка в 1 клик\"";
$MESS["BASKET_ADD_EVENT_TITLE"] = "Метка события \"Товар добавлен в корзину\" в google tag manager";
$MESS["BASKET_REMOVE_EVENT_TITLE"] = "Метка события \"Товар удален из корзины\" в google tag manager";
$MESS["CHECKOUT_ORDER_EVENT_TITLE"] = "Метка события \"Этап оформления заказа\" в google tag manager";
$MESS["SHOW_SECTION_DESCRIPTION"] = "Расположение описания раздела в списке товаров";
$MESS["TOP_SECTION"] = "Перед списком товаров";
$MESS["BOTTOM_SECTION"] = "После списка товаров";
$MESS["EXPRESSION_FOR_FREE_DELIVERY"] = "Текст выражения \"<i>Доставка 0 руб.</i>\"";
$MESS["EXPRESSION_FOR_FREE_DELIVERY_DEFAULT"] = "Бесплатно";
$MESS["SHOW_MORE_ITEM_MENU_LINK"] = "Отображать ссылку \"Показать все\" в меню";
$MESS["HIDE_SITE_NAME_TITLE"] = "Не добавлять название сайта в заголовок браузера";
$MESS["ONE_CLICK_BUY_OPTIONS"] = "Покупка в 1 клик";
$MESS["ONE_CLICK_BUY_DELIVERY_OPTIONS"] = "Способ доставки";
$MESS["ONE_CLICK_BUY_PAYMENT_OPTIONS"] = "Способ оплаты";
$MESS["ONE_CLICK_BUY_CURRENCY_OPTIONS"] = "Валюта";
$MESS["MAX_DEPTH_MENU"] = "Уровень вложенности меню";
$MESS["MENU_COLOR"] = "Цвет меню";
$MESS["MENU_COLOR_COLORED"] = "Цветное";
$MESS["MENU_COLOR_LIGHT"] = "Светлое";
$MESS["MENU_COLOR_DARK"] = "Темное";

$MESS["MENU_POSITION"] = "Положение выпадающего меню каталога";
$MESS["TOP_MENU_HOVER"] = "Прижато к верху";
$MESS["LINE_MENU_HOVER"] = "На уровне активной ссылки";
$MESS["NO_LOGO_BG"] = "Не заливать логотип в цвет сайта";

$MESS["DETAIL_PICTURE_MODE_IMG"] = "Обычный";
$MESS["DETAIL_PICTURE_MODE_POPUP"] = "Всплывающее окно";
$MESS["DETAIL_PICTURE_MODE_MAGNIFIER"] = "Лупа";
$MESS["DETAIL_PICTURE_MODE"] = "Режим показа детальной картинки";

$MESS["VIEWED_TYPE"] = "Режим показа просмотренных товаров";
$MESS["VIEWED_TYPE_LOGIC_COOKIE"] = "Быстрый";
$MESS["VIEWED_TYPE_LOGIC_COMPONENT"] = "Стандартный";

$MESS["CATALOG_IBLOCK_ID"] = "ID каталога товаров";

$MESS["USER_CABINET"] = "Личный кабинет";
$MESS["USER_AUTH"] = "Вход\регистрация";
$MESS["COMPARE_BLOCK"] = "Сравнение товаров";
?>
66   16896|/aspro.optimus/lang/en/classes/general/COptimus.php|ce306fe2<?
$MESS["SCOM_BUTTON_NAME"] = "Мастер#BR#настройки";
$MESS["SCOM_BUTTON_DESCRIPTION"] = "Запустить мастер смены дизайна и настроек сайта";
$MESS["STOM_BUTTON_TITLE_W1"] = "Запустить мастер смены дизайна и настройки магазина";
$MESS["STOM_BUTTON_NAME_W1"] = "<b>Мастер настройки магазина</b>";
$MESS["STOM_BUTTON_TITLE_W3"] = "Удаление демонстрационного каталога";
$MESS["STOM_BUTTON_NAME_W3"] = "Удалить демо-каталог";
$MESS["STOM_BUTTON_CONFIRM_W2"] = "Каталог Aspro, установленный в качестве демонстрационного, будет удален. При этом все ваши изменения внутри него будут потеряны. Удалить демо-каталог?";
$MESS["OPTIMUS_MODULE_NOT_INSTALLED"] = 'Модуль &laquo;Аспро: Optimus - Адаптивный интернет-магазин&raquo; не установлен. Пожалуйста, <a href="/bitrix/admin/partner_modules.php">установите модуль</a> и повторите попытку.';
$MESS["ERROR_INCLUDE_MODULE"] = 'Ошибка подключения модуля';
$MESS["NO_RIGHTS_FOR_VIEWING"] = "Недостаточно прав для просмотра";
$MESS["MAIN_OPTIONS"] = "Настройки сайта &laquo;#SITE_NAME#&raquo; (#SITE_ID#)";
$MESS["MAIN_OPTIONS_TITLE"] = "Основные настройки";
$MESS["TEMPLATE_OPTIONS"] = "Шаблон";
$MESS["INDEXPAGE_OPTIONS"] = "Главная страница";
$MESS['BANNER_ANIMATIONTYPE'] = 'Тип анимации большого банера';
$MESS['BANNER_SLIDESSHOWSPEED'] = 'Скорость слайдшоу большого банера (мс)';
$MESS['BANNER_ANIMATIONSPEED'] = 'Скорость анимации большого банера (мс)';
$MESS['ANIMATION_SLIDE_HORIZONTAL'] = 'Скольжение горизонтально (slide)';
$MESS['ANIMATION_SLIDE_VERTICAL'] = 'Скольжение вертикально (slide)';
$MESS['ANIMATION_FADE'] = 'Выцветание (fade)';
$MESS["ADDTOBASKET_OPTIONS"] = "Добавление в корзину";
$MESS["QUANTITY_OPTIONS"] = "Отображение наличия товара";
$MESS["SEARCH_OPTIONS"] = "Настройки поиска в шапке сайта";
$MESS["SEARCH_IB_TYPE"] = "Тип ИБ";
$MESS["SEARCH_IB_ID"] = "ИД ИБ";
$MESS["COLOR_THEME"] = "Цветовая схема";
$MESS["COLOR_THEME_YELLOW"] = "Желтый";
$MESS["COLOR_THEME_ORANGE"] = "Оранжевый";
$MESS["COLOR_THEME_RED"] = "Красный";
$MESS["COLOR_THEME_MAGENTA"] = "Пурпурный красный";
$MESS["COLOR_THEME_ORCHID"] = "Орхидеевый";
$MESS["COLOR_THEME_BLUE"] = "Голубой";
$MESS["COLOR_THEME_NAVY"] = "Синий";
$MESS["COLOR_THEME_AZURE_KRAYOLA"] = "Лазурный Крайола";
$MESS["COLOR_THEME_GREEN_SEA"] = "Зеленое море";
$MESS["COLOR_THEME_GREEN"] = "Зеленый";
$MESS["COLOR_THEME_IRISH_GREEN"] = "Ирландский зеленый";
$MESS["COLOR_THEME_CUSTOM"] = "Пользовательский цвет";
$MESS["CUSTOM_COLOR_THEME"] = "Пользовательский цвет (hex)";

$MESS["BGCOLOR_THEME"] = "Цвет фона";
$MESS["BGCOLOR_THEME_LIGHT"] = "Светлый";
$MESS["BGCOLOR_THEME_DARK"] = "Темный";
$MESS["CUSTOM_BGCOLOR_THEME"] = "Пользовательский цвет фона (hex)";

$MESS["BGCOLOR_THEME_FOOTER_SIDE"] = "Закрашивать боковые части футера в цвет фона";
$MESS["YES_OPTION"] = "Да";
$MESS["NO_OPTION"] = "Нет";

$MESS["PHONE_MASK"] = "Маска ввода телефона";
$MESS["SHOW_BREADCRUMBS_CATALOG_SUBSECTIONS"] = "Отображать выпадающее меню с подразделами каталога в навигационной цепочке";
$MESS["SHOW_BASKET_PRINT"] = "Печать заказа";
$MESS["SHOW_BASKET_ONADDTOCART"] = "Отображать корзину при добавлении в неё товара";
$MESS["EXPRESSIONS_OPTIONS"] = "Выражения и названия";
$MESS["BUYNOPRICEGGOODS"] = "Кнопка покупки у товаров с нулевой/отсутствующей ценой";
$MESS["BUYNOPRICEGGOODS_ORDER"] = "Отображать кнопку \"Под заказ\" с попапом";
$MESS["BUYNOPRICEGGOODS_NOTHING"] = "Ничего не отображать";
$MESS["BUYMISSINGGOODS"] = "Кнопка покупки у отсутствующих товаров";
$MESS["BUYMISSINGGOODS_ADD"] = "Отображать кнопку \"В корзину\"";
$MESS["BUYMISSINGGOODS_ORDER"] = "Отображать кнопку \"Под заказ\" с попапом";
$MESS["EXPRESSION_ADDTOBASKET_BUTTON"] = "Название кнопки \"<i>В корзину</i>\"";
$MESS["EXPRESSION_ADDTOBASKET_BUTTON_DEFAULT"] = "В корзину";
$MESS["EXPRESSION_ADDEDTOBASKET_BUTTON_DEFAULT"] = "В корзине";
$MESS["EXPRESSION_SUBSCRIBE_BUTTON"] = "Название кнопки \"<i>Подписаться</i>\"";
$MESS["EXPRESSION_SUBSCRIBE_BUTTON_DEFAULT"] = "Подписаться";
$MESS["EXPRESSION_SUBSCRIBED_BUTTON"] = "Название кнопки \"<i>Отписаться</i>\"";
$MESS["EXPRESSION_SUBSCRIBED_BUTTON_DEFAULT"] = "Отписаться";
$MESS["EXPRESSION_ORDER_BUTTON"] = "Название кнопки \"<i>Под заказ</i>\"";
$MESS["EXPRESSION_ORDER_BUTTON_DEFAULT"] = "Под заказ";
$MESS["EXPRESSION_ORDER_TEXT"] = "Текст под кнопкой \"<i>Под заказ</i>\"";
$MESS["EXPRESSION_ORDER_TEXT_DEFAULT"] = "Наши менеджеры обязательно свяжутся с вами и уточнят условия заказа";
$MESS["EXPRESSION_READ_MORE_OFFERS_DEFAULT"] = "Подробнее";
$MESS["BUYMISSINGGOODS_SUBSCRIBE"] = "Отображать кнопку \"Подписаться\"";
$MESS["BUYMISSINGGOODS_NOTHING"] = "Ничего не отображать";
$MESS["SHOW_QUANTITY_NOTE"] = "Для выбора нескольких групп используйте клавишу <b>Ctrl</b>";
$MESS["SHOW_QUANTITY_FOR_GROUPS"] = "Отображать наличие товара для групп";
$MESS["SHOW_QUANTITY_COUNT_FOR_GROUPS"] = "Отображать наличие товара количеством для групп";
$MESS["USE_WORD_EXPRESSION"] = "Если доступно отображение остатка количеством, подменять числа на выражения \"<i>мало</i>\" / \"<i>достаточно</i>\" / \"<i>много</i>\"";
$MESS["MAX_AMOUNT"] = "Значение остатка, для которого, выводится выражение \"<i>много</i>\" (больше, чем)";
$MESS["MIN_AMOUNT"] = "Значение остатка, для которого, выводится выражение \"<i>мало</i>\" (меньше, чем)";
$MESS["EXPRESSION_FOR_MAX"] = "Текст выражения \"<i>Много</i>\"";
$MESS["EXPRESSION_FOR_MAX_DEFAULT"] = "Много";
$MESS["EXPRESSION_FOR_MIN"] = "Текст выражения \"<i>Мало</i>\"";
$MESS["EXPRESSION_FOR_MIN_DEFAULT"] = "Мало";
$MESS["EXPRESSION_FOR_MID"] = "Текст выражения \"<i>Достаточно</i>\"";
$MESS["EXPRESSION_FOR_MID_DEFAULT"] = "Достаточно";
$MESS["EXPRESSION_FOR_EXISTS"] = "Текст выражения \"<i>Есть в наличии</i>\"";
$MESS["EXPRESSION_FOR_EXISTS_DEFAULT"] = "Есть в наличии";
$MESS["EXPRESSION_FOR_NOTEXISTS"] = "Текст выражения \"<i>Нет в наличии</i>\"";
$MESS["EXPRESSION_FOR_NOTEXISTS_DEFAULT"] = "Нет в наличии";
$MESS["USE_PRODUCT_QUANTITY_LIST"] = "Разрешить указание количества добавляемого в корзину товара в списке товаров каталога";
$MESS["USE_PRODUCT_QUANTITY_DETAIL"] = "Разрешить указание количества добавляемого в корзину товара на странице товара каталога";
$MESS["BANNER_WIDTH"] = "Ширина баннера";
$MESS["BANNER_WIDTH_AUTO"] = "по ширине окна";
$MESS["BANNER_WIDTH_WIDE"] = "широкий";
$MESS["BANNER_WIDTH_MIDDLE"] = "средний";
$MESS["BANNER_WIDTH_NARROW"] = "узкий";
$MESS["HEAD"] = "Шапка сайта";
$MESS["TYPE_1"] = "1";
$MESS["TYPE_2"] = "2";
$MESS["TYPE_3"] = "3";
$MESS["TYPE_4"] = "4";
$MESS["TYPE_5"] = "5";
$MESS["TYPE_6"] = "6";
$MESS["TYPE_7"] = "7";
$MESS["TYPE_8"] = "8";
$MESS["LOGO_IMAGE"] = "Логотип сайта";
$MESS["FAVICON_IMAGE"] = "Favicon 16x16";
$MESS["APPLE_TOUCH_ICON_IMAGE"] = "Web Clip Icon 180x180";
$MESS["HEAD_COLOR"] = "Тип шапки";
$MESS["HEAD_COLOR_WHITE"] = "белый";
$MESS["HEAD_COLOR_THEME"] = "цветной";
$MESS["BASKET"] = "Корзина";
$MESS["BASKET_NORMAL"] = "В шапке";
$MESS["BASKET_FLY"] = "Летающая";
$MESS["STORES"] = "Блок магазинов на главной";
$MESS["LIGHT_STORES"] = "светлый";
$MESS["DARK_STORES"] = "цветной";
$MESS["STORES_SOURCE"] = "Выводить магазины из";
$MESS["STORES_SOURCE_STORES"] = "складов";
$MESS["STORES_SOURCE_STORES_IBLOCK"] = "инфоблока";
$MESS["DETAIL"] = "ПОДРОБНОСТИ";
$MESS["ADDRESS"] = "Адрес";
$MESS["PHONE"] = "Телефон";
$MESS["EMAIL"] = "Email";
$MESS["SCHEDULE"] = "Режим работы";
$MESS["METRO"] = "Станция метро";
$MESS["BACK_STORE_LIST"] = "Вернуться к списку магазинов";
$MESS["TYPE_SKU"] = "Тип SKU";
$MESS["TYPE_VIEW_FILTER"] = "Умный фильтр";
$MESS["VERTICAL"] = "Вертикальный";
$MESS["HORIZONTAL"] = "Горизонтальный";
$MESS["CT_NAME_GB"] = " гб";
$MESS["CT_NAME_MB"] = " мб";
$MESS["CT_NAME_KB"] = " кб";
$MESS["CT_NAME_b"] = " байт";
$MESS["THEME_SWITCHER"] = "Переключатель тем";
$MESS["YES"] = "да";
$MESS["NO"] = "нет";
$MESS["EMAIL_IS_ALREADY_EXISTS"] = "Email #EMAIL# уже используется";
$MESS["EXPAND_BLOCK"] = "Развернуть";
$MESS['SCROLLTOTOP_OPTIONS'] = 'Кнопка "Наверх"';
$MESS['SCROLLTOTOP_TYPE'] = 'Вид кнопки "Наверх"';
$MESS['SCROLLTOTOP_TYPE_NONE'] = 'Нет';
$MESS['SCROLLTOTOP_TYPE_ROUND_COLOR'] = 'Круглая цветная';
$MESS['SCROLLTOTOP_TYPE_ROUND_GREY'] = 'Круглая серая';
$MESS['SCROLLTOTOP_TYPE_ROUND_WHITE'] = 'Круглая белая';
$MESS['SCROLLTOTOP_TYPE_RECT_COLOR'] = 'Квадратная цветная';
$MESS['SCROLLTOTOP_TYPE_RECT_GREY'] = 'Квадратная серая';
$MESS['SCROLLTOTOP_TYPE_RECT_WHITE'] = 'Квадратная белая';
$MESS['SCROLLTOTOP_POSITION'] = 'Положение кнопки "Наверх"';
$MESS['SCROLLTOTOP_POSITION_TOUCH'] = 'Касается край экрана';
$MESS['SCROLLTOTOP_POSITION_PADDING'] = 'С отступом от края окна';
$MESS['SCROLLTOTOP_POSITION_CONTENT'] = 'С отступом от контента';

$MESS['ONECLICKBUY_OPTIONS'] = 'Покупка в 1 клик';
$MESS['ONECLICKBUY_PERSON_TYPE'] = 'Тип плательщика';
$MESS['ONECLICKBUY_DELIVERY'] = 'Служба доставки';
$MESS['ONECLICKBUY_PAYMENT'] = 'Платежная система';
$MESS['ONECLICKBUY_CURRENCY'] = 'Валюта';
$MESS['ONECLICKBUY_PROPERTIES'] = 'Поля';
$MESS['ONECLICKBUY_REQUIRED_PROPERTIES'] = 'Обязательные поля для заполнения';
$MESS['ONECLICKBUY_PROPERTIES_FIO'] = 'Имя';
$MESS['ONECLICKBUY_PROPERTIES_PHONE'] = 'Контактный телефон';
$MESS['ONECLICKBUY_PROPERTIES_EMAIL'] = 'E-mail';
$MESS['ONECLICKBUY_PROPERTIES_COMMENT'] = 'Комментарий к заказу';

$MESS["MIN_ORDER_PRICES"] = "Минимальная цена покупки";
$MESS["MIN_ORDER_PRICE"] = "Минимальная цена покупки";
$MESS["MIN_ORDER_PRICE_TEXT"] = "Текст с ошибкой";
$MESS["MIN_ORDER_PRICE_TEXT_EXAMPLE"] = "<b>Минимальная сумма заказа #PRICE#</b><br/>Пожалуйста, добавьте еще товаров в корзину";
$MESS["NO_SITE_INSTALLED"] = 'Не найдено сайтов с установленным решением &laquo;Аспро: Optimus - Адаптивный интернет-магазин&raquo;<br />
<input type="button" value="Установить" style="margin-top: 10px;" onclick="document.location.href=\'/bitrix/admin/wizard_install.php?lang=ru&wizardName=aspro:optimus&#SESSION_ID#\'">';
$MESS["ONE_CLICK_BUY"] = "Покупка в 1 клик";
$MESS["QUICK_ORDER"] = "Быстрый заказ";
$MESS["YANDEX_GOOGLE_COUNTER_BLOCK"] = "Яндекс/Google счетчики";
$MESS["YANDEX_COUNTER_TITLE"] = "Код счетчика в яндекс метрике";
$MESS["GOOGLE_COUNTER_TITLE"] = "Код счетчика в google analytics/google tag manager";
$MESS["YANDEX_ECOMERCE_TITLE"] = "Использовать электронную коммерцию яндекс";
$MESS["GOOGLE_ECOMERCE_TITLE"] = "Использовать электронную коммерцию google";
$MESS["TO_BASKET_TITLE"] = "Код цели \"Товар положен в корзину\"";
$MESS["ORDER_START_TITLE"] = "Код цели \"Начало оформления заказа\"";
$MESS["ORDER_SUCCESS_TITLE"] = "Код цели \"Заказ успешно оформлен\"";
$MESS["QUICK_ORDER_SUCCESS_TITLE"] = "Код цели \"Успешное оформление быстрого заказа\"";
$MESS["ONE_CLICK_BUY_SUCCESS_TITLE"] = "Код цели \"Покупка в 1 клик\"";
$MESS["BASKET_ADD_EVENT_TITLE"] = "Метка события \"Товар добавлен в корзину\" в google tag manager";
$MESS["BASKET_REMOVE_EVENT_TITLE"] = "Метка события \"Товар удален из корзины\" в google tag manager";
$MESS["CHECKOUT_ORDER_EVENT_TITLE"] = "Метка события \"Этап оформления заказа\" в google tag manager";
$MESS["SHOW_SECTION_DESCRIPTION"] = "Расположение описания раздела в списке товаров";
$MESS["TOP_SECTION"] = "Перед списком товаров";
$MESS["BOTTOM_SECTION"] = "После списка товаров";
$MESS["EXPRESSION_FOR_FREE_DELIVERY"] = "Текст выражения \"<i>Доставка 0 руб.</i>\"";
$MESS["EXPRESSION_FOR_FREE_DELIVERY_DEFAULT"] = "Бесплатно";
$MESS["SHOW_MORE_ITEM_MENU_LINK"] = "Отображать ссылку \"Показать все\" в меню";
$MESS["HIDE_SITE_NAME_TITLE"] = "Не добавлять название сайта в заголовок браузера";
$MESS["ONE_CLICK_BUY_OPTIONS"] = "Покупка в 1 клик";
$MESS["ONE_CLICK_BUY_DELIVERY_OPTIONS"] = "Способ доставки";
$MESS["ONE_CLICK_BUY_PAYMENT_OPTIONS"] = "Способ оплаты";
$MESS["ONE_CLICK_BUY_CURRENCY_OPTIONS"] = "Валюта";
$MESS["MAX_DEPTH_MENU"] = "Уровень вложенности меню";
$MESS["MENU_COLOR"] = "Цвет меню";
$MESS["MENU_COLOR_COLORED"] = "Цветное";
$MESS["MENU_COLOR_LIGHT"] = "Светлое";
$MESS["MENU_COLOR_DARK"] = "Темное";

$MESS["MENU_POSITION"] = "Положение выпадающего меню каталога";
$MESS["TOP_MENU_HOVER"] = "Прижато к верху";
$MESS["LINE_MENU_HOVER"] = "На уровне активной ссылки";
$MESS["NO_LOGO_BG"] = "Не заливать логотип в цвет сайта";

$MESS["DETAIL_PICTURE_MODE_IMG"] = "Обычный";
$MESS["DETAIL_PICTURE_MODE_POPUP"] = "Всплывающее окно";
$MESS["DETAIL_PICTURE_MODE_MAGNIFIER"] = "Лупа";
$MESS["DETAIL_PICTURE_MODE"] = "Режим показа детальной картинки";

$MESS["VIEWED_TYPE"] = "Режим показа просмотренных товаров";
$MESS["VIEWED_TYPE_LOGIC_COOKIE"] = "Быстрый";
$MESS["VIEWED_TYPE_LOGIC_COMPONENT"] = "Стандартный";

$MESS["CATALOG_IBLOCK_ID"] = "ID каталога товаров";

$MESS["USER_CABINET"] = "Личный кабинет";
$MESS["USER_AUTH"] = "Вход\регистрация";
$MESS["COMPARE_BLOCK"] = "Сравнение товаров";
?>
47   15951|/aspro.optimus/admin/options.php|41f23ca4<?
require_once($_SERVER['DOCUMENT_ROOT'].'/bitrix/modules/main/include/prolog_admin_before.php');
require($_SERVER['DOCUMENT_ROOT'].'/bitrix/modules/main/include/prolog_admin_after.php');

global $APPLICATION;
IncludeModuleLangFile(__FILE__);
$RIGHT = $APPLICATION->GetGroupRight(COptimus::moduleID);

if($RIGHT >= "R"){
	$res = COptimus::getModuleOptionsList();
	$arTabs = $res["TABS"];
	$tabControl = new CAdminTabControl("tabControl", $arTabs);

	if($REQUEST_METHOD == "POST" && strlen($Update.$Apply.$RestoreDefaults) > 0 && $RIGHT >= "W" && check_bitrix_sessid()){
		global $APPLICATION, $CACHE_MANAGER;

		if(strlen($RestoreDefaults) > 0){
			COption::RemoveOption(COptimus::moduleID);
			COption::RemoveOption(COptimus::moduleID, "NeedGenerateCustomTheme");
			COption::RemoveOption(COptimus::moduleID, "NeedGenerateCustomThemeBG");
			$APPLICATION->DelGroupRight(COptimus::moduleID);
		}
		else{
			COption::RemoveOption(COptimus::moduleID, "sid");
			foreach($arTabs as $key => $arTab){
				foreach($arTab["OPTIONS"] as $arOption){
					if($arOption[0] == "COLOR_THEME" && $_REQUEST[$arOption[0]."_".$arTab["SITE_ID"]] === 'CUSTOM'){
						COption::SetOptionString(COptimus::moduleID, "NeedGenerateCustomTheme", 'Y', '', $arTab["SITE_ID"]);
					}
					if($arOption[0] == "BGCOLOR_THEME" && $_REQUEST[$arOption[0]."_".$arTab["SITE_ID"]] === 'CUSTOM'){
						COption::SetOptionString(COptimus::moduleID, "NeedGenerateCustomThemeBG", 'Y', '', $arTab["SITE_ID"]);
					}
					$arOption[0] = $arOption[0]."_".$arTab["SITE_ID"];
					COptimus::__AdmSettingsSaveOption_EX(COptimus::moduleID, $arOption);
				}

				CBitrixComponent::clearComponentCache('bitrix:catalog.element', $arTab["SITE_ID"]);
				CBitrixComponent::clearComponentCache('bitrix:catalog.section', $arTab["SITE_ID"]);
				CBitrixComponent::clearComponentCache('bitrix:catalog.store.amount', $arTab["SITE_ID"]);
				CBitrixComponent::clearComponentCache('bitrix:menu', $arTab["SITE_ID"]);
			}
		}

		UnRegisterModuleDependences("main", "OnEndBufferContent", COptimus::moduleID, "COptimus", "InsertCounters");
		RegisterModuleDependences("main", "OnEndBufferContent", COptimus::moduleID, "COptimus", "InsertCounters");

		// clear composite cache
		$compositeMode = COptimus::IsCompositeEnabled();
		$obCache = new CPHPCache();
		$obCache->CleanDir("", "html_pages");
		if($compositeMode){
			COptimus::EnableComposite($compositeMode === 'AUTO_COMPOSITE');
		}

		$APPLICATION->RestartBuffer();
	}

	CJSCore::Init(array("jquery"));
	CAjax::Init();
	?>
	<?if(!count($arTabs)):?>
		<div class="adm-info-message-wrap adm-info-message-red">
			<div class="adm-info-message">
				<div class="adm-info-message-title"><?=GetMessage("NO_SITE_INSTALLED", array("#SESSION_ID#"=>bitrix_sessid_get()))?></div>
				<div class="adm-info-message-icon"></div>
			</div>
		</div>
	<?else:?>
		<?$tabControl->Begin();?>
		<form method="post" action="<?=$APPLICATION->GetCurPage()?>?mid=<?=urlencode($mid)?>&amp;lang=<?=LANGUAGE_ID?>" class="optimus_options" ENCTYPE="multipart/form-data">
			<?=bitrix_sessid_post();?>
			<?
			CModule:: IncludeModule('sale');
			$arPersonTypes = $arDeliveryServices = $arPaySystems = $arCurrency = $arOrderPropertiesByPerson = $arS = $arC = $arN = array();
			$dbRes = CSalePersonType::GetList(array('SORT' => 'ASC'), array(), false, false, array());
			while($arItem = $dbRes->Fetch()){
				$arPersonTypes[$arItem['ID']] = $arItem['NAME'];
				$arS[$arItem['ID']] = array('FIO', 'PHONE', 'EMAIL');
				$arN[$arItem['ID']] = array(
					'FIO' => GetMessage('ONECLICKBUY_PROPERTIES_FIO'),
					'PHONE' => GetMessage('ONECLICKBUY_PROPERTIES_PHONE'),
					'EMAIL' => GetMessage('ONECLICKBUY_PROPERTIES_EMAIL'),
				);
			}
			$dbRes = CSaleDelivery::GetList(array('SORT' => 'ASC'), array(), false, false, array());
			while($arItem = $dbRes->Fetch()){
				$arDeliveryServices[$arItem['ID']] = $arItem['NAME'];
			}
			$dbRes = CSalePaySystem::GetList(array('SORT' => 'ASC'), array(), false, false, array());
			while($arItem = $dbRes->Fetch()){
				$arPaySystems[$arItem['ID']] = $arItem['NAME'];
			}
			$dbRes = CCurrency::GetList(($by = "sort"), ($order = "asc"), LANGUAGE_ID);
			while($arItem = $dbRes->Fetch()){
				$arCurrency[$arItem['CURRENCY']] = $arItem['FULL_NAME'].' ('.$arItem['CURRENCY'].')';
			}
			$dbRes = CSaleOrderProps::GetList(array('SORT' => 'ASC'), array('ACTIVE' => 'Y'), false, false, array('ID', 'CODE', 'NAME', 'PERSON_TYPE_ID', 'TYPE', 'IS_PHONE', 'IS_EMAIL', 'IS_PAYER'));
			while($arItem = $dbRes->Fetch()){
				if($arItem['TYPE'] === 'TEXT' && strlen($arItem['CODE'])){
					$arN[$arItem['PERSON_TYPE_ID']][$arItem['CODE']] = $arItem['NAME'];
					if($arItem['IS_PAYER'] === 'Y'){
						$arS[$arItem['PERSON_TYPE_ID']][0] = $arItem['CODE'];
					}
					elseif($arItem['IS_PHONE'] === 'Y'){
						$arS[$arItem['PERSON_TYPE_ID']][1] = $arItem['CODE'];
					}
					elseif($arItem['IS_EMAIL'] === 'Y'){
						$arS[$arItem['PERSON_TYPE_ID']][2] = $arItem['CODE'];
					}
					else{
						$arS[$arItem['PERSON_TYPE_ID']][] = $arItem['CODE'];
					}
				}
			}
			if($arS && $arN){
				foreach($arS as $PERSON_TYPE_ID => $arCodes){
					if($arCodes){
						foreach($arCodes as $CODE){
							$arOrderPropertiesByPerson[$PERSON_TYPE_ID][$CODE] = $arN[$PERSON_TYPE_ID][$CODE];
						}
						$arOrderPropertiesByPerson[$PERSON_TYPE_ID]['COMMENT'] = GetMessage('ONECLICKBUY_PROPERTIES_COMMENT');
					}
				}
			}

			foreach($arTabs as $key => $arTab){
				$tabControl->BeginNextTab();
				if($arTab["SITE_ID"]){
					foreach($arTab["OPTIONS"] as $arOption){
						if($arOption[0] === "ONECLICKBUY_PERSON_TYPE"){
							$arOption[3][1] = $arPersonTypes;
						}
						elseif($arOption[0] === "ONECLICKBUY_DELIVERY"){
							$arOption[3][1] = $arDeliveryServices;
						}
						elseif($arOption[0] === "ONECLICKBUY_PAYMENT"){
							$arOption[3][1] = $arPaySystems;
						}
						elseif($arOption[0] === "ONECLICKBUY_CURRENCY"){
							$arOption[3][1] = $arCurrency;
						}
						elseif($arOption[0] === "ONECLICKBUY_PROPERTIES" || $arOption[0] === "ONECLICKBUY_REQUIRED_PROPERTIES"){
							$arOption[3][1] = $arOrderPropertiesByPerson[COption::GetOptionString('aspro.optimus', 'ONECLIKBUY_PERSON_TYPE', ($arPersonTypes ? key($arPersonTypes) : ''), $arTab["SITE_ID"])];
						}
						$arOption[0] = $arOption[0]."_".$arTab["SITE_ID"];
						COptimus::__AdmSettingsDrawRow_EX(COptimus::moduleID, $arOption, $arTab["SITE_ID"]);
					}
				}
			}
			if($REQUEST_METHOD == "POST" && strlen($Update.$Apply.$RestoreDefaults) > 0 && check_bitrix_sessid()){
				if(strlen($Update)>0 && strlen($_REQUEST["back_url_settings"]) > 0) LocalRedirect($_REQUEST["back_url_settings"]);
				else LocalRedirect($APPLICATION->GetCurPage()."?mid=".urlencode($mid)."&lang=".urlencode(LANGUAGE_ID)."&back_url_settings=".urlencode($_REQUEST["back_url_settings"])."&".$tabControl->ActiveTabParam());
			}
			?>
			<script>
			var arOrderPropertiesByPerson = <?=CUtil::PhpToJSObject($arOrderPropertiesByPerson, false)?>;

			function CheckActive(){
				$('input[name^="USE_WORD_EXPRESSION"]').each(function() {
					var input = this;
					var isActiveUseExpressions = $(input).attr('checked') == 'checked';
					var tab = $(input).parents('.adm-detail-content-item-block');
					if(!isActiveUseExpressions){
						tab.find('input[name^="MAX_AMOUNT"]').attr('disabled', 'disabled');
						tab.find('input[name^="MIN_AMOUNT"]').attr('disabled', 'disabled');
						tab.find('input[name^="EXPRESSION_FOR_MIN"]').attr('disabled', 'disabled');
						tab.find('input[name^="EXPRESSION_FOR_MAX"]').attr('disabled', 'disabled');
						tab.find('input[name^="EXPRESSION_FOR_MID"]').attr('disabled', 'disabled');
					}
					else{
						tab.find('input[name^="MAX_AMOUNT"]').removeAttr('disabled');
						tab.find('input[name^="MIN_AMOUNT"]').removeAttr('disabled');
						tab.find('input[name^="EXPRESSION_FOR_MIN"]').removeAttr('disabled');
						tab.find('input[name^="EXPRESSION_FOR_MAX"]').removeAttr('disabled');
						tab.find('input[name^="EXPRESSION_FOR_MID"]').removeAttr('disabled');
					}
				});

				$('select[name^="BUYMISSINGGOODS"]').each(function() {
					var select = this;
					var BuyMissingGoodsVal = $(select).val();
					var tab = $(select).parents('.adm-detail-content-item-block');
					tab.find('input[name^="EXPRESSION_SUBSCRIBE_BUTTON"]').attr('disabled', 'disabled');
					tab.find('input[name^="EXPRESSION_SUBSCRIBED_BUTTON"]').attr('disabled', 'disabled');
					tab.find('input[name^="EXPRESSION_ORDER_BUTTON"]').attr('disabled', 'disabled');
					if(BuyMissingGoodsVal == 'SUBSCRIBE'){
						tab.find('input[name^="EXPRESSION_SUBSCRIBE_BUTTON"]').removeAttr('disabled');
						tab.find('input[name^="EXPRESSION_SUBSCRIBED_BUTTON"]').removeAttr('disabled');
					}
					else if(BuyMissingGoodsVal == 'ORDER'){
						tab.find('input[name^="EXPRESSION_ORDER_BUTTON"]').removeAttr('disabled');
					}
				});
			}

			$(document).ready(function() {
				CheckActive();

				$('form.optimus_options').submit(function(e) {
					$(this).attr('id', 'optimus_options');
					jsAjaxUtil.ShowLocalWaitWindow('id', 'optimus_options', true);
					$(this).find('input').removeAttr('disabled');
				});

				$('input[name^="USE_WORD_EXPRESSION"], select[name^="BUYMISSINGGOODS"]').change(function() {
					CheckActive();
				});

				$('select[name^="SHOW_QUANTITY_FOR_GROUPS"]').change(function() {
					var val = $(this).val();
					var tab = $(this).parents('.adm-detail-content-item-block');
					var sqcg = tab.find('select[name^="SHOW_QUANTITY_COUNT_FOR_GROUPS"]');

					var isAll = false;
					if(val){
						isAll = val.indexOf('2') !== -1;
					}

					if(!isAll){
						$(this).find('option').each(function() {
							if($(this).attr('selected') != 'selected'){
								sqcg.find('option[value="' + $(this).attr('value') + '"]').removeAttr('selected');
							}
						});
					}
				});

				$('select[name^="SHOW_QUANTITY_COUNT_FOR_GROUPS"]').change(function(e) {
					e.stopPropagation();
					var val = $(this).val();
					var tab = $(this).parents('.adm-detail-content-item-block');
					var sqg_val = tab.find('select[name^="SHOW_QUANTITY_FOR_GROUPS"]').val();

					if(!sqg_val){
						$(this).find('option').removeAttr('selected');
						return;
					}

					var isAll = false;
					if(sqg_val){
						isAll = sqg_val.indexOf('2') !== -1;
					}

					if(!isAll && val){
						for(i in val){
							var g = val[i];
							if(sqg_val.indexOf(g) === -1){
								$(this).find('option[value="' + g + '"]').removeAttr('selected');
							}
						}
					}
				});

				$('select[name^="ONECLICKBUY_PERSON_TYPE"]').change(function() {
					if(typeof arOrderPropertiesByPerson !== 'undefined'){
						var table = $(this).parents('table').first();
						var value = $(this).val();
						if(typeof value !== 'undefined' && typeof arOrderPropertiesByPerson[value] !== 'undefined'){
							var arSelects = [table.find('select[name^=ONECLICKBUY_PROPERTIES]'), table.find('select[name^=ONECLICKBUY_REQUIRED_PROPERTIES]')];
							for(var i in arSelects){
								var $fields = arSelects[i];
								if($fields.length){
									var fields = $fields.val();
									$fields.find('option').remove();
									for(var j in arOrderPropertiesByPerson[value]){
										var selected = fields.indexOf(j) !== -1 ? ' selected="selected"' : '';
										$fields.append('<option value="' + j + '"' + selected + '>' + arOrderPropertiesByPerson[value][j] + '</option>');
									}
									$fields.find('option').eq(0).attr('selected', 'selected');
									$fields.find('option').eq(1).attr('selected', 'selected');
								}
							}
						}
					}
				});

				$('select[name^="ONECLICKBUY_PROPERTIES"]').change(function() {
					var table = $(this).parents('table').first();
					$(this).find('option').eq(0).attr('selected', 'selected');
					$(this).find('option').eq(1).attr('selected', 'selected');
					var fiedsValue = $(this).val();
					var $requiredFields = table.find('select[name^=ONECLICKBUY_REQUIRED_PROPERTIES]');
					var requiredFieldsValue = $requiredFields.val();
					for(var i in requiredFieldsValue){
						if(fiedsValue === null || fiedsValue.indexOf(requiredFieldsValue[i]) === -1){
							$requiredFields.find('option[value=' + requiredFieldsValue[i] + ']').removeAttr('selected');
						}
					}
				});

				$('select[name^="ONECLICKBUY_REQUIRED_PROPERTIES"]').change(function() {
					var table = $(this).parents('table').first();
					$(this).find('option').eq(0).attr('selected', 'selected');
					$(this).find('option').eq(1).attr('selected', 'selected');
					var requiredFieldsValue = $(this).val();
					var $fieds = table.find('select[name^=ONECLICKBUY_PROPERTIES]');
					var fiedsValue = $fieds.val();
					var $FIO = $(this).find('option[value^=FIO]');
					var $PHONE = $(this).find('option[value^=PHONE]');
					for(var i in requiredFieldsValue){
						if(fiedsValue === null || fiedsValue.indexOf(requiredFieldsValue[i]) === -1){
							$(this).find('option[value=' + requiredFieldsValue[i] + ']').removeAttr('selected');
						}
					}
				});

				$('select[name^="SCROLLTOTOP_TYPE"]').change(function() {
					var posSelect = $(this).parents('table').first().find('select[name^="SCROLLTOTOP_POSITION"]');
					if(posSelect){
						var posSelectTr = posSelect.parents('tr').first();
						var isNone = $(this).val().indexOf('NONE') != -1;
						if(isNone){
							if(posSelectTr.is(':visible')){
								posSelectTr.fadeOut();
							}
						}
						else{
							if(!posSelectTr.is(':visible')){
								posSelectTr.fadeIn();
							}
							var isRound = $(this).val().indexOf('ROUND') != -1;
							var isTouch = posSelect.val().indexOf('TOUCH') != -1;
							if(isRound && !!posSelect){
								posSelect.find('option[value^="TOUCH"]').attr('disabled', 'disabled');
								if(isTouch){
									posSelect.val(posSelect.find('option[value^="PADDING"]').first().attr('value'));
								}
							}
							else{
								posSelect.find('option[value^="TOUCH"]').removeAttr('disabled');
							}
						}
					}
				});

			$('select[name^="SCROLLTOTOP_TYPE"]').change();
			$('select[name^="ONECLICKBUY_PERSON_TYPE"]').change();
			});
			</script>
			<?$tabControl->Buttons();?>
			<input <?if($RIGHT < "W") echo "disabled"?> type="submit" name="Apply" class="submit-btn" value="<?=GetMessage("MAIN_OPT_APPLY")?>" title="<?=GetMessage("MAIN_OPT_APPLY_TITLE")?>">
			<?if(strlen($_REQUEST["back_url_settings"]) > 0): ?>
				<input type="button" name="Cancel" value="<?=GetMessage("MAIN_OPT_CANCEL")?>" title="<?=GetMessage("MAIN_OPT_CANCEL_TITLE")?>" onclick="window.location='<?=htmlspecialcharsbx(CUtil::addslashes($_REQUEST["back_url_settings"]))?>'">
				<input type="hidden" name="back_url_settings" value="<?=htmlspecialcharsbx($_REQUEST["back_url_settings"])?>">
			<?endif;?>
			<?if(COptimus::IsCompositeEnabled()):?>
				<div class="adm-info-message"><?=GetMessage("WILL_CLEAR_HTML_CACHE_NOTE")?></div><div style="clear:both;"></div>
				<script type="text/javascript">
				$(document).ready(function() {
					$('input[name^="THEME_SWITCHER"]').change(function() {
						var ischecked = $(this).attr('checked');
						if(typeof(ischecked) != 'undefined'){
							if(!confirm("<?=GetMessage("NO_COMPOSITE_NOTE")?>")){
								$(this).removeAttr('checked');
							}
						}
					});
				});
				</script>
			<?endif;?>
		</form>
		<?$tabControl->End();?>
	<?endif;?>
	<?
}
else{
	echo CAdminMessage::ShowMessage(GetMessage('NO_RIGHTS_FOR_VIEWING'));
}
?>
<?require($_SERVER['DOCUMENT_ROOT'].'/bitrix/modules/main/include/epilog_admin.php');?>59   181045|/aspro.optimus/classes/general/COptimus.php|3f2c842e<?
/**
 * Optimus module
 * @copyright 2016 Aspro
 */

if(!defined('OPTIMUS_MODULE_ID')){
	define('OPTIMUS_MODULE_ID', 'aspro.optimus');
}

IncludeModuleLangFile(__FILE__);
use \Bitrix\Main\Type\Collection;

class COptimus{
    const partnerName	= "aspro";
    const solutionName	= "optimus";
	const moduleID		= OPTIMUS_MODULE_ID;
    const wizardID		= "aspro:optimus";
	const devMode 		= false;

    function ShowPanel(){
        if($GLOBALS["USER"]->IsAdmin() && COption::GetOptionString("main", "wizard_solution", "", SITE_ID) == self::solutionName){
            $GLOBALS["APPLICATION"]->SetAdditionalCSS("/bitrix/wizards/".self::partnerName."/".self::solutionName."/css/panel.css");
            $arMenu = array(
                array(
                    "ACTION" => "jsUtils.Redirect([], '".CUtil::JSEscape("/bitrix/admin/wizard_install.php?lang=".LANGUAGE_ID."&wizardSiteID=".SITE_ID."&wizardName=".self::wizardID."&".bitrix_sessid_get())."')",
                    "ICON" => "bx-popup-item-wizard-icon",
                    "TITLE" => GetMessage("STOM_BUTTON_TITLE_W1"),
                    "TEXT" => GetMessage("STOM_BUTTON_NAME_W1"),
                ),
            );
            $GLOBALS["APPLICATION"]->AddPanelButton(array(
                "HREF" => "/bitrix/admin/wizard_install.php?lang=".LANGUAGE_ID."&wizardName=".self::wizardID."&wizardSiteID=".SITE_ID."&".bitrix_sessid_get(),
                "ID" => self::solutionName."_wizard",
                "ICON" => "bx-panel-site-wizard-icon",
                "MAIN_SORT" => 2500,
                "TYPE" => "BIG",
                "SORT" => 10,
                "ALT" => GetMessage("SCOM_BUTTON_DESCRIPTION"),
                "TEXT" => GetMessage("SCOM_BUTTON_NAME"),
                "MENU" => $arMenu,
            ));
        }
    }

    function BeforeSendEvent(\Bitrix\Main\Event $event){
		if(isset($_REQUEST["ONE_CLICK_BUY"]) && method_exists('\Bitrix\Sale\Compatible\EventCompatibility', 'setDisableMailSend')){
			\Bitrix\Sale\Compatible\EventCompatibility::setDisableMailSend(true);
			if(method_exists('\Bitrix\Sale\Notify', 'setNotifyDisable'))
				\Bitrix\Sale\Notify::setNotifyDisable(true);
		}
	}

	function Check(){
	}

	function Start($siteID){
		global  $APPLICATION, $SITE_THEME, $TEMPLATE_OPTIONS, $THEME_SWITCHER, $STARTTIME;
		$STARTTIME = time() * 1000;
		$SITE_THEME = COption::GetOptionString(self::moduleID, "COLOR_THEME", 'BLUE', $siteID);
		$SITE_THEMEBG = COption::GetOptionString(self::moduleID, "BGCOLOR_THEME", 'LIGHT', $siteID);
		$TEMPLATE_OPTIONS = self::GetTemplateOptions($siteID);
		$THEME_SWITCHER = COption::GetOptionString(self::moduleID, 'THEME_SWITCHER', 'N', $siteID);

		if($TEMPLATE_OPTIONS && is_array($TEMPLATE_OPTIONS)){
			// reset theme
			if($_REQUEST["theme"] == "default"){
				foreach($TEMPLATE_OPTIONS as $templateOptionKey => $templateOptionValue){
					if(isset($templateOptionValue["DEFAULT"])){
						$default = $templateOptionValue["DEFAULT"];
						$TEMPLATE_OPTIONS[$templateOptionKey]["CURRENT_VALUE"] = strToUpper($default);
						$_SESSION[SITE_ID][strToUpper($templateOptionKey)] = strToUpper($default);
					}
				}
				COption::SetOptionString(self::moduleID, "NeedGenerateCustomTheme", 'Y', '', $siteID);
				COption::SetOptionString(self::moduleID, "NeedGenerateCustomThemeBG", 'Y', '', $siteID);
			}
			else{
				foreach($TEMPLATE_OPTIONS as $templateOptionKey => $templateOptionValue){
					// read theme from $_SESSION if $THEME_SWITCHER == Y
					$arOptionValues = array();
					if($templateOptionValue["VALUES"] && is_array($templateOptionValue["VALUES"])){
						foreach($templateOptionValue["VALUES"] as  $i => $j){
							$arOptionValues[] = $j["VALUE"];
						}
					}
					if(($THEME_SWITCHER == "Y") && $_SESSION[$siteID] && is_array($_SESSION[$siteID])){
						foreach($_SESSION[SITE_ID] as $sessionKey => $sessionValue){
							if($sessionKey == $templateOptionValue["ID"] && (($templateOptionValue["ID"] == "CUSTOM_COLOR_THEME" || $templateOptionValue["ID"] == "CUSTOM_BGCOLOR_THEME") || in_array($sessionValue, $arOptionValues))){
								$TEMPLATE_OPTIONS[$templateOptionKey]["CURRENT_VALUE"] = $sessionValue;
							}
						}
					}

					// save theme changes in $_SESSION if $THEME_SWITCHER == Y
					if($_REQUEST && is_array($_REQUEST)){
						foreach($_REQUEST as $requestKey => $requestValue){
							if(strToUpper($requestKey) == $templateOptionValue["ID"] && (($templateOptionValue["ID"] == "CUSTOM_COLOR_THEME" || $templateOptionValue["ID"] == "CUSTOM_BGCOLOR_THEME") || in_array(strToUpper($requestValue), $arOptionValues))){
								if(($templateOptionValue["ID"] == "CUSTOM_COLOR_THEME") || ($templateOptionValue["ID"] == "CUSTOM_BGCOLOR_THEME")){
									$requestValue = str_replace('#', '', $requestValue);
									$requestValue = (strlen($requestValue) ? $requestValue : $templateOptionValue['DEFAULT']);
								}

								if($templateOptionValue["ID"] == "COLOR_THEME" && $requestValue == 'CUSTOM'){
									COption::SetOptionString(self::moduleID, "NeedGenerateCustomTheme", 'Y', '', $siteID);
								}
								if($templateOptionValue["ID"] == "BGCOLOR_THEME" && $requestValue == 'CUSTOM'){
									COption::SetOptionString(self::moduleID, "NeedGenerateCustomThemeBG", 'Y', '', $siteID);
								}

								if($THEME_SWITCHER == "Y"){
									$_SESSION[$siteID][strToUpper($requestKey)] = strToUpper($requestValue);
									$TEMPLATE_OPTIONS[$templateOptionKey]["CURRENT_VALUE"] = strToUpper($requestValue);
								}
							}
						}
					}
				}
			}
		}
		if(isset($_REQUEST["color_theme"]) && $_REQUEST["color_theme"]){
			LocalRedirect($_SERVER["HTTP_REFERER"]);
		}

		$SITE_THEME = $TEMPLATE_OPTIONS["COLOR_THEME"]["CURRENT_VALUE"];
		$SITE_THEMEBG = $TEMPLATE_OPTIONS["BGCOLOR_THEME"]["CURRENT_VALUE"];

		$SITE_THEME_PATH = SITE_TEMPLATE_PATH.'/themes/'.strToLower($SITE_THEME.($SITE_THEME !== 'CUSTOM' ? '' : '_'.$siteID));
		$SITE_THEMEBG_PATH = SITE_TEMPLATE_PATH.'/bg_color/'.strToLower($SITE_THEMEBG.($SITE_THEMEBG !== 'CUSTOM' ? '' : '_'.$siteID));
		$APPLICATION->SetAdditionalCSS($SITE_THEME_PATH.'/theme.css', true);
		$APPLICATION->SetAdditionalCSS($SITE_THEMEBG_PATH.'/bgcolors.css', true);
		COptimus::GenerateThemes($siteID);

		if(CModule::IncludeModuleEx(self::moduleID) == 1){
			$APPLICATION->SetPageProperty("viewport", "width=device-width, initial-scale=1.0");
			$APPLICATION->SetPageProperty("HandheldFriendly", "true");
			$APPLICATION->SetPageProperty("apple-mobile-web-app-capable", "yes");
			$APPLICATION->SetPageProperty("apple-mobile-web-app-status-bar-style", "black");
			$APPLICATION->SetPageProperty("SKYPE_TOOLBAR", "SKYPE_TOOLBAR_PARSER_COMPATIBLE");
			$APPLICATION->SetAdditionalCSS(SITE_TEMPLATE_PATH.'/css/jquery.fancybox.css');
			$APPLICATION->SetAdditionalCSS(SITE_TEMPLATE_PATH.'/css/styles.css');
			if($_REQUEST && isset($_REQUEST['print'])){
				$APPLICATION->SetAdditionalCSS(SITE_TEMPLATE_PATH.'/css/print.css', true);
			}else{
				$APPLICATION->SetAdditionalCSS(((COption::GetOptionString('main', 'use_minified_assets', 'N', $siteID) === 'Y') && file_exists($_SERVER['DOCUMENT_ROOT'].SITE_TEMPLATE_PATH.'/css/media.min.css')) ? SITE_TEMPLATE_PATH.'/css/media.min.css' : SITE_TEMPLATE_PATH.'/css/media.css', true);
			}
			$APPLICATION->SetAdditionalCSS(SITE_TEMPLATE_PATH.'/css/fonts/font-awesome/css/font-awesome.min.css', true);
			$APPLICATION->SetAdditionalCSS(SITE_TEMPLATE_PATH.'/css/custom.css', true);
			$APPLICATION->AddHeadScript(SITE_TEMPLATE_PATH.'/js/jquery.actual.min.js');
			$APPLICATION->AddHeadScript(SITE_TEMPLATE_PATH.'/js/jqModal.js');
			$APPLICATION->AddHeadScript(SITE_TEMPLATE_PATH.'/js/jquery.fancybox.js');
			$APPLICATION->AddHeadScript(SITE_TEMPLATE_PATH.'/js/jquery.history.js');
			$APPLICATION->AddHeadScript(SITE_TEMPLATE_PATH.'/js/jquery.flexslider.js');
			$APPLICATION->AddHeadScript(SITE_TEMPLATE_PATH.'/js/jquery.validate.min.js');
			$APPLICATION->AddHeadScript(SITE_TEMPLATE_PATH.'/js/jquery.inputmask.bundle.min.js');
			$APPLICATION->AddHeadScript(SITE_TEMPLATE_PATH.'/js/jquery.easing.1.3.js');
			$APPLICATION->AddHeadScript(SITE_TEMPLATE_PATH.'/js/equalize.min.js');
			$APPLICATION->AddHeadScript(SITE_TEMPLATE_PATH.'/js/jquery.alphanumeric.js');
			$APPLICATION->AddHeadScript(SITE_TEMPLATE_PATH.'/js/jquery.cookie.js');
			$APPLICATION->AddHeadScript(SITE_TEMPLATE_PATH.'/js/jquery.plugin.min.js');
			$APPLICATION->AddHeadScript(SITE_TEMPLATE_PATH.'/js/jquery.countdown.min.js');
			$APPLICATION->AddHeadScript(SITE_TEMPLATE_PATH.'/js/jquery.countdown-ru.js');
			$APPLICATION->AddHeadScript(SITE_TEMPLATE_PATH.'/js/jquery.ikSelect.js');
			$APPLICATION->AddHeadScript(SITE_TEMPLATE_PATH.'/js/sly.js');
			$APPLICATION->AddHeadScript(SITE_TEMPLATE_PATH.'/js/equalize_ext.js');
			$APPLICATION->AddHeadScript(SITE_TEMPLATE_PATH.'/js/jquery.dotdotdot.js');
			$APPLICATION->AddHeadScript(SITE_TEMPLATE_PATH.'/js/zoomsl-3.0.js');
			$APPLICATION->AddHeadScript(SITE_TEMPLATE_PATH.'/js/main.js');
			$APPLICATION->AddHeadScript(SITE_TEMPLATE_PATH.'/js/custom.js', true);

			if(strlen($TEMPLATE_OPTIONS['FAVICON_IMAGE']['CURRENT_IMG'])){
				$APPLICATION->AddHeadString('<link rel="shortcut icon" href="'.$TEMPLATE_OPTIONS['FAVICON_IMAGE']['CURRENT_IMG'].'" type="image/x-icon" />', true);
			}
			if(strlen($TEMPLATE_OPTIONS['APPLE_TOUCH_ICON_IMAGE']['CURRENT_IMG'])){
				$APPLICATION->AddHeadString('<link rel="apple-touch-icon" sizes="180x180" href="'.$TEMPLATE_OPTIONS['APPLE_TOUCH_ICON_IMAGE']['CURRENT_IMG'].'" />', true);
			}

			CJSCore::Init(array("jquery"));
			CAjax::Init();
			\Bitrix\Main\Loader::includeModule('iblock');
			\Bitrix\Main\Loader::includeModule('sale');
			\Bitrix\Main\Loader::includeModule('catalog');

			self::showBgImage($siteID);

			return true;
		}
		else{
			$APPLICATION->SetAdditionalCSS(SITE_TEMPLATE_PATH.'/css/styles.css');
			$APPLICATION->SetTitle(GetMessage("ERROR_INCLUDE_MODULE"));
			$APPLICATION->IncludeFile(SITE_DIR."include/error_include_module.php", Array(), Array()); die();
		}
	}

	static function checkBgImage($siteID){
		global $APPLICATION;
		static $arBanner;
		if($arBanner===NULL){
			$arItems = COptimusCache::CIBLockElement_GetList(array('CACHE' => array('TAG' => COptimusCache::GetIBlockCacheTag(COptimusCache::$arIBlocks[$siteID]["aspro_optimus_adv"]["aspro_optimus_bg_images"][0]))), array('IBLOCK_ID' => COptimusCache::$arIBlocks[$siteID]["aspro_optimus_adv"]["aspro_optimus_bg_images"][0], "ACTIVE"=>"Y"), false, false, array("ID", "NAME", "PREVIEW_PICTURE", "PROPERTY_URL", "PROPERTY_FIXED_BANNER", "PROPERTY_URL_NOT_SHOW"));
			$arBanner=array();
			if($arItems){
				$curPage=$APPLICATION->GetCurPage();
				foreach($arItems as $arItem){
					if(isset($arItem["PROPERTY_URL_VALUE"]) && $arItem["PREVIEW_PICTURE"]){
						if(!is_array($arItem["PROPERTY_URL_VALUE"]))
							$arItem["PROPERTY_URL_VALUE"]=array($arItem["PROPERTY_URL_VALUE"]);
						if($arItem["PROPERTY_URL_VALUE"]){
							foreach($arItem["PROPERTY_URL_VALUE"] as $url){
								$url=str_replace("SITE_DIR", SITE_DIR, $url);
								if($arItem["PROPERTY_URL_NOT_SHOW_VALUE"]){
									if(!is_array($arItem["PROPERTY_URL_NOT_SHOW_VALUE"]))
										$arItem["PROPERTY_URL_NOT_SHOW_VALUE"]=array($arItem["PROPERTY_URL_NOT_SHOW_VALUE"]);
									foreach($arItem["PROPERTY_URL_NOT_SHOW_VALUE"] as $url_not_show){
										$url_not_show=str_replace("SITE_DIR", SITE_DIR, $url_not_show);
										if(CSite::InDir($url_not_show)){
											return;
											break;
										}else{
											if(CSite::InDir($url)){
												$arBanner=$arItem;
												break;
											}
										}

									}
								}else{
									if(CSite::InDir($url)){
										$arBanner=$arItem;
										break;
									}
								}
							}
						}
					}
				}
			}
		}
		return $arBanner;
	}

	function showBgImage($siteID){
		global $APPLICATION;
		$arBanner=self::checkBgImage($siteID);
		if($arBanner){
			$image=CFile::GetFileArray($arBanner["PREVIEW_PICTURE"]);
			$class="bg_image_site";
			if($arBanner["PROPERTY_FIXED_BANNER_VALUE"]=="Y")
				$class.=" fixed";
			if(self::IsMainPage())
				$class.=" opacity";
			$APPLICATION->AddHeadString('<script>$(document).ready(function(){$(\'body\').append("<span class=\''.$class.'\' style=\'background-image:url('.$image["SRC"].');\'></span>");})</script>');
		}
		return true;
	}

	function ShowLogo(){
		global $arSite, $TEMPLATE_OPTIONS;
		$image=($TEMPLATE_OPTIONS["LOGO_IMAGE"]["CURRENT_IMG"] ? $TEMPLATE_OPTIONS["LOGO_IMAGE"]["CURRENT_IMG"] : SITE_DIR."include/logo.png");?>
		<a href="<?=SITE_DIR?>"><img src="<?=$image?>" alt="<?=$arSite["SITE_NAME"]?>" title="<?=$arSite["SITE_NAME"]?>" /></a>
	<?}

	static function getCurrentPageClass(){
		static $result;

		if(!isset($result)){
			if(self::IsMainPage())
				$result = 'front';
			if(self::IsAuthSection())
				$result = 'auth';
			if(self::IsBasketPage())
				$result = 'basket';
			if(self::IsCatalogPage())
				$result = 'catalog';
			if(self::IsOrderPage())
				$result = 'order';
			if($result)
				$result.='_page';
		}

		return $result;
	}

	static function IsMainPage(){
		static $result;

		if(!isset($result)){
			$result = CSite::InDir(SITE_DIR.'index.php');
		}

		return $result;
	}

	static function IsAuthSection(){
		static $result;

		if(!isset($result)){
			$result = CSite::InDir(SITE_DIR.'auth/');
		}

		return $result;
	}

	static function IsBasketPage(){
		static $result;

		if(!isset($result)){
			$result = CSite::InDir(SITE_DIR.'basket/');
		}

		return $result;
	}

	static function IsCatalogPage(){
		static $result;

		if(!isset($result)){
			$result = CSite::InDir(SITE_DIR.'catalog/');
		}

		return $result;
	}

	static function IsOrderPage(){
		static $result;

		if(!isset($result)){
			$result = CSite::InDir(SITE_DIR.'order/');
		}

		return $result;
	}

	function GenerateMinCss($file){
		if(file_exists($file)){
			$content = @file_get_contents($file);
			if($content !== false){
				$content = preg_replace('!/\*[^*]*\*+([^/][^*]*\*+)*/!', '', $content);
				$content = str_replace(array("\r\n", "\r", "\n", "\t"), '', $content);
				$content = preg_replace('/ {2,}/', ' ', $content);
				$content = str_replace(array(' : ', ': ', ' :',), ':', $content);
				$content = str_replace(array(' ; ', '; ', ' ;'), ';', $content);
				$content = str_replace(array(' > ', '> ', ' >'), '>', $content);
				$content = str_replace(array(' + ', '+ ', ' +'), '+', $content);
				$content = str_replace(array(' { ', '{ ', ' {'), '{', $content);
				$content = str_replace(array(' } ', '} ', ' }'), '}', $content);
				$content = str_replace(array(' ( ', '( ', ' ('), '(', $content);
				$content = str_replace(array(' ) ', ') ', ' )'), ')', $content);
				$content = str_replace('and(', 'and (', $content);
				$content = str_replace(')li', ') li', $content);
				@file_put_contents(dirname($file).'/'.basename($file, '.css').'.min.css', $content);
			}
		}

		return false;
	}

	function GenerateThemes($siteID){
		global $SITE_THEME, $TEMPLATE_OPTIONS, $THEME_SWITCHER;
		$arBaseColors = $TEMPLATE_OPTIONS['COLOR_THEME']['VALUES'];
		$arBaseBgColors = $TEMPLATE_OPTIONS['BGCOLOR_THEME']['VALUES'];
		$isCustomTheme = $TEMPLATE_OPTIONS['COLOR_THEME']['CURRENT_VALUE'] === 'CUSTOM';
		$isCustomThemeBG = $TEMPLATE_OPTIONS['BGCOLOR_THEME']['CURRENT_VALUE'] === 'CUSTOM';

		$bNeedGenerateAllThemes = COption::GetOptionString(self::moduleID, 'NeedGenerateThemes', 'N', $siteID) === 'Y';
		$bNeedGenerateCustomTheme = COption::GetOptionString(self::moduleID, 'NeedGenerateCustomTheme', 'N', $siteID) === 'Y';
		$bNeedGenerateCustomThemeBG = COption::GetOptionString(self::moduleID, 'NeedGenerateCustomThemeBG', 'N', $siteID) === 'Y';

		$baseColorCustom = $baseColorBGCustom = '';
		$lastGeneratedBaseColorCustom = COption::GetOptionString(self::moduleID, 'LastGeneratedBaseColorCustom', '', $siteID);
		if(isset($TEMPLATE_OPTIONS['CUSTOM_COLOR_THEME'])){
			$baseColorCustom = str_replace('#', '', $TEMPLATE_OPTIONS['CUSTOM_COLOR_THEME']['CURRENT_VALUE']);
			$baseColorCustom = '#'.(strlen($baseColorCustom) ? $baseColorCustom : $TEMPLATE_OPTIONS['CUSTOM_COLOR_THEME']['DEFAULT']);
		}
		$lastGeneratedBaseColorBGCustom = COption::GetOptionString(self::moduleID, 'LastGeneratedBaseColorBGCustom', '', $siteID);
		if(isset($TEMPLATE_OPTIONS['CUSTOM_BGCOLOR_THEME'])){
			$baseColorBGCustom = str_replace('#', '', $TEMPLATE_OPTIONS['CUSTOM_BGCOLOR_THEME']['CURRENT_VALUE']);
			$baseColorBGCustom = (strlen($baseColorBGCustom) ? $baseColorBGCustom : $TEMPLATE_OPTIONS['CUSTOM_BGCOLOR_THEME']['DEFAULT']);
		}

		$bGenerateAll = self::devMode || $bNeedGenerateAllThemes;
		$bGenerateCustom = $bGenerateAll || $bNeedGenerateCustomTheme || ($THEME_SWITCHER === 'Y' && $isCustomTheme && strlen($baseColorCustom) && $baseColorCustom != $lastGeneratedBaseColorCustom);
		$bGenerateCustomBG = $bGenerateAll || $bNeedGenerateCustomThemeBG || ($THEME_SWITCHER === 'Y' && $isCustomThemeBG && strlen($baseColorBGCustom) && $baseColorBGCustom != $lastGeneratedBaseColorBGCustom);
		if($arBaseColors && is_array($arBaseColors) && ($bGenerateAll || $bGenerateCustom || $isCustomThemeBG)){
			if(!class_exists('lessc')){
				include_once 'lessc.inc.php';
			}
			$less = new lessc;
			try{
				foreach($arBaseColors as $arColor){
					if(($bCustom = ($arColor['VALUE'] == 'CUSTOM')) && $bGenerateCustom){
						if(strlen($baseColorCustom)){
							$less->setVariables(array('bcolor' => $baseColorCustom));
						}
					}
					elseif($bGenerateAll){
						$less->setVariables(array('bcolor' => $arColor['COMPONENT_VALUE']));
					}

					if($bGenerateAll || ($bCustom && $bGenerateCustom)){
						if(defined('SITE_TEMPLATE_PATH')){
							$themeDirPath = $_SERVER['DOCUMENT_ROOT'].SITE_TEMPLATE_PATH.'/themes/'.strToLower($arColor['VALUE'].($arColor['VALUE'] !== 'CUSTOM' ? '' : '_'.$siteID)).'/';
							if(!is_dir($themeDirPath)) mkdir($themeDirPath, 0755, true);
							$output = $less->compileFile(__DIR__.'/../../css/theme.less', $themeDirPath.'theme.css');
							if($output){
								if($bCustom){
									COption::SetOptionString(self::moduleID, 'LastGeneratedBaseColorCustom', $baseColorCustom, '', $siteID);
								}
								self::GenerateMinCss($themeDirPath.'theme.css');
							}
						}
					}
				}
				foreach($arBaseBgColors as $arColor){
					if(($bCustom = ($arColor['VALUE'] == 'CUSTOM')) && $bGenerateCustomBG){
						if(strlen($baseColorBGCustom)){
							$footerBgColor = $baseColorBGCustom === "FFFFFF" ? "F6F6F7" : $baseColorBGCustom;
							$less->setVariables(array('bcolor' => '#'.$baseColorBGCustom, 'fcolor' => '#'.$footerBgColor));
						}
					}
					elseif($bGenerateAll){
						$less->setVariables(array('bcolor' => $arColor['COMPONENT_VALUE'], 'fcolor' => $arColor['COMPONENT_VALUE']));
					}

					if($bGenerateAll || ($bCustom && $bGenerateCustomBG)){
						if(defined('SITE_TEMPLATE_PATH')){
							$themeDirPath = $_SERVER['DOCUMENT_ROOT'].SITE_TEMPLATE_PATH.'/bg_color/'.strToLower($arColor['VALUE'].($arColor['VALUE'] !== 'CUSTOM' ? '' : '_'.$siteID)).'/';
							if(!is_dir($themeDirPath)) mkdir($themeDirPath, 0755, true);
							$output = $less->compileFile(__DIR__.'/../../css/bgtheme.less', $themeDirPath.'bgcolors.css');
							if($output){
								if($bCustom){
									COption::SetOptionString(self::moduleID, 'LastGeneratedBaseColorBGCustom', $baseColorBGCustom, '', $siteID);
								}
								self::GenerateMinCss($themeDirPath.'bgcolors.css');
							}
						}
					}
				}
			}
			catch(exception $e){
				echo 'Fatal error: '.$e->getMessage();
				die();
			}

			if($bNeedGenerateAllThemes){
				COption::SetOptionString(self::moduleID, "NeedGenerateThemes", 'N', '', $siteID);
			}
			if($bNeedGenerateCustomTheme){
				COption::SetOptionString(self::moduleID, "NeedGenerateCustomTheme", 'N', '', $siteID);
			}
			if($bNeedGenerateCustomThemeBG){
				COption::SetOptionString(self::moduleID, "NeedGenerateCustomThemeBG", 'N', '', $siteID);
			}
		}
	}

	function getChilds($input, &$start = 0, $level = 0){
		$childs = array();

		if(!$level){
			$lastDepthLevel = 1;
			if(is_array($input)){
				foreach($input as $i => $arItem){
					if($arItem["DEPTH_LEVEL"] > $lastDepthLevel){
						if($i > 0){
							$input[$i - 1]["IS_PARENT"] = 1;
						}
					}
					$lastDepthLevel = $arItem["DEPTH_LEVEL"];
				}
			}
		}

		for($i = $start, $count = count($input); $i < $count; ++$i){
			$item = $input[$i];
			if($level > $item['DEPTH_LEVEL'] - 1){
				break;
			}
			elseif(!empty($item['IS_PARENT'])){
				++$i;
				$item['CHILD'] = self::getChilds($input, $i, $level + 1);
				--$i;
			}
			$childs[] = $item;
		}

		$start = $i;
		return $childs;
	}

	function unique_multidim_array($array, $key) {
	    $temp_array = array();
	    $i = 0;
	    $key_array = array();

	    foreach($array as $val) {
	        if (!in_array($val[$key], $key_array)) {
	            $key_array[$i] = $val[$key];
	            $temp_array[$i] = $val;
	        }
	        $i++;
	    }
	    return $temp_array;
	}

	function convertArray($array, $charset){
		global $APPLICATION;
	    if(is_array($array) && $array){
		    foreach($array as $key=>$arVal) {
		    	foreach($arVal as $key2=>$value){
					$array[$key][$key2]=$APPLICATION->ConvertCharset($value, 'UTF-8', $charset);
		    	}
		    }
		}else{
			$array=array();
		}
	    return $array;
	}

	function getChilds2($input, &$start = 0, $level = 0){
		static $arIblockItemsMD5 = array();

		if(!$level){
			$lastDepthLevel = 1;
			if($input && is_array($input)){
				foreach($input as $i => $arItem){
					if($arItem['DEPTH_LEVEL'] > $lastDepthLevel){
						if($i > 0){
							$input[$i - 1]['IS_PARENT'] = 1;
						}
					}
					$lastDepthLevel = $arItem['DEPTH_LEVEL'];
				}
			}
		}

		$childs = array();
		$count = count($input);
		for($i = $start; $i < $count; ++$i){
			$item = $input[$i];
			if(!isset($item)){
				continue;
			}
			if($level > $item['DEPTH_LEVEL'] - 1){
				break;
			}
			else{
				if(!empty($item['IS_PARENT'])){
					$i++;
					$item['CHILD'] = self::getChilds($input, $i, $level+1);
					$i--;
				}

				$childs[] = $item;
			}
		}
		$start = $i;

		if(is_array($childs)){
			foreach($childs as $j => $item){
				if($item['PARAMS']){
					$md5 = md5($item['TEXT'].$item['LINK'].$item['SELECTED'].$item['PERMISSION'].$item['ITEM_TYPE'].$item['IS_PARENT'].serialize($item['ADDITIONAL_LINKS']).serialize($item['PARAMS']));
					if(isset($arIblockItemsMD5[$md5][$item['PARAMS']['DEPTH_LEVEL']])){
						if(isset($arIblockItemsMD5[$md5][$item['PARAMS']['DEPTH_LEVEL']][$level]) || ($item['DEPTH_LEVEL'] === 1 && !$level)){
							unset($childs[$j]);
							continue;
						}
					}
					if(!isset($arIblockItemsMD5[$md5])){
						$arIblockItemsMD5[$md5] = array($item['PARAMS']['DEPTH_LEVEL'] => array($level => true));
					}
					else{
						$arIblockItemsMD5[$md5][$item['PARAMS']['DEPTH_LEVEL']][$level] = true;
					}
				}
			}
		}

		if(!$level){
			$arIblockItemsMD5 = array();
		}

		return $childs;
	}

	function getSectionChilds($PSID, &$arSections, &$arSectionsByParentSectionID, &$arItemsBySectionID, &$aMenuLinksExt){
		if($arSections && is_array($arSections)){
			foreach($arSections as $arSection){
				if($arSection['IBLOCK_SECTION_ID'] == $PSID){
					$arItem = array($arSection['NAME'], $arSection['SECTION_PAGE_URL'], array(), array('FROM_IBLOCK' => 1, 'DEPTH_LEVEL' => $arSection['DEPTH_LEVEL']));
					$arItem[3]['IS_PARENT'] = (isset($arItemsBySectionID[$arSection['ID']]) || isset($arSectionsByParentSectionID[$arSection['ID']]) ? 1 : 0);
					if($arSection["PICTURE"])
						$arItem[3]["PICTURE"]=$arSection["PICTURE"];
					$aMenuLinksExt[] = $arItem;
					if($arItem[3]['IS_PARENT']){
						// subsections
						self::getSectionChilds($arSection['ID'], $arSections, $arSectionsByParentSectionID, $arItemsBySectionID, $aMenuLinksExt);
						// section elements
						if($arItemsBySectionID[$arSection['ID']] && is_array($arItemsBySectionID[$arSection['ID']])){
							foreach($arItemsBySectionID[$arSection['ID']] as $arItem){
								if(is_array($arItem['DETAIL_PAGE_URL'])){
									if(isset($arItem['CANONICAL_PAGE_URL'])){
										$arItem['DETAIL_PAGE_URL'] = $arItem['CANONICAL_PAGE_URL'];
									}
									else{
										$arItem['DETAIL_PAGE_URL'] = $arItem['DETAIL_PAGE_URL'][key($arItem['DETAIL_PAGE_URL'])];
									}
								}
								$aMenuLinksExt[] = array($arItem['NAME'], $arItem['DETAIL_PAGE_URL'], array(), array('FROM_IBLOCK' => 1, 'DEPTH_LEVEL' => ($arSection['DEPTH_LEVEL'] + 1), 'IS_ITEM' => 1));
							}
						}
					}
				}
			}
		}
	}

	function GetDirMenuParametrs($dir){
		if(strlen($dir)){
			$file = str_replace('//', '/', $dir.'/.section.php');
			if(file_exists($file)){
				@include($file);
				return $arDirProperties;
			}
		}

		return false;
	}


	static function cmpByID($a, $b){
		return ($b['ID'] - $a['ID']);
	}

	static function cmpBySort($a, $b){
		return ($a['SORT'] - $b['SORT']);
	}

	static function cmpByIDFilter($a, $b){
		global $IDFilter;
		$ak = array_search($a['ID'], $IDFilter);
		$bk = array_search($b['ID'], $IDFilter);
		if($ak === $bk){
			return 0;
		}
		else{
			return ($ak > $bk ? 1 : -1);
		}
	}

	function getChainNeighbors($curSectionID, $chainPath){
		static $arSections, $arSectionsIDs, $arSubSections;
		$arResult = array();

		if($arSections === NULL){
			$arSections = $arSectionsIDs = $arSubSections = array();
			$IBLOCK_ID = false;
			$nav = CIBlockSection::GetNavChain(false, $curSectionID, array("ID", "IBLOCK_ID", "IBLOCK_SECTION_ID", "SECTION_PAGE_URL"));
			while($ar = $nav->GetNext()){
				$arSections[] = $ar;
				$arSectionsIDs[] = ($ar["IBLOCK_SECTION_ID"] ? $ar["IBLOCK_SECTION_ID"] : 0);
				$IBLOCK_ID = $ar["IBLOCK_ID"];
			}

			if($arSectionsIDs){
				$resSubSection = CIBlockSection::GetList(array('SORT' => 'ASC'), array("ACTIVE" => "Y", "GLOBAL_ACTIVE" => "Y", "IBLOCK_ID" => $IBLOCK_ID, "SECTION_ID" => $arSectionsIDs), false, array("ID", "NAME", "IBLOCK_SECTION_ID", "SECTION_PAGE_URL"));
				while($arSubSection = $resSubSection->GetNext()){
					$arSubSection["IBLOCK_SECTION_ID"] = ($arSubSection["IBLOCK_SECTION_ID"] ? $arSubSection["IBLOCK_SECTION_ID"] : 0);
					$arSubSections[$arSubSection["IBLOCK_SECTION_ID"]][] = $arSubSection;
				}

				if(in_array(0, $arSectionsIDs)){
					$resSubSection = CIBlockSection::GetList(array('SORT' => 'ASC'), array("ACTIVE" => "Y", "GLOBAL_ACTIVE" => "Y", "IBLOCK_ID" => $IBLOCK_ID, "SECTION_ID" => false), false, array("ID", "NAME", "IBLOCK_SECTION_ID", "SECTION_PAGE_URL"));
					while($arSubSection = $resSubSection->GetNext()){
						$arSubSections[$arSubSection["IBLOCK_SECTION_ID"]][] = $arSubSection;
					}
				}
			}
		}

		if($arSections && strlen($chainPath)){
			foreach($arSections as $arSection){
				if($arSection["SECTION_PAGE_URL"] == $chainPath){
					if($arSubSections[$arSection["IBLOCK_SECTION_ID"]]){
						foreach($arSubSections[$arSection["IBLOCK_SECTION_ID"]] as $arSubSection){
							if($curSectionID !== $arSubSection["ID"]){
								$arResult[] = array("NAME" => $arSubSection["NAME"], "LINK" => $arSubSection["SECTION_PAGE_URL"]);
							}
						}
					}
					break;
				}
			}
		}

		return $arResult;
	}

	function drawFormField($FIELD_SID, $arQuestion){
		?>
		<?$arQuestion["HTML_CODE"] = str_replace('name=', 'data-sid="'.$FIELD_SID.'" name=', $arQuestion["HTML_CODE"]);?>
		<?if($arQuestion['STRUCTURE'][0]['FIELD_TYPE'] == 'hidden'):?>
			<?=$arQuestion["HTML_CODE"];?>
		<?else:?>
			<div class="form-control">
				<label><span><?=$arQuestion["CAPTION"]?><?=($arQuestion["REQUIRED"] == "Y" ? '&nbsp;<span class="star">*</span>' : '')?></span></label>
				<?
				if(is_array($arResult["FORM_ERRORS"]) && array_key_exists($FIELD_SID, $arResult['FORM_ERRORS'])){
					$arQuestion["HTML_CODE"] = str_replace('class="', 'class="error ', $arQuestion["HTML_CODE"]);
				}
				if($arQuestion["REQUIRED"] == "Y"){
					$arQuestion["HTML_CODE"] = str_replace('name=', 'required name=', $arQuestion["HTML_CODE"]);
				}
				if($arQuestion["STRUCTURE"][0]["FIELD_TYPE"] == "email"){
					$arQuestion["HTML_CODE"] = str_replace('type="text"', 'type="email" placeholder="mail@domen.com"', $arQuestion["HTML_CODE"]);
				}
				?>
				<?=$arQuestion["HTML_CODE"]?>
			</div>
		<?endif;?>
		<?
	}

	function GetValidFormIDForSite(&$form_id){
		if(!is_numeric($form_id) && !in_array($form_id, array('auth', 'one_click_buy'))){
			CModule::IncludeModule('form');
			$rsForm = CForm::GetList($by = "id", $order = "asc", array("ACTIVE" => "Y", "SID" => $form_id, "SITE" => array(SITE_ID)), $is_filtered);
			if($item = $rsForm->Fetch()){
				$form_id = $item["ID"];
			}
		}

		return $form_id;
	}

	function CheckTypeCount($totalCount){
		if(is_float($totalCount)){
			return floatval($totalCount);
		}
		else{
			return intval($totalCount);
		}
	}

	function GetTotalCount(&$arItem){
		$totalCount = 0;
		if($arItem["OFFERS"]){
			foreach($arItem["OFFERS"] as $arOffer){
				$totalCount += $arOffer["CATALOG_QUANTITY"];
			}
		}elseif($arItem["PRICES"]){
			$totalCount = ( $arItem["~CATALOG_QUANTITY"] != $arItem["CATALOG_QUANTITY"] ? $arItem["~CATALOG_QUANTITY"] : $arItem["CATALOG_QUANTITY"] );
		}else{
			$totalCount = ( $arItem["~CATALOG_QUANTITY"] != $arItem["CATALOG_QUANTITY"] ? $arItem["~CATALOG_QUANTITY"] : $arItem["CATALOG_QUANTITY"] );
		}
		return self::CheckTypeCount($totalCount);
	}

	function GetQuantityArray($totalCount, $arItemIDs = array(), $useStoreClick="N"){
		static $arQuantityOptions, $arQuantityRights;
		if($arQuantityOptions === NULL){
			$arQuantityOptions = array(
				"USE_WORD_EXPRESSION" => COption::GetOptionString("aspro.optimus", "USE_WORD_EXPRESSION", "Y", SITE_ID),
				"MAX_AMOUNT" => COption::GetOptionString("aspro.optimus", "MAX_AMOUNT", "10", SITE_ID),
				"MIN_AMOUNT" => COption::GetOptionString("aspro.optimus", "MIN_AMOUNT", "2", SITE_ID),
				"EXPRESSION_FOR_MIN" => COption::GetOptionString("aspro.optimus", "EXPRESSION_FOR_MIN", GetMessage("EXPRESSION_FOR_MIN_DEFAULT"), SITE_ID),
				"EXPRESSION_FOR_MID" => COption::GetOptionString("aspro.optimus", "EXPRESSION_FOR_MID", GetMessage("EXPRESSION_FOR_MID_DEFAULT"), SITE_ID),
				"EXPRESSION_FOR_MAX" => COption::GetOptionString("aspro.optimus", "EXPRESSION_FOR_MAX", GetMessage("EXPRESSION_FOR_MAX_DEFAULT"), SITE_ID),
				"EXPRESSION_FOR_EXISTS" => COption::GetOptionString("aspro.optimus", "EXPRESSION_FOR_EXISTS", GetMessage("EXPRESSION_FOR_EXISTS_DEFAULT"), SITE_ID),
				"EXPRESSION_FOR_NOTEXISTS" => COption::GetOptionString("aspro.optimus", "EXPRESSION_FOR_NOTEXISTS", GetMessage("EXPRESSION_FOR_NOTEXISTS_DEFAULT"), SITE_ID),
				"SHOW_QUANTITY_FOR_GROUPS" => (($tmp = COption::GetOptionString("aspro.optimus", "SHOW_QUANTITY_FOR_GROUPS", "", SITE_ID)) ? explode(",", $tmp) : array()),
				"SHOW_QUANTITY_COUNT_FOR_GROUPS" => (($tmp = COption::GetOptionString("aspro.optimus", "SHOW_QUANTITY_COUNT_FOR_GROUPS", "", SITE_ID)) ? explode(",", $tmp) : array()),
			);

			$arQuantityRights = array(
				"SHOW_QUANTITY" => false,
				"SHOW_QUANTITY_COUNT" => false,
			);

			global $USER;
			$res = CUser::GetUserGroupList($USER->GetID());
			while ($arGroup = $res->Fetch()){
				if(in_array($arGroup["GROUP_ID"], $arQuantityOptions["SHOW_QUANTITY_FOR_GROUPS"])){
					$arQuantityRights["SHOW_QUANTITY"] = true;
				}
				if(in_array($arGroup["GROUP_ID"], $arQuantityOptions["SHOW_QUANTITY_COUNT_FOR_GROUPS"])){
					$arQuantityRights["SHOW_QUANTITY_COUNT"] = true;
				}
			}
		}

		$indicators = 0;
		$totalAmount = $totalText = $totalHTML = $totalHTMLs = '';

		if($arQuantityRights["SHOW_QUANTITY"]){
			if($totalCount > $arQuantityOptions["MAX_AMOUNT"]){
				$indicators = 3;
				$totalAmount = $arQuantityOptions["EXPRESSION_FOR_MAX"];
			}
			elseif($totalCount < $arQuantityOptions["MIN_AMOUNT"] && $totalCount > 0){
				$indicators = 1;
				$totalAmount = $arQuantityOptions["EXPRESSION_FOR_MIN"];
			}
			else{
				$indicators = 2;
				$totalAmount = $arQuantityOptions["EXPRESSION_FOR_MID"];
			}

			if($totalCount > 0){
				if($arQuantityRights["SHOW_QUANTITY_COUNT"]){
					$totalHTML = '<span class="first'.($indicators >= 1 ? ' r' : '').'"></span><span class="'.($indicators >= 2 ? ' r' : '').'"></span><span class="last'.($indicators >= 3 ? ' r' : '').'"></span>';
				}
				else{
					$totalHTML = '<span class="first r"></span>';
				}
			}
			else{
				$totalHTML = '<span class="null"></span>';
			}

			//$totalText = ($totalCount > 0 ? $arQuantityOptions["EXPRESSION_FOR_EXISTS"] : $arQuantityOptions["EXPRESSION_FOR_NOTEXISTS"]);
			if($totalCount > 0){
				$totalText = $arQuantityOptions["EXPRESSION_FOR_EXISTS"];
			}else{
				if($useStoreClick=="Y"){
					$totalText = "<span class='store_view'>".$arQuantityOptions["EXPRESSION_FOR_NOTEXISTS"]."</span>";
				}else{
					$totalText = $arQuantityOptions["EXPRESSION_FOR_NOTEXISTS"];
				}
			}

			if($arQuantityRights["SHOW_QUANTITY_COUNT"] && $totalCount > 0){
				if($arQuantityOptions["USE_WORD_EXPRESSION"] == "Y"){
					if(strlen($totalAmount)){
						if($useStoreClick=="Y"){
							$totalText = "<span class='store_view'>".$totalAmount."</span>";
						}else{
							$totalText = $totalAmount;
						}
					}
				}
				else{
					if($useStoreClick=="Y"){
						$totalText .= (strlen($totalText) ? " <span class='store_view'>(".$totalCount.")</span>" : "<span class='store_view'>".$totalCount."</span>");
					}else{
						$totalText .= (strlen($totalText) ? " (".$totalCount.")" : $totalCount);
					}
				}
			}
			$totalHTMLs ='<div class="item-stock" '.($arItemIDs["STORE_QUANTITY"] ? "id=".$arItemIDs["STORE_QUANTITY"] : "").'>';
			$totalHTMLs .= '<span class="icon '.$arClass[1].($totalCount > 0 ? 'stock' : ' order').'"></span><span class="value">'.$totalText.'</span>';
			$totalHTMLs .='</div>';
		}
		return array("OPTIONS" => $arQuantityOptions, "RIGHTS" => $arQuantityRights, "TEXT" => $totalText, "HTML" => $totalHTMLs);
	}

	function GetAvailiableStore($totalCount = 0, $arItemIDs=array(), $detail=false){
		static $arQuantityOptions;
		if($arQuantityOptions === NULL){
			$arQuantityOptions = array(
				"EXPRESSION_FOR_EXISTS" => COption::GetOptionString("aspro.optimus", "EXPRESSION_FOR_EXISTS", GetMessage("EXPRESSION_FOR_EXISTS_DEFAULT"), SITE_ID),
				"EXPRESSION_FOR_NOTEXISTS" => COption::GetOptionString("aspro.optimus", "EXPRESSION_FOR_NOTEXISTS", GetMessage("EXPRESSION_FOR_NOTEXISTS_DEFAULT"), SITE_ID),
			);
		}
		$totalHTML='<div class="item-stock" '.($arItemIDs["STORE_QUANTITY"] ? "id=".$arItemIDs["STORE_QUANTITY"] : "").'>';
		if($totalCount){
			$totalHTML.='<span class="icon stock"></span><span>'.$arQuantityOptions["EXPRESSION_FOR_EXISTS"];
			if($detail=="Y"){
				$totalHTML.='<span class="store_link"> ('.$totalCount.')</span>';
			}else{
				$totalHTML.=' ('.$totalCount.')';
			}
			$totalHTML.='</span>';
		}else{
			$totalHTML.='<span class="icon order"></span><span>'.$arQuantityOptions["EXPRESSION_FOR_NOTEXISTS"].'</span>';
		}
		$totalHTML.='</div>';

		return array( "OPTIONS" => $arQuantityOptions, "HTML" => $totalHTML );
	}

	function GetPropertyViewType($IBLOCK_ID){
		global $DB;
		$IBLOCK_ID = intval($IBLOCK_ID);
		$SECTION_ID=64;
		// $IBLOCK_ID = 15;
        $result = array();
		/*$rs = $DB->Query($s = "
			SELECT
				B.SECTION_PROPERTY,
				BP.ID PROPERTY_ID,
				BSP.SECTION_ID LINK_ID,
				BSP.SMART_FILTER,
				BSP.DISPLAY_TYPE,
				BSP.DISPLAY_EXPANDED,
				BSP.FILTER_HINT,
				BP.SORT,
				BP.PROPERTY_TYPE,
				BP.USER_TYPE
			FROM
				b_iblock B
				INNER JOIN b_iblock_property BP ON BP.IBLOCK_ID = B.ID
				INNER JOIN b_iblock_section_property BSP ON  BSP.PROPERTY_ID = BP.ID
			WHERE
				B.ID = ".$IBLOCK_ID."
			ORDER BY
				BP.SORT ASC, BP.ID ASC
		");*/
		$rs = $DB->Query($s = "
			SELECT
                    B.SECTION_PROPERTY,
                    BP.ID PROPERTY_ID,
                    BSP.SECTION_ID LINK_ID,
                    BSP.SMART_FILTER,
                    BSP.DISPLAY_TYPE,
                    BSP.DISPLAY_EXPANDED,
                    BSP.FILTER_HINT,
                    BP.SORT,
                    BS.LEFT_MARGIN,
                    BS.NAME LINK_TITLE,
                    BP.PROPERTY_TYPE,
                    BP.USER_TYPE
                FROM
                    b_iblock B
                    INNER JOIN b_iblock_property BP ON BP.IBLOCK_ID = B.ID
                    INNER JOIN b_iblock_section M ON M.ID = ".$SECTION_ID."
                    INNER JOIN b_iblock_section BS ON BS.IBLOCK_ID = M.IBLOCK_ID
                        AND M.LEFT_MARGIN >= BS.LEFT_MARGIN
                        AND M.RIGHT_MARGIN <= BS.RIGHT_MARGIN
                    INNER JOIN b_iblock_section_property BSP ON BSP.IBLOCK_ID = BS.IBLOCK_ID AND BSP.SECTION_ID = BS.ID AND BSP.PROPERTY_ID = BP.ID
                WHERE
                    B.ID = ".$IBLOCK_ID."
                ORDER BY
                    BP.SORT ASC, BP.ID ASC, BS.LEFT_MARGIN DESC
		");
		while ($ar = $rs->Fetch()){
			$result[$ar["PROPERTY_ID"]] = array(
				"PROPERTY_ID" => $ar["PROPERTY_ID"],
				"SMART_FILTER" => $ar["SMART_FILTER"],
				"DISPLAY_TYPE" => $ar["DISPLAY_TYPE"],
				"DISPLAY_EXPANDED" => $ar["DISPLAY_EXPANDED"],
				"FILTER_HINT" => $ar["FILTER_HINT"],
				"INHERITED_FROM" => $ar["LINK_ID"],
				"SORT" => $ar["SORT"],
				"PROPERTY_TYPE" => $ar["PROPERTY_TYPE"],
			);
		}
		return $result;
	}

	function GetSKUPropsArray(&$arSkuProps, $iblock_id=0, $type_view="list", $hide_title_props="N", $group_iblock_id="N"){
		$arSkuTemplate = array();
		$class_title=($hide_title_props=="Y" ? "hide_class" : "show_class");
		$class_title.=' bx_item_section_name';
		if($iblock_id){
			//$arPropsSku=COptimus::GetPropertyViewType($iblock_id);
			$arPropsSku=CIBlockSectionPropertyLink::GetArray($iblock_id, 64);
			if($arPropsSku){
				foreach ($arSkuProps as $key=>$arProp){
					if($arPropsSku[$arProp["ID"]]){
						$arSkuProps[$key]["DISPLAY_TYPE"]=$arPropsSku[$arProp["ID"]]["DISPLAY_TYPE"];
					}
				}
			}
		}?>

		<?

		if($group_iblock_id=="Y"){
			foreach ($arSkuProps as $iblockId => $skuProps){
				$arSkuTemplate[$iblockId] = array();
				foreach ($skuProps as $key=>&$arProp){
					$templateRow = '';
					if(($arProp["DISPLAY_TYPE"]=="P" || $arProp["DISPLAY_TYPE"]=="R" ) && $type_view!= 'block' ){
						$templateRow .= '<div class="bx_item_detail_size" id="#ITEM#_prop_'.$arProp['ID'].'_cont">'.
		'<span class="'.$class_title.'">'.htmlspecialcharsex($arProp['NAME']).'</span>'.
		'<div class="bx_size_scroller_container form-control bg"><div class="bx_size"><select id="#ITEM#_prop_'.$arProp['ID'].'_list">';
						foreach ($arProp['VALUES'] as $arOneValue){
							if($arOneValue['ID']>0){
								$arOneValue['NAME'] = htmlspecialcharsbx($arOneValue['NAME']);
								$templateRow .= '<option data-treevalue="'.$arProp['ID'].'_'.$arOneValue['ID'].'" data-showtype="select" data-onevalue="'.$arOneValue['ID'].'" ';
								if($arProp["DISPLAY_TYPE"]=="R"){
									$templateRow .= 'data-img_src="'.$arOneValue["PICT"]["SRC"].'" ';
								}
								$templateRow .= 'title="'.$arProp['NAME'].': '.$arOneValue['NAME'].'">';
								$templateRow .= '<span class="cnt">'.$arOneValue['NAME'].'</span>';
								$templateRow .= '</option>';
							}
						}
						$templateRow .= '</select></div>'.
		'</div></div>';
					}elseif ('TEXT' == $arProp['SHOW_MODE']){
						$templateRow .= '<div class="bx_item_detail_size" id="#ITEM#_prop_'.$arProp['ID'].'_cont">'.
		'<span class="'.$class_title.'">'.htmlspecialcharsex($arProp['NAME']).'</span>'.
		'<div class="bx_size_scroller_container"><div class="bx_size"><ul id="#ITEM#_prop_'.$arProp['ID'].'_list">';
						foreach ($arProp['VALUES'] as $arOneValue){
							$arOneValue['NAME'] = htmlspecialcharsbx($arOneValue['NAME']);
							$templateRow .= '<li data-treevalue="'.$arProp['ID'].'_'.$arOneValue['ID'].'" data-showtype="li" data-onevalue="'.$arOneValue['ID'].'" title="'.$arProp['NAME'].': '.$arOneValue['NAME'].'" style="display: none;"><i></i><span class="cnt">'.$arOneValue['NAME'].'</span></li>';
						}
						$templateRow .= '</ul></div>'.
		'</div></div>';
					}elseif ('PICT' == $arProp['SHOW_MODE']){
						$templateRow .= '<div class="bx_item_detail_scu" id="#ITEM#_prop_'.$arProp['ID'].'_cont">'.
		'<span class="'.$class_title.'">'.htmlspecialcharsex($arProp['NAME']).'</span>'.
		'<div class="bx_scu_scroller_container"><div class="bx_scu"><ul id="#ITEM#_prop_'.$arProp['ID'].'_list">';
						foreach ($arProp['VALUES'] as $arOneValue){
							$arOneValue['NAME'] = htmlspecialcharsbx($arOneValue['NAME']);
							$templateRow .= '<li data-treevalue="'.$arProp['ID'].'_'.$arOneValue['ID'].'" data-showtype="li" data-onevalue="'.$arOneValue['ID'].'" style="display: none;"><i title="'.$arProp['NAME'].': '.$arOneValue['NAME'].'"></i>'.
		'<span class="cnt1"><span class="cnt_item" style="background-image:url(\''.$arOneValue['PICT']['SRC'].'\');" title="'.$arProp['NAME'].': '.$arOneValue['NAME'].'"></span></span></li>';
						}
						$templateRow .= '</ul></div>'.
		'</div></div>';
					}
					$arSkuTemplate[$iblockId][$arProp['CODE']] = $templateRow;
				}
			}
		}else{

			foreach ($arSkuProps as $key=>&$arProp){
				$templateRow = '';
				if(($arProp["DISPLAY_TYPE"]=="P" || $arProp["DISPLAY_TYPE"]=="R" ) && $type_view!= 'block' ){
					$templateRow .= '<div class="bx_item_detail_size" id="#ITEM#_prop_'.$arProp['ID'].'_cont">'.
	'<span class="'.$class_title.'">'.htmlspecialcharsex($arProp['NAME']).'</span>'.
	'<div class="bx_size_scroller_container form-control bg"><div class="bx_size"><select id="#ITEM#_prop_'.$arProp['ID'].'_list">';
					foreach ($arProp['VALUES'] as $arOneValue){
						if($arOneValue['ID']>0){
							$arOneValue['NAME'] = htmlspecialcharsbx($arOneValue['NAME']);
							$templateRow .= '<option data-treevalue="'.$arProp['ID'].'_'.$arOneValue['ID'].'" data-showtype="select" data-onevalue="'.$arOneValue['ID'].'" ';
							if($arProp["DISPLAY_TYPE"]=="R"){
								$templateRow .= 'data-img_src="'.$arOneValue["PICT"]["SRC"].'" ';
							}
							$templateRow .= 'title="'.$arProp['NAME'].': '.$arOneValue['NAME'].'">';
							$templateRow .= '<span class="cnt">'.$arOneValue['NAME'].'</span>';
							$templateRow .= '</option>';
						}
					}
					$templateRow .= '</select></div>'.
	'</div></div>';
				}elseif ('TEXT' == $arProp['SHOW_MODE']){
					$templateRow .= '<div class="bx_item_detail_size" id="#ITEM#_prop_'.$arProp['ID'].'_cont">'.
	'<span class="'.$class_title.'">'.htmlspecialcharsex($arProp['NAME']).'</span>'.
	'<div class="bx_size_scroller_container"><div class="bx_size"><ul id="#ITEM#_prop_'.$arProp['ID'].'_list">';
					foreach ($arProp['VALUES'] as $arOneValue){
						$arOneValue['NAME'] = htmlspecialcharsbx($arOneValue['NAME']);
						$templateRow .= '<li data-treevalue="'.$arProp['ID'].'_'.$arOneValue['ID'].'" data-showtype="li" data-onevalue="'.$arOneValue['ID'].'" title="'.$arProp['NAME'].': '.$arOneValue['NAME'].'" style="display: none;"><i></i><span class="cnt">'.$arOneValue['NAME'].'</span></li>';
					}
					$templateRow .= '</ul></div>'.
	'</div></div>';
				}elseif ('PICT' == $arProp['SHOW_MODE']){
					$templateRow .= '<div class="bx_item_detail_scu" id="#ITEM#_prop_'.$arProp['ID'].'_cont">'.
	'<span class="'.$class_title.'">'.htmlspecialcharsex($arProp['NAME']).'</span>'.
	'<div class="bx_scu_scroller_container"><div class="bx_scu"><ul id="#ITEM#_prop_'.$arProp['ID'].'_list">';
					foreach ($arProp['VALUES'] as $arOneValue){
						$arOneValue['NAME'] = htmlspecialcharsbx($arOneValue['NAME']);
						$templateRow .= '<li data-treevalue="'.$arProp['ID'].'_'.$arOneValue['ID'].'" data-showtype="li" data-onevalue="'.$arOneValue['ID'].'" style="display: none;"><i title="'.$arProp['NAME'].': '.$arOneValue['NAME'].'"></i>'.
	'<span class="cnt1"><span class="cnt_item" style="background-image:url(\''.$arOneValue['PICT']['SRC'].'\');" title="'.$arProp['NAME'].': '.$arOneValue['NAME'].'"></span></span></li>';
					}
					$templateRow .= '</ul></div>'.
	'</div></div>';
				}
				$arSkuTemplate[$arProp['CODE']] = $templateRow;
			}
		}
		unset($templateRow, $arProp);
		return $arSkuTemplate;
	}

	function GetItemsIDs($arItem, $detail="N"){
		$arAllIDs=array();
		$arAllIDs["strMainID"] = $arItem['strMainID'];
		$arAllIDs["strObName"] = 'ob'.preg_replace("/[^a-zA-Z0-9_]/", "x", $arAllIDs["strMainID"]);

		if($detail=="Y"){
			$arAllIDs["ALL_ITEM_IDS"] = array(
				'ID' => $arAllIDs["strMainID"],
				'PICT' => $arAllIDs["strMainID"].'_pict',
				'DISCOUNT_PICT_ID' => $arAllIDs["strMainID"].'_dsc_pict',
				'STICKER_ID' => $arAllIDs["strMainID"].'_sticker',
				'BIG_SLIDER_ID' => $arAllIDs["strMainID"].'_big_slider',
				'BIG_IMG_CONT_ID' => $arAllIDs["strMainID"].'_bigimg_cont',
				'SLIDER_CONT_ID' => $arAllIDs["strMainID"].'_slider_cont',
				'SLIDER_LIST' => $arAllIDs["strMainID"].'_slider_list',
				'SLIDER_LEFT' => $arAllIDs["strMainID"].'_slider_left',
				'SLIDER_RIGHT' => $arAllIDs["strMainID"].'_slider_right',
				'OLD_PRICE' => $arAllIDs["strMainID"].'_old_price',
				'PRICE' => $arAllIDs["strMainID"].'_price',
				'DISCOUNT_PRICE' => $arAllIDs["strMainID"].'_price_discount',
				'SLIDER_CONT_OF_ID' => $arAllIDs["strMainID"].'_slider_cont_',
				'SLIDER_LIST_OF_ID' => $arAllIDs["strMainID"].'_slider_list_',
				'SLIDER_LEFT_OF_ID' => $arAllIDs["strMainID"].'_slider_left_',
				'SLIDER_RIGHT_OF_ID' => $arAllIDs["strMainID"].'_slider_right_',
				'SLIDER_CONT_OFM_ID' => $arAllIDs["strMainID"].'_sliderm_cont_',
				'SLIDER_LIST_OFM_ID' => $arAllIDs["strMainID"].'_sliderm_list_',
				'SLIDER_LEFT_OFM_ID' => $arAllIDs["strMainID"].'_sliderm_left_',
				'SLIDER_RIGHT_OFM_ID' => $arAllIDs["strMainID"].'_sliderm_right_',
				'QUANTITY' => $arAllIDs["strMainID"].'_quantity',
				'QUANTITY_DOWN' => $arAllIDs["strMainID"].'_quant_down',
				'QUANTITY_UP' => $arAllIDs["strMainID"].'_quant_up',
				'QUANTITY_MEASURE' => $arAllIDs["strMainID"].'_quant_measure',
				'QUANTITY_LIMIT' => $arAllIDs["strMainID"].'_quant_limit',
				'BASIS_PRICE' => $arAllIDs["strMainID"].'_basis_price',
				'BUY_LINK' => $arAllIDs["strMainID"].'_buy_link',
				'BASKET_LINK' => $arAllIDs["strMainID"].'_basket_link',
				'ADD_BASKET_LINK' => $arAllIDs["strMainID"].'_add_basket_link',
				'BASKET_ACTIONS' => $arAllIDs["strMainID"].'_basket_actions',
				'NOT_AVAILABLE_MESS' => $arAllIDs["strMainID"].'_not_avail',
				'COMPARE_LINK' => $arAllIDs["strMainID"].'_compare_link',
				'PROP' => $arAllIDs["strMainID"].'_prop_',
				'PROP_DIV' => $arAllIDs["strMainID"].'_skudiv',
				'DISPLAY_PROP_DIV' => $arAllIDs["strMainID"].'_sku_prop',
				'DISPLAY_PROP_ARTICLE_DIV' => $arAllIDs["strMainID"].'_sku_article_prop',
				'OFFER_GROUP' => $arAllIDs["strMainID"].'_set_group_',
				'BASKET_PROP_DIV' => $arAllIDs["strMainID"].'_basket_prop',
				'SUBSCRIBE_DIV' => $arAllIDs["strMainID"].'_subscribe_div',
				'SUBSCRIBED_DIV' => $arAllIDs["strMainID"].'_subscribed_div',
				'STORE_QUANTITY' => $arAllIDs["strMainID"].'_store_quantity',
			);
		}else{
			$arAllIDs["ALL_ITEM_IDS"] = array(
				'ID' => $arAllIDs["strMainID"],
				'PICT' => $arAllIDs["strMainID"].'_pict',
				'SECOND_PICT' => $arAllIDs["strMainID"].'_secondpict',
				'STICKER_ID' => $arAllIDs["strMainID"].'_sticker',
				'SECOND_STICKER_ID' => $arAllIDs["strMainID"].'_secondsticker',
				'QUANTITY' => $arAllIDs["strMainID"].'_quantity',
				'QUANTITY_DOWN' => $arAllIDs["strMainID"].'_quant_down',
				'QUANTITY_UP' => $arAllIDs["strMainID"].'_quant_up',
				'QUANTITY_MEASURE' => $arAllIDs["strMainID"].'_quant_measure',
				'BUY_LINK' => $arAllIDs["strMainID"].'_buy_link',
				'BASKET_LINK' => $arAllIDs["strMainID"].'_basket_link',
				'BASKET_ACTIONS' => $arAllIDs["strMainID"].'_basket_actions',
				'NOT_AVAILABLE_MESS' => $arAllIDs["strMainID"].'_not_avail',
				'SUBSCRIBE_LINK' => $arAllIDs["strMainID"].'_subscribe',
				'COMPARE_LINK' => $arAllIDs["strMainID"].'_compare_link',
				'STORE_QUANTITY' => $arAllIDs["strMainID"].'_store_quantity',
				'PRICE' => $arAllIDs["strMainID"].'_price',
				'PRICE_OLD' => $arAllIDs["strMainID"].'_price_old',
				'DSC_PERC' => $arAllIDs["strMainID"].'_dsc_perc',
				'SECOND_DSC_PERC' => $arAllIDs["strMainID"].'_second_dsc_perc',
				'PROP_DIV' => $arAllIDs["strMainID"].'_sku_tree',
				'PROP' => $arAllIDs["strMainID"].'_prop_',
				'DISPLAY_PROP_DIV' => $arAllIDs["strMainID"].'_sku_prop',
				'BASKET_PROP_DIV' => $arAllIDs["strMainID"].'_basket_prop',
				'SUBSCRIBE_DIV' => $arAllIDs["strMainID"].'subscribe_div',
				'SUBSCRIBED_DIV' => $arAllIDs["strMainID"].'subscribed_div',
			);
		}

		$arAllIDs["TITLE_ITEM"] = (
			isset($arItem['IPROPERTY_VALUES']['ELEMENT_PAGE_TITLE'])&& $arItem['IPROPERTY_VALUES']['ELEMENT_PAGE_TITLE'] != ''
			? $arItem['IPROPERTY_VALUES']['ELEMENT_PAGE_TITLE']
			: $arItem['NAME']
		);
		return $arAllIDs;
	}

	function GetSKUJSParams($arResult, $arParams, $arItem, $detail="N", $group_iblock_id="N"){
		$arSkuProps = array();

		if($group_iblock_id=="Y"){
			$arResult['SKU_PROPS']=reset($arResult['SKU_PROPS']);
		}

		foreach ($arResult['SKU_PROPS'] as $arOneProp){
			if (!isset($arItem['OFFERS_PROP'][$arOneProp['CODE']]))
				continue;
			$arSkuProps[] = array(
				'ID' => $arOneProp['ID'],
				'SHOW_MODE' => $arOneProp['SHOW_MODE'],
				'VALUES_COUNT' => $arOneProp['VALUES_COUNT'],
				'DISPLAY_TYPE' => ((($arOneProp['DISPLAY_TYPE'] == "P" || $arOneProp['DISPLAY_TYPE'] == "R") && $arParams["DISPLAY_TYPE"] != 'block' ) ? "SELECT" : "LI" ),
			);
		}

		foreach ($arItem['JS_OFFERS'] as &$arOneJs){
			if (0 < $arOneJs['PRICE']['DISCOUNT_DIFF_PERCENT'])
			{
				$arOneJs['PRICE']['DISCOUNT_DIFF_PERCENT'] = '-'.$arOneJs['PRICE']['DISCOUNT_DIFF_PERCENT'].'%';
				$arOneJs['BASIS_PRICE']['DISCOUNT_DIFF_PERCENT'] = '-'.$arOneJs['BASIS_PRICE']['DISCOUNT_DIFF_PERCENT'].'%';
			}
		}
		unset($arOneJs);
		if ($arItem['OFFERS_PROPS_DISPLAY']){
			foreach ($arItem['JS_OFFERS'] as $keyOffer => $arJSOffer){
				$strProps = '';
				$arArticle=array();
				if (!empty($arJSOffer['DISPLAY_PROPERTIES'])){
					foreach ($arJSOffer['DISPLAY_PROPERTIES'] as $arOneProp){
						if($arOneProp['CODE']=='ARTICLE'){
							$arArticle=$arOneProp;
							continue;
						}
						$strProps .= '<tr><td><span>'.$arOneProp['NAME'].'</span></td><td><span>'.(
							is_array($arOneProp['VALUE'])
							? implode(' / ', $arOneProp['VALUE'])
							: $arOneProp['VALUE']
						).'</span></td></tr>';

					}
				}
				if($arArticle){
					$strArticle = '';
					$strArticle .= $arArticle['NAME'].': '.(
							is_array($arArticle['VALUE'])
							? implode(' / ', $arArticle['VALUE'])
							: $arArticle['VALUE']
						);

					$arItem['JS_OFFERS'][$keyOffer]['ARTICLE'] = $strArticle;
				}

				$arItem['JS_OFFERS'][$keyOffer]['DISPLAY_PROPERTIES'] = $strProps;

			}
		}
		if ($arItem['SHOW_OFFERS_PROPS']){
			foreach ($arItem['JS_OFFERS'] as $keyOffer => $arJSOffer){
				$strProps = '';
				if (!empty($arJSOffer['DISPLAY_PROPERTIES'])){
					foreach ($arJSOffer['DISPLAY_PROPERTIES'] as $arOneProp){
						if($arOneProp['VALUE']){
							$arOneProp['VALUE_FORMAT']='<span class="block_title">'.$arOneProp['NAME'].': </span><span class="value">'.$arOneProp['VALUE'].'</span>';
							if($arOneProp['CODE']!='ARTICLE'){
								$strProps .='<tr><td class="char_name"><span>'.$arOneProp['NAME'].'</span></td><td class="char_value"><span>'.$arOneProp['VALUE'].'</span></td></tr>';
							}
						}
						$arItem['JS_OFFERS'][$keyOffer]['DISPLAY_PROPERTIES_CODE'][$arOneProp["CODE"]] = $arOneProp;
					}
				}
				$arItem['JS_OFFERS'][$keyOffer]['TABLE_PROP']=$strProps;
			}
		}
		$arItemIDs=self::GetItemsIDs($arItem);
		if($detail=="Y"){
			$arJSParams = array(
				'CONFIG' => array(
					'USE_CATALOG' => $arResult['CATALOG'],
					'SHOW_QUANTITY' => $arParams['USE_PRODUCT_QUANTITY'],
					'SHOW_PRICE' => true,
					'SHOW_DISCOUNT_PERCENT' => ($arParams['SHOW_DISCOUNT_PERCENT'] == 'Y'),
					'SHOW_OLD_PRICE' => ($arParams['SHOW_OLD_PRICE'] == 'Y'),
					'DISPLAY_COMPARE' => $arParams['DISPLAY_COMPARE'],
					'SHOW_SKU_PROPS' => $arItem['SHOW_OFFERS_PROPS'],
					'OFFER_GROUP' => $arItem['OFFER_GROUP'],
					'MAIN_PICTURE_MODE' => $arParams['DETAIL_PICTURE_MODE'],
					'SHOW_BASIS_PRICE' => ($arParams['SHOW_BASIS_PRICE'] == 'Y'),
					'ADD_TO_BASKET_ACTION' => $arParams['ADD_TO_BASKET_ACTION'],
					'SHOW_CLOSE_POPUP' => ($arParams['SHOW_CLOSE_POPUP'] == 'Y')
				),
				'PRODUCT_TYPE' => $arResult['CATALOG_TYPE'],
				'VISUAL' => array(
					'ID' => $arItemIDs["ALL_ITEM_IDS"]['ID'],
				),
				'DEFAULT_COUNT' => $arParams['DEFAULT_COUNT'],
				'DEFAULT_PICTURE' => array(
					'PREVIEW_PICTURE' => $arResult['DEFAULT_PICTURE'],
					'DETAIL_PICTURE' => $arResult['DEFAULT_PICTURE']
				),
				'STORE_QUANTITY' => $arItemIDs["ALL_ITEM_IDS"]['STORE_QUANTITY'],
				'PRODUCT' => array(
					'ID' => $arResult['ID'],
					'NAME' => $arResult['~NAME']
				),
				'BASKET' => array(
					'QUANTITY' => $arParams['PRODUCT_QUANTITY_VARIABLE'],
					'BASKET_URL' => $arParams['BASKET_URL'],
					'SKU_PROPS' => $arItem['OFFERS_PROP_CODES'],
					'ADD_URL_TEMPLATE' => $arResult['~ADD_URL_TEMPLATE'],
					'BUY_URL_TEMPLATE' => $arResult['~BUY_URL_TEMPLATE']
				),
				'OFFERS' => $arItem['JS_OFFERS'],
				'OFFER_SELECTED' => $arItem['OFFERS_SELECTED'],
				'TREE_PROPS' => $arSkuProps
			);
		}else{
			$arJSParams = array(
				'PRODUCT_TYPE' => $arItem['CATALOG_TYPE'],
				'SHOW_QUANTITY' => ($arParams['USE_PRODUCT_QUANTITY'] == 'Y'),
				'DEFAULT_COUNT' => $arParams['DEFAULT_COUNT'],
				'SHOW_ADD_BASKET_BTN' => false,
				'SHOW_BUY_BTN' => true,
				'SHOW_ABSENT' => true,
				'SHOW_SKU_PROPS' => $arItem['OFFERS_PROPS_DISPLAY'],
				'SECOND_PICT' => $arItem['SECOND_PICT'],
				'SHOW_OLD_PRICE' => ('Y' == $arParams['SHOW_OLD_PRICE']),
				'SHOW_DISCOUNT_PERCENT' => ('Y' == $arParams['SHOW_DISCOUNT_PERCENT']),
				'ADD_TO_BASKET_ACTION' => $arParams['ADD_TO_BASKET_ACTION'],
				'SHOW_CLOSE_POPUP' => ($arParams['SHOW_CLOSE_POPUP'] == 'Y'),
				'DISPLAY_COMPARE' => $arParams['DISPLAY_COMPARE'],
				'BASKET_URL' => $arParams['BASKET_URL'],
				'DEFAULT_PICTURE' => array(
					'PICTURE' => $arItem['PRODUCT_PREVIEW'],
					'PICTURE_SECOND' => $arItem['PRODUCT_PREVIEW_SECOND']
				),
				'VISUAL' => array(
					'ID' => $arItemIDs["ALL_ITEM_IDS"]['ID'],
					'PICT_ID' => $arItemIDs["ALL_ITEM_IDS"]['PICT'],
					'SECOND_PICT_ID' => $arItemIDs["ALL_ITEM_IDS"]['SECOND_PICT'],
					'QUANTITY_ID' => $arItemIDs["ALL_ITEM_IDS"]['QUANTITY'],
					'QUANTITY_UP_ID' => $arItemIDs["ALL_ITEM_IDS"]['QUANTITY_UP'],
					'QUANTITY_DOWN_ID' => $arItemIDs["ALL_ITEM_IDS"]['QUANTITY_DOWN'],
					'QUANTITY_MEASURE' => $arItemIDs["ALL_ITEM_IDS"]['QUANTITY_MEASURE'],
					'STORE_QUANTITY' => $arItemIDs["ALL_ITEM_IDS"]['STORE_QUANTITY'],
					'PRICE_ID' => $arItemIDs["ALL_ITEM_IDS"]['PRICE'],
					'PRICE_OLD_ID' => $arItemIDs["ALL_ITEM_IDS"]['PRICE_OLD'],
					'TREE_ID' => $arItemIDs["ALL_ITEM_IDS"]['PROP_DIV'],
					'TREE_ITEM_ID' => $arItemIDs["ALL_ITEM_IDS"]['PROP'],
					'BUY_ID' => $arItemIDs["ALL_ITEM_IDS"]['BUY_LINK'],
					'BASKET_LINK' => $arItemIDs["ALL_ITEM_IDS"]['BASKET_LINK'],
					'ADD_BASKET_ID' => $arItemIDs["ALL_ITEM_IDS"]['ADD_BASKET_ID'],
					'DSC_PERC' => $arItemIDs["ALL_ITEM_IDS"]['DSC_PERC'],
					'SECOND_DSC_PERC' => $arItemIDs["ALL_ITEM_IDS"]['SECOND_DSC_PERC'],
					'DISPLAY_PROP_DIV' => $arItemIDs["ALL_ITEM_IDS"]['DISPLAY_PROP_DIV'],
					'BASKET_ACTIONS_ID' => $arItemIDs["ALL_ITEM_IDS"]['BASKET_ACTIONS'],
					'NOT_AVAILABLE_MESS' => $arItemIDs["ALL_ITEM_IDS"]['NOT_AVAILABLE_MESS'],
					'COMPARE_LINK_ID' => $arItemIDs["ALL_ITEM_IDS"]['COMPARE_LINK'],
					'SUBSCRIBE_ID' => $arItemIDs["ALL_ITEM_IDS"]['SUBSCRIBE_DIV'],
					'SUBSCRIBED_ID' => $arItemIDs["ALL_ITEM_IDS"]['SUBSCRIBED_DIV'],
				),
				'BASKET' => array(
					'QUANTITY' => $arParams['PRODUCT_QUANTITY_VARIABLE'],
					'PROPS' => $arParams['PRODUCT_PROPS_VARIABLE'],
					'SKU_PROPS' => $arItem['OFFERS_PROP_CODES'],
					'ADD_URL_TEMPLATE' => $arResult['~ADD_URL_TEMPLATE'],
					'BUY_URL_TEMPLATE' => $arResult['~BUY_URL_TEMPLATE']
				),
				'PRODUCT' => array(
					'ID' => $arItem['ID'],
					'NAME' => $arItemIDs["TITLE_ITEM"]
				),
				'OFFERS' => $arItem['JS_OFFERS'],
				'OFFER_SELECTED' => $arItem['OFFERS_SELECTED'],
				'TREE_PROPS' => $arSkuProps,
				'LAST_ELEMENT' => $arItem['LAST_ELEMENT']
			);
		}
		if ($arParams['DISPLAY_COMPARE']){
			$arJSParams['COMPARE'] = array(
				'COMPARE_URL_TEMPLATE' => $arResult['~COMPARE_URL_TEMPLATE'],
				'COMPARE_URL_TEMPLATE_DEL' => str_replace("ADD_TO_COMPARE_LIST", "DELETE_FROM_COMPARE_LIST", $arResult['~COMPARE_URL_TEMPLATE']),
				'COMPARE_PATH' => $arParams['COMPARE_PATH']
			);
		}
		return $arJSParams;
	}

	function GetAddToBasketArray(&$arItem, $totalCount = 0, $defaultCount = 1, $basketUrl = '', $bDetail = false, $arItemIDs = array(), $class_btn = "small", $arParams=array()){
		static $arAddToBasketOptions, $bUserAuthorized;
		if($arAddToBasketOptions === NULL){
			$arAddToBasketOptions = array(
				"SHOW_BASKET_ONADDTOCART" => COption::GetOptionString("aspro.optimus", "SHOW_BASKET_ONADDTOCART", "Y", SITE_ID) == "Y",
				"USE_PRODUCT_QUANTITY_LIST" => COption::GetOptionString("aspro.optimus", "USE_PRODUCT_QUANTITY_LIST", "Y", SITE_ID) == "Y",
				"USE_PRODUCT_QUANTITY_DETAIL" => COption::GetOptionString("aspro.optimus", "USE_PRODUCT_QUANTITY_DETAIL", "Y", SITE_ID) == "Y",
				"BUYNOPRICEGGOODS" => COption::GetOptionString("aspro.optimus", "BUYNOPRICEGGOODS", "NOTHING", SITE_ID),
				"BUYMISSINGGOODS" => COption::GetOptionString("aspro.optimus", "BUYMISSINGGOODS", "ADD", SITE_ID),
				"EXPRESSION_ORDER_BUTTON" => COption::GetOptionString("aspro.optimus", "EXPRESSION_ORDER_BUTTON", GetMessage("EXPRESSION_ORDER_BUTTON_DEFAULT"), SITE_ID),
				"EXPRESSION_ORDER_TEXT" => COption::GetOptionString("aspro.optimus", "EXPRESSION_ORDER_TEXT", GetMessage("EXPRESSION_ORDER_TEXT_DEFAULT"), SITE_ID),
				"EXPRESSION_SUBSCRIBE_BUTTON" => COption::GetOptionString("aspro.optimus", "EXPRESSION_SUBSCRIBE_BUTTON", GetMessage("EXPRESSION_SUBSCRIBE_BUTTON_DEFAULT"), SITE_ID),
				"EXPRESSION_SUBSCRIBED_BUTTON" => COption::GetOptionString("aspro.optimus", "EXPRESSION_SUBSCRIBED_BUTTON", GetMessage("EXPRESSION_SUBSCRIBED_BUTTON_DEFAULT"), SITE_ID),
			);

			global $USER;
			$bUserAuthorized = $USER->IsAuthorized();
		}

		$buttonText = $buttonHTML = $buttonACTION = '';
		$quantity=$ratio=1;
		$max_quantity=0;
		$float_ratio=is_double($arItem["CATALOG_MEASURE_RATIO"]);

		if($arItem["CATALOG_MEASURE_RATIO"]){
			$quantity=$arItem["CATALOG_MEASURE_RATIO"];
			$ratio=$arItem["CATALOG_MEASURE_RATIO"];
		}else{
			$quantity=$defaultCount;
		}
		if($arItem["CATALOG_QUANTITY_TRACE"]=="Y"){
			if($totalCount < $quantity){
				$quantity=($totalCount>$arItem["CATALOG_MEASURE_RATIO"] ? $totalCount : $arItem["CATALOG_MEASURE_RATIO"] );
			}
			$max_quantity=$totalCount;
		}

		$arItemProps = (($arParams['PRODUCT_PROPERTIES']) ? implode(';', $arParams['PRODUCT_PROPERTIES']) : "");
		$partProp=($arParams["PARTIAL_PRODUCT_PROPERTIES"] ? $arParams["PARTIAL_PRODUCT_PROPERTIES"] : "" );
		$addProp=($arParams["ADD_PROPERTIES_TO_BASKET"] ? $arParams["ADD_PROPERTIES_TO_BASKET"] : "" );
		$emptyProp=$arItem["EMPTY_PROPS_JS"];

		global $TEMPLATE_OPTIONS;
		if($arItem["OFFERS"]){
			if(!$bDetail && $arItem["OFFERS_MORE"] != "Y" && $TEMPLATE_OPTIONS["TYPE_SKU"]["CURRENT_VALUE"] != "TYPE_2"){
				$buttonACTION = 'ADD';
				$buttonText = array(GetMessage('EXPRESSION_ADDTOBASKET_BUTTON_DEFAULT'), GetMessage('EXPRESSION_ADDEDTOBASKET_BUTTON_DEFAULT'));
				$buttonHTML = '<span class="button transition_bg '.$class_btn.' read_more1 to-cart" id="'.$arItemIDs['BUY_LINK'].'" data-offers="N" data-iblockID="'.$arItem["IBLOCK_ID"].'" data-item="'.$arItem["ID"].'"><i></i><span>'.$buttonText[0].'</span></span><a rel="nofollow" href="'.$basketUrl.'" id="'.$arItemIDs['BASKET_LINK'].'" class="'.$class_btn.' in-cart button transition_bg" data-item="'.$arItem["ID"].'"  style="display:none;"><i></i><span>'.$buttonText[1].'</span></a>';
			}
			elseif(($bDetail && $arItem["FRONT_CATALOG"] == "Y") || $arItem["OFFERS_MORE"]=="Y" || $TEMPLATE_OPTIONS["TYPE_SKU"]["CURRENT_VALUE"] == "TYPE_2"){
				$buttonACTION = 'MORE';
				$buttonText = array(GetMessage('EXPRESSION_READ_MORE_OFFERS_DEFAULT'));
				$buttonHTML = '<a class="button transition_bg basket read_more" rel="nofollow" href="'.$arItem["DETAIL_PAGE_URL"].'" data-item="'.$arItem["ID"].'">'.$buttonText[0].'</a>';
			}
		}
		else{
			if($bPriceExists = isset($arItem["MIN_PRICE"]) && $arItem["MIN_PRICE"]["VALUE"] > 0){
				// price exists
				if($totalCount > 0){
					// rest exists
					if((isset($arItem["CAN_BUY"]) && $arItem["CAN_BUY"]) || (isset($arItem["MIN_PRICE"]) && $arItem["MIN_PRICE"]["CAN_BUY"] == "Y")){
						if($bDetail && $arItem["FRONT_CATALOG"] == "Y"){
							$buttonACTION = 'MORE';
							$buttonText = array(GetMessage('EXPRESSION_READ_MORE_OFFERS_DEFAULT'));
							$rid=($arItem["RID"] ? "?RID=".$arItem["RID"] : "");
							$buttonHTML = '<a class="button transition_bg basket read_more" rel="nofollow" href="'.$arItem["DETAIL_PAGE_URL"].$rid.'" data-item="'.$arItem["ID"].'">'.$buttonText[0].'</a>';
						}
						else{

							$arItem["CAN_BUY"] = 1;
							$buttonACTION = 'ADD';
							$buttonText = array(GetMessage('EXPRESSION_ADDTOBASKET_BUTTON_DEFAULT'), GetMessage('EXPRESSION_ADDEDTOBASKET_BUTTON_DEFAULT'));
							$buttonHTML = '<span class="'.$class_btn.' to-cart button transition_bg" data-item="'.$arItem["ID"].'" data-float_ratio="'.$float_ratio.'" data-ratio="'.$ratio.'" data-bakset_div="bx_basket_div_'.$arItem["ID"].'" data-props="'.$arItemProps.'" data-part_props="'.$partProp.'" data-add_props="'.$addProp.'"  data-empty_props="'.$emptyProp.'" data-offers="'.$arItem["IS_OFFER"].'" data-iblockID="'.$arItem["IBLOCK_ID"].'"  data-quantity="'.$quantity.'"><i></i><span>'.$buttonText[0].'</span></span><a rel="nofollow" href="'.$basketUrl.'" class="'.$class_btn.' in-cart button transition_bg" data-item="'.$arItem["ID"].'"  style="display:none;"><i></i><span>'.$buttonText[1].'</span></a>';
						}
					}
					elseif($arItem["CATALOG_SUBSCRIBE"] == "Y"){
						$buttonACTION = 'SUBSCRIBE';
						$buttonText = array($arAddToBasketOptions['EXPRESSION_SUBSCRIBE_BUTTON'], $arAddToBasketOptions['EXPRESSION_SUBSCRIBED_BUTTON']);
						$buttonHTML = '<span class="'.$class_btn.' ss to-subscribe'.(!$bUserAuthorized ? ' auth' : '').' button transition_bg" rel="nofollow" href="'.$arItem["SUBSCRIBE_URL"].'" data-item="'.$arItem["ID"].'"  alt="'.$arItem["NAME"].'"><i></i><span>'.$buttonText[0].'</span></span><span class="'.$class_btn.' ss in-subscribe button transition_bg" rel="nofollow" style="display:none;" data-item="'.$arItem["ID"].'" alt="'.$arItem["NAME"].'"><i></i><span>'.$buttonText[1].'</span></span>';
					}
				}
				else{
					if(!strlen($arAddToBasketOptions['EXPRESSION_ORDER_BUTTON'])){
						$arAddToBasketOptions['EXPRESSION_ORDER_BUTTON']=GetMessage("EXPRESSION_ORDER_BUTTON_DEFAULT");
					}
					// no rest
					if($bDetail && $arItem["FRONT_CATALOG"] == "Y"){
						$buttonACTION = 'MORE';
						$buttonText = array(GetMessage('EXPRESSION_READ_MORE_OFFERS_DEFAULT'));
						$rid=($arItem["RID"] ? "?RID=".$arItem["RID"] : "");
						$buttonHTML = '<a class="button transition_bg basket read_more" rel="nofollow" href="'.$arItem["DETAIL_PAGE_URL"].$rid.'" data-item="'.$arItem["ID"].'">'.$buttonText[0].'</a>';
					}
					else{
						$buttonACTION = $arAddToBasketOptions["BUYMISSINGGOODS"];
						if($arAddToBasketOptions["BUYMISSINGGOODS"] == "ADD" /*|| $arItem["CAN_BUY"]*/){
							if($arItem["CAN_BUY"]){
								$buttonText = array(GetMessage('EXPRESSION_ADDTOBASKET_BUTTON_DEFAULT'), GetMessage('EXPRESSION_ADDEDTOBASKET_BUTTON_DEFAULT'));
								$buttonHTML = '<span class="'.$class_btn.' to-cart button transition_bg" data-item="'.$arItem["ID"].'" data-float_ratio="'.$float_ratio.'" data-ratio="'.$ratio.'" data-bakset_div="bx_basket_div_'.$arItem["ID"].'" data-props="'.$arItemProps.'" data-part_props="'.$partProp.'" data-add_props="'.$addProp.'"  data-empty_props="'.$emptyProp.'" data-offers="'.$arItem["IS_OFFER"].'" data-iblockID="'.$arItem["IBLOCK_ID"].'" data-quantity="'.$quantity.'"><i></i><span>'.$buttonText[0].'</span></span><a rel="nofollow" href="'.$basketUrl.'" class="'.$class_btn.' in-cart button transition_bg" data-item="'.$arItem["ID"].'"  style="display:none;"><i></i><span>'.$buttonText[1].'</span></a>';
							}else{
								if($arAddToBasketOptions["BUYMISSINGGOODS"] == "SUBSCRIBE" && $arItem["CATALOG_SUBSCRIBE"] == "Y"){
									$buttonText = array($arAddToBasketOptions['EXPRESSION_SUBSCRIBE_BUTTON'], $arAddToBasketOptions['EXPRESSION_SUBSCRIBED_BUTTON']);
									$buttonHTML = '<span class="'.$class_btn.' ss to-subscribe'.(!$bUserAuthorized ? ' auth' : '').' button transition_bg" rel="nofollow" href="'.$arItem["SUBSCRIBE_URL"].'" data-item="'.$arItem["ID"].'"  alt="'.$arItem["NAME"].'"><i></i><span>'.$buttonText[0].'</span></span><span class="'.$class_btn.' ss in-subscribe button transition_bg" rel="nofollow" style="display:none;" data-item="'.$arItem["ID"].'" alt="'.$arItem["NAME"].'"><i></i><span>'.$buttonText[1].'</span></span>';
								}else{
									$buttonText = array($arAddToBasketOptions['EXPRESSION_ORDER_BUTTON']);
									$buttonHTML = '<span class="'.$class_btn.' to-order button transition_bg transparent" data-name="'.$arItem["NAME"].'" data-item="'.$arItem["ID"].'"><i></i><span>'.$buttonText[0].'</span></span>';
									if($arAddToBasketOptions['EXPRESSION_ORDER_TEXT']){
										$buttonHTML .='<div class="more_text">'.$arAddToBasketOptions['EXPRESSION_ORDER_TEXT'].'</div>';
									}
								}
							}

						}
						elseif($arAddToBasketOptions["BUYMISSINGGOODS"] == "SUBSCRIBE" && $arItem["CATALOG_SUBSCRIBE"] == "Y"){
							$buttonText = array($arAddToBasketOptions['EXPRESSION_SUBSCRIBE_BUTTON'], $arAddToBasketOptions['EXPRESSION_SUBSCRIBED_BUTTON']);
							$buttonHTML = '<span class="'.$class_btn.' ss to-subscribe'.(!$bUserAuthorized ? ' auth' : '').' button transition_bg" rel="nofollow" href="'.$arItem["SUBSCRIBE_URL"].'" data-item="'.$arItem["ID"].'"  alt="'.$arItem["NAME"].'"><i></i><span>'.$buttonText[0].'</span></span><span class="'.$class_btn.' ss in-subscribe button transition_bg" rel="nofollow" style="display:none;" data-item="'.$arItem["ID"].'" alt="'.$arItem["NAME"].'"><i></i><span>'.$buttonText[1].'</span></span>';
						}
						elseif($arAddToBasketOptions["BUYMISSINGGOODS"] == "ORDER"){
							$buttonText = array($arAddToBasketOptions['EXPRESSION_ORDER_BUTTON']);
							$buttonHTML = '<span class="'.$class_btn.' to-order button transition_bg transparent" data-name="'.$arItem["NAME"].'" data-item="'.$arItem["ID"].'"><i></i><span>'.$buttonText[0].'</span></span>';
							if($arAddToBasketOptions['EXPRESSION_ORDER_TEXT']){
								$buttonHTML .='<div class="more_text">'.$arAddToBasketOptions['EXPRESSION_ORDER_TEXT'].'</div>';
							}
						}
					}
				}
			}
			else{
				// no price or price <= 0
				if($bDetail && $arItem["FRONT_CATALOG"] == "Y"){
					$buttonACTION = 'MORE';
					$buttonText = array(GetMessage('EXPRESSION_READ_MORE_OFFERS_DEFAULT'));
					$buttonHTML = '<a class="button transition_bg basket read_more" rel="nofollow" href="'.$arItem["DETAIL_PAGE_URL"].'" data-item="'.$arItem["ID"].'">'.$buttonText[0].'</a>';
				}
				else{
					$buttonACTION = $arAddToBasketOptions["BUYNOPRICEGGOODS"];
					if($arAddToBasketOptions["BUYNOPRICEGGOODS"] == "ORDER"){
						$buttonText = array($arAddToBasketOptions['EXPRESSION_ORDER_BUTTON']);
						$buttonHTML = '<span class="'.$class_btn.' to-order button transition_bg transparent" data-name="'.$arItem["NAME"].'" data-item="'.$arItem["ID"].'"><i></i><span>'.$buttonText[0].'</span></span>';
						if($arAddToBasketOptions['EXPRESSION_ORDER_TEXT']){
							$buttonHTML .='<div class="more_text">'.$arAddToBasketOptions['EXPRESSION_ORDER_TEXT'].'</div>';
						}
					}
				}
			}
		}

		return array("OPTIONS" => $arAddToBasketOptions, "TEXT" => $buttonText, "HTML" => $buttonHTML, "ACTION" => $buttonACTION, "RATIO_ITEM" => $ratio, "MIN_QUANTITY_BUY" => $quantity, "MAX_QUANTITY_BUY" => $max_quantity);
	}

	function checkVersionExt($template="main", $module="catalog"){
		if($info = CModule::CreateModuleObject($module)){
			$testVersion = '16.0.14';
			if(CheckVersion($testVersion, $info->MODULE_VERSION)){
				$templateInclude=$template;
			}
			else{
				$templateInclude=$template."_new";
			}
		}
		return $templateInclude;
	}

	function GetFileInfo($arItem){
		$arTmpItem = CFile::GetFileArray($arItem);
		switch($arTmpItem["CONTENT_TYPE"]){
			case 'application/pdf': $type="pdf"; break;
			case 'application/vnd.ms-excel': $type="excel"; break;
			case 'application/xls': $type="excel"; break;
			case 'application/octet-stream': $type="word"; break;
			case 'application/msword': $type="word"; break;
			case 'image/jpeg': $type="jpg"; break;
			case 'image/tiff': $type="tiff"; break;
			//case 'image/png': $type="png"; break;
			default: $type="default"; break;
		}
		$filesize = $arTmpItem["FILE_SIZE"];
		if($filesize > 1024){
			$filesize = ($filesize / 1024);
			if($filesize > 1024){
				$filesize = ($filesize / 1024);
				if($filesize > 1024){
					$filesize = ($filesize / 1024);
					$filesize = round($filesize, 1);
					$filesize_format=str_replace(".", ",", $filesize).GetMessage('CT_NAME_GB');
				}
				else{
					$filesize = round($filesize, 1);
					$filesize_format=str_replace(".", ",", $filesize).GetMessage('CT_NAME_MB');
				}
			}
			else{
				$filesize = round($filesize, 1);
				$filesize_format=str_replace(".", ",", $filesize).GetMessage('CT_NAME_KB');
			}
		}
		else{
			$filesize = round($filesize, 1);
			$filesize_format=str_replace(".", ",", $filesize).GetMessage('CT_NAME_b');
		}
		$fileName = substr($arTmpItem["ORIGINAL_NAME"], 0, strrpos($arTmpItem["ORIGINAL_NAME"], '.'));
		return array("TYPE" => $type, "FILE_SIZE" => $filesize, "FILE_SIZE_FORMAT" => $filesize_format, "DESCRIPTION" => ( $arTmpItem["DESCRIPTION"] ? $arTmpItem["DESCRIPTION"] : $fileName), "SRC" => $arTmpItem["SRC"]);
	}

	function getMinPriceFromOffersExt(&$offers, $currency, $replaceMinPrice = true){
		$replaceMinPrice = ($replaceMinPrice === true);
		$result = false;
		$minPrice = 0;
		if (!empty($offers) && is_array($offers))
		{
			$doubles = array();
			foreach ($offers as $oneOffer)
			{
				if(!$oneOffer["MIN_PRICE"])
					continue;
				$oneOffer['ID'] = (int)$oneOffer['ID'];
				if (isset($doubles[$oneOffer['ID']]))
					continue;
				/*if (!$oneOffer['CAN_BUY'])
					continue;*/

				CIBlockPriceTools::setRatioMinPrice($oneOffer, $replaceMinPrice);

				$oneOffer['MIN_PRICE']['CATALOG_MEASURE_RATIO'] = $oneOffer['CATALOG_MEASURE_RATIO'];
				$oneOffer['MIN_PRICE']['CATALOG_MEASURE'] = $oneOffer['CATALOG_MEASURE'];
				$oneOffer['MIN_PRICE']['CATALOG_MEASURE_NAME'] = $oneOffer['CATALOG_MEASURE_NAME'];
				$oneOffer['MIN_PRICE']['~CATALOG_MEASURE_NAME'] = $oneOffer['~CATALOG_MEASURE_NAME'];

				if (empty($result))
				{
					$minPrice = ($oneOffer['MIN_PRICE']['CURRENCY'] == $currency
						? $oneOffer['MIN_PRICE']['DISCOUNT_VALUE']
						: CCurrencyRates::ConvertCurrency($oneOffer['MIN_PRICE']['DISCOUNT_VALUE'], $oneOffer['MIN_PRICE']['CURRENCY'], $currency)
					);
					$result = $oneOffer['MIN_PRICE'];
				}
				else
				{
					$comparePrice = ($oneOffer['MIN_PRICE']['CURRENCY'] == $currency
						? $oneOffer['MIN_PRICE']['DISCOUNT_VALUE']
						: CCurrencyRates::ConvertCurrency($oneOffer['MIN_PRICE']['DISCOUNT_VALUE'], $oneOffer['MIN_PRICE']['CURRENCY'], $currency)
					);
					if ($minPrice > $comparePrice)
					{
						$minPrice = $comparePrice;
						$result = $oneOffer['MIN_PRICE'];
					}
				}
				$doubles[$oneOffer['ID']] = true;
			}
		}
		return $result;
	}

	function getSliderForItemExt(&$item, $propertyCode, $addDetailToSlider, $encode = true)
    {
        $encode = ($encode === true);
        $result = array();

        if (!empty($item) && is_array($item))
        {
            if (
                '' != $propertyCode &&
                isset($item['PROPERTIES'][$propertyCode]) &&
                'F' == $item['PROPERTIES'][$propertyCode]['PROPERTY_TYPE']
            )
            {
                if ('MORE_PHOTO' == $propertyCode && isset($item['MORE_PHOTO']) && !empty($item['MORE_PHOTO']))
                {

                    foreach ($item['MORE_PHOTO'] as &$onePhoto)
                    {
                        $result[] = array(
                            'ID' => (int)$onePhoto['ID'],
                            'SRC' => ($encode ? CHTTP::urnEncode($onePhoto['SRC'], 'utf-8') : $onePhoto['SRC']),
                            'WIDTH' => (int)$onePhoto['WIDTH'],
                            'HEIGHT' => (int)$onePhoto['HEIGHT'],
                            'ALT' => ($onePhoto["DESCRIPTION"] ? $onePhoto["DESCRIPTION"] : ($item['IPROPERTY_VALUES']['ELEMENT_DETAIL_PICTURE_FILE_ALT'] ? $item['IPROPERTY_VALUES']['ELEMENT_DETAIL_PICTURE_FILE_ALT'] : $item["NAME"])),
                            'TITLE' => ($onePhoto["DESCRIPTION"] ? $onePhoto["DESCRIPTION"] : ($item['IPROPERTY_VALUES']['ELEMENT_DETAIL_PICTURE_FILE_TITLE'] ? $item['IPROPERTY_VALUES']['ELEMENT_DETAIL_PICTURE_FILE_TITLE'] : $item["NAME"]))
                        );
                    }
                    unset($onePhoto);
                }
                else
                {
                    if (
                        isset($item['DISPLAY_PROPERTIES'][$propertyCode]['FILE_VALUE']) &&
                        !empty($item['DISPLAY_PROPERTIES'][$propertyCode]['FILE_VALUE'])
                    )
                    {
                        $fileValues = (
                        isset($item['DISPLAY_PROPERTIES'][$propertyCode]['FILE_VALUE']['ID']) ?
                            array(0 => $item['DISPLAY_PROPERTIES'][$propertyCode]['FILE_VALUE']) :
                            $item['DISPLAY_PROPERTIES'][$propertyCode]['FILE_VALUE']
                        );
                        foreach ($fileValues as &$oneFileValue)
                        {
                            $result[] = array(
                                'ID' => (int)$oneFileValue['ID'],
                                'SRC' => ($encode ? CHTTP::urnEncode($oneFileValue['SRC'], 'utf-8') : $oneFileValue['SRC']),
                                'WIDTH' => (int)$oneFileValue['WIDTH'],
                                'HEIGHT' => (int)$oneFileValue['HEIGHT'],
                                'ALT' => ($oneFileValue["DESCRIPTION"] ? $oneFileValue["DESCRIPTION"] : ($item['IPROPERTY_VALUES']['ELEMENT_DETAIL_PICTURE_FILE_ALT'] ? $item['IPROPERTY_VALUES']['ELEMENT_DETAIL_PICTURE_FILE_ALT'] : $item["NAME"])),
                          		'TITLE' => ($oneFileValue["DESCRIPTION"] ? $oneFileValue["DESCRIPTION"] : ($item['IPROPERTY_VALUES']['ELEMENT_DETAIL_PICTURE_FILE_TITLE'] ? $item['IPROPERTY_VALUES']['ELEMENT_DETAIL_PICTURE_FILE_TITLE'] : $item["NAME"]))
                            );
                        }
                        if (isset($oneFileValue))
                            unset($oneFileValue);
                    }
                    else
                    {
                        $propValues = $item['PROPERTIES'][$propertyCode]['VALUE'];
                        if (!is_array($propValues))
                            $propValues = array($propValues);
                        foreach ($propValues as &$oneValue)
                        {
                            $oneFileValue = CFile::GetFileArray($oneValue);
                            if (isset($oneFileValue['ID']))
                            {
                                $result[] = array(
                                    'ID' => (int)$oneFileValue['ID'],
                                    'SRC' => ($encode ? CHTTP::urnEncode($oneFileValue['SRC'], 'utf-8') : $oneFileValue['SRC']),
                                    'WIDTH' => (int)$oneFileValue['WIDTH'],
                                    'HEIGHT' => (int)$oneFileValue['HEIGHT'],
                                    'ALT' => ($oneFileValue["DESCRIPTION"] ? $oneFileValue["DESCRIPTION"] : ($item['IPROPERTY_VALUES']['ELEMENT_DETAIL_PICTURE_FILE_ALT'] ? $item['IPROPERTY_VALUES']['ELEMENT_DETAIL_PICTURE_FILE_ALT'] : $item["NAME"])),
                          			'TITLE' => ($oneFileValue["DESCRIPTION"] ? $oneFileValue["DESCRIPTION"] : ($item['IPROPERTY_VALUES']['ELEMENT_DETAIL_PICTURE_FILE_TITLE'] ? $item['IPROPERTY_VALUES']['ELEMENT_DETAIL_PICTURE_FILE_TITLE'] : $item["NAME"]))
                                );
                            }
                        }
                        if (isset($oneValue))
                            unset($oneValue);
                    }
                }
            }
            if(isset($item['OFFERS']) && $item['OFFERS'] && !$addDetailToSlider){
            	if(empty($result))
            		unset($item['DETAIL_PICTURE']);
            }

            if ($addDetailToSlider || empty($result))
            {
                if (!empty($item['DETAIL_PICTURE']))
                {
                    if (!is_array($item['DETAIL_PICTURE']))
                        $item['DETAIL_PICTURE'] = CFile::GetFileArray($item['DETAIL_PICTURE']);
                    if (isset($item['DETAIL_PICTURE']['ID']))
                    {
                        array_unshift(
                            $result,
                            array(
                                'ID' => (int)$item['DETAIL_PICTURE']['ID'],
                                'SRC' => ($encode ? CHTTP::urnEncode($item['DETAIL_PICTURE']['SRC'], 'utf-8') : $item['DETAIL_PICTURE']['SRC']),
                                'WIDTH' => (int)$item['DETAIL_PICTURE']['WIDTH'],
                                'HEIGHT' => (int)$item['DETAIL_PICTURE']['HEIGHT'],
                                'ALT' => ($item['DETAIL_PICTURE']['DESCRIPTION'] ? $item['DETAIL_PICTURE']['DESCRIPTION'] : ($item['DETAIL_PICTURE']['ALT'] ? $item['DETAIL_PICTURE']['ALT'] : $item['NAME'] )),
                                'TITLE' => ($item['DETAIL_PICTURE']['DESCRIPTION'] ? $item['DETAIL_PICTURE']['DESCRIPTION'] : ($item['DETAIL_PICTURE']['TITLE'] ? $item['DETAIL_PICTURE']['TITLE'] : $item['NAME'] ))
                            )
                        );
                    }
                }
            }
        }
        return $result;
    }

	function GetTemplateOptions($siteID){
		// check stores
		static $bStores;
		if ($bStores === null){
			$bStores = false;
			if(CModule::IncludeModule('catalog')){
				if(class_exists('CCatalogStore')){
					$dbRes = CCatalogStore::GetList(array(), array(), false, false, array());
					if($c = $dbRes->SelectedRowsCount()){
						$bStores = true;
					}
				}
			}
		}

		$res = self::getModuleOptionsList();
		$arComponentOptions = $res["TEMPLATE_OPTIONS"];
		$arTemplateOptions = array();
		foreach($arComponentOptions as $value){
			$arTemplateOptions[$value["ID"]] = $value;
			if ($value['ID'] === 'STORES_SOURCE' && !$bStores) {
				$arTemplateOptions[$value["ID"]]["CURRENT_VALUE"] = 'IBLOCK';
			}
			elseif($value['ID'] === 'LOGO_IMAGE' || $value['ID'] === 'FAVICON_IMAGE' || $value['ID'] === 'APPLE_TOUCH_ICON_IMAGE'){
				$arTemplateOptions[$value["ID"]]["CURRENT_VALUE"] = COption::GetOptionString(self::moduleID, $value["ID"], $value["DEFAULT"], $siteID);
				$arValue = unserialize($arTemplateOptions[$value["ID"]]["CURRENT_VALUE"]);
				$arValue = (array)$arValue;
				$fileID = $arValue ? current($arValue) : false;
				if($fileID){
					if($value['ID'] === 'FAVICON_IMAGE'){
						$arTemplateOptions[$value["ID"]]["CURRENT_IMG"] = str_replace('//', '/', SITE_DIR.'/favicon.ico');
					}else{
						$arTemplateOptions[$value["ID"]]["CURRENT_IMG"] = CFIle::GetPath($fileID);
					}
				}
				else{
					if($value['ID'] === 'LOGO_IMAGE'){

					}
					elseif($value['ID'] === 'FAVICON_IMAGE'){
						$arTemplateOptions[$value["ID"]]["CURRENT_IMG"] = str_replace('//', '/', SITE_DIR.'/include/favicon.ico');
					}
					elseif($value['ID'] === 'APPLE_TOUCH_ICON_IMAGE'){
						$arTemplateOptions[$value["ID"]]["CURRENT_IMG"] = str_replace('//', '/', SITE_DIR.'/include/apple-touch-icon.png');
					}
				}

				if(!file_exists(str_replace('//', '/', $_SERVER['DOCUMENT_ROOT'].$arTemplateOptions[$value["ID"]]["CURRENT_IMG"]))){
					$arTemplateOptions[$value["ID"]]["CURRENT_IMG"] = '';
				}
				else{
					if($value['ID'] === 'FAVICON_IMAGE'){
						$arTemplateOptions[$value["ID"]]["CURRENT_IMG"] .= '?'.filemtime(str_replace('//', '/', $_SERVER['DOCUMENT_ROOT'].$arTemplateOptions[$value["ID"]]["CURRENT_IMG"]));
					}
				}
			}
			else{
				$arTemplateOptions[$value["ID"]]["CURRENT_VALUE"] = COption::GetOptionString(self::moduleID, $value["ID"], $value["DEFAULT"], $siteID);
				if($value['ID'] === 'HEAD'){
					if($value["VALUES"] && is_array($value["VALUES"])){
						foreach($value["VALUES"] as $arValue){
							if($arValue["VALUE"] === $arTemplateOptions['HEAD']["CURRENT_VALUE"]){
								$arTemplateOptions["LOGO_IMAGE"]["CURRENT_IMG"] = ($arTemplateOptions["LOGO_IMAGE"]["CURRENT_VALUE"] !== serialize(array())) ? $arTemplateOptions["LOGO_IMAGE"]["CURRENT_IMG"] : str_replace('//', '/', SITE_DIR.$arValue["IMG"]);
								$arTemplateOptions["HEAD"]["CURRENT_MENU"] = $arValue["MENU_TYPE"];
								$arTemplateOptions["HEAD"]["CURRENT_HEAD_COLOR"] = $arValue["HEAD_COLOR"];
								$arTemplateOptions["HEAD"]["CURRENT_MENU_COLOR"] = ($arValue["MENU_COLOR"] ? $arValue["MENU_COLOR"] : "none");
								break;
							}
						}
					}
				}
			}
		}

		return $arTemplateOptions;
	}

	function getModuleOptionsList($onlyTemplate = false){
		// check stores
		static $arIsSiteWithStores;
		$by = "id"; $sort = "asc"; $arSites = array();
		$db_res = CSite::GetList($by , $sort ,array("ACTIVE"=>"Y"));
		while($res = $db_res->GetNext()){
			$arSites[] = $res;
		}
		foreach($arSites as $key => $arSite){
			if(COption::GetOptionString(self::moduleID, "SITE_INSTALLED", false, $arSite["ID"]) != "Y"){
				unset($arSites[$key]);
			}
			else{
				if ($arIsSiteWithStores[$arSite["ID"]] === null){
					$arIsSiteWithStores[$arSite["ID"]] = false;
					if(CModule::IncludeModule('catalog')){
						if(class_exists('CCatalogStore')){
							$dbRes = CCatalogStore::GetList(array(), array('ACTIVE' => 'Y', 'SITE_ID' => $arSite["ID"]), false, false, array());
							if($c = $dbRes->SelectedRowsCount()){
								$arIsSiteWithStores[$arSite["ID"]] = true;
							}
						}
					}
				}
			}
		}

		// template options
		$arTemplateOptions = array(
			array(
				"ID" => "COLOR_THEME",
				"NAME" => GetMessage("COLOR_THEME"),
				"TYPES" => array("COMPONENT"=>"COLOR", "MODULE" => "SELECTBOX"),
				"VALUES" => array(
					array("VALUE" => "YELLOW", "COMPONENT_VALUE" => "#ffad00", "NAME" => GetMessage("COLOR_THEME_YELLOW")),
					array("VALUE" => "ORANGE", "COMPONENT_VALUE" => "#ff6d00", "NAME" => GetMessage("COLOR_THEME_ORANGE")),
					array("VALUE" => "RED", "COMPONENT_VALUE" => "#de002b", "NAME" => GetMessage("COLOR_THEME_RED")),
					array("VALUE" => "MAGENTA", "COMPONENT_VALUE" => "#b82945", "NAME" => GetMessage("COLOR_THEME_MAGENTA")),
					array("VALUE" => "ORCHID", "COMPONENT_VALUE" => "#d75cb6", "NAME" => GetMessage("COLOR_THEME_ORCHID")),
					array("VALUE" => "NAVY", "COMPONENT_VALUE" => "#006dca", "NAME" => GetMessage("COLOR_THEME_NAVY")),
					array("VALUE" => "BLUE", "COMPONENT_VALUE" => "#01aae3", "NAME" => GetMessage("COLOR_THEME_BLUE")), //#00aed7
					array("VALUE" => "GREEN_SEA", "COMPONENT_VALUE" => "#01b1af", "NAME" => GetMessage("COLOR_THEME_GREEN_SEA")),
					array("VALUE" => "GREEN", "COMPONENT_VALUE" => "#009f4f", "NAME" => GetMessage("COLOR_THEME_GREEN")),
					array("VALUE" => "IRISH_GREEN", "COMPONENT_VALUE" => "#6db900", "NAME" => GetMessage("COLOR_THEME_IRISH_GREEN")),
					array("VALUE" => "CUSTOM", "COMPONENT_VALUE" => "", "NAME" => GetMessage("COLOR_THEME_CUSTOM")),
				),
				"DEFAULT" => "NAVY",
			),
			array(
				"ID" => "CUSTOM_COLOR_THEME",
				"NAME" => GetMessage("CUSTOM_COLOR_THEME"),
				"TYPES" => array("COMPONENT"=>"COLOR", "MODULE" => "text"),
				"DEFAULT" => "01aae3",
			),
			array(
				"ID" => "BGCOLOR_THEME",
				"NAME" => GetMessage("BGCOLOR_THEME"),
				"TYPES" => array("COMPONENT"=>"COLOR", "MODULE" => "SELECTBOX"),
				"VALUES" => array(
					array("VALUE" => "LIGHT", "COMPONENT_VALUE" => "#f6f6f7", "NAME" => GetMessage("BGCOLOR_THEME_LIGHT")),
					array("VALUE" => "DARK", "COMPONENT_VALUE" => "#272a39", "NAME" => GetMessage("BGCOLOR_THEME_DARK")),
					array("VALUE" => "CUSTOM", "COMPONENT_VALUE" => "", "NAME" => GetMessage("COLOR_THEME_CUSTOM")),
				),
				"DEFAULT" => "LIGHT",
			),
			array(
				"ID" => "BGCOLOR_THEME_FOOTER_SIDE",
				"NAME" => GetMessage("BGCOLOR_THEME_FOOTER_SIDE"),
				"TYPES" => array("COMPONENT"=>"TEXT", "MODULE" => "SELECTBOX"),
				"VALUES" => array(
					array("VALUE" => "FILL", "COMPONENT_VALUE" => "", "NAME" => GetMessage("YES_OPTION")),
					array("VALUE" => "NO_FILL", "COMPONENT_VALUE" => "", "NAME" => GetMessage("NO_OPTION")),
				),
				"DEFAULT" => "NO_FILL",
			),
			array(
				"ID" => "CUSTOM_BGCOLOR_THEME",
				"NAME" => GetMessage("CUSTOM_BGCOLOR_THEME"),
				"TYPES" => array("COMPONENT"=>"COLOR", "MODULE" => "text"),
				"DEFAULT" => "f6f6f7",
			),
			array(
				"ID" => "MENU_COLOR",
				"NAME" => GetMessage("MENU_COLOR"),
				"TYPES" => array("COMPONENT"=>"TEXT", "MODULE" => "SELECTBOX"),
				"VALUES" => array(
					array("VALUE" => "COLORED", "COMPONENT_VALUE" => "", "NAME" => GetMessage("MENU_COLOR_COLORED")),
					array("VALUE" => "LIGHT", "COMPONENT_VALUE" => "", "NAME" => GetMessage("MENU_COLOR_LIGHT")),
					array("VALUE" => "DARK", "COMPONENT_VALUE" => "", "NAME" => GetMessage("MENU_COLOR_DARK")),
				),
				"DEFAULT" => "COLORED",
			),
		);

		if(!$onlyTemplate){
			$arTemplateOptions[] = array(
				"ID" => "LOGO_IMAGE",
				"NAME" => GetMessage("LOGO_IMAGE"),
				"TYPES" => array("COMPONENT" => "TEXT", "MODULE" => "file"),
				"DEFAULT" => serialize(array()),
			);
			$arTemplateOptions[] = array(
				"ID" => "FAVICON_IMAGE",
				"NAME" => GetMessage("FAVICON_IMAGE"),
				"TYPES" => array("COMPONENT" => "TEXT", "MODULE" => "file"),
				"DEFAULT" => serialize(array()),
			);
			$arTemplateOptions[] = array(
				"ID" => "APPLE_TOUCH_ICON_IMAGE",
				"NAME" => GetMessage("APPLE_TOUCH_ICON_IMAGE"),
				"TYPES" => array("COMPONENT" => "TEXT", "MODULE" => "file"),
				"DEFAULT" => serialize(array()),
			);
		}

		$arTemplateOptions = array_merge($arTemplateOptions, array(
				array(
					"ID" => "BASKET",
					"NAME" => GetMessage("BASKET"),
					"TYPES" => array("COMPONENT"=>"TEXT", "MODULE" => "SELECTBOX"),
					"VALUES" => array(
						array("VALUE" => "NORMAL", "COMPONENT_VALUE" => "", "NAME" => GetMessage("BASKET_NORMAL")),
						array("VALUE" => "FLY", "COMPONENT_VALUE" => "", "NAME" => GetMessage("BASKET_FLY")),
					),
					"DEFAULT" => "FLY",
				)
			)
		);

		$arTemplateOptions = array_merge($arTemplateOptions, array(
				array(
					"ID" => "TYPE_SKU",
					"NAME" => GetMessage("TYPE_SKU"),
					"TYPES" => array("COMPONENT"=>"TEXT", "MODULE" => "SELECTBOX"),
					"VALUES" => array(
						array("VALUE" => "TYPE_1", "COMPONENT_VALUE" => "", "NAME" => GetMessage("TYPE_1")),
						array("VALUE" => "TYPE_2", "COMPONENT_VALUE" => "", "NAME" => GetMessage("TYPE_2")),
					),
					"DEFAULT" => "TYPE_1",
				),
				array(
					"ID" => "DETAIL_PICTURE_MODE",
					"NAME" => GetMessage("DETAIL_PICTURE_MODE"),
					"TYPES" => array("COMPONENT"=>"TEXT", "MODULE" => "SELECTBOX"),
					"VALUES" => array(
						array("VALUE" => "IMG", "COMPONENT_VALUE" => "", "NAME" => GetMessage("DETAIL_PICTURE_MODE_IMG")),
						array("VALUE" => "POPUP", "COMPONENT_VALUE" => "", "NAME" => GetMessage("DETAIL_PICTURE_MODE_POPUP")),
						array("VALUE" => "MAGNIFIER", "COMPONENT_VALUE" => "", "NAME" => GetMessage("DETAIL_PICTURE_MODE_MAGNIFIER")),
					),
					"DEFAULT" => "POPUP",
				),
				array(
					"ID" => "TYPE_VIEW_FILTER",
					"NAME" => GetMessage("TYPE_VIEW_FILTER"),
					"TYPES" => array("COMPONENT"=>"TEXT", "MODULE" => "SELECTBOX"),
					"VALUES" => array(
						array("VALUE" => "VERTICAL", "COMPONENT_VALUE" => "", "NAME" => GetMessage("VERTICAL")),
						array("VALUE" => "HORIZONTAL", "COMPONENT_VALUE" => "", "NAME" => GetMessage("HORIZONTAL")),
					),
					"DEFAULT" => "HORIZONTAL",
				),
				array(
					"ID" => "MENU_POSITION",
					"NAME" => GetMessage("MENU_POSITION"),
					"TYPES" => array("COMPONENT"=>"TEXT", "MODULE" => "SELECTBOX"),
					"VALUES" => array(
						array("VALUE" => "TOP", "COMPONENT_VALUE" => "", "NAME" => GetMessage("TOP_MENU_HOVER")),
						array("VALUE" => "LINE", "COMPONENT_VALUE" => "", "NAME" => GetMessage("LINE_MENU_HOVER")),
					),
					"DEFAULT" => "LINE",
				),
				array(
					"ID" => "VIEWED_TYPE",
					"NAME" => GetMessage("VIEWED_TYPE"),
					"TYPES" => array("COMPONENT"=>"TEXT", "MODULE" => "SELECTBOX"),
					"VALUES" => array(
						array("VALUE" => "LOCAL", "COMPONENT_VALUE" => "", "NAME" => GetMessage("VIEWED_TYPE_LOGIC_COOKIE")),
						array("VALUE" => "COMPONENT", "COMPONENT_VALUE" => "", "NAME" => GetMessage("VIEWED_TYPE_LOGIC_COMPONENT")),
					),
					"DEFAULT" => "COMPONENT",
				),
				array(
					"ID" => "STORES_SOURCE",
					"NAME" => GetMessage("STORES_SOURCE"),
					"TYPES" => array("COMPONENT"=>"TEXT", "MODULE" => "SELECTBOX"),
					"VALUES" => (
						$arIsSiteWithStores[$arSite["ID"]] ?
							array(
								array("VALUE" => "STORES", "COMPONENT_VALUE" => "", "NAME" => GetMessage("STORES_SOURCE_STORES")),
								array("VALUE" => "IBLOCK", "COMPONENT_VALUE" => "", "NAME" => GetMessage("STORES_SOURCE_STORES_IBLOCK")),
							) :
							array(
								array("VALUE" => "IBLOCK", "COMPONENT_VALUE" => "", "NAME" => GetMessage("STORES_SOURCE_STORES_IBLOCK")),
							)
						),
					"DEFAULT" => "IBLOCK",
				),
			)
		);

		$arComponentOptions = array();
		$arModuleOptions = array(GetMessage("TEMPLATE_OPTIONS"));
		$arModuleOptions[] = array("THEME_SWITCHER", GetMessage("THEME_SWITCHER"), 'N', array('checkbox'));

		foreach($arTemplateOptions as $key => $arTemplateOption){
			$arModuleValues = array(strToLower($arTemplateOption["TYPES"]["MODULE"]), array());
			if($arTemplateOption["VALUES"] && is_array($arTemplateOption["VALUES"])){
				foreach($arTemplateOption["VALUES"] as $key => $value){
					$arModuleValues[1][$value["VALUE"]] = $value["NAME"];
				}
			}
			$arComponentValues = array();
			if($arTemplateOption["VALUES"] && is_array($arTemplateOption["VALUES"])){
				$arComponentValues = $arTemplateOption["VALUES"];
			}
			if($arTemplateOption["ID"] !== 'BANNER_WIDTH' && $arTemplateOption["ID"] !== 'STORES'){
				$arModuleOptions[] = array($arTemplateOption["ID"], $arTemplateOption["NAME"], $arTemplateOption["DEFAULT"], $arModuleValues);
			}
			$arComponentOptions[] = array("ID" => $arTemplateOption["ID"], "NAME" => $arTemplateOption["NAME"], "TYPE" => $arTemplateOption["TYPES"]["COMPONENT"], "VALUES" => $arComponentValues, "DEFAULT" => $arTemplateOption["DEFAULT"]);
		}
		$arModuleOptions[] = array("NO_LOGO_BG", GetMessage("NO_LOGO_BG"), "N", array("checkbox"));
		$arModuleOptions[] = array("PHONE_MASK", GetMessage("PHONE_MASK"), "+7 (999) 999-99-99", array("text", 15));
		$arModuleOptions[] = array("VALIDATE_PHONE_MASK", GetMessage("VALIDATE_PHONE_MASK"), "^[+][7] [(][0-9]{3}[)] [0-9]{3}[-][0-9]{2}[-][0-9]{2}$", array("text", 50));
		$arModuleOptions[] = array("SHOW_BREADCRUMBS_CATALOG_SUBSECTIONS", GetMessage("SHOW_BREADCRUMBS_CATALOG_SUBSECTIONS"), "Y", array("checkbox"));
		$arModuleOptions[] = array("SHOW_BASKET_PRINT", GetMessage("SHOW_BASKET_PRINT"), "Y", array("checkbox"));
		$arModuleOptions[] = array("SHOW_SECTION_DESCRIPTION", GetMessage("SHOW_SECTION_DESCRIPTION"), "BOTTOM", array("selectbox", array('TOP' => GetMessage('TOP_SECTION'), 'BOTTOM' => GetMessage('BOTTOM_SECTION'))));

		$arModuleOptions[] = array("MAX_DEPTH_MENU", GetMessage("MAX_DEPTH_MENU"), "4", array("selectbox", array(2=>2,3=>3,4=>4)));
		$arModuleOptions[] = array("CATALOG_IBLOCK_ID", GetMessage("CATALOG_IBLOCK_ID"), "", array("selectbox_iblock"));

		$arModuleOptions[] = array("HIDE_SITE_NAME_TITLE", GetMessage("HIDE_SITE_NAME_TITLE"), "N", array("checkbox"));

		if(!$onlyTemplate){
			// scroll to top button options
			$arModuleOptions[] = GetMessage("SCROLLTOTOP_OPTIONS");
			$arModuleOptions[] = array(
				"SCROLLTOTOP_TYPE",
				GetMessage("SCROLLTOTOP_TYPE"),
				"ROUND_COLOR",
				array(
					"selectbox",
					array(
						'NONE' => GetMessage('SCROLLTOTOP_TYPE_NONE'),
						'ROUND_COLOR' => GetMessage('SCROLLTOTOP_TYPE_ROUND_COLOR'),
						'ROUND_GREY' => GetMessage('SCROLLTOTOP_TYPE_ROUND_GREY'),
						'ROUND_WHITE' => GetMessage('SCROLLTOTOP_TYPE_ROUND_WHITE'),
						'RECT_COLOR' => GetMessage('SCROLLTOTOP_TYPE_RECT_COLOR'),
						'RECT_GREY' => GetMessage('SCROLLTOTOP_TYPE_RECT_GREY'),
						'RECT_WHITE' => GetMessage('SCROLLTOTOP_TYPE_RECT_WHITE'),
					),
				),
			);
			$arModuleOptions[] = array(
				"SCROLLTOTOP_POSITION",
				GetMessage("SCROLLTOTOP_POSITION"),
				"PADDING",
				array(
					"selectbox",
					array(
						'TOUCH' => GetMessage('SCROLLTOTOP_POSITION_TOUCH'),
						'PADDING' => GetMessage('SCROLLTOTOP_POSITION_PADDING'),
					),
				),
			);

			// oneClick Buy
			$arModuleOptions[] = GetMessage("ONECLICKBUY_OPTIONS");
			$arModuleOptions[] = array("ONECLICKBUY_PERSON_TYPE", GetMessage("ONECLICKBUY_PERSON_TYPE"), "1", array("selectbox", array()));
			$arModuleOptions[] = array("ONECLICKBUY_DELIVERY", GetMessage("ONECLICKBUY_DELIVERY"), "2", array("selectbox", array()));
			$arModuleOptions[] = array("ONECLICKBUY_PAYMENT", GetMessage("ONECLICKBUY_PAYMENT"), "1", array("selectbox", array()));
			$arModuleOptions[] = array("ONECLICKBUY_CURRENCY", GetMessage("ONECLICKBUY_CURRENCY"), "RUB", array("selectbox", array()));
			$arModuleOptions[] = array("ONECLICKBUY_PROPERTIES", GetMessage("ONECLICKBUY_PROPERTIES"),
				$arOneClickPropertiesList = "FIO,PHONE,EMAIL,COMMENT",
				array("multiselectbox",
					$arOneClickPropertiesList = array(
						"FIO" => GetMessage('ONECLICKBUY_PROPERTIES_FIO'),
						"PHONE" => GetMessage('ONECLICKBUY_PROPERTIES_PHONE'),
						"EMAIL" => GetMessage('ONECLICKBUY_PROPERTIES_EMAIL'),
						"COMMENT" => GetMessage('ONECLICKBUY_PROPERTIES_COMMENT'),
					),
				)
			);
			$arModuleOptions[] = array("ONECLICKBUY_REQUIRED_PROPERTIES", GetMessage("ONECLICKBUY_REQUIRED_PROPERTIES"), "FIO,PHONE", array("multiselectbox", $arOneClickPropertiesList));

			// main index page options
			$arModuleOptions[] = GetMessage("INDEXPAGE_OPTIONS");

			$arModuleOptions[] = array(
				"BANNER_ANIMATIONTYPE",
				GetMessage("BANNER_ANIMATIONTYPE"),
				"SLIDE_HORIZONTAL",
				array(
					"selectbox",
					array(
						"SLIDE_HORIZONTAL" => GetMessage("ANIMATION_SLIDE_HORIZONTAL"),
						"SLIDE_VERTICAL" => GetMessage("ANIMATION_SLIDE_VERTICAL"),
						"FADE" => GetMessage("ANIMATION_FADE"),
					),
				),
			);
			$arModuleOptions[] = array("BANNER_SLIDESSHOWSPEED", GetMessage("BANNER_SLIDESSHOWSPEED"), "5000", array("text", "5"));
			$arModuleOptions[] = array("BANNER_ANIMATIONSPEED", GetMessage("BANNER_ANIMATIONSPEED"), "600", array("text", "5"));

			// add to basket options
			$arModuleOptions[] = GetMessage("ADDTOBASKET_OPTIONS");
			$arModuleOptions[] = array("SHOW_BASKET_ONADDTOCART", GetMessage("SHOW_BASKET_ONADDTOCART"), "Y", array("checkbox"));
			$arModuleOptions[] = array("USE_PRODUCT_QUANTITY_LIST", GetMessage("USE_PRODUCT_QUANTITY_LIST"), "Y", array("checkbox"));
			$arModuleOptions[] = array("USE_PRODUCT_QUANTITY_DETAIL", GetMessage("USE_PRODUCT_QUANTITY_DETAIL"), "Y", array("checkbox"));
			$arModuleOptions[] = array(
				"BUYNOPRICEGGOODS",
				GetMessage("BUYNOPRICEGGOODS"),
				"NOTHING",
				array(
					"selectbox",
					array(
						"ORDER" => GetMessage("BUYNOPRICEGGOODS_ORDER"),
						"NOTHING" => GetMessage("BUYNOPRICEGGOODS_NOTHING"),
					),
				),
			);
			$arModuleOptions[] = array(
				"BUYMISSINGGOODS",
				GetMessage("BUYMISSINGGOODS"),
				"ADD",
				array(
					"selectbox",
					array(
						"ADD" => GetMessage("BUYMISSINGGOODS_ADD"),
						"ORDER" => GetMessage("BUYMISSINGGOODS_ORDER"),
						"SUBSCRIBE" => GetMessage("BUYMISSINGGOODS_SUBSCRIBE"),
						"NOTHING" => GetMessage("BUYMISSINGGOODS_NOTHING"),
					),
				),
			);

			// show quantity options
			$arModuleOptions[] = GetMessage("QUANTITY_OPTIONS");
			$arGroups = array();
			$DefaultGroupID = 0;
			$rsGroups = CGroup::GetList($by = "id", $order = "asc", array("ACTIVE" => "Y"));
			while($arItem = $rsGroups->Fetch()){
				$arGroups[$arItem["ID"]] = $arItem["NAME"];
				if($arItem["ANONYMOUS"] == "Y"){
					$DefaultGroupID = $arItem["ID"];
				}
			}
			$arGroupMultiselect = array("multiselectbox", $arGroups);
			$arModuleOptions[] = array("SHOW_QUANTITY_FOR_GROUPS", GetMessage("SHOW_QUANTITY_FOR_GROUPS"), $DefaultGroupID, $arGroupMultiselect);
			$arModuleOptions[] = array("SHOW_QUANTITY_COUNT_FOR_GROUPS", GetMessage("SHOW_QUANTITY_COUNT_FOR_GROUPS"), $DefaultGroupID, $arGroupMultiselect);
			$arModuleOptions[] = array("note" => GetMessage("SHOW_QUANTITY_NOTE"));
			$arModuleOptions[] = array("USE_WORD_EXPRESSION", GetMessage("USE_WORD_EXPRESSION"), "Y", array("checkbox"));
			$arModuleOptions[] = array("MAX_AMOUNT", GetMessage("MAX_AMOUNT"), "10", array("text", "4"));
			$arModuleOptions[] = array("MIN_AMOUNT", GetMessage("MIN_AMOUNT"), "2", array("text", "4"));

			// expression options
			$arModuleOptions[] = GetMessage("EXPRESSIONS_OPTIONS");
			$arModuleOptions[] = array("EXPRESSION_SUBSCRIBE_BUTTON", GetMessage("EXPRESSION_SUBSCRIBE_BUTTON"), GetMessage("EXPRESSION_SUBSCRIBE_BUTTON_DEFAULT"), array("text", "20"));
			$arModuleOptions[] = array("EXPRESSION_SUBSCRIBED_BUTTON", GetMessage("EXPRESSION_SUBSCRIBED_BUTTON"), GetMessage("EXPRESSION_SUBSCRIBED_BUTTON_DEFAULT"), array("text", "20"));
			$arModuleOptions[] = array("EXPRESSION_ORDER_BUTTON", GetMessage("EXPRESSION_ORDER_BUTTON"), GetMessage("EXPRESSION_ORDER_BUTTON_DEFAULT"), array("text", "20"));
			$arModuleOptions[] = array("EXPRESSION_ORDER_TEXT", GetMessage("EXPRESSION_ORDER_TEXT"), GetMessage("EXPRESSION_ORDER_TEXT_DEFAULT"), array("textarea", "2", "50"));
			$arModuleOptions[] = array("EXPRESSION_FOR_EXISTS", GetMessage("EXPRESSION_FOR_EXISTS"), GetMessage("EXPRESSION_FOR_EXISTS_DEFAULT"), array("text", "20"));
			$arModuleOptions[] = array("EXPRESSION_FOR_NOTEXISTS", GetMessage("EXPRESSION_FOR_NOTEXISTS"), GetMessage("EXPRESSION_FOR_NOTEXISTS_DEFAULT"), array("text", "20"));
			$arModuleOptions[] = array("EXPRESSION_FOR_MIN", GetMessage("EXPRESSION_FOR_MIN"), GetMessage("EXPRESSION_FOR_MIN_DEFAULT"), array("text", "20"));
			$arModuleOptions[] = array("EXPRESSION_FOR_MID", GetMessage("EXPRESSION_FOR_MID"), GetMessage("EXPRESSION_FOR_MID_DEFAULT"), array("text", "20"));
			$arModuleOptions[] = array("EXPRESSION_FOR_MAX", GetMessage("EXPRESSION_FOR_MAX"), GetMessage("EXPRESSION_FOR_MAX_DEFAULT"), array("text", "20"));
			$arModuleOptions[] = array("EXPRESSION_FOR_FREE_DELIVERY", GetMessage("EXPRESSION_FOR_FREE_DELIVERY"), GetMessage("EXPRESSION_FOR_FREE_DELIVERY_DEFAULT"), array("text", "20"));

			// show min prices order
			$arModuleOptions[] = GetMessage("MIN_ORDER_PRICES");
			$arModuleOptions[] = array("MIN_ORDER_PRICE", GetMessage("MIN_ORDER_PRICE"), 1000, array("text", "20"));
			$arModuleOptions[] = array("MIN_ORDER_PRICE_TEXT", GetMessage("MIN_ORDER_PRICE_TEXT"), GetMessage("MIN_ORDER_PRICE_TEXT_EXAMPLE"), array("textarea", "3", "70"));

			// show yandex counter
			$arModuleOptions[] = GetMessage("YANDEX_GOOGLE_COUNTER_BLOCK");
			$arModuleOptions[] = array("YANDEX_COUNTER", GetMessage("YANDEX_COUNTER_TITLE"), '', array("textarea", "10", "50"));
			$arModuleOptions[] = array("YANDEX_ECOMERCE", GetMessage("YANDEX_ECOMERCE_TITLE"), 'N', array("checkbox"));
			$arModuleOptions[] = array("GOOGLE_COUNTER", GetMessage("GOOGLE_COUNTER_TITLE"), '', array("textarea", "10", "50"));
			$arModuleOptions[] = array("GOOGLE_ECOMERCE", GetMessage("GOOGLE_ECOMERCE_TITLE"), 'N', array("checkbox"));
			$arModuleOptions[] = array("BASKET_ADD_EVENT", GetMessage("BASKET_ADD_EVENT_TITLE"), "addToCart", array("text", "20"));
			$arModuleOptions[] = array("BASKET_REMOVE_EVENT", GetMessage("BASKET_REMOVE_EVENT_TITLE"), "removeFromCart", array("text", "20"));
			$arModuleOptions[] = array("CHECKOUT_ORDER_EVENT", GetMessage("CHECKOUT_ORDER_EVENT_TITLE"), "checkout", array("text", "20"));

			$arTabs = array();
			foreach($arSites as $key => $arSite){
				$arTabs[] = array(
					"DIV" => "edit".($key+1),
					"TAB" => GetMessage("MAIN_OPTIONS", array("#SITE_NAME#" => $arSite["NAME"], "#SITE_ID#" => $arSite["ID"])),
					"ICON" => "settings",
					"TITLE" => GetMessage("MAIN_OPTIONS_TITLE"),
					"PAGE_TYPE" => "site_settings",
					"SITE_ID" => $arSite["ID"],
					"OPTIONS" => $arModuleOptions,
				);
			}
		}

		return array("TABS" => $arTabs, "TEMPLATE_OPTIONS" => $arComponentOptions);
	}

	function SetJSOptions(){
		global $APPLICATION, $TEMPLATE_OPTIONS, $THEME_SWITCHER, $STARTTIME;
		$MESS["MIN_ORDER_PRICE_TEXT"]=COption::GetOptionString(self::moduleID, "MIN_ORDER_PRICE_TEXT", GetMessage("MIN_ORDER_PRICE_TEXT_EXAMPLE"), SITE_ID);
		?>
		<script type="text/javascript">
		BX.message(<?=CUtil::PhpToJSObject( $MESS, false )?>);

		var arOptimusOptions = ({
			"SITE_DIR" : "<?=SITE_DIR?>",
			"SITE_ID" : "<?=SITE_ID?>",
			"FORM" : ({
				"ASK_FORM_ID" : "ASK",
				"SERVICES_FORM_ID" : "SERVICES",
				"FEEDBACK_FORM_ID" : "FEEDBACK",
				"CALLBACK_FORM_ID" : "CALLBACK",
				"RESUME_FORM_ID" : "RESUME",
				"TOORDER_FORM_ID" : "TOORDER"
			}),
			"PAGES" : ({
				"FRONT_PAGE" : "<?=self::IsMainPage()?>",
				"BASKET_PAGE" : "<?=self::IsBasketPage()?>",
				"ORDER_PAGE" : "<?=self::IsOrderPage()?>",
				"CATALOG_PAGE" : "<?=self::IsCatalogPage()?>"
			}),
			"PRICES" : ({
				"MIN_PRICE" : "<?=trim(COption::GetOptionString(self::moduleID, "MIN_ORDER_PRICE", "1000", SITE_ID));?>",
			}),
			"THEME" : ({
				"THEME_SWITCHER" : "<?=strToLower(trim($THEME_SWITCHER))?>",
				"COLOR_THEME" : "<?=strToLower(trim($TEMPLATE_OPTIONS["COLOR_THEME"]["CURRENT_VALUE"]))?>",
				"CUSTOM_COLOR_THEME" : "<?=strToLower(trim($TEMPLATE_OPTIONS["CUSTOM_COLOR_THEME"]["CURRENT_VALUE"]))?>",
				"LOGO_IMAGE" : "<?=trim($TEMPLATE_OPTIONS["LOGO_IMAGE"]["CURRENT_IMG"])?>",
				"FAVICON_IMAGE" : "<?=trim($TEMPLATE_OPTIONS["FAVICON_IMAGE"]["CURRENT_IMG"])?>",
				"APPLE_TOUCH_ICON_IMAGE" : "<?=trim($TEMPLATE_OPTIONS["APPLE_TOUCH_ICON_IMAGE"]["CURRENT_IMG"])?>",
				"BANNER_WIDTH" : "<?=strToLower(trim($TEMPLATE_OPTIONS["BANNER_WIDTH"]["CURRENT_VALUE"]))?>",
				"BANNER_ANIMATIONTYPE" : "<?=trim(COption::GetOptionString(self::moduleID, "BANNER_ANIMATIONTYPE", "SLIDE_HORIZONTAL", SITE_ID));?>",
				"BANNER_SLIDESSHOWSPEED" : "<?=trim(COption::GetOptionString(self::moduleID, "BANNER_SLIDESSHOWSPEED", "5000", SITE_ID));?>",
				"BANNER_ANIMATIONSPEED" : "<?=trim(COption::GetOptionString(self::moduleID, "BANNER_ANIMATIONSPEED", "600", SITE_ID));?>",
				"HEAD" : ({
					"VALUE" : "<?=strToLower(trim($TEMPLATE_OPTIONS["HEAD"]["CURRENT_VALUE"]))?>",
					"MENU" : "<?=strToLower(trim($TEMPLATE_OPTIONS["HEAD"]["CURRENT_MENU"]))?>",
					"MENU_COLOR" : "<?=strToLower(trim($TEMPLATE_OPTIONS["HEAD"]["CURRENT_MENU_COLOR"]))?>",
					"HEAD_COLOR" : "<?=strToLower(trim($TEMPLATE_OPTIONS["HEAD"]["CURRENT_HEAD_COLOR"]))?>",
				}),
				"BASKET" : "<?=strToLower(trim($TEMPLATE_OPTIONS["BASKET"]["CURRENT_VALUE"]))?>",
				"STORES" : "<?=strToLower(trim($TEMPLATE_OPTIONS["STORES"]["CURRENT_VALUE"]))?>",
				"STORES_SOURCE" : "<?=strToLower(trim($TEMPLATE_OPTIONS["STORES_SOURCE"]["CURRENT_VALUE"]))?>",
				"TYPE_SKU" : "<?=strToLower(trim($TEMPLATE_OPTIONS["TYPE_SKU"]["CURRENT_VALUE"]))?>",
				"TYPE_VIEW_FILTER" : "<?=strToLower(trim($TEMPLATE_OPTIONS["TYPE_VIEW_FILTER"]["CURRENT_VALUE"]))?>",
				"SHOW_BASKET_ONADDTOCART" : "<?=trim(COption::GetOptionString(self::moduleID, "SHOW_BASKET_ONADDTOCART", "Y", SITE_ID))?>",
				"SHOW_BASKET_PRINT" : "<?=trim(COption::GetOptionString(self::moduleID, "SHOW_BASKET_PRINT", "Y", SITE_ID))?>",
				"PHONE_MASK" : "<?=trim(COption::GetOptionString(self::moduleID, "PHONE_MASK", "+9 (999) 999-99-99", SITE_ID));?>",
				"VALIDATE_PHONE_MASK" : "<?=trim(COption::GetOptionString(self::moduleID, "VALIDATE_PHONE_MASK", "^[+][0-9] [(][0-9]{3}[)] [0-9]{3}[-][0-9]{2}[-][0-9]{2}$", SITE_ID));?>",
				"SCROLLTOTOP_TYPE" : "<?=trim(COption::GetOptionString(self::moduleID, "SCROLLTOTOP_TYPE", "ROUND_COLOR", SITE_ID))?>",
				"SCROLLTOTOP_POSITION" : "<?=trim(COption::GetOptionString(self::moduleID, "SCROLLTOTOP_POSITION", "PADDING", SITE_ID))?>",
				"MENU_POSITION" : "<?=strToLower(trim($TEMPLATE_OPTIONS["MENU_POSITION"]["CURRENT_VALUE"]))?>",
			}),
			"COUNTERS":({
				"YANDEX_COUNTER" : "<?=strlen(trim(COption::GetOptionString(self::moduleID, "YANDEX_COUNTER", false, SITE_ID)))?>",
				"GOOGLE_COUNTER" : "<?=strlen(trim(COption::GetOptionString(self::moduleID, "GOOGLE_COUNTER", false, SITE_ID)))?>",
				"YANDEX_ECOMERCE" : "<?=trim(COption::GetOptionString(self::moduleID, "YANDEX_ECOMERCE", false, SITE_ID))?>",
				"GOOGLE_ECOMERCE" : "<?=trim(COption::GetOptionString(self::moduleID, "GOOGLE_ECOMERCE", false, SITE_ID))?>",
				"TYPE":{
					"ONE_CLICK":"<?=GetMessage("ONE_CLICK_BUY");?>",
					"QUICK_ORDER":"<?=GetMessage("QUICK_ORDER");?>",
				},
				"GOOGLE_EVENTS":{
					"ADD2BASKET": "<?=trim(COption::GetOptionString(self::moduleID, "BASKET_ADD_EVENT", "addToCart", SITE_ID))?>",
					"REMOVE_BASKET": "<?=trim(COption::GetOptionString(self::moduleID, "BASKET_REMOVE_EVENT", "removeFromCart", SITE_ID))?>",
					"CHECKOUT_ORDER": "<?=trim(COption::GetOptionString(self::moduleID, "CHECKOUT_ORDER_EVENT", "checkout", SITE_ID))?>",
				}
			}),
			"JS_ITEM_CLICK":({
				"precision" : 6,
				"precisionFactor" : Math.pow(10,6)
			}),
			"STARTTIME" : <?=$STARTTIME?>
		});

		$(document).ready(function(){
			$.extend( $.validator.messages, {
				required: BX.message('JS_REQUIRED'),
				email: BX.message('JS_FORMAT'),
				equalTo: BX.message('JS_PASSWORD_COPY'),
				minlength: BX.message('JS_PASSWORD_LENGTH'),
				remote: BX.message('JS_ERROR')
			});

			$.validator.addMethod(
				'regexp', function( value, element, regexp ){
					var re = new RegExp( regexp );
					return this.optional( element ) || re.test( value );
				},
				BX.message('JS_FORMAT')
			);

			$.validator.addMethod(
				'filesize', function( value, element, param ){
					return this.optional( element ) || ( element.files[0].size <= param )
				},
				BX.message('JS_FILE_SIZE')
			);

			$.validator.addMethod(
				'date', function( value, element, param ) {
					var status = false;
					if(!value || value.length <= 0){
						status = false;
					}
					else{
						// html5 date allways yyyy-mm-dd
						var re = new RegExp('^([0-9]{4})(.)([0-9]{2})(.)([0-9]{2})$');
						var matches = re.exec(value);
						if(matches){
							var composedDate = new Date(matches[1], (matches[3] - 1), matches[5]);
							status = ((composedDate.getMonth() == (matches[3] - 1)) && (composedDate.getDate() == matches[5]) && (composedDate.getFullYear() == matches[1]));
						}
						else{
							// firefox
							var re = new RegExp('^([0-9]{2})(.)([0-9]{2})(.)([0-9]{4})$');
							var matches = re.exec(value);
							if(matches){
								var composedDate = new Date(matches[5], (matches[3] - 1), matches[1]);
								status = ((composedDate.getMonth() == (matches[3] - 1)) && (composedDate.getDate() == matches[1]) && (composedDate.getFullYear() == matches[5]));
							}
						}
					}
					return status;
				}, BX.message('JS_DATE')
			);

			$.validator.addMethod(
				'extension', function(value, element, param){
					param = typeof param === 'string' ? param.replace(/,/g, '|') : 'png|jpe?g|gif';
					return this.optional(element) || value.match(new RegExp('.(' + param + ')$', 'i'));
				}, BX.message('JS_FILE_EXT')
			);

			$.validator.addMethod(
				'captcha', function( value, element, params ){
					return $.validator.methods.remote.call(this, value, element,{
						url: arOptimusOptions['SITE_DIR'] + 'ajax/check-captcha.php',
						type: 'post',
						data:{
							captcha_word: value,
							captcha_sid: function(){
								return $(element).closest('form').find('input[name="captcha_sid"]').val();
							}
						}
					});
				},
				BX.message('JS_ERROR')
			);

			$.validator.addClassRules({
				'phone':{
					regexp: arOptimusOptions['THEME']['VALIDATE_PHONE_MASK']
				},
				'confirm_password':{
					equalTo: 'input[name="REGISTER\[PASSWORD\]"]',
					minlength: 6
				},
				'password':{
					minlength: 6
				},
				'inputfile':{
					extension: arOptimusOptions['THEME']['VALIDATE_FILE_EXT'],
					filesize: 5000000
				},
				'captcha':{
					captcha: ''
				}
			});

			if(arOptimusOptions['THEME']['PHONE_MASK']){
				$('input.phone').inputmask('mask', {'mask': arOptimusOptions['THEME']['PHONE_MASK']});
			}

			jqmEd('feedback', arOptimusOptions['FORM']['FEEDBACK_FORM_ID']);
			jqmEd('ask', arOptimusOptions['FORM']['ASK_FORM_ID'], '.ask_btn');
			jqmEd('services', arOptimusOptions['FORM']['SERVICES_FORM_ID'], '.services_btn','','.services_btn');
			if($('.resume_send').length){
				$('.resume_send').live('click', function(e){
					$("body").append("<span class='resume_send_wr' style='display:none;'></span>");
					jqmEd('resume', arOptimusOptions['FORM']['RESUME_FORM_ID'], '.resume_send_wr','', this);
					$("body .resume_send_wr").click();
					$("body .resume_send_wr").remove();
				})
			}
			jqmEd('callback', arOptimusOptions['FORM']['CALLBACK_FORM_ID'], '.callback_btn');

		});
		</script>
		<?/*fix reset POST*/
		if($_SERVER["REQUEST_METHOD"]=="POST" && $_POST["color_theme"]){
			LocalRedirect($_SERVER["HTTP_REFERER"]);
		}?>
	<?}

	function checkAllowDelivery($summ, $currency){
		$ERROR = false;
		$min_price = \Bitrix\Main\Config\Option::get(self::moduleID, "MIN_ORDER_PRICE", 1000, SITE_ID);
		$error_text = "";
		if( $summ < $min_price ){
			$ERROR = true;
			$error_text = \Bitrix\Main\Config\Option::get(self::moduleID, "MIN_ORDER_PRICE_TEXT", GetMessage("MIN_ORDER_PRICE_TEXT_EXAMPLE") );
			$error_text = str_replace( '#PRICE#', SaleFormatCurrency($min_price,$currency), $error_text );
			if($currency)
				$error_text = str_replace( '#PRICE#', SaleFormatCurrency($min_price,$currency), $error_text );
			else
				$error_text = str_replace( '#PRICE#', $min_price, $error_text );
		}
		return $arError=array( "ERROR" => $ERROR, "TEXT" => $error_text );
	}

	function showMoreText( $text ){
		$arText = explode( "#MORE_TEXT#", $text);
		if( $arText[1] ){
			$str = $arText[0];
			$str .= '<div class="wrap_more_item">';
				$str .= '<div class="more_text_item">';
				$str .= $arText[1];
				$str .= '</div>';
				$str .= '<div class="open_more"><span class="text"><i class="arrow"></i><span class="pseudo">'.GetMessage("EXPAND_BLOCK").'</span></span></div>';
			$str .= '</div>';
		}else{
			$str = $text;
		}
		return $str;
	}

	function IsCompositeEnabled(){
		if(class_exists('CHTMLPagesCache')){
			if(method_exists('CHTMLPagesCache', 'GetOptions')){
				if($arHTMLCacheOptions = CHTMLPagesCache::GetOptions()){
					if(method_exists('CHTMLPagesCache', 'isOn')){
						if (CHTMLPagesCache::isOn()){
							if(isset($arHTMLCacheOptions['AUTO_COMPOSITE']) && $arHTMLCacheOptions['AUTO_COMPOSITE'] === 'Y'){
								return 'AUTO_COMPOSITE';
							}
							else{
								return 'COMPOSITE';
							}
						}
					}
					else{
						if($arHTMLCacheOptions['COMPOSITE'] === 'Y'){
							return 'COMPOSITE';
						}
					}
				}
			}
		}

		return false;
	}

	function EnableComposite($auto = false){
		if(class_exists('CHTMLPagesCache')){
			if(method_exists('CHTMLPagesCache', 'GetOptions')){
				if($arHTMLCacheOptions = CHTMLPagesCache::GetOptions()){
					$arHTMLCacheOptions['COMPOSITE'] = 'Y';
					$arHTMLCacheOptions['AUTO_UPDATE'] = 'Y'; // standart mode
					$arHTMLCacheOptions['AUTO_UPDATE_TTL'] = '0'; // no ttl delay
					$arHTMLCacheOptions['AUTO_COMPOSITE'] = ($auto ? 'Y' : 'N'); // auto composite mode
					CHTMLPagesCache::SetEnabled(true);
					CHTMLPagesCache::SetOptions($arHTMLCacheOptions);
					bx_accelerator_reset();
				}
			}
		}
	}

	function __AdmSettingsSaveOption_EX($module_id, $arOption){
		if(!is_array($arOption)){
			return false;
		}

		$arControllerOption = CControllerClient::GetInstalledOptions($module_id);
		if(isset($arControllerOption[$arOption[0]])){
			return false;
		}

		$name = $arOption[0];
		$val = $_REQUEST[$name];
		$siteID = end(explode("_", $arOption[0]));
		$name = substr($name, 0, (strlen($name)-strlen($siteID)-1));

		if(array_key_exists(4, $arOption) && $arOption[4] == 'Y'){
			if($arOption[3][0] == 'checkbox'){
				$val = 'N';
			}
			else{
				return false;
			}
		}

		if($arOption[3][0] == "checkbox" && $val != "Y"){
			$val = "N";
		}
		elseif($arOption[3][0] == "multiselectbox"){
			$val = @implode(",", $val);
		}
		elseif($arOption[3][0] == "file"){
			$val = $arValueDefault = serialize(array());
			if(isset($_REQUEST[$name.'_'.$siteID.'_del']) || (isset($_FILES[$arOption[0]]) && strlen($_FILES[$arOption[0]]['tmp_name']['0']))){
				$arValues = unserialize(COption::GetOptionString($module_id, $name, $arValueDefault, $siteID));
				$arValues = (array)$arValues;
				foreach($arValues as $fileID){
					CFile::Delete($fileID);
				}
			}

			if(isset($_FILES[$arOption[0]]) && (strlen($_FILES[$arOption[0]]['tmp_name']['n0']) || strlen($_FILES[$arOption[0]]['tmp_name']['0']))){
				$arValues = array();
				$absFilePath = (strlen($_FILES[$arOption[0]]['tmp_name']['n0']) ? $_FILES[$arOption[0]]['tmp_name']['n0'] : $_FILES[$arOption[0]]['tmp_name']['0']);
				$arOriginalName = (strlen($_FILES[$arOption[0]]['name']['n0']) ? $_FILES[$arOption[0]]['name']['n0'] : $_FILES[$arOption[0]]['name']['0']);
				if(file_exists($absFilePath)){
					$arFile = CFile::MakeFileArray($absFilePath);
					$arFile['name'] = $arOriginalName; // for original file extension

					if($bIsIco = strpos($arOriginalName, '.ico') !== false){
						$script_files = COption::GetOptionString("fileman", "~script_files", "php,php3,php4,php5,php6,phtml,pl,asp,aspx,cgi,dll,exe,ico,shtm,shtml,fcg,fcgi,fpl,asmx,pht,py,psp,var");
						$arScriptFiles = explode(',', $script_files);
						if(($p = array_search('ico', $arScriptFiles)) !== false){
							unset($arScriptFiles[$p]);
						}
						$tmp = implode(',', $arScriptFiles);
						COption::SetOptionString("fileman", "~script_files", $tmp);
					}

					if($fileID = CFile::SaveFile($arFile, self::moduleID)){
						$arValues[] = $fileID;
					}

					if($bIsIco){
						COption::SetOptionString("fileman", "~script_files", $script_files);
					}
				}
				$val = serialize($arValues);
			}

			if(!isset($_FILES[$arOption[0]]) || (!strlen($_FILES[$arOption[0]]['tmp_name']['n0']) && !strlen($_FILES[$arOption[0]]['tmp_name']['0']) && !isset($_REQUEST[$name.'_'.$siteID.'_del']))){
				return;
			}
		}
		if($name === 'FAVICON_IMAGE'){
			self::CopyFaviconToSiteDir($val, $siteID); //copy favicon for search bots
		}

		if(strpos($name, 'CUSTOM_COLOR_THEME') !== false || strpos($name, 'CUSTOM_BGCOLOR_THEME') !== false){
			$val = str_replace('#', '', $val);
			$val = strlen($val) ? $val : $arOption[2];
		}

		COption::SetOptionString($module_id, $name, $val, $arOption[1], $siteID);
	}

	static function CopyFaviconToSiteDir($arValue, $siteID = ''){
		if(($siteID)){
			$arValue=unserialize($arValue);
			if($arValue[0]){
				$imageSrc = $_SERVER['DOCUMENT_ROOT'].CFile::GetPath($arValue[0]);
			}
			else{
				if($arTemplate = self::GetSiteTemplate($siteID)){
					$imageSrc = str_replace('//', '/', $arTemplate['PATH'].'/images/favicon.ico');
				}
			}
			$arSite = CSite::GetByID($siteID)->Fetch();

			@unlink($imageDest = $arSite['ABS_DOC_ROOT'].'/'.$arSite['DIR'].'/favicon.ico');
			if(file_exists($imageSrc)){
				@copy($imageSrc, $arSite['ABS_DOC_ROOT'].'/'.$arSite['DIR'].'/favicon.ico');
			}else{
				@copy($arSite['ABS_DOC_ROOT'].'/'.$arSite['DIR'].'/include/favicon.ico', $arSite['ABS_DOC_ROOT'].'/'.$arSite['DIR'].'/favicon.ico');
			}
		}
	}

	static function GetSiteTemplate($siteID = ''){
		$arTemplate = array();

		if(strlen($siteID)){
			$dbRes = CSite::GetTemplateList($siteID);
			while($arTemplate = $dbRes->Fetch()){
				if(!strlen($arTemplate['CONDITION'])){
					if(file_exists(($arTemplate['PATH'] = $_SERVER['DOCUMENT_ROOT'].'/bitrix/templates/'.$arTemplate['TEMPLATE']))){
						break;
					}
					elseif(file_exists(($arTemplate['PATH'] = $_SERVER['DOCUMENT_ROOT'].'/local/templates/'.$arTemplate['TEMPLATE']))){
						break;
					}
				}
			}
		}

		return $arTemplate;
	}

	function __AdmSettingsDrawRow_EX($module_id, $Option, $siteID){
		$arControllerOption = CControllerClient::GetInstalledOptions($module_id);
		if(!is_array($Option)):?><tr class="heading"><td colspan="2"><?=$Option?></td></tr><?
		elseif(isset($Option["note"])):
		?>
			<tr>
				<td colspan="2" align="center">
					<?echo BeginNote('align="center"');?>
					<?=$Option["note"]?>
					<?echo EndNote();?>
				</td>
			</tr>
		<?
		else:
			$name  = substr($Option[0], 0, (strlen($Option[0])-strlen($siteID)-1));
			$val = COption::GetOptionString($module_id, $name, $Option[2], $siteID);
			$type = $Option[3];
			$disabled = array_key_exists(4, $Option) && $Option[4] == 'Y' ? ' disabled' : '';
			$sup_text = array_key_exists(5, $Option) ? $Option[5] : '';
		?>
			<tr>
				<td<?if($type[0]=="multiselectbox" || $type[0]=="textarea" || $type[0]=="statictext" || $type[0]=="statichtml") echo ' class="adm-detail-valign-top"'?> width="50%"><?
					if($type[0]=="checkbox") echo "<label for='".htmlspecialcharsbx($Option[0])."'>".$Option[1]."</label>";
					else echo $Option[1];
					if (strlen($sup_text) > 0) { ?><span class="required"><sup><?=$sup_text?></sup></span><? }
				?></td>
				<td width="50%"><?
				if($type[0]=="checkbox"): ?><input type="checkbox" <?if(isset($arControllerOption[$Option[0]]))echo ' disabled title="'.GetMessage("MAIN_ADMIN_SET_CONTROLLER_ALT").'"';?> id="<?echo htmlspecialcharsbx($Option[0])?>" name="<?echo htmlspecialcharsbx($Option[0])?>" value="Y"<?if($val=="Y")echo" checked";?><?=$disabled?><?if($type[2]<>'') echo " ".$type[2]?>><?
				elseif($type[0]=="text" || $type[0]=="password"): ?><input type="<?echo $type[0]?>"<?if(isset($arControllerOption[$Option[0]]))echo ' disabled title="'.GetMessage("MAIN_ADMIN_SET_CONTROLLER_ALT").'"';?> size="<?echo $type[1]?>" maxlength="255" value="<?echo htmlspecialcharsbx($val)?>" name="<?echo htmlspecialcharsbx($Option[0])?>"<?=$disabled?><?=($type[0]=="password"? ' autocomplete="off"':'')?>><?
				elseif($type[0]=="selectbox"):
					$arr = $type[1];
					if(!is_array($arr))
						$arr = array();
					$arr_keys = array_keys($arr);
					?><select name="<?echo htmlspecialcharsbx($Option[0])?>" <?if(isset($arControllerOption[$Option[0]]))echo ' disabled title="'.GetMessage("MAIN_ADMIN_SET_CONTROLLER_ALT").'"';?> <?=$disabled?>><?
						$count = count($arr_keys);
						for($j=0; $j<$count; $j++): ?><option value="<?echo $arr_keys[$j]?>"<?if($val==$arr_keys[$j])echo" selected"?>><?echo htmlspecialcharsbx($arr[$arr_keys[$j]])?></option><? endfor;
						?></select>
					<?elseif($type[0]=="selectbox_iblock"):

					\Bitrix\Main\Loader::includeModule('iblock');
					$rsIBlock=CIBlock::GetList(array("SORT"=>"ASC", "ID"=>"DESC"), array("LID"=>$siteID));
					$arIBlocks=array();
					while($arIBlock=$rsIBlock->Fetch()){
						$arIBlocks[$arIBlock["ID"]]["NAME"]="(".$arIBlock["ID"].") ".$arIBlock["NAME"]."[".$arIBlock["CODE"]."]";
						$arIBlocks[$arIBlock["ID"]]["CODE"]=$arIBlock["CODE"];
					}
					$arr_keys = array_keys($arIBlocks);
					?>
					<select name="<?echo htmlspecialcharsbx($Option[0])?>" <?if(isset($arControllerOption[$Option[0]]))echo ' disabled title="'.GetMessage("MAIN_ADMIN_SET_CONTROLLER_ALT").'"';?> <?=$disabled?>>
						<?if($arIBlocks){
							foreach($arIBlocks as $key => $arValue) {
								$selected="";
								if(!$val && $arValue["CODE"]=="aspro_optimus_catalog"){
									$selected="selected";
								}elseif($val && $val==$key){
									$selected="selected";
								}?>
								<option value="<?=$key;?>" <?=$selected;?>><?=htmlspecialcharsbx($arValue["NAME"]);?></option>
							<?}
						}else{?>
							<option value="">-</option>
						<?}?>
					</select><?
				elseif($type[0]=="multiselectbox"):
					$arr = $type[1];
					if(!is_array($arr)) $arr = array();
					$arr_keys = array_keys($arr);
					$arr_val = explode(",",$val);
					?><select size="5" <?if(isset($arControllerOption[$Option[0]]))echo ' disabled title="'.GetMessage("MAIN_ADMIN_SET_CONTROLLER_ALT").'"';?> multiple name="<?echo htmlspecialcharsbx($Option[0])?>[]"<?=$disabled?>><?
						$count = count($arr_keys);
						for($j=0; $j<$count; $j++): ?><option value="<?echo $arr_keys[$j]?>"<?if(in_array($arr_keys[$j],$arr_val)) echo " selected"?>><?echo htmlspecialcharsbx($arr[$arr_keys[$j]])?></option><? endfor;
					?></select><?
				elseif($type[0]=="textarea"):?><textarea <?if(isset($arControllerOption[$Option[0]]))echo ' disabled title="'.GetMessage("MAIN_ADMIN_SET_CONTROLLER_ALT").'"';?> rows="<?echo $type[1]?>" cols="<?echo $type[2]?>" name="<?echo htmlspecialcharsbx($Option[0])?>"<?=$disabled?>><?echo htmlspecialcharsbx($val)?></textarea><?
				elseif($type[0]=='file'):
					$val = unserialize($val);
					$Option['MULTIPLE'] = 'N';
					if(strpos($Option[0], 'LOGO_IMAGE') !== false) {
						$arOption['WIDTH'] = 163;
						$arOption['HEIGHT'] = 36;
					}
					elseif(strpos($Option[0], 'FAVICON_IMAGE') !== false) {
						$arOption['WIDTH'] = 16;
						$arOption['HEIGHT'] = 16;
					}
					elseif(strpos($Option[0], 'APPLE_TOUCH_ICON_IMAGE') !== false) {
						$arOption['WIDTH'] = 180;
						$arOption['HEIGHT'] = 180;
					}
					self::__ShowFilePropertyField($Option[0], $Option, $val);
				elseif($type[0]=="statictext"): echo htmlspecialcharsbx($val);
				elseif($type[0]=="statichtml"): echo $val;
				endif;
				?></td>
			</tr>
		<?
		endif;
	}

	function __AdmSettingsDrawCustomRow($html){
		echo '<tr><td colspan="2">'.$html.'</td></tr>';
	}

	protected function __ShowFilePropertyField($name, $arOption, $values){
		global $bCopy, $historyId;

		if(!is_array($values)){
			$values = array($values);
		}

		if($bCopy || empty($values)){
			$values = array('n0' => 0);
		}

		$optionWidth = $arOption['WIDTH'] ? $arOption['WIDTH'] : 200;
		$optionHeight = $arOption['HEIGHT'] ? $arOption['HEIGHT'] : 100;

		if($arOption['MULTIPLE'] == 'N'){
			foreach($values as $key => $val){
				if(is_array($val)){
					$file_id = $val['VALUE'];
				}
				else{
					$file_id = $val;
				}
				if($historyId > 0){
					echo CFileInput::Show($name.'['.$key.']', $file_id,
						array(
							'IMAGE' => $arOption['IMAGE'],
							'PATH' => 'Y',
							'FILE_SIZE' => 'Y',
							'DIMENSIONS' => 'Y',
							'IMAGE_POPUP' => 'Y',
							'MAX_SIZE' => array(
								'W' => $optionWidth,
								'H' => $optionHeight,
							),
						)
					);
				}
				else{
					echo CFileInput::Show($name.'['.$key.']', $file_id,
						array(
							'IMAGE' => $arOption['IMAGE'],
							'PATH' => 'Y',
							'FILE_SIZE' => 'Y',
							'DIMENSIONS' => 'Y',
							'IMAGE_POPUP' => 'Y',
							'MAX_SIZE' => array(
							'W' => $optionWidth,
							'H' => $optionHeight,
							),
						),
						array(
							'upload' => true,
							'medialib' => true,
							'file_dialog' => true,
							'cloud' => true,
							'del' => true,
							'description' => $arOption['WITH_DESCRIPTION'] == 'Y',
						)
					);
				}
				break;
			}
		}
		else{
			$inputName = array();
			foreach($values as $key => $val){
				if(is_array($val)){
					$inputName[$name.'['.$key.']'] = $val['VALUE'];
				}
				else{
					$inputName[$name.'['.$key.']'] = $val;
				}
			}
			if($historyId > 0){
				echo CFileInput::ShowMultiple($inputName, $name.'[n#IND#]',
					array(
						'IMAGE' => $arOption['IMAGE'],
						'PATH' => 'Y',
						'FILE_SIZE' => 'Y',
						'DIMENSIONS' => 'Y',
						'IMAGE_POPUP' => 'Y',
						'MAX_SIZE' => array(
							'W' => $optionWidth,
							'H' => $optionHeight,
						),
					),
				false);
			}
			else{
				echo CFileInput::ShowMultiple($inputName, $name.'[n#IND#]',
					array(
						'IMAGE' => $arOption['IMAGE'],
						'PATH' => 'Y',
						'FILE_SIZE' => 'Y',
						'DIMENSIONS' => 'Y',
						'IMAGE_POPUP' => 'Y',
						'MAX_SIZE' => array(
							'W' => $optionWidth,
							'H' => $optionHeight,
						),
					),
				false,
					array(
						'upload' => true,
						'medialib' => true,
						'file_dialog' => true,
						'cloud' => true,
						'del' => true,
						'description' => $arOption['WITH_DESCRIPTION'] == 'Y',
					)
				);
			}
		}
	}

	function InsertCounters(&$html){
		if(defined("ADMIN_SECTION")/* || $_SERVER["HTTP_BX_CACHE_MODE"] == "HTMLCACHE"*/){
			return;
		}

		define("LOAD_COUNTERS", true);
		global $APPLICATION;
		if(defined("LOAD_COUNTERS")  && (strpos($APPLICATION->GetCurPage(),'personal')===false)){
			$counter = '';
			$yandex_counter = \Bitrix\Main\Config\Option::get(self::moduleID, "YANDEX_COUNTER", false, SITE_ID);
			if($yandex_counter){
				$counter .= '
<script>
	var yandexEvents = new function(){
		var myWatchers = new Array();
		this.addEventListener = function( watcher ){
			myWatchers.push( watcher );
		};

		this.raiseEvents = function( eventId ){
			for( var thisEventIndex in myWatchers ){
				myWatchers[thisEventIndex]( eventId );
			}
		};
	};
	window.onload=function(){
		window.dataLayer = window.dataLayer || [];
	}
</script>
';
				$counter .= $yandex_counter;
			}

			$google_counter = \Bitrix\Main\Config\Option::get(self::moduleID, "GOOGLE_COUNTER", false, SITE_ID);
			if( $google_counter && $google_ecomerce=="Y" ){
				$counter1 .=$google_counter;
				$html = str_replace( '<body id="main">', '<body id="main">'.$counter1, $html );
			}
			if($google_counter){
				$counter .= $google_counter;
			}

			if(strlen($counter)){
				$html = str_replace('</body>', $counter.'</body>', $html);
			}
		}
	}

	function clearBasketCacheHandler(){
		COptimusCache::ClearCacheByTag('sale_basket');
	}

	function OnBeforeUserUpdateHandler(&$arFields){
		if(strlen($arFields["NAME"]))
			$arFields["NAME"] = trim($arFields["NAME"]);
		if(strlen($arFields["NAME"]) && !strlen($arFields["LAST_NAME"]) && !strlen($arFields["SECOND_NAME"])){
			$arName = explode(' ', $arFields["NAME"]);

			if($arName){
				$arFields["NAME"] = "";
				$arFields["SECOND_NAME"] = "";
				foreach($arName as $i => $name){
					if(!$i){
						$arFields["LAST_NAME"] = $name;
					}
					else{
						if(!strlen($arFields["NAME"])){
							$arFields["NAME"] = $name;
						}
						elseif(!strlen($arFields["SECOND_NAME"])){
							$arFields["SECOND_NAME"] = $name;
						}
					}
				}
			}
		}
		if($_REQUEST["confirmorder"]=="Y"  && !strlen($arFields["SECOND_NAME"]) && $_REQUEST["ORDER_PROP_1"]){
			$arNames = explode(' ', $_REQUEST["ORDER_PROP_1"]);
			if($arNames[2]){
				$arFields["SECOND_NAME"]=$arNames[2];
			}
		}
		if(strlen($arFields["EMAIL"])){
			$bEmailError = false;

			$rsUser = CUser::GetList($by = "ID", $order = "ASC", array("EMAIL" => $arFields["EMAIL"], "!ID" => $arFields["ID"]));
			if(!$bEmailError = intval($rsUser->SelectedRowsCount()) > 0){
				$rsUser = CUser::GetList($by = "ID", $order = "ASC", array("LOGIN" => $arFields["EMAIL"], "!ID" => $arFields["ID"]));
				$bEmailError = intval($rsUser->SelectedRowsCount()) > 0;
			}

			if($bEmailError){
				global $APPLICATION;
				$APPLICATION->throwException(GetMessage('EMAIL_IS_ALREADY_EXISTS', array('#EMAIL#' => $arFields["EMAIL"])));
				return false;
			}
			else{
				// !admin
				global $USER;
				if(!$USER->IsAdmin()){
					$arFields["LOGIN"] = $arFields["EMAIL"];
				}
			}
		}
		return $arFields;
	}

	function GetYearsItems($iblock_id){
		$arYears=array();
		$rsItems=CIBlockElement::GetList(array(), array("IBLOCK_ID" => $iblock_id, "ACTIVE" => "Y", "GLOBAL_ACTIVE" => "Y"), false, false, array("ID", "DATE_ACTIVE_FROM"));
		while($arItem=$rsItems->Fetch()){
			if($arItem["DATE_ACTIVE_FROM"]){
				$date = explode(' ', $arItem["DATE_ACTIVE_FROM"]);
				$date = $date[0];
				$date = explode('.', $date);
				$arYears[$date[2]] = $date[2];
			}
		}
		return $arYears;
	}

	function removeDirectory($dir){
		if($objs = glob($dir."/*")){
			foreach($objs as $obj){
				if(is_dir($obj)){
					self::removeDirectory($obj);
				}
				else{
					if(!unlink($obj)){
						if(chmod($obj, 0777)){
							unlink($obj);
						}
					}
				}
			}
		}
		if(!rmdir($dir)){
			if(chmod($dir, 0777)){
				rmdir($dir);
			}
		}
	}

    function inputClean($input, $sql = false){
       /* $input = htmlentities($input, ENT_QUOTES, LANG_CHARSET);
        if(get_magic_quotes_gpc ())
        {
            $input = stripslashes ($input);
        }
        if ($sql)
        {
            $input = mysql_real_escape_string ($input);
        }
        $input = strip_tags($input);
        $input=str_replace ("\n"," ", $input);
        $input=str_replace ("\r","", $input); */
        return $input;
    }

    static function getBasketCounters(){
    	global $USER;
    	$USER_ID = ($USER_ID = $USER->GetID()) ? $USER_ID : 0;
    	$arResult = false;

    	if(isset($_SESSION['ASPRO_BASKET_COUNTERS'])){
    		if(!is_array($_SESSION['ASPRO_BASKET_COUNTERS']) || (is_array($_SESSION['ASPRO_BASKET_COUNTERS']) && count($_SESSION['ASPRO_BASKET_COUNTERS']) && !isset($_SESSION['ASPRO_BASKET_COUNTERS'][$USER_ID]))){
    			unset($_SESSION['ASPRO_BASKET_COUNTERS']);
    		}
    		else{
		    	$arResult = $_SESSION['ASPRO_BASKET_COUNTERS'][$USER_ID];
    		}
    	}

    	if(!$arResult || !is_array($arResult)){
    		// set default value
    		$arResult = array('READY' => array('COUNT' => 0, 'TITLE' => '', 'HREF' => SITE_DIR.'basket/'), 'DELAY' => array('COUNT' => 0, 'TITLE' => '', 'HREF' => SITE_DIR.'basket/'), 'COMPARE' => array('COUNT' => 0, 'TITLE' => GetMessage('COMPARE_BLOCK'), 'HREF' => SITE_DIR.'catalog/compare.php'), 'PERSONAL' => array('ID' => $USER_ID, 'SRC' => '', 'TITLE' => GetMessage("USER_AUTH"), 'HREF' => SITE_DIR.'auth/'), 'DEFAULT' => true);

    		// get user avatar
	    	if($isAuthorized = ($USER->isAuthorized() ? true : false)){
				$arResult['PERSONAL']['TITLE'] = GetMessage("USER_CABINET");

	    		$arUser = COptimusCache::CUser_GetList(array("SORT" => "ASC", "CACHE" => array("MULTI" => "N", "TAG" => COptimusCache::GetUserCacheTag($USER_ID))), array("ID" => $USER_ID), array("FIELDS" => array("ID", "PERSONAL_PHOTO")));
				if($arUser["PERSONAL_PHOTO"]){
					$arPhoto = CFile::ResizeImageGet($arUser["PERSONAL_PHOTO"], array("width" => 50, "height" => 50), BX_RESIZE_IMAGE_EXACT, true);
					$arResult['PERSONAL']['SRC'] = $arPhoto['src'];
				}
	    	}
    	}

    	$_SESSION['ASPRO_BASKET_COUNTERS'] = array($USER_ID => $arResult);
    	return $arResult;
    }

    static function updateBasketCounters($arValue){
    	global $USER;
    	$USER_ID = ($USER_ID = $USER->GetID()) ? $USER_ID : 0;

    	$arResult = self::getBasketCounters();
    	if($arValue && is_array($arValue)){
    		$arResult = array_replace_recursive($arResult, $arValue);
    	}
    	$arResult['DEFAULT'] = false;

    	$_SESSION['ASPRO_BASKET_COUNTERS'] = array($USER_ID => $arResult);
    	return $arResult;
    }

    static function clearBasketCounters(){
    	unset($_SESSION['ASPRO_BASKET_COUNTERS']);
    }


	function correctInstall(){
		if(COption::GetOptionString(self::moduleID, "WIZARD_DEMO_INSTALLED") == "Y"){
			if(CModule::IncludeModule("main")){
				require_once($_SERVER["DOCUMENT_ROOT"].BX_ROOT."/modules/main/classes/general/wizard.php");
				@set_time_limit(0);
				if(!CWizardUtil::DeleteWizard(self::wizardID)){if(!DeleteDirFilesEx($_SERVER["DOCUMENT_ROOT"]."/bitrix/wizards/".self::partnerName."/".self::solutionName."/")){self::removeDirectory($_SERVER["DOCUMENT_ROOT"]."/bitrix/wizards/".self::partnerName."/".self::solutionName."/");}}
				UnRegisterModuleDependences("main", "OnBeforeProlog", self::moduleID, get_class(), "correctInstall");
				COption::SetOptionString(self::moduleID, "WIZARD_DEMO_INSTALLED", "N");
			}
		}
	}

	function newAction($action = "unknown"){
		$socket = fsockopen('bi.aspro.ru', 80, $errno, $errstr, 10);
		if($socket){
			if(CModule::IncludeModule("main")){
				global $APPLICATION;
				require_once($_SERVER["DOCUMENT_ROOT"]."/bitrix/modules/main/classes/general/update_client.php");
				$errorMessage = "";
				$serverIP = ($_SERVER["HTTP_X_REAL_IP"] ? $_SERVER["HTTP_X_REAL_IP"] : $_SERVER["SERVER_ADDR"]);
				$arUpdateList = CUpdateClient::GetUpdatesList($errorMessage, "ru", "Y");
				if(array_key_exists("CLIENT", $arUpdateList) && $arUpdateList["CLIENT"][0]["@"]["LICENSE"]){
					$edition = $arUpdateList["CLIENT"][0]["@"]["LICENSE"];
				}
				else{
					$edition = "UNKNOWN";
				}
				$data = json_encode(
					array(
						"client" => "aspro",
						"install_date" => date("Y-m-d H:i:s"),
						"solution_code" => self::moduleID,
						"ip" => $serverIP,
						"http_host" => $_SERVER["HTTP_HOST"],
						"bitrix_version" => SM_VERSION,
						"bitrix_edition" => $APPLICATION->ConvertCharset($edition, SITE_CHARSET, "utf-8"),
						"bitrix_key_hash" => md5(CUpdateClient::GetLicenseKey()),
						"site_name" => $APPLICATION->ConvertCharset(COption::GetOptionString("main", "site_name"), SITE_CHARSET, "utf-8"),
						"site_url" => $APPLICATION->ConvertCharset(COption::GetOptionString("main", "server_name"), SITE_CHARSET, "utf-8"),
						"email_default" => $APPLICATION->ConvertCharset(COption::GetOptionString("main", "email_from"), SITE_CHARSET, "utf-8"),
						"action" => $action,
					)
				);
				fwrite($socket, "POST /rest/bitrix/installs HTTP/1.1\r\n");
				fwrite($socket, "Host: bi.aspro.ru\r\n");
				fwrite($socket, "Content-type: application/x-www-form-urlencoded\r\n");
				fwrite($socket, "Content-length:".strlen($data)."\r\n");
				fwrite($socket, "Accept:*/*\r\n");
				fwrite($socket, "User-agent:Bitrix Installer\r\n");
				fwrite($socket, "Connection:Close\r\n");
				fwrite($socket, "\r\n");
				fwrite($socket, "$data\r\n");
				fwrite($socket, "\r\n");
				$answer = '';
				while(!feof($socket)){
					$answer.= fgets($socket, 4096);
				}
				fclose($socket);
			}
		}
	}

	function DoIBlockAfterSave($arg1, $arg2 = false){
		$ELEMENT_ID = false;
		$IBLOCK_ID = false;
		$OFFERS_IBLOCK_ID = false;
		$OFFERS_PROPERTY_ID = false;
		if (CModule::IncludeModule('currency'))
			$strDefaultCurrency = CCurrency::GetBaseCurrency();

		//Check for catalog event
		if(is_array($arg2) && $arg2["PRODUCT_ID"] > 0){
			//Get iblock element
			$rsPriceElement = CIBlockElement::GetList(
				array(),
				array(
					"ID" => $arg2["PRODUCT_ID"],
				),
				false,
				false,
				array("ID", "IBLOCK_ID")
			);
			if($arPriceElement = $rsPriceElement->Fetch()){
				$arCatalog = CCatalog::GetByID($arPriceElement["IBLOCK_ID"]);
				if(is_array($arCatalog)){
					//Check if it is offers iblock
					if($arCatalog["OFFERS"] == "Y"){
						//Find product element
						$rsElement = CIBlockElement::GetProperty(
							$arPriceElement["IBLOCK_ID"],
							$arPriceElement["ID"],
							"sort",
							"asc",
							array("ID" => $arCatalog["SKU_PROPERTY_ID"])
						);
						$arElement = $rsElement->Fetch();
						if($arElement && $arElement["VALUE"] > 0)
						{
							$ELEMENT_ID = $arElement["VALUE"];
							$IBLOCK_ID = $arCatalog["PRODUCT_IBLOCK_ID"];
							$OFFERS_IBLOCK_ID = $arCatalog["IBLOCK_ID"];
							$OFFERS_PROPERTY_ID = $arCatalog["SKU_PROPERTY_ID"];
						}
					}
					//or iblock which has offers
					elseif($arCatalog["OFFERS_IBLOCK_ID"] > 0){
						$ELEMENT_ID = $arPriceElement["ID"];
						$IBLOCK_ID = $arPriceElement["IBLOCK_ID"];
						$OFFERS_IBLOCK_ID = $arCatalog["OFFERS_IBLOCK_ID"];
						$OFFERS_PROPERTY_ID = $arCatalog["OFFERS_PROPERTY_ID"];
					}
					//or it's regular catalog
					else{
						$ELEMENT_ID = $arPriceElement["ID"];
						$IBLOCK_ID = $arPriceElement["IBLOCK_ID"];
						$OFFERS_IBLOCK_ID = false;
						$OFFERS_PROPERTY_ID = false;
					}
				}
			}
		}
		//Check for iblock event
		elseif(is_array($arg1) && $arg1["ID"] > 0 && $arg1["IBLOCK_ID"] > 0){
			//Check if iblock has offers
			$arOffers = CIBlockPriceTools::GetOffersIBlock($arg1["IBLOCK_ID"]);
			if(is_array($arOffers)){
				$ELEMENT_ID = $arg1["ID"];
				$IBLOCK_ID = $arg1["IBLOCK_ID"];
				$OFFERS_IBLOCK_ID = $arOffers["OFFERS_IBLOCK_ID"];
				$OFFERS_PROPERTY_ID = $arOffers["OFFERS_PROPERTY_ID"];
			}
		}

		if($ELEMENT_ID){
			static $arPropCache = array();
			static $arPropArray=array();

			if(!array_key_exists($IBLOCK_ID, $arPropCache)){
				//Check for MINIMAL_PRICE property
				$rsProperty = CIBlockProperty::GetByID("MINIMUM_PRICE", $IBLOCK_ID);
				$arProperty = $rsProperty->Fetch();
				if($arProperty){
					$arPropCache[$IBLOCK_ID] = $arProperty["ID"];
					$arPropArray["MINIMUM_PRICE"]=$arProperty["ID"];
				}else{
					$arPropCache[$IBLOCK_ID] = false;
				}
				$rsProperty = CIBlockProperty::GetByID("IN_STOCK", $IBLOCK_ID);
				$arProperty = $rsProperty->Fetch();
				if($arProperty){
					$arPropCache[$IBLOCK_ID] = $arProperty["ID"];
					$arPropArray["IN_STOCK"]=$arProperty["ID"];
				}else{
					if(!$arPropCache[$IBLOCK_ID])
						$arPropCache[$IBLOCK_ID] = false;
				}
			}

			if($arPropCache[$IBLOCK_ID]){
				//Compose elements filter
				if($OFFERS_IBLOCK_ID){
					$rsOffers = CIBlockElement::GetList(
						array(),
						array(
							"IBLOCK_ID" => $OFFERS_IBLOCK_ID,
							"PROPERTY_".$OFFERS_PROPERTY_ID => $ELEMENT_ID,
							"ACTIVE" => "Y"
						),
						false,
						false,
						array("ID")
					);
					while($arOffer = $rsOffers->Fetch())
						$arProductID[] = $arOffer["ID"];

					if (!is_array($arProductID))
						$arProductID = array($ELEMENT_ID);
				}
				else
					$arProductID = array($ELEMENT_ID);

				if($arPropArray["MINIMUM_PRICE"]){
					$minPrice = false;
					$maxPrice = false;
					//Get prices
					$rsPrices = CPrice::GetList(
						array(),
						array(
							"PRODUCT_ID" => $arProductID,
						)
					);
					while($arPrice = $rsPrices->Fetch()){
						if (CModule::IncludeModule('currency') && $strDefaultCurrency != $arPrice['CURRENCY'])
							$arPrice["PRICE"] = CCurrencyRates::ConvertCurrency($arPrice["PRICE"], $arPrice["CURRENCY"], $strDefaultCurrency);

						$PRICE = $arPrice["PRICE"];

						if($minPrice === false || $minPrice > $PRICE)
							$minPrice = $PRICE;

						if($maxPrice === false || $maxPrice < $PRICE)
							$maxPrice = $PRICE;
					}

					//Save found minimal price into property
					if($minPrice !== false){
						CIBlockElement::SetPropertyValuesEx(
							$ELEMENT_ID,
							$IBLOCK_ID,
							array(
								"MINIMUM_PRICE" => $minPrice,
								"MAXIMUM_PRICE" => $maxPrice,
							)
						);
					}
				}
				if($arPropArray["IN_STOCK"]){
					$quantity=0;
					$rsQuantity = CCatalogProduct::GetList(
				        array("QUANTITY" => "DESC"),
				        array("ID" => $arProductID),
				        false,
				        false,
				        array("QUANTITY")
				    );
					while($arQuantity = $rsQuantity->Fetch()){
						if($arQuantity["QUANTITY"]>0)
							$quantity+=$arQuantity["QUANTITY"];
					}
					if($quantity>0){
						$rsPropStock = CIBlockPropertyEnum::GetList(Array("DEF"=>"DESC", "SORT"=>"ASC"), Array("IBLOCK_ID"=>$IBLOCK_ID, "CODE"=>"IN_STOCK"));
						if($arPropStock=$rsPropStock->Fetch()){
							$idProp=$arPropStock["ID"];
						}

						CIBlockElement::SetPropertyValuesEx(
							$ELEMENT_ID,
							$IBLOCK_ID,
							array(
								"IN_STOCK" => $idProp,
							)
						);
					}else{
						CIBlockElement::SetPropertyValuesEx(
							$ELEMENT_ID,
							$IBLOCK_ID,
							array(
								"IN_STOCK" => "",
							)
						);
					}
					if(class_exists('\Bitrix\Iblock\PropertyIndex\Manager')){
						\Bitrix\Iblock\PropertyIndex\Manager::updateElementIndex($IBLOCK_ID, $ELEMENT_ID);
					}
				}
			}
		}
	}

	function setStockProduct($ID, $arFields){
		//Get iblock element
		$rsPriceElement = CIBlockElement::GetList(
			array(),
			array(
				"ID" => $ID,
			),
			false,
			false,
			array("ID", "IBLOCK_ID")
		);
		if($arPriceElement = $rsPriceElement->Fetch()){
			$arCatalog = CCatalog::GetByID($arPriceElement["IBLOCK_ID"]);
			if(is_array($arCatalog)){
				//Check if it is offers iblock
				if($arCatalog["OFFERS"] == "Y"){
					//Find product element
					$rsElement = CIBlockElement::GetProperty(
						$arPriceElement["IBLOCK_ID"],
						$arPriceElement["ID"],
						"sort",
						"asc",
						array("ID" => $arCatalog["SKU_PROPERTY_ID"])
					);
					$arElement = $rsElement->Fetch();
					if($arElement && $arElement["VALUE"] > 0)
					{
						$ELEMENT_ID = $arElement["VALUE"];
						$IBLOCK_ID = $arCatalog["PRODUCT_IBLOCK_ID"];
						$OFFERS_IBLOCK_ID = $arCatalog["IBLOCK_ID"];
						$OFFERS_PROPERTY_ID = $arCatalog["SKU_PROPERTY_ID"];
					}
				}
				//or iblock which has offers
				elseif($arCatalog["OFFERS_IBLOCK_ID"] > 0){
					$ELEMENT_ID = $arPriceElement["ID"];
					$IBLOCK_ID = $arPriceElement["IBLOCK_ID"];
					$OFFERS_IBLOCK_ID = $arCatalog["OFFERS_IBLOCK_ID"];
					$OFFERS_PROPERTY_ID = $arCatalog["OFFERS_PROPERTY_ID"];
				}
				//or it's regular catalog
				else{
					$ELEMENT_ID = $arPriceElement["ID"];
					$IBLOCK_ID = $arPriceElement["IBLOCK_ID"];
					$OFFERS_IBLOCK_ID = false;
					$OFFERS_PROPERTY_ID = false;
				}
			}
		}
		if($ELEMENT_ID){
			static $arPropCache = array();
			static $arPropArray=array();

			if(!array_key_exists($IBLOCK_ID, $arPropCache)){
				//Check for IN_STOCK property
				$rsProperty = CIBlockProperty::GetByID("IN_STOCK", $IBLOCK_ID);
				$arProperty = $rsProperty->Fetch();
				if($arProperty){
					$arPropCache[$IBLOCK_ID] = $arProperty["ID"];
					$arPropArray["IN_STOCK"]=$arProperty["ID"];
				}else{
					if(!$arPropCache[$IBLOCK_ID])
						$arPropCache[$IBLOCK_ID] = false;
				}
			}
			if($arPropCache[$IBLOCK_ID]){
				//Compose elements filter
				if($OFFERS_IBLOCK_ID){
					$rsOffers = CIBlockElement::GetList(
						array(),
						array(
							"IBLOCK_ID" => $OFFERS_IBLOCK_ID,
							"PROPERTY_".$OFFERS_PROPERTY_ID => $ELEMENT_ID,
							"ACTIVE" => "Y"
						),
						false,
						false,
						array("ID")
					);
					while($arOffer = $rsOffers->Fetch())
						$arProductID[] = $arOffer["ID"];

					if (!is_array($arProductID))
						$arProductID = array($ELEMENT_ID);
				}
				else
					$arProductID = array($ELEMENT_ID);
				if($arPropArray["IN_STOCK"]){
					$quantity=0;
					$rsQuantity = CCatalogProduct::GetList(
				        array("QUANTITY" => "DESC"),
				        array("ID" => $arProductID),
				        false,
				        false,
				        array("QUANTITY")
				    );
					while($arQuantity = $rsQuantity->Fetch()){
						if($arQuantity["QUANTITY"]>0)
							$quantity+=$arQuantity["QUANTITY"];
					}
					if($quantity>0){
						$rsPropStock = CIBlockPropertyEnum::GetList(Array("DEF"=>"DESC", "SORT"=>"ASC"), Array("IBLOCK_ID"=>$IBLOCK_ID, "CODE"=>"IN_STOCK"));
						if($arPropStock=$rsPropStock->Fetch()){
							$idProp=$arPropStock["ID"];
						}

						CIBlockElement::SetPropertyValuesEx(
							$ELEMENT_ID,
							$IBLOCK_ID,
							array(
								"IN_STOCK" => $idProp,
							)
						);
					}else{
						CIBlockElement::SetPropertyValuesEx(
							$ELEMENT_ID,
							$IBLOCK_ID,
							array(
								"IN_STOCK" => "",
							)
						);
					}
					if(class_exists('\Bitrix\Iblock\PropertyIndex\Manager')){
						\Bitrix\Iblock\PropertyIndex\Manager::updateElementIndex($IBLOCK_ID, $ELEMENT_ID);
					}
				}
			}
		}
	}

	function getViewedProducts($userID=false, $siteID=false){
		global $TEMPLATE_OPTIONS, $STARTTIME;
		$arResult = array();
		$siteID = $siteID ? $siteID : SITE_ID;
		$localKey = 'OPTIMUS_VIEWED_ITEMS_'.$siteID;

		if($IsViewedTypeLocal = ($TEMPLATE_OPTIONS['VIEWED_TYPE']['CURRENT_VALUE'] === 'LOCAL')){
			$arViewed = (isset($_COOKIE[$localKey]) && strlen($_COOKIE[$localKey])) ? json_decode($_COOKIE[$localKey], true) : array();

			if($arViewed && is_array($arViewed)){
				$viewedDays = COption::GetOptionString("sale", "viewed_time", "5");
				$viewedCntMax = COption::GetOptionString("sale", "viewed_count", "10");
				$DIETIME = $STARTTIME - $viewedDays * 86400000;

				// delete old items
				foreach($arViewed as $ID => $arItem){
					if($arItem[0] < $DIETIME){
						unset($arViewed[$ID]);
						continue;
					}

					$arResult[$ID] = $arItem[0];
				}

				// sort by ACTIVE_FROM
				arsort($arResult);

				// make IDs array
				$arResult = array_keys($arResult);

				// only $viewedCntMax items
				$arResult = array_slice($arResult, 0, $viewedCntMax);
			}
		}
		else{
			\Bitrix\Main\Loader::includeModule('sale');
			\Bitrix\Main\Loader::includeModule('catalog');
			$userID = $userID ? $userID : (int)CSaleBasket::GetBasketUserID(false);

			$viewedIterator = \Bitrix\Catalog\CatalogViewedProductTable::GetList(array(
				'select' => array('PRODUCT_ID', 'ELEMENT_ID'),
				'filter' => array('=FUSER_ID' => $userID, '=SITE_ID' => $siteID),
				'order' => array('DATE_VISIT' => 'DESC'),
				'limit' => 8
			));
			while($viewedProduct = $viewedIterator->fetch()){
				$viewedProduct['ELEMENT_ID'] = (int)$viewedProduct['ELEMENT_ID'];
				$viewedProduct['PRODUCT_ID'] = (int)$viewedProduct['PRODUCT_ID'];
				$arResult[$viewedProduct['PRODUCT_ID']] = $viewedProduct['ELEMENT_ID'];
			}
		}

		return $arResult;
	}

	function setFooterTitle(){
		global $APPLICATION, $arSite;
		if(\Bitrix\Main\Config\Option::get("aspro.optimus", "HIDE_SITE_NAME_TITLE", "N")=="N"){
			if(!COptimus::IsMainPage()){
				if(strlen($APPLICATION->GetPageProperty('title')) > 1){
					$title = $APPLICATION->GetPageProperty('title');
				}
				else{
					$title = $APPLICATION->GetTitle();
				}
				$APPLICATION->SetPageProperty("title", $title.' - '.$arSite['SITE_NAME']);
			}
			else{
				if(strlen($APPLICATION->GetPageProperty('title')) > 1){
					$title =  $APPLICATION->GetPageProperty('title');
				}
				else{
					$title =  $APPLICATION->GetTitle();
				}
				if(!empty($title)){
					$APPLICATION->SetPageProperty("title", $title);
				}
				else{
					$APPLICATION->SetPageProperty("title", $arSite['SITE_NAME']);
				}
			}
		}
	}

	function getBasketItems($iblockID=0, $field="PRODUCT_ID"){
		$basket_items = $delay_items = $subscribe_items = $not_available_items = array();
		$arItems=array();
		if(CModule::IncludeModule("sale")){
			$arBasketItems=COptimusCache::CSaleBasket_GetList(array("NAME" => "ASC", "ID" => "ASC"), array("FUSER_ID" => CSaleBasket::GetBasketUserID(), "LID" => SITE_ID, "ORDER_ID" => "NULL"), false, false, array("ID", "PRODUCT_ID", "DELAY", "SUBSCRIBE", "CAN_BUY", "TYPE", "SET_PARENT_ID"), "sale_basket");

			global $compare_items;
			if(!is_array($compare_items)){
				$compare_items = array();
				$iblockID=((isset($iblockID) && $iblockID) ? $iblockID : COptimusCache::$arIBlocks[SITE_ID]['aspro_optimus_catalog']['aspro_optimus_catalog'][0] );
				if($iblockID && isset($_SESSION["CATALOG_COMPARE_LIST"][$iblockID]["ITEMS"])){
					$compare_items = array_keys($_SESSION["CATALOG_COMPARE_LIST"][$iblockID]["ITEMS"]);
				}
			}
			if($arBasketItems){
				foreach($arBasketItems as $arBasketItem){
					if(CSaleBasketHelper::isSetItem($arBasketItem)) // set item
						continue;
					if($arBasketItem["DELAY"]=="N" && $arBasketItem["CAN_BUY"] == "Y" && $arBasketItem["SUBSCRIBE"] == "N"){
						$basket_items[] = $arBasketItem[$field];
					}
					elseif($arBasketItem["DELAY"]=="Y" && $arBasketItem["CAN_BUY"] == "Y" && $arBasketItem["SUBSCRIBE"] == "N"){
						$delay_items[] = $arBasketItem[$field];
					}
					elseif($arBasketItem["SUBSCRIBE"]=="Y"){
						$subscribe_items[] = $arBasketItem[$field];
					}else{
						$not_available_items[] = $arBasketItem[$field];
					}
				}
			}
			$arItems["BASKET"]=array_combine($basket_items, $basket_items);
			$arItems["DELAY"]=array_combine($delay_items, $delay_items);
			$arItems["SUBSCRIBE"]=array_combine($subscribe_items, $subscribe_items);
			$arItems["NOT_AVAILABLE"]=array_combine($not_available_items, $not_available_items);
			$arItems["COMPARE"]=array_combine($compare_items, $compare_items);

		}
		return $arItems;
	}

	function showFooterBasket(){
		Bitrix\Main\Page\Frame::getInstance()->startDynamicWithID("basketitems-block");

		$arItems=self::getBasketItems();

		if(CModule::IncludeModule("currency")){
			CJSCore::Init(array('currency'));
			$currencyFormat = CCurrencyLang::GetFormatDescription(CSaleLang::GetLangCurrency(SITE_ID));
		}
		?>
		<script type="text/javascript">
			<?if(is_array($currencyFormat)):?>
				function jsPriceFormat(_number){
					BX.Currency.setCurrencyFormat('<?=CSaleLang::GetLangCurrency(SITE_ID);?>', <? echo CUtil::PhpToJSObject($currencyFormat, false, true); ?>);
					return BX.Currency.currencyFormat(_number, '<?=CSaleLang::GetLangCurrency(SITE_ID);?>', true);
				}
			<?endif;?>
		</script>
		<script type="text/javascript">
			var arBasketAspro = <? echo CUtil::PhpToJSObject($arItems, false, true); ?>;
			$(document).ready(function(){
				<?if(is_array($arItems["BASKET"]) && !empty($arItems["BASKET"])):?>
					<?foreach( $arItems["BASKET"] as $key=>$item ){?>
						$('.to-cart[data-item=<?=$key?>]').hide();
						$('.counter_block[data-item=<?=$key?>]').hide();
						$('.in-cart[data-item=<?=$key?>]').show();
						$('.in-cart[data-item=<?=$key?>]').closest('.button_block').addClass('wide');
					<?}?>
				<?endif;?>
				<?if(is_array($arItems["DELAY"]) && !empty($arItems["DELAY"])):?>
					<?foreach( $arItems["DELAY"] as $key=>$item ){?>
						$('.wish_item.to[data-item=<?=$key?>]').hide();
						$('.wish_item.in[data-item=<?=$key?>]').show();
						if ($('.wish_item[data-item=<?=$key?>]').find(".value.added").length) {
							$('.wish_item[data-item=<?=$key?>]').addClass("added");
							$('.wish_item[data-item=<?=$key?>]').find(".value").hide();
							$('.wish_item[data-item=<?=$key?>]').find(".value.added").css('display','block');
						}
					<?}?>
				<?endif;?>
				<?if(is_array($arItems["SUBSCRIBE"]) && !empty($arItems["SUBSCRIBE"])):?>
					<?foreach( $arItems["SUBSCRIBE"] as $key=>$item ){?>
						$('.to-subscribe[data-item=<?=$key?>]').hide();
						$('.in-subscribe[data-item=<?=$key?>]').show();
					<?}?>
				<?endif;?>
				<?if(is_array($arItems["COMPARE"]) && !empty($arItems["COMPARE"])):?>
					<?foreach( $arItems["COMPARE"] as $key=>$item ){?>
						$('.compare_item.to[data-item=<?=$key?>]').hide();
						$('.compare_item.in[data-item=<?=$key?>]').show();
						if ($('.compare_item[data-item=<?=$key?>]').find(".value.added").length){
							$('.compare_item[data-item=<?=$key?>]').addClass("added");
							$('.compare_item[data-item=<?=$key?>]').find(".value").hide();
							$('.compare_item[data-item=<?=$key?>]').find(".value.added").css('display','block');
						}
					<?}?>
				<?endif;?>
			});
		</script>
		<?Bitrix\Main\Page\Frame::getInstance()->finishDynamicWithID("basketitems-block", "");
	}

	function prepareShopListArray($arShops){
		$arFormatShops=array();

		$arPlacemarks = array();

		if(is_array($arShops)){
			foreach($arShops as $i => $arShop){
				if(isset($arShop['IBLOCK_ID'])){
					$arShop['TITLE'] = ($arShop['FIELDS']['NAME'] ? $arShop['NAME'] : '');
					$imageID = (($arShop['FIELDS']['PREVIEW_PICTURE'] && $arShop["PREVIEW_PICTURE"]['ID']) ? $arShop["PREVIEW_PICTURE"]['ID'] : (($arShop['FIELD_CODE']['DETAIL_PICTURE'] && $arShop["DETAIL_PICTURE"]['ID']) ? $arShop["DETAIL_PICTURE"]['ID'] : false));
					$arShop['IMAGE'] = ($imageID ? CFile::ResizeImageGet($imageID, array('width' => 100, 'height' => 69), BX_RESIZE_IMAGE_EXACT) : '');
					$arShop['ADDRESS'] = $arShop['DISPLAY_PROPERTIES']['ADDRESS']['VALUE'];
					$arShop['ADDRESS'] = $arShop['TITLE'].((strlen($arShop['TITLE']) && strlen($arShop['ADDRESS'])) ? ', ' : '').$arShop['ADDRESS'];
					$arShop['PHONE'] = $arShop['DISPLAY_PROPERTIES']['PHONE']['VALUE'];
					$arShop['EMAIL'] = $arShop['DISPLAY_PROPERTIES']['EMAIL']['VALUE'];
					if($arShop['DISPLAY_PROPERTIES']['SCHEDULE']['VALUE']['TYPE'] == 'html'){
						$arShop['SCHEDULE'] = htmlspecialchars_decode($arShop['DISPLAY_PROPERTIES']['SCHEDULE']['VALUE']['TEXT']);
					}
					else{
						$arShop['SCHEDULE'] = nl2br($arShop['DISPLAY_PROPERTIES']['SCHEDULE']['VALUE']['TEXT']);
					}
					$arShop['URL'] = $arShop['DETAIL_PAGE_URL'];
					$arShop['METRO_PLACEMARK_HTML'] = '';
					if($arShop['METRO'] = $arShop['DISPLAY_PROPERTIES']['METRO']['VALUE']){
						if(!is_array($arShop['METRO'])){
							$arShop['METRO'] = array($arShop['METRO']);
						}
						foreach($arShop['METRO'] as $metro){
							$arShop['METRO_PLACEMARK_HTML'] .= '<div class="metro"><i></i>'.$metro.'</div>';
						}
					}
					$arShop['DESCRIPTION'] = $arShop['DETAIL_TEXT'];
					$arShop['GPS_S'] = false;
					$arShop['GPS_N'] = false;
					if($arStoreMap = explode(',', $arShop['DISPLAY_PROPERTIES']['MAP']['VALUE'])){
						$arShop['GPS_S'] = $arStoreMap[0];
						$arShop['GPS_N'] = $arStoreMap[1];
					}

					if($arShop['GPS_S'] && $arShop['GPS_N']){
						$mapLAT += $arShop['GPS_S'];
						$mapLON += $arShop['GPS_N'];
						$arPlacemarks[] = array(
							"ID" => $arShop["ID"],
							"LAT" => $arShop['GPS_S'],
							"LON" => $arShop['GPS_N'],
							"TEXT" => $arShop["TITLE"],
							"HTML" => '<div class="title">'.(strlen($arShop["URL"]) ? '<a href="'.$arShop["URL"].'">' : '').$arShop["ADDRESS"].(strlen($arShop["URL"]) ? '</a>' : '').'</div><div class="info-content">'.($arShop['METRO'] ? $arShop['METRO_PLACEMARK_HTML'] : '').(strlen($arShop['SCHEDULE']) ? '<div class="schedule">'.$arShop['SCHEDULE'].'</div>' : '').(strlen($arShop['PHONE']) ? '<div class="phone"><a rel="nofollow" href="tel:'.$arShop["PHONE"].'">'.$arShop['PHONE'].'</a></div>' : '').(strlen($arShop['EMAIL']) ? '<div class="email"><a rel="nofollow" href="mailto:'.$arShop['EMAIL'].'">'.$arShop['EMAIL'].'</a></div>' : '').'</div>'.(strlen($arShop['URL']) ? '<a rel="nofollow" class="button" href="'.$arShop["URL"].'"><span>'.GetMessage('DETAIL').'</span></a>' : '')
						);
					}
				}
				else{
					if($arShop['GPS_S'] && $arShop['GPS_N']){
						$mapLAT += $arShop['GPS_N'];
						$mapLON += $arShop['GPS_S'];
						$arPlacemarks[] = array(
							"ID" => $arShop["ID"],
							"LON" => $arShop['GPS_S'],
							"LAT" => $arShop['GPS_N'],
							"TEXT" => $arShop["TITLE"],
							"HTML" => '<div class="title">'.(strlen($arShop["URL"]) ? '<a href="'.$arShop["URL"].'">' : '').$arShop["ADDRESS"].(strlen($arShop["URL"]) ? '</a>' : '').'</div><div class="info-content">'.($arShop['METRO'] ? $arShop['METRO_PLACEMARK_HTML'] : '').(strlen($arShop['SCHEDULE']) ? '<div class="schedule">'.$arShop['SCHEDULE'].'</div>' : '').(strlen($arShop['PHONE']) ? '<div class="phone"><a rel="nofollow" href="tel:'.$arShop["PHONE"].'">'.$arShop['PHONE'].'</a></div>' : '').(strlen($arShop['EMAIL']) ? '<div class="email"><a rel="nofollow" href="mailto:'.$arShop['EMAIL'].'">'.$arShop['EMAIL'].'</a></div>' : '').'</div>'.(strlen($arShop['URL']) ? '<a rel="nofollow" class="button" href="'.$arShop["URL"].'"><span>'.GetMessage('DETAIL').'</span></a>' : '')
						);
					}
				}
				$arShops[$i] = $arShop;
			}
		}
		$arFormatShops["SHOPS"]=$arShops;
		$arFormatShops["PLACEMARKS"]=$arPlacemarks;
		$arFormatShops["POINTS"]=array(
			"LAT" => $mapLAT,
			"LON" => $mapLON,
		);

		return $arFormatShops;
	}

	function prepareShopDetailArray($arShop, $arParams){
		$mapLAT = $mapLON = 0;
		$arPlacemarks = array();
		$arPhotos = array();
		$arFormatShops=array();

		if(is_array($arShop)){
			if(isset($arShop['IBLOCK_ID'])){
				$arShop['LIST_URL'] = $arShop['LIST_PAGE_URL'];
				$arShop['TITLE'] = (in_array('NAME', $arParams['FIELD_CODE']) ? $arShop['NAME'] : '');
				$arShop['ADDRESS'] = $arShop['DISPLAY_PROPERTIES']['ADDRESS']['VALUE'];
				$arShop['ADDRESS'] = $arShop['TITLE'].((strlen($arShop['TITLE']) && strlen($arShop['ADDRESS'])) ? ', ' : '').$arShop['ADDRESS'];
				$arShop['PHONE'] = $arShop['DISPLAY_PROPERTIES']['PHONE']['VALUE'];
				$arShop['EMAIL'] = $arShop['DISPLAY_PROPERTIES']['EMAIL']['VALUE'];
				if($arShop['DISPLAY_PROPERTIES']['SCHEDULE']['VALUE']['TYPE'] == 'html'){
					$arShop['SCHEDULE'] = htmlspecialchars_decode($arShop['DISPLAY_PROPERTIES']['SCHEDULE']['VALUE']['TEXT']);
				}
				else{
					$arShop['SCHEDULE'] = nl2br($arShop['DISPLAY_PROPERTIES']['SCHEDULE']['VALUE']['TEXT']);
				}
				$arShop['URL'] = $arShop['DETAIL_PAGE_URL'];
				$arShop['METRO_PLACEMARK_HTML'] = '';
				if($arShop['METRO'] = $arShop['DISPLAY_PROPERTIES']['METRO']['VALUE']){
					if(!is_array($arShop['METRO'])){
						$arShop['METRO'] = array($arShop['METRO']);
					}
					foreach($arShop['METRO'] as $metro){
						$arShop['METRO_PLACEMARK_HTML'] .= '<div class="metro"><i></i>'.$metro.'</div>';
					}
				}
				$arShop['GPS_S'] = false;
				$arShop['GPS_N'] = false;
				if($arStoreMap = explode(',', $arShop['DISPLAY_PROPERTIES']['MAP']['VALUE'])){
					$arShop['GPS_S'] = $arStoreMap[0];
					$arShop['GPS_N'] = $arStoreMap[1];
				}

				if($arShop['GPS_S'] && $arShop['GPS_N']){
					$mapLAT += $arShop['GPS_S'];
					$mapLON += $arShop['GPS_N'];
					$arPlacemarks[] = array(
						"ID" => $arShop["ID"],
						"LAT" => $arShop['GPS_S'],
						"LON" => $arShop['GPS_N'],
						"TEXT" => $arShop["TITLE"],
						"HTML" => '<div class="title">'.(strlen($arShop["URL"]) ? '<a href="'.$arShop["URL"].'">' : '').$arShop["ADDRESS"].(strlen($arShop["URL"]) ? '</a>' : '').'</div><div class="info-content">'.($arShop['METRO'] ? $arShop['METRO_PLACEMARK_HTML'] : '').(strlen($arShop['SCHEDULE']) ? '<div class="schedule">'.$arShop['SCHEDULE'].'</div>' : '').(strlen($arShop['PHONE']) ? '<div class="phone"><a rel="nofollow" href="tel:'.$arShop["PHONE"].'">'.$arShop['PHONE'].'</a></div>' : '').(strlen($arShop['EMAIL']) ? '<div class="email"><a rel="nofollow" href="mailto:'.$arShop['EMAIL'].'">'.$arShop['EMAIL'].'</a></div>' : '').'</div>'.(strlen($arShop['URL']) ? '<a rel="nofollow" class="button" href="'.$arShop["URL"].'"><span>'.GetMessage('DETAIL').'</span></a>' : '')
					);
				}
			}
			else{
				$arShop["TITLE"] = htmlspecialchars_decode($arShop["TITLE"]);
				$arShop["ADDRESS"] = htmlspecialchars_decode($arShop["ADDRESS"]);
				$arShop["ADDRESS"] = (strlen($arShop["TITLE"]) ? $arShop["TITLE"].', ' : '').$arShop["ADDRESS"];
				$arShop["DESCRIPTION"] = htmlspecialchars_decode($arShop['DESCRIPTION']);
				$arShop['SCHEDULE'] = htmlspecialchars_decode($arShop['SCHEDULE']);

				if($arShop['GPS_S'] && $arShop['GPS_N']){
					$mapLAT += $arShop['GPS_N'];
					$mapLON += $arShop['GPS_S'];
					$arPlacemarks[] = array(
						"ID" => $arShop["ID"],
						"LON" => $arShop['GPS_S'],
						"LAT" => $arShop['GPS_N'],
						"TEXT" => $arShop["TITLE"],
						"HTML" => '<div class="title">'.(strlen($arShop["URL"]) ? '<a href="'.$arShop["URL"].'">' : '').$arShop["ADDRESS"].(strlen($arShop["URL"]) ? '</a>' : '').'</div><div class="info-content">'.($arShop['METRO'] ? $arShop['METRO_PLACEMARK_HTML'] : '').(strlen($arShop['SCHEDULE']) ? '<div class="schedule">'.$arShop['SCHEDULE'].'</div>' : '').(strlen($arShop['PHONE']) ? '<div class="phone"><a rel="nofollow" href="tel:'.$arShop["PHONE"].'">'.$arShop['PHONE'].'</a></div>' : '').(strlen($arShop['EMAIL']) ? '<div class="email"><a rel="nofollow" href="mailto:'.$arShop['EMAIL'].'">'.$arShop['EMAIL'].'</a></div>' : '').'</div>'.(strlen($arShop['URL']) ? '<a rel="nofollow" class="button" href="'.$arShop["URL"].'"><span>'.GetMessage('DETAIL').'</span></a>' : '')
					);
				}
			}
		}
		$arFormatShops["SHOP"]=$arShop;
		$arFormatShops["PLACEMARKS"]=$arPlacemarks;
		$arFormatShops["POINTS"]=array(
			"LAT" => $mapLAT,
			"LON" => $mapLON,
		);

		return $arFormatShops;

	}

	function drawShopsList($arShops, $arParams, $showMap="Y"){
		global $APPLICATION;
		$mapLAT = $mapLON = 0;
		$arPlacemarks = array();

		if(is_array($arShops)){
			foreach($arShops as $i => $arShop){
				if(isset($arShop['IBLOCK_ID'])){
					$arShop['TITLE'] = (in_array('NAME', $arParams['FIELD_CODE']) ? $arShop['NAME'] : '');
					$imageID = ((in_array('PREVIEW_PICTURE', $arParams['FIELD_CODE']) && $arShop["PREVIEW_PICTURE"]['ID']) ? $arShop["PREVIEW_PICTURE"]['ID'] : ((in_array('DETAIL_PICTURE', $arParams['FIELD_CODE']) && $arShop["DETAIL_PICTURE"]['ID']) ? $arShop["DETAIL_PICTURE"]['ID'] : false));
					$arShop['IMAGE'] = ($imageID ? CFile::ResizeImageGet($imageID, array('width' => 100, 'height' => 69), BX_RESIZE_IMAGE_EXACT) : '');
					$arShop['ADDRESS'] = $arShop['DISPLAY_PROPERTIES']['ADDRESS']['VALUE'];
					$arShop['ADDRESS'] = $arShop['TITLE'].((strlen($arShop['TITLE']) && strlen($arShop['ADDRESS'])) ? ', ' : '').$arShop['ADDRESS'];
					$arShop['PHONE'] = $arShop['DISPLAY_PROPERTIES']['PHONE']['VALUE'];
					$arShop['EMAIL'] = $arShop['DISPLAY_PROPERTIES']['EMAIL']['VALUE'];

					if(strToLower($arShop['DISPLAY_PROPERTIES']['SCHEDULE']['VALUE']['TYPE']) == 'html'){
						$arShop['SCHEDULE'] = htmlspecialchars_decode($arShop['DISPLAY_PROPERTIES']['SCHEDULE']['~VALUE']['TEXT']);
					}
					else{
						$arShop['SCHEDULE'] = nl2br($arShop['DISPLAY_PROPERTIES']['SCHEDULE']['VALUE']['TEXT']);
					}
					$arShop['URL'] = $arShop['DETAIL_PAGE_URL'];
					$arShop['METRO_PLACEMARK_HTML'] = '';
					if($arShop['METRO'] = $arShop['DISPLAY_PROPERTIES']['METRO']['VALUE']){
						if(!is_array($arShop['METRO'])){
							$arShop['METRO'] = array($arShop['METRO']);
						}
						foreach($arShop['METRO'] as $metro){
							$arShop['METRO_PLACEMARK_HTML'] .= '<div class="metro"><i></i>'.$metro.'</div>';
						}
					}
					$arShop['DESCRIPTION'] = $arShop['DETAIL_TEXT'];
					$arShop['GPS_S'] = false;
					$arShop['GPS_N'] = false;
					if($arStoreMap = explode(',', $arShop['DISPLAY_PROPERTIES']['MAP']['VALUE'])){
						$arShop['GPS_S'] = $arStoreMap[0];
						$arShop['GPS_N'] = $arStoreMap[1];
					}

					if($arShop['GPS_S'] && $arShop['GPS_N']){
						$mapLAT += $arShop['GPS_S'];
						$mapLON += $arShop['GPS_N'];
						$arPlacemarks[] = array(
							"ID" => $arShop["ID"],
							"LAT" => $arShop['GPS_S'],
							"LON" => $arShop['GPS_N'],
							"TEXT" => $arShop["TITLE"],
							"HTML" => '<div class="title">'.(strlen($arShop["URL"]) ? '<a href="'.$arShop["URL"].'">' : '').$arShop["ADDRESS"].(strlen($arShop["URL"]) ? '</a>' : '').'</div><div class="info-content">'.($arShop['METRO'] ? $arShop['METRO_PLACEMARK_HTML'] : '').(strlen($arShop['SCHEDULE']) ? '<div class="schedule">'.$arShop['SCHEDULE'].'</div>' : '').(strlen($arShop['PHONE']) ? '<div class="phone"><a rel="nofollow" href="tel:'.$arShop["PHONE"].'">'.$arShop['PHONE'].'</a></div>' : '').(strlen($arShop['EMAIL']) ? '<div class="email"><a rel="nofollow" href="mailto:'.$arShop['EMAIL'].'">'.$arShop['EMAIL'].'</a></div>' : '').'</div>'.(strlen($arShop['URL']) ? '<a rel="nofollow" class="button" href="'.$arShop["URL"].'"><span>'.GetMessage('DETAIL').'</span></a>' : '')
						);
					}
				}
				else{
					if($arShop['GPS_S'] && $arShop['GPS_N']){
						$mapLAT += $arShop['GPS_N'];
						$mapLON += $arShop['GPS_S'];
						$arPlacemarks[] = array(
							"ID" => $arShop["ID"],
							"LON" => $arShop['GPS_S'],
							"LAT" => $arShop['GPS_N'],
							"TEXT" => $arShop["TITLE"],
							"HTML" => '<div class="title">'.(strlen($arShop["URL"]) ? '<a href="'.$arShop["URL"].'">' : '').$arShop["ADDRESS"].(strlen($arShop["URL"]) ? '</a>' : '').'</div><div class="info-content">'.($arShop['METRO'] ? $arShop['METRO_PLACEMARK_HTML'] : '').(strlen($arShop['SCHEDULE']) ? '<div class="schedule">'.$arShop['SCHEDULE'].'</div>' : '').(strlen($arShop['PHONE']) ? '<div class="phone"><a rel="nofollow" href="tel:'.$arShop["PHONE"].'">'.$arShop['PHONE'].'</a></div>' : '').(strlen($arShop['EMAIL']) ? '<div class="email"><a rel="nofollow" href="mailto:'.$arShop['EMAIL'].'">'.$arShop['EMAIL'].'</a></div>' : '').'</div>'.(strlen($arShop['URL']) ? '<a rel="nofollow" class="button" href="'.$arShop["URL"].'"><span>'.GetMessage('DETAIL').'</span></a>' : '')
						);
					}
				}
				$arShops[$i] = $arShop;
			}
			?>
			<?if($arShops):?>
				<?if(abs($mapLAT) > 0 && abs($mapLON) > 0 && $showMap=="Y"):?>
					<?
					$mapLAT = floatval($mapLAT / count($arShops));
					$mapLON = floatval($mapLON / count($arShops));
					?>
					<div class="contacts_map">
						<?$APPLICATION->IncludeComponent(
							"bitrix:map.google.view",
							"map",
							array(
								"INIT_MAP_TYPE" => "ROADMAP",
								"MAP_DATA" => serialize(array("google_lat" => $mapLAT, "google_lon" => $mapLON, "google_scale" => 15, "PLACEMARKS" => $arPlacemarks)),
								"MAP_WIDTH" => "100%",
								"MAP_HEIGHT" => "400",
								"CONTROLS" => array(
								),
								"OPTIONS" => array(
									0 => "ENABLE_DBLCLICK_ZOOM",
									1 => "ENABLE_DRAGGING",
								),
								"MAP_ID" => "",
								"ZOOM_BLOCK" => array(
									"POSITION" => "right center",
								),
								"API_KEY" => $arParams["GOOGLE_API_KEY"],
								"COMPOSITE_FRAME_MODE" => "A",
								"COMPOSITE_FRAME_TYPE" => "AUTO"
							),
							false, array("HIDE_ICONS" =>"Y")
						);?>
					</div>
				<?endif;?>
				<div class="wrapper_inner">
					<div class="shops list">
						<div class="items">
							<?foreach($arShops as $arShop):?>
								<div class="item <?=(strlen($arShop["IMAGE"]["src"]) ? '' : 'wi')?>" data-ID="<?=$arShop['ID']?>">
									<div class="image">
										<?if(strlen($arShop["IMAGE"]["src"])):?>
											<?if(strlen($arShop['URL'])):?>
												<a href="<?=$arShop['URL']?>"><img src="<?=$arShop["IMAGE"]["src"]?>" alt="<?=$arShop["ADDRESS"]?>" title="<?=$arShop["ADDRESS"]?>" /></a>
											<?else:?>
												<img src="<?=$arShop["IMAGE"]["src"]?>" alt="<?=$arShop["ADDRESS"]?>" title="<?=$arShop["ADDRESS"]?>" />
											<?endif;?>
										<?endif;?>
									</div>
									<div class="rubber">
										<div class="title_metro">
											<?if(strlen($arShop["ADDRESS"])):?>
												<?if(strlen($arShop['URL'])):?>
													<a href="<?=$arShop['URL']?>"><div class="title"><?=$arShop["ADDRESS"]?></div></a>
												<?else:?>
													<div class="title"><?=$arShop["ADDRESS"]?></div>
												<?endif;?>
											<?endif;?>
											<?if($arShop["METRO"]):?>
												<?foreach($arShop['METRO'] as $metro):?>
													<div class="metro"><i></i><?=$metro?></div>
												<?endforeach;?>
											<?endif;?>
										</div>
										<div class="schedule_phone_email">
											<div class="schedule"><?=$arShop["SCHEDULE"]?></div>
											<div class="phone_email">
												<?if(strlen($arShop["PHONE"])):?>
													<div class="phone"><a rel="nofollow" href="tel:<?=$arShop["PHONE"]?>"><?=$arShop["PHONE"]?></a></div>
												<?endif;?>
												<?if(strlen($arShop["EMAIL"])):?>
													<div class="email"><a rel="nofollow" href="mailto:<?=$arShop["EMAIL"]?>"><?=$arShop["EMAIL"]?></a></div>
												<?endif;?>
											</div>
										</div>
									</div>
								</div>
							<?endforeach;?>
						</div>
					</div>
				</div>
				<div class="clearboth"></div>
			<?endif;?>
			<?
		}
		else{
			LocalRedirect(SITE_DIR.'contacts/');
		}
	}

	function drawShopDetail($arShop, $arParams, $showMap="Y"){
		global $APPLICATION;
		$mapLAT = $mapLON = 0;
		$arPlacemarks = array();
		$arPhotos = array();

		if(is_array($arShop)){
			if(isset($arShop['IBLOCK_ID'])){
				$arShop['LIST_URL'] = $arShop['LIST_PAGE_URL'];
				$arShop['TITLE'] = (in_array('NAME', $arParams['FIELD_CODE']) ? $arShop['NAME'] : '');
				$arShop['ADDRESS'] = $arShop['DISPLAY_PROPERTIES']['ADDRESS']['VALUE'];
				$arShop['ADDRESS'] = $arShop['TITLE'].((strlen($arShop['TITLE']) && strlen($arShop['ADDRESS'])) ? ', ' : '').$arShop['ADDRESS'];
				$arShop['PHONE'] = $arShop['DISPLAY_PROPERTIES']['PHONE']['VALUE'];
				$arShop['EMAIL'] = $arShop['DISPLAY_PROPERTIES']['EMAIL']['VALUE'];
				if(strToLower($arShop['DISPLAY_PROPERTIES']['SCHEDULE']['VALUE']['TYPE']) == 'html'){
					$arShop['SCHEDULE'] = htmlspecialchars_decode($arShop['DISPLAY_PROPERTIES']['SCHEDULE']['VALUE']['TEXT']);
				}
				else{
					$arShop['SCHEDULE'] = nl2br($arShop['DISPLAY_PROPERTIES']['SCHEDULE']['VALUE']['TEXT']);
				}
				$arShop['URL'] = $arShop['DETAIL_PAGE_URL'];
				$arShop['METRO_PLACEMARK_HTML'] = '';
				if($arShop['METRO'] = $arShop['DISPLAY_PROPERTIES']['METRO']['VALUE']){
					if(!is_array($arShop['METRO'])){
						$arShop['METRO'] = array($arShop['METRO']);
					}
					foreach($arShop['METRO'] as $metro){
						$arShop['METRO_PLACEMARK_HTML'] .= '<div class="metro"><i></i>'.$metro.'</div>';
					}
				}
				$arShop['DESCRIPTION'] = $arShop['DETAIL_TEXT'];
				$imageID = ((in_array('PREVIEW_PICTURE', $arParams['FIELD_CODE']) && $arShop["PREVIEW_PICTURE"]['ID']) ? $arShop["PREVIEW_PICTURE"]['ID'] : ((in_array('DETAIL_PICTURE', $arParams['FIELD_CODE']) && $arShop["DETAIL_PICTURE"]['ID']) ? $arShop["DETAIL_PICTURE"]['ID'] : false));
				if($imageID){
					$arShop['IMAGE'] = CFile::ResizeImageGet($imageID, array('width' => 210, 'height' => 143), BX_RESIZE_IMAGE_EXACT);
					$arPhotos[] = array(
						'ID' => $arShop["PREVIEW_PICTURE"]['ID'],
						'ORIGINAL' => ($arShop["DETAIL_PICTURE"]['SRC'] ? $arShop["DETAIL_PICTURE"]['SRC'] : ($arShop["PREVIEW_PICTURE"]['SRC'] ? $arShop["PREVIEW_PICTURE"]['SRC'] : $arShop['IMAGE'])),
						'PREVIEW' => $arShop['IMAGE'],
						'DESCRIPTION' => (strlen($arShop["PREVIEW_PICTURE"]['DESCRIPTION']) ? $arShop["PREVIEW_PICTURE"]['DESCRIPTION'] : $arShop['ADDRESS']),
					);
				}
				if(is_array($arShop['DISPLAY_PROPERTIES']['MORE_PHOTOS']['VALUE'])) {
					foreach($arShop['DISPLAY_PROPERTIES']['MORE_PHOTOS']['VALUE'] as $i => $photoID){
						$arPhotos[] = array(
							'ID' => $photoID,
							'ORIGINAL' => CFile::GetPath($photoID),
							'PREVIEW' => CFile::ResizeImageGet($photoID, array('width' => 210, 'height' => 143), BX_RESIZE_IMAGE_EXACT),
							'DESCRIPTION' => $arShop['DISPLAY_PROPERTIES']['MORE_PHOTOS']['DESCRIPTION'][$i],
						);
					}
				}

				$arShop['GPS_S'] = false;
				$arShop['GPS_N'] = false;
				if($arStoreMap = explode(',', $arShop['DISPLAY_PROPERTIES']['MAP']['VALUE'])){
					$arShop['GPS_S'] = $arStoreMap[0];
					$arShop['GPS_N'] = $arStoreMap[1];
				}

				if($arShop['GPS_S'] && $arShop['GPS_N']){
					$mapLAT += $arShop['GPS_S'];
					$mapLON += $arShop['GPS_N'];
					$arPlacemarks[] = array(
						"ID" => $arShop["ID"],
						"LAT" => $arShop['GPS_S'],
						"LON" => $arShop['GPS_N'],
						"TEXT" => $arShop["TITLE"],
						"HTML" => '<div class="title">'.(strlen($arShop["URL"]) ? '<a href="'.$arShop["URL"].'">' : '').$arShop["ADDRESS"].(strlen($arShop["URL"]) ? '</a>' : '').'</div><div class="info-content">'.($arShop['METRO'] ? $arShop['METRO_PLACEMARK_HTML'] : '').(strlen($arShop['SCHEDULE']) ? '<div class="schedule">'.$arShop['SCHEDULE'].'</div>' : '').(strlen($arShop['PHONE']) ? '<div class="phone"><a rel="nofollow" href="tel:'.$arShop["PHONE"].'">'.$arShop['PHONE'].'</a></div>' : '').(strlen($arShop['EMAIL']) ? '<div class="email"><a rel="nofollow" href="mailto:'.$arShop['EMAIL'].'">'.$arShop['EMAIL'].'</a></div>' : '').'</div>'.(strlen($arShop['URL']) ? '<a rel="nofollow" class="button" href="'.$arShop["URL"].'"><span>'.GetMessage('DETAIL').'</span></a>' : '')
					);
				}
			}
			else{
				$arShop["TITLE"] = htmlspecialchars_decode($arShop["TITLE"]);
				$arShop["ADDRESS"] = htmlspecialchars_decode($arShop["ADDRESS"]);
				$arShop["ADDRESS"] = (strlen($arShop["TITLE"]) ? $arShop["TITLE"].', ' : '').$arShop["ADDRESS"];
				$arShop["DESCRIPTION"] = htmlspecialchars_decode($arShop['DESCRIPTION']);
				$arShop['SCHEDULE'] = htmlspecialchars_decode($arShop['SCHEDULE']);
				if($arShop["IMAGE_ID"]){
					$arShop['IMAGE'] = CFile::ResizeImageGet($arShop["IMAGE_ID"], array('width' => 210, 'height' => 143), BX_RESIZE_IMAGE_EXACT);
					$arPhotos[] = array(
						'ID' => $arShop["PREVIEW_PICTURE"]['ID'],
						'ORIGINAL' => CFile::GetPath($arShop["IMAGE_ID"]),
						'PREVIEW' => $arShop['IMAGE'],
						'DESCRIPTION' => (strlen($arShop["PREVIEW_PICTURE"]['DESCRIPTION']) ? $arShop["PREVIEW_PICTURE"]['DESCRIPTION'] : $arShop["ADDRESS"]),
					);
				}
				if(is_array($arShop['MORE_PHOTOS'])) {
					foreach($arShop['MORE_PHOTOS'] as $photoID){
						$arPhotos[] = array(
							'ID' => $photoID,
							'ORIGINAL' => CFile::GetPath($photoID),
							'PREVIEW' => CFile::ResizeImageGet($photoID, array('width' => 210, 'height' => 143), BX_RESIZE_IMAGE_EXACT),
							'DESCRIPTION' => $arShop["ADDRESS"],
						);
					}
				}

				if($arShop['GPS_S'] && $arShop['GPS_N']){
					$mapLAT += $arShop['GPS_N'];
					$mapLON += $arShop['GPS_S'];
					$arPlacemarks[] = array(
						"ID" => $arShop["ID"],
						"LON" => $arShop['GPS_S'],
						"LAT" => $arShop['GPS_N'],
						"TEXT" => $arShop["TITLE"],
						"HTML" => '<div class="title">'.(strlen($arShop["URL"]) ? '<a href="'.$arShop["URL"].'">' : '').$arShop["ADDRESS"].(strlen($arShop["URL"]) ? '</a>' : '').'</div><div class="info-content">'.($arShop['METRO'] ? $arShop['METRO_PLACEMARK_HTML'] : '').(strlen($arShop['SCHEDULE']) ? '<div class="schedule">'.$arShop['SCHEDULE'].'</div>' : '').(strlen($arShop['PHONE']) ? '<div class="phone"><a rel="nofollow" href="tel:'.$arShop["PHONE"].'">'.$arShop['PHONE'].'</a></div>' : '').(strlen($arShop['EMAIL']) ? '<div class="email"><a rel="nofollow" href="mailto:'.$arShop['EMAIL'].'">'.$arShop['EMAIL'].'</a></div>' : '').'</div>'.(strlen($arShop['URL']) ? '<a rel="nofollow" class="button" href="'.$arShop["URL"].'"><span>'.GetMessage('DETAIL').'</span></a>' : '')
					);
				}
			}
			?>
			<?if(abs($mapLAT) > 0 && abs($mapLON) > 0 && $showMap=="Y"):?>
				<div class="contacts_map">
					<?$APPLICATION->IncludeComponent(
					"bitrix:map.google.view",
					"map",
					array(
						"INIT_MAP_TYPE" => "ROADMAP",
						"MAP_DATA" => serialize(array("google_lat" => $mapLAT, "google_lon" => $mapLON, "google_scale" => 16, "PLACEMARKS" => $arPlacemarks)),
						"MAP_WIDTH" => "100%",
						"MAP_HEIGHT" => "400",
						"CONTROLS" => array(
						),
						"OPTIONS" => array(
							0 => "ENABLE_DBLCLICK_ZOOM",
							1 => "ENABLE_DRAGGING",
						),
						"MAP_ID" => "",
						"ZOOM_BLOCK" => array(
							"POSITION" => "right center",
						),
						"COMPONENT_TEMPLATE" => "map",
						"API_KEY" => $arParams["GOOGLE_API_KEY"],
						"COMPOSITE_FRAME_MODE" => "A",
						"COMPOSITE_FRAME_TYPE" => "AUTO"
					),
					false, array("HIDE_ICONS" =>"Y")
				);?>
				</div>
			<?endif;?>
			<div class="wrapper_inner shop detail">
				<div class="contacts_left">
					<div class="store_description">
						<?if(strlen($arShop['ADDRESS'])):?>
							<div class="store_property">
								<div class="title"><?=GetMessage('ADDRESS')?></div>
								<div class="value"><?=$arShop['ADDRESS']?></div>
							</div>
						<?endif;?>
						<?if($arShop['METRO']):?>
							<div class="store_property metro">
								<div class="title"><?=GetMessage('METRO')?></div>
								<?foreach($arShop['METRO'] as $metro):?>
									<div class="value"><i></i><?=$metro?></div>
								<?endforeach;?>
							</div>
						<?endif;?>
						<?if(strlen($arShop['PHONE'])):?>
							<div class="store_property">
								<div class="title"><?=GetMessage('PHONE')?></div>
								<div class="value"><a rel="nofollow" href="tel:<?=$arShop['PHONE']?>"><?=$arShop['PHONE']?></a></div>
							</div>
						<?endif;?>
						<?if(strlen($arShop['EMAIL'])):?>
							<div class="store_property">
								<div class="title">Email</div>
								<div class="value"><a rel="nofollow" href="mailto:<?=$arShop['EMAIL']?>"><?=$arShop['EMAIL']?></a></div>
							</div>
						<?endif;?>
						<?if(strlen($arShop['SCHEDULE'])):?>
							<div class="store_property">
								<div class="title"><?=GetMessage('SCHEDULE')?></div>
								<div class="value"><?=$arShop['SCHEDULE']?></div>
							</div>
						<?endif;?>
					</div>
				</div>
				<div class="contacts_right">
					<blockquote><?=$arShop['DESCRIPTION']?></blockquote>
					<?if($arPhotos):?>
						<!-- noindex-->
						<?foreach($arPhotos as $arPhoto):?>
							<a class="fancy" rel="item_slider" title="<?=$arPhoto['DESCRIPTION']?>" alt="<?=$arPhoto['DESCRIPTION']?>" href="<?=$arPhoto['ORIGINAL']?>"><img border="0" title="<?=$arPhoto['DESCRIPTION']?>" alt="<?=$arPhoto['DESCRIPTION']?>" src="<?=$arPhoto['PREVIEW']['src']?>"></a>
						<?endforeach;?>
						<!-- /noindex-->
					<?endif;?>
				</div>
				<div class="clearboth"></div>
				<!-- noindex--><a rel="nofollow" href="<?=$arShop['LIST_URL']?>" class="back"><?=GetMessage('BACK_STORE_LIST')?></a><!-- /noindex-->
			</div>
			<div class="clearboth"></div>
			<?
		}
		else{
			LocalRedirect(SITE_DIR.'contacts/');
		}
	}
}
?>47   103|/aspro.optimus/install/version.php|a7979b3e<?
$arModuleVersion = array(
	"VERSION" => "1.0.3",
	"VERSION_DATE" => "2016-08-31 00:00:00"
);
?>50   1662|/aspro.optimus/install/css/style.css|ba6e1930.adm-workarea-wrap{height:100%;}
#adm-workarea{height:100%;box-sizing:border-box;}
#aspro_admin_area{position:relative;overflow:hidden;min-height:50px;}
#aspro_admin_area iframe{border:medium none;height:100%;position:relative;width:100%;z-index:1;box-sizing:border-box;}
#aspro_admin_area.aspro-admin-ready iframe{border:1px solid #cfd8d7;background-color:white;}
.aspro-admin-waiter{background:rgba(0, 0, 0, 0) url("../../images/aspro.optimus/waiter.gif") no-repeat scroll 0 0 / 100% auto;border:medium none;content:" ";display:block;height:37px;position:absolute;width:35px;top:0;left:0;}
.aspro-admin-ready .aspro-admin-waiter{display:none;}
.adm-detail-content-wrap::before{border-top:1px solid #969c9d;content:" ";display:block;height:100px;width:100%;background:rgba(0, 0, 0, 0) url("../../images/aspro.optimus/banner.png") no-repeat scroll center center;}
.aspro-admin-row{display:block;min-width:610px;width:100%;box-sizing:border-box;margin:0 -4px;}
*[class^="aspro-admin-col"]{display:block;width:100%;float:left;padding:5px 4px 7px;box-sizing:border-box;}
.aspro-admin-col12{}
.aspro-admin-col6{width:50%;}
.aspro-admin-col4{width:33.3%;}
.aspro-admin-col3{width:25%;}
.aspro-admin-col2{width:16.6%;}
.aspro-admin-col1{width:8.3%;}

.aspro-admin-option-title{text-align:right;padding-top:9px;}
.aspro-admin-option-value{}
.aspro-admin-option-note{}
.aspro-admin-option-subscription{display:inline-block;vertical-align:middle;margin-left:4px;}
.aspro-admin-option-radio, .aspro-admin-option-select, .aspro-admin-option-text{display:inline-block;vertical-align:middle;}
.aspro-admin-option-html{text-align:center;padding-top:9px;}103  1050|/aspro.optimus/install/wizards/aspro/optimus/site/public/ru/ajax/one_click_buy_basket.php|adf9bef0<?require($_SERVER["DOCUMENT_ROOT"]."/bitrix/modules/main/include/prolog_before.php");?>
<?$APPLICATION->IncludeComponent("aspro:oneclickbuy.optimus", "shop", array(
	"BUY_ALL_BASKET" => "Y",
	"CACHE_TYPE" => "Y",
	"CACHE_TIME" => "3600000",
	"CACHE_GROUPS" => "N",
	"PROPERTIES" => (strlen($tmp = COption::GetOptionString('aspro.optimus', 'ONECLICKBUY_PROPERTIES', 'FIO,PHONE,EMAIL,COMMENT', SITE_ID)) ? explode(',', $tmp) : array()),
	"REQUIRED" => (strlen($tmp = COption::GetOptionString('aspro.optimus', 'ONECLICKBUY_REQUIRED_PROPERTIES', 'FIO,PHONE', SITE_ID)) ? explode(',', $tmp) : array()),
	"DEFAULT_PERSON_TYPE" => COption::GetOptionString('aspro.optimus', 'ONECLICKBUY_PERSON_TYPE', '1', SITE_ID),
	"DEFAULT_DELIVERY" => COption::GetOptionString('aspro.optimus', 'ONECLICKBUY_DELIVERY', '2', SITE_ID),
	"DEFAULT_PAYMENT" => COption::GetOptionString('aspro.optimus', 'ONECLICKBUY_PAYMENT', '1', SITE_ID),
	"DEFAULT_CURRENCY" => COption::GetOptionString('aspro.optimus', 'ONECLICKBUY_CURRENCY', 'RUB', SITE_ID),
	),
	false
);?>93   622|/aspro.optimus/install/wizards/aspro/optimus/site/public/ru/ajax/check_order.php|aa2afea2<?require($_SERVER["DOCUMENT_ROOT"]."/bitrix/modules/main/include/prolog_before.php");?>
<?if($_POST["ID"])
{
	\Bitrix\Main\Loader::includeModule('sale');
	$_POST["ID"] = urldecode($_POST["ID"]);
	$id = 0;
	$arSelect = array("ID");
	$arFilter = array("ACCOUNT_NUMBER" => $_POST["ID"]);
	$rsOrder = \Bitrix\Sale\OrderTable::getList(
		array(
			"filter" => $arFilter,
			"select" => $arSelect,
		)
	);
	if($arOrder = $rsOrder->Fetch())
	{
		if(!$_SESSION["ORDER"][$arOrder["ID"]])
		{
			$id = $arOrder["ID"];
			$_SESSION["ORDER"][$arOrder["ID"]] = $arOrder["ID"];
		}
	}
	echo json_encode($id);
}?>95   1368|/aspro.optimus/install/wizards/aspro/optimus/site/public/ru/ajax/one_click_buy.php|51a0a04<?require($_SERVER["DOCUMENT_ROOT"]."/bitrix/modules/main/include/prolog_before.php");?>
<?if(intval($_REQUEST["ELEMENT_ID"])&&intval($_REQUEST["IBLOCK_ID"])):?>
	<?$APPLICATION->IncludeComponent("aspro:oneclickbuy.optimus", "shop", array(
		"BUY_ALL_BASKET" => "N",
		"IBLOCK_ID" => intval($_REQUEST["IBLOCK_ID"]),
		"ELEMENT_ID" => intval($_REQUEST["ELEMENT_ID"]),
		"ELEMENT_QUANTITY" => (float)($_REQUEST["ELEMENT_QUANTITY"]),
		"OFFER_PROPERTIES" => $_REQUEST["OFFER_PROPS"],
		"CACHE_TYPE" => "Y",
		"CACHE_TIME" => "3600000",
		"CACHE_GROUPS" => "N",
		"PROPERTIES" => (strlen($tmp = COption::GetOptionString('aspro.optimus', 'ONECLICKBUY_PROPERTIES', 'FIO,PHONE,EMAIL,COMMENT', SITE_ID)) ? explode(',', $tmp) : array()),
		"REQUIRED" => (strlen($tmp = COption::GetOptionString('aspro.optimus', 'ONECLICKBUY_REQUIRED_PROPERTIES', 'FIO,PHONE', SITE_ID)) ? explode(',', $tmp) : array()),
		"DEFAULT_PERSON_TYPE" => COption::GetOptionString('aspro.optimus', 'ONECLICKBUY_PERSON_TYPE', '1', SITE_ID),
		"DEFAULT_DELIVERY" => COption::GetOptionString('aspro.optimus', 'ONECLICKBUY_DELIVERY', '2', SITE_ID),
		"DEFAULT_PAYMENT" => COption::GetOptionString('aspro.optimus', 'ONECLICKBUY_PAYMENT', '1', SITE_ID),
		"DEFAULT_CURRENCY" => COption::GetOptionString('aspro.optimus', 'ONECLICKBUY_CURRENCY', 'RUB', SITE_ID),
		),
		false
	);?>
<?endif;?>106  4219|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/lang/ru/header.php|75e5c66e<?
$MESS["PHONE"] = "Телефон";
$MESS["SOCIAL"] = "Социальные сети";
$MESS["DESCRIPTION"] = "Описание магазина";
$MESS["ITEMS"] = "Товары";
$MESS["LOGO"] = "Логотип";
$MESS["REGISTER_INCLUDE_AREA"] = "Текст о регистрации";
$MESS["AUTH_INCLUDE_AREA"] = "Текст об авторизации";
$MESS["FRONT_IMG"] = "Изображение компании";
$MESS["EMPTY_CART"] = "пуста";

$MESS["CATALOG_VIEW_MORE"] = "... Показать все";
$MESS["CATALOG_VIEW_LESS"] = "... Свернуть";
$MESS["JS_REQUIRED"] = 'Заполните это поле!';
$MESS["JS_FORMAT"] = 'Неверный формат!';
$MESS["JS_FILE_EXT"] = 'Недопустимое расширение файла!';
$MESS["JS_PASSWORD_COPY"] = 'Пароли не совпадают!';
$MESS["JS_PASSWORD_LENGTH"] = 'Минимум 6 символов!';
$MESS["JS_ERROR"] = 'Неверно заполнено поле!';
$MESS["JS_FILE_SIZE"] = 'Максимальный размер 5мб!';
$MESS["JS_FILE_BUTTON_NAME"] = 'Выберите файл';
$MESS["JS_FILE_DEFAULT"] = 'Файл не найден';
$MESS["JS_DATE"] = 'Некорректная дата!';
$MESS["FANCY_CLOSE"] = 'Закрыть';
$MESS["FANCY_NEXT"] = 'Следующий';
$MESS["FANCY_PREV"] = 'Предыдущий';
$MESS["TOP_AUTH_REGISTER"] = 'Регистрация';
$MESS["CALLBACK"] = 'Заказать звонок';
$MESS["UNTIL_AKC"] = 'До конца акции';
$MESS["TITLE_QUANTITY_BLOCK"] = 'Остаток';
$MESS["TITLE_QUANTITY"] = 'штук';

$MESS["COUNTDOWN_SEC"] = 'сек.';
$MESS["COUNTDOWN_MIN"] = 'мин.';
$MESS["COUNTDOWN_HOUR"] = 'час.';
$MESS["COUNTDOWN_DAY0"] = 'дней';
$MESS["COUNTDOWN_DAY1"] = 'день';
$MESS["COUNTDOWN_DAY2"] = 'дня';
$MESS["COUNTDOWN_WEAK0"] = 'Недель';
$MESS["COUNTDOWN_WEAK1"] = 'Неделя';
$MESS["COUNTDOWN_WEAK2"] = 'Недели';
$MESS["COUNTDOWN_MONTH0"] = 'Месяцев';
$MESS["COUNTDOWN_MONTH1"] = 'Месяц';
$MESS["COUNTDOWN_MONTH2"] = 'Месяца';
$MESS["COUNTDOWN_YEAR0"] = 'Лет';
$MESS["COUNTDOWN_YEAR1"] = 'Год';
$MESS["COUNTDOWN_YEAR2"] = 'Года';

$MESS["CATALOG_PARTIAL_BASKET_PROPERTIES_ERROR"] = "Заполнены не все свойства у добавляемого товара";
$MESS["CATALOG_EMPTY_BASKET_PROPERTIES_ERROR"] = "Выберите свойства товара, добавляемые в корзину в параметрах компонента";
$MESS["CATALOG_ELEMENT_NOT_FOUND"] = "Элемент не найден";
$MESS["ERROR_ADD2BASKET"] = "Ошибка добавления товара в корзину";
$MESS["CATALOG_SUCCESSFUL_ADD_TO_BASKET"] = "Успешное добавление товара в корзину";
$MESS["ERROR_BASKET_TITLE"] = 'Ошибка корзины';
$MESS["ERROR_BASKET_PROP_TITLE"] = 'Выберите свойства, добавляемые в корзину';
$MESS["ERROR_BASKET_BUTTON"] = 'Выбрать';
$MESS["BASKET_TOP"] = 'Корзина в шапке';
$MESS["ERROR_ADD_DELAY_ITEM"] = 'Ошибка отложенной корзины';

$MESS["VIEWED_TITLE"] = "Ранее вы смотрели";
$MESS["VIEWED_BEFORE"] = "Ранее вы смотрели";
$MESS["BEST_TITLE"] = "Лучшие предложения";
$MESS["CT_BST_SEARCH_BUTTON"] = "Поиск";
$MESS["CT_BST_SEARCH2_BUTTON"] = "Найти";

$MESS["BASKET_PRINT_BUTTON"] = "Распечатать";
$MESS["BASKET_CLEAR_ALL_BUTTON"] = "Очистить";
$MESS["BASKET_QUICK_ORDER_BUTTON"] = "Быстрый заказ";
$MESS["BASKET_CONTINUE_BUTTON"] = "Продолжить покупки";
$MESS["BASKET_ORDER_BUTTON"] = "Оформить заказ";
$MESS["SHARE_BUTTON"] = "Поделиться";
$MESS["BASKET_CHANGE_TITLE"] = "Ваш заказ";
$MESS["BASKET_CHANGE_LINK"] = "Изменить";

$MESS["FROM"] = "от";
$MESS["TITLE_BLOCK_VIEWED_NAME"] = "Ранее вы смотрели";
$MESS["T_BASKET"] = "Корзина заказа";
$MESS["FULL_ORDER"] = "Оформление обычного заказа";
?>106  4219|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/lang/en/header.php|75e5c66e<?
$MESS["PHONE"] = "Телефон";
$MESS["SOCIAL"] = "Социальные сети";
$MESS["DESCRIPTION"] = "Описание магазина";
$MESS["ITEMS"] = "Товары";
$MESS["LOGO"] = "Логотип";
$MESS["REGISTER_INCLUDE_AREA"] = "Текст о регистрации";
$MESS["AUTH_INCLUDE_AREA"] = "Текст об авторизации";
$MESS["FRONT_IMG"] = "Изображение компании";
$MESS["EMPTY_CART"] = "пуста";

$MESS["CATALOG_VIEW_MORE"] = "... Показать все";
$MESS["CATALOG_VIEW_LESS"] = "... Свернуть";
$MESS["JS_REQUIRED"] = 'Заполните это поле!';
$MESS["JS_FORMAT"] = 'Неверный формат!';
$MESS["JS_FILE_EXT"] = 'Недопустимое расширение файла!';
$MESS["JS_PASSWORD_COPY"] = 'Пароли не совпадают!';
$MESS["JS_PASSWORD_LENGTH"] = 'Минимум 6 символов!';
$MESS["JS_ERROR"] = 'Неверно заполнено поле!';
$MESS["JS_FILE_SIZE"] = 'Максимальный размер 5мб!';
$MESS["JS_FILE_BUTTON_NAME"] = 'Выберите файл';
$MESS["JS_FILE_DEFAULT"] = 'Файл не найден';
$MESS["JS_DATE"] = 'Некорректная дата!';
$MESS["FANCY_CLOSE"] = 'Закрыть';
$MESS["FANCY_NEXT"] = 'Следующий';
$MESS["FANCY_PREV"] = 'Предыдущий';
$MESS["TOP_AUTH_REGISTER"] = 'Регистрация';
$MESS["CALLBACK"] = 'Заказать звонок';
$MESS["UNTIL_AKC"] = 'До конца акции';
$MESS["TITLE_QUANTITY_BLOCK"] = 'Остаток';
$MESS["TITLE_QUANTITY"] = 'штук';

$MESS["COUNTDOWN_SEC"] = 'сек.';
$MESS["COUNTDOWN_MIN"] = 'мин.';
$MESS["COUNTDOWN_HOUR"] = 'час.';
$MESS["COUNTDOWN_DAY0"] = 'дней';
$MESS["COUNTDOWN_DAY1"] = 'день';
$MESS["COUNTDOWN_DAY2"] = 'дня';
$MESS["COUNTDOWN_WEAK0"] = 'Недель';
$MESS["COUNTDOWN_WEAK1"] = 'Неделя';
$MESS["COUNTDOWN_WEAK2"] = 'Недели';
$MESS["COUNTDOWN_MONTH0"] = 'Месяцев';
$MESS["COUNTDOWN_MONTH1"] = 'Месяц';
$MESS["COUNTDOWN_MONTH2"] = 'Месяца';
$MESS["COUNTDOWN_YEAR0"] = 'Лет';
$MESS["COUNTDOWN_YEAR1"] = 'Год';
$MESS["COUNTDOWN_YEAR2"] = 'Года';

$MESS["CATALOG_PARTIAL_BASKET_PROPERTIES_ERROR"] = "Заполнены не все свойства у добавляемого товара";
$MESS["CATALOG_EMPTY_BASKET_PROPERTIES_ERROR"] = "Выберите свойства товара, добавляемые в корзину в параметрах компонента";
$MESS["CATALOG_ELEMENT_NOT_FOUND"] = "Элемент не найден";
$MESS["ERROR_ADD2BASKET"] = "Ошибка добавления товара в корзину";
$MESS["CATALOG_SUCCESSFUL_ADD_TO_BASKET"] = "Успешное добавление товара в корзину";
$MESS["ERROR_BASKET_TITLE"] = 'Ошибка корзины';
$MESS["ERROR_BASKET_PROP_TITLE"] = 'Выберите свойства, добавляемые в корзину';
$MESS["ERROR_BASKET_BUTTON"] = 'Выбрать';
$MESS["BASKET_TOP"] = 'Корзина в шапке';
$MESS["ERROR_ADD_DELAY_ITEM"] = 'Ошибка отложенной корзины';

$MESS["VIEWED_TITLE"] = "Ранее вы смотрели";
$MESS["VIEWED_BEFORE"] = "Ранее вы смотрели";
$MESS["BEST_TITLE"] = "Лучшие предложения";
$MESS["CT_BST_SEARCH_BUTTON"] = "Поиск";
$MESS["CT_BST_SEARCH2_BUTTON"] = "Найти";

$MESS["BASKET_PRINT_BUTTON"] = "Распечатать";
$MESS["BASKET_CLEAR_ALL_BUTTON"] = "Очистить";
$MESS["BASKET_QUICK_ORDER_BUTTON"] = "Быстрый заказ";
$MESS["BASKET_CONTINUE_BUTTON"] = "Продолжить покупки";
$MESS["BASKET_ORDER_BUTTON"] = "Оформить заказ";
$MESS["SHARE_BUTTON"] = "Поделиться";
$MESS["BASKET_CHANGE_TITLE"] = "Ваш заказ";
$MESS["BASKET_CHANGE_LINK"] = "Изменить";

$MESS["FROM"] = "от";
$MESS["TITLE_BLOCK_VIEWED_NAME"] = "Ранее вы смотрели";
$MESS["T_BASKET"] = "Корзина заказа";
$MESS["FULL_ORDER"] = "Оформление обычного заказа";
?>142  3687|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/components/aspro/oneclickbuy.optimus/shop/template.php|c883669d<?if(!defined("B_PROLOG_INCLUDED") || B_PROLOG_INCLUDED!==true)die();?>
	<div class="popup-intro">
		<div class="pop-up-title"><?=GetMessage('FORM_HEADER_CAPTION')?></div>
	</div>
	<a class="jqmClose close"><i></i></a>
	<div class="form-wr">
		<form method="post" id="one_click_buy_form" action="<?=$arResult['SCRIPT_PATH']?>/script.php">
			<?foreach($arParams['PROPERTIES'] as $field):
				$class.="inputtext";?>
				<div class="form-control bg">
					<label class="description">
						<?if($field == "COMMENT"):?>
							<?=GetMessage('CAPTION_'.$field)?>
						<?else:?>
							<?=$arResult["PROPS"][$field];?>
						<?endif;?>
						<?if (in_array($field, $arParams['REQUIRED'])):?><span class="star">*</span><?endif;?>
					</label>
					<?if($field=="PHONE"){
						$class.=" phone";
					}?>
					<?if($field=="COMMENT"):?>
						<textarea name="ONE_CLICK_BUY[<?=$field?>]" id="one_click_buy_id_<?=$field?>" class="<?=$class;?>"></textarea>
					<?else:?>
						<input type="text" name="ONE_CLICK_BUY[<?=$field?>]" value="<?=$value?>" class="<?=$class;?>" id="one_click_buy_id_<?=$field?>" />
					<?endif;?>
				</div>
			<?endforeach;?>
			<div class="but-r clearfix">
				<!--noindex-->
					<button class="button short" type="submit" id="one_click_buy_form_button" name="one_click_buy_form_button" value="<?=GetMessage('ORDER_BUTTON_CAPTION')?>"><span><?=GetMessage("ORDER_BUTTON_CAPTION")?></span></button>
				<!--/noindex-->
			</div>
			<?if(strlen($arParams['OFFER_PROPERTIES'])):?>
				<input type="hidden" name="OFFER_PROPERTIES" value="<?=$arParams['OFFER_PROPERTIES']?>" />
			<?endif;?>
			<?if(intVal($arParams['IBLOCK_ID'])):?>
				<input type="hidden" name="IBLOCK_ID" value="<?=intVal($arParams['IBLOCK_ID']);?>" />
			<?endif;?>
			<?if(intVal($arParams['ELEMENT_ID'])):?>
				<input type="hidden" name="ELEMENT_ID" value="<?=intVal($arParams['ELEMENT_ID']);?>" />
			<?endif;?>
			<?if((float)($arParams['ELEMENT_QUANTITY'])):?>
				<input type="hidden" name="ELEMENT_QUANTITY" value="<?=(float)($arParams['ELEMENT_QUANTITY']);?>" />
			<?endif;?>
			<?if($arParams['BUY_ALL_BASKET']=="Y"):?>
				<input type="hidden" name="BUY_TYPE" value="ALL" />
			<?endif;?>
			<input type="hidden" name="CURRENCY" value="<?=$arParams['DEFAULT_CURRENCY']?>" />
			<input type="hidden" name="SITE_ID" value="<?=SITE_ID;?>" />
			<input type="hidden" name="PROPERTIES" value='<?=serialize($arParams['PROPERTIES'])?>' />
			<input type="hidden" name="PAY_SYSTEM_ID" value="<?=$arParams['DEFAULT_PAYMENT']?>" />
			<input type="hidden" name="DELIVERY_ID" value="<?=$arParams['DEFAULT_DELIVERY']?>" />
			<input type="hidden" name="PERSON_TYPE_ID" value="<?=$arParams['DEFAULT_PERSON_TYPE']?>" />
			<?=bitrix_sessid_post()?>
		</form>
		<div class="one_click_buy_result" id="one_click_buy_result">
			<div class="one_click_buy_result_success"><?=GetMessage('ORDER_SUCCESS')?></div>
			<div class="one_click_buy_result_fail"><?=GetMessage('ORDER_ERROR')?></div>
			<div class="one_click_buy_result_text"><?=GetMessage('ORDER_SUCCESS_TEXT')?></div>
		</div>
	</div>
<script type="text/javascript">
$('#one_click_buy_form').validate({
	rules: {
	"ONE_CLICK_BUY['EMAIL']": {email : true},
		<?
		foreach($arParams['REQUIRED'] as $key => $value){
			echo '"ONE_CLICK_BUY['.$value.']": {required : true}';
			if($arParams['REQUIRED'][$key + 1]){
				echo ',';
			}
		}
		?>
	}
});
$('.popup').jqmAddClose('.jqmClose');
if(arOptimusOptions['THEME']['PHONE_MASK'])
	$('#one_click_buy_id_PHONE').inputmask( "mask", { "mask": arOptimusOptions['THEME']['PHONE_MASK'], "showMaskOnFocus": false } );
</script>141  58172|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/components/bitrix/catalog.element/main/script.min.js|c661c6c1!function(t){if(!t.JCCatalogElement){var i=function(t){i.superclass.constructor.apply(this,arguments),this.nameNode=BX.create("span",{props:{className:"bx_medium bx_bt_button",id:this.id},style:"object"==typeof t.style?t.style:{},text:t.text}),this.buttonNode=BX.create("span",{attrs:{className:t.ownerClass},children:[this.nameNode],events:this.contextEvents}),BX.browser.IsIE()&&this.buttonNode.setAttribute("hideFocus","hidefocus")};BX.extend(i,BX.PopupWindowButton),t.JCCatalogElement=function(t){if(this.skuVisualParams={SELECT:{TAG_BIND:"select",TAG:"option",ACTIVE_CLASS:"active",HIDE_CLASS:"hidden",EVENT:"change"},LI:{TAG_BIND:"li",TAG:"li",ACTIVE_CLASS:"active",HIDE_CLASS:"missing",EVENT:"click"}},this.productType=0,this.config={useCatalog:!0,showQuantity:!0,showPrice:!0,showAbsent:!0,showOldPrice:!1,showPercent:!1,showSkuProps:!1,showOfferGroup:!1,useCompare:!1,mainPictureMode:"IMG",showBasisPrice:!1,basketAction:["BUY"],showClosePopup:!1},this.basketLinkURL="",this.checkQuantity=!1,this.maxQuantity=0,this.SliderImages=0,this.defaultCount=1,this.stepQuantity=1,this.isDblQuantity=!1,this.canBuy=!0,this.currentBasisPrice={},this.canSubscription=!0,this.currentIsSet=!1,this.updateViewedCount=!1,this.precision=6,this.precisionFactor=Math.pow(10,this.precision),this.listID={main:["PICT_ID","BIG_SLIDER_ID","BIG_IMG_CONT_ID"],stickers:["STICKER_ID"],productSlider:["SLIDER_CONT","SLIDER_LIST","SLIDER_LEFT","SLIDER_RIGHT"],offerSlider:["SLIDER_CONT_OF_ID","SLIDER_LIST_OF_ID","SLIDER_LEFT_OF_ID","SLIDER_RIGHT_OF_ID"],offerSliderMobile:["SLIDER_CONT_OFM_ID","SLIDER_LIST_OFM_ID","SLIDER_LEFT_OFM_ID","SLIDER_RIGHT_OFM_ID"],offers:["TREE_ID","TREE_ITEM_ID","DISPLAY_PROP_DIV","DISPLAY_PROP_ARTICLE_DIV","OFFER_GROUP"],quantity:["QUANTITY_ID","QUANTITY_UP_ID","QUANTITY_DOWN_ID","QUANTITY_MEASURE","QUANTITY_LIMIT","BASIS_PRICE"],price:["PRICE_ID"],oldPrice:["OLD_PRICE_ID","DISCOUNT_VALUE_ID"],discountPerc:["DISCOUNT_PERC_ID"],basket:["BASKET_PROP_DIV","BUY_ID","BASKET_LINK","ADD_BASKET_ID","BASKET_ACTIONS_ID","NOT_AVAILABLE_MESS","SUBSCRIBE_ID","SUBSCRIBED_ID"],magnifier:["MAGNIFIER_ID","MAGNIFIER_AREA_ID"],compare:["COMPARE_LINK_ID"]},this.visualPostfix={PICT_ID:"_pict",BIG_SLIDER_ID:"_big_slider",BIG_IMG_CONT_ID:"_bigimg_cont",STICKER_ID:"_sticker",SLIDER_CONT:"_slider_cont",SLIDER_LIST:"_slider_list",SLIDER_LEFT:"_slider_left",SLIDER_RIGHT:"_slider_right",SLIDER_CONT_OF_ID:"_slider_cont_",SLIDER_LIST_OF_ID:"_slider_list_",SLIDER_LEFT_OF_ID:"_slider_left_",SLIDER_RIGHT_OF_ID:"_slider_right_",SLIDER_CONT_OFM_ID:"_sliderm_cont_",SLIDER_LIST_OFM_ID:"_sliderm_list_",SLIDER_LEFT_OFM_ID:"_sliderm_left_",SLIDER_RIGHT_OFM_ID:"_sliderm_right_",TREE_ID:"_skudiv",TREE_ITEM_ID:"_prop_",DISPLAY_PROP_DIV:"_sku_prop",DISPLAY_PROP_ARTICLE_DIV:"_sku_article_prop",QUANTITY_ID:"_quantity",QUANTITY_UP_ID:"_quant_up",QUANTITY_DOWN_ID:"_quant_down",QUANTITY_MEASURE:"_quant_measure",QUANTITY_LIMIT:"_quant_limit",BASIS_PRICE:"_basis_price",PRICE_ID:"_price",OLD_PRICE_ID:"_old_price",DISCOUNT_VALUE_ID:"_price_discount",DISCOUNT_PERC_ID:"_dsc_pict",BASKET_PROP_DIV:"_basket_prop",BUY_ID:"_buy_link",BASKET_LINK:"_basket_link",ADD_BASKET_ID:"_add_basket_link",BASKET_ACTIONS_ID:"_basket_actions",NOT_AVAILABLE_MESS:"_not_avail",SUBSCRIBE_ID:"_subscribe_div",SUBSCRIBED_ID:"_subscribed_div",MAGNIFIER_ID:"_magnifier",MAGNIFIER_AREA_ID:"_magnifier_area",OFFER_GROUP:"_set_group_",COMPARE_LINK_ID:"_compare_link"},this.visual={},this.basketMode="",this.product={checkQuantity:!1,maxQuantity:0,stepQuantity:1,startQuantity:1,isDblQuantity:!1,canBuy:!0,canSubscription:!0,name:"",pict:{},id:0,addUrl:"",buyUrl:"",slider:{},sliderCount:0,useSlider:!1,sliderPict:[]},this.mess={},this.basketData={useProps:!1,emptyProps:!1,quantity:"quantity",props:"prop",basketUrl:"",sku_props:"",sku_props_var:"basket_props",add_url:"",buy_url:""},this.compareData={compareUrl:"",comparePath:""},this.defaultPict={preview:null,detail:null},this.offers=[],this.offerNum=0,this.treeProps=[],this.obTreeRows=[],this.showCount=[],this.showStart=[],this.selectedValues={},this.sliders=[],this.obProduct=null,this.obQuantity=null,this.obQuantityUp=null,this.obQuantityDown=null,this.obBasisPrice=null,this.obPict=null,this.obPictAligner=null,this.obPrice={price:null,full:null,discount:null,percent:null},this.obTree=null,this.obBuyBtn=null,this.obBasketBtn=null,this.obAddToBasketBtn=null,this.obBasketActions=null,this.obNotAvail=null,this.obSkuProps=null,this.obSlider=null,this.obMeasure=null,this.obQuantityLimit={all:null,value:null},this.obCompare=null,this.viewedCounter={path:"/bitrix/components/bitrix/catalog.element/ajax.php",params:{AJAX:"Y",SITE_ID:"",PRODUCT_ID:0,PARENT_ID:0}},this.currentImg={src:"",width:0,height:0,screenWidth:0,screenHeight:0,screenOffsetX:0,screenOffsetY:0,scale:1},this.currentBigImg={src:""},this.obPopupWin=null,this.basketUrl="",this.basketParams={},this.obPopupPict=null,this.magnify={obMagnifier:null,obMagnifyPict:null,obMagnifyArea:null,obBigImg:null,obBigSlider:null,magnifyShow:!1,areaParams:{width:100,height:130,left:0,top:0,scaleFactor:1,globalLeft:0,globalTop:0,globalRight:0,globalBottom:0},magnifierParams:{top:0,left:0,width:0,height:0,ratioX:10,ratioY:13,defaultScale:1},magnifyPictParams:{marginTop:0,marginLeft:0,width:0,height:0}},this.treeRowShowSize=5,this.treeEnableArrow={display:"",cursor:"pointer",opacity:1},this.treeDisableArrow={display:"",cursor:"default",opacity:.2},this.sliderRowShowSize=5,this.sliderEnableArrow={display:"",cursor:"pointer",opacity:1},this.sliderDisableArrow={display:"",cursor:"default",opacity:.2},this.errorCode=0,"object"==typeof t){switch(this.params=t,this.initConfig(),this.params.MESS&&(this.mess=this.params.MESS),this.productType){case 0:case 1:case 2:this.initProductData();break;case 3:this.initOffersData();break;default:this.errorCode=-1}this.initBasketData(),this.initCompareData()}0===this.errorCode&&BX.ready(BX.delegate(this.Init,this)),this.params={}},t.JCCatalogElement.prototype.Init=function(){var t=0,i=0,s="",e=null,a=null;if(this.obProduct=BX(this.visual.ID),this.obProduct||(this.errorCode=-1),this.obPict=BX(this.visual.PICT_ID),this.obPict?this.obPictAligner=this.obPict.parentNode:this.errorCode=-2,this.config.showPrice&&(this.obPrice.price=BX(this.visual.PRICE_ID),!this.obPrice.price&&this.config.useCatalog?this.errorCode=-16:(this.config.showOldPrice&&(this.obPrice.full=BX(this.visual.OLD_PRICE_ID),this.obPrice.discount=BX(this.visual.DISCOUNT_VALUE_ID)),this.config.showPercent&&(this.obPrice.percent=BX(this.visual.DISCOUNT_PERC_ID))),this.obBasketActions=BX(this.visual.BASKET_ACTIONS_ID),this.obBasketActions&&(BX.util.in_array("BUY",this.config.basketAction)&&(this.obBuyBtn=BX(this.visual.BUY_ID)),BX.util.in_array("ADD",this.config.basketAction)&&(this.obAddToBasketBtn=BX(this.visual.BUY_ID)),this.visual.BASKET_LINK&&(this.obBasketBtn=BX(this.visual.BASKET_LINK))),this.obNotAvail=BX(this.visual.NOT_AVAILABLE_MESS)),this.config.showQuantity&&(this.obQuantity=BX(this.visual.QUANTITY_ID),this.visual.QUANTITY_UP_ID&&(this.obQuantityUp=BX(this.visual.QUANTITY_UP_ID)),this.visual.QUANTITY_DOWN_ID&&(this.obQuantityDown=BX(this.visual.QUANTITY_DOWN_ID)),this.config.showBasisPrice&&(this.obBasisPrice=BX(this.visual.BASIS_PRICE))),3===this.productType){if(this.visual.TREE_ID)for(this.obTree=BX(this.visual.TREE_ID),this.obTree||(this.errorCode=-256),s=this.visual.TREE_ITEM_ID,t=0;t<this.treeProps.length;t++)if(this.obTreeRows[t]={LEFT:BX(s+this.treeProps[t].ID+"_left"),RIGHT:BX(s+this.treeProps[t].ID+"_right"),LIST:BX(s+this.treeProps[t].ID+"_list"),CONT:BX(s+this.treeProps[t].ID+"_cont")},!this.obTreeRows[t].LIST||!this.obTreeRows[t].CONT){this.errorCode=-512;break}this.visual.QUANTITY_MEASURE&&(this.obMeasure=BX(this.visual.QUANTITY_MEASURE)),this.visual.QUANTITY_LIMIT&&(this.obQuantityLimit.all=BX(this.visual.QUANTITY_LIMIT),this.obQuantityLimit.all&&(this.obQuantityLimit.value=BX.findChild(this.obQuantityLimit.all,{tagName:"span"},!1,!1),this.obQuantityLimit.value||(this.obQuantityLimit.all=null)))}if(this.config.showSkuProps&&(this.visual.DISPLAY_PROP_DIV&&(this.obSkuProps=BX(this.visual.DISPLAY_PROP_DIV)),this.visual.DISPLAY_PROP_ARTICLE_DIV&&(this.obSkuArticleProps=BX(this.visual.DISPLAY_PROP_ARTICLE_DIV))),this.config.useCompare&&(this.obCompare=BX(this.visual.COMPARE_LINK_ID)),0===this.errorCode){switch(this.config.showQuantity&&(this.obQuantityUp&&BX.bind(this.obQuantityUp,"click",BX.delegate(this.QuantityUp,this)),this.obQuantityDown&&BX.bind(this.obQuantityDown,"click",BX.delegate(this.QuantityDown,this)),this.obQuantity&&BX.bind(this.obQuantity,"change",BX.delegate(this.QuantityChange,this))),this.productType){case 0:case 1:case 2:if(this.product.useSlider){if(this.product.slider={COUNT:this.product.sliderCount,ID:this.visual.SLIDER_CONT,CONT:BX(this.visual.SLIDER_CONT),LIST:BX(this.visual.SLIDER_LIST),LEFT:BX(this.visual.SLIDER_LEFT),RIGHT:BX(this.visual.SLIDER_RIGHT),START:0},e=BX.findChildren(this.product.slider.LIST,{tagName:"li"},!0),e&&0<e.length)for(i=0;i<e.length;i++)BX.bind(e[i],"click",BX.delegate(this.ProductSelectSliderImg,this));this.product.slider.LEFT&&(BX.bind(this.product.slider.LEFT,"click",BX.delegate(this.ProductSliderRowLeft,this)),BX.adjust(this.product.slider.LEFT,{style:this.sliderDisableArrow})),this.product.slider.RIGHT&&(BX.bind(this.product.slider.RIGHT,"click",BX.delegate(this.ProductSliderRowRight,this)),BX.adjust(this.product.slider.RIGHT,{style:this.sliderEnableArrow})),this.setCurrentImg(this.product.sliderPict[0],!0)}break;case 3:for(var r in this.skuVisualParams){var a=BX.findChildren(this.obTree,{tagName:this.skuVisualParams[r].TAG_BIND},!0);if(a&&0<a.length)for(t=0;t<a.length;t++)$(a[t]).on(this.skuVisualParams[r].EVENT,BX.delegate(this.SelectOfferProp,this))}for(t=0;t<this.offers.length;t++)if(this.offers[t].SLIDER_COUNT=parseInt(this.offers[t].SLIDER_COUNT,10),isNaN(this.offers[t].SLIDER_COUNT)&&(this.offers[t].SLIDER_COUNT=0),0===this.offers[t].SLIDER_COUNT)this.sliders[t]={COUNT:this.offers[t].SLIDER_COUNT,ID:""};else{for(i=0;i<this.offers[t].SLIDER.length;i++)this.offers[t].SLIDER[i].WIDTH=parseInt(this.offers[t].SLIDER[i].WIDTH,10),this.offers[t].SLIDER[i].HEIGHT=parseInt(this.offers[t].SLIDER[i].HEIGHT,10);if(this.sliders[t]={COUNT:this.offers[t].SLIDER_COUNT,OFFER_ID:this.offers[t].ID,ID:this.visual.SLIDER_CONT_OF_ID+this.offers[t].ID,CONT:BX(this.visual.SLIDER_CONT_OF_ID+this.offers[t].ID),LIST:BX(this.visual.SLIDER_LIST_OF_ID+this.offers[t].ID),CONT_M:BX(this.visual.SLIDER_CONT_OFM_ID+this.offers[t].ID),LIST_M:BX(this.visual.SLIDER_LIST_OFM_ID+this.offers[t].ID),LEFT:BX(this.visual.SLIDER_LEFT_OF_ID+this.offers[t].ID),RIGHT:BX(this.visual.SLIDER_RIGHT_OF_ID+this.offers[t].ID),START:0},e=BX.findChildren(this.sliders[t].LIST,{tagName:"li"},!0),e&&0<e.length)for(i=0;i<e.length;i++)BX.bind(e[i],"click",BX.delegate(this.SelectSliderImg,this));this.sliders[t].LEFT&&BX.bind(this.sliders[t].LEFT,"click",BX.delegate(this.SliderRowLeft,this)),this.sliders[t].RIGHT&&BX.bind(this.sliders[t].RIGHT,"click",BX.delegate(this.SliderRowRight,this))}this.SetCurrent()}this.obBuyBtn&&BX.bind(this.obBuyBtn,"click",BX.proxy(this.BuyBasket,this)),this.obAddToBasketBtn&&BX.bind(this.obAddToBasketBtn,"click",BX.proxy(this.Add2Basket,this)),this.obCompare&&BX.bind(this.obCompare,"click",BX.proxy(this.Compare,this)),this.setMainPictHandler(),setTimeout(function(){$(".offers_img.wof").css("opacity",1)},400)}},t.JCCatalogElement.prototype.initConfig=function(){return this.productType=parseInt(this.params.PRODUCT_TYPE,10),this.params.CONFIG&&"object"==typeof this.params.CONFIG?("undefined"!==this.params.CONFIG.USE_CATALOG&&BX.type.isBoolean(this.params.CONFIG.USE_CATALOG)&&(this.config.useCatalog=this.params.CONFIG.USE_CATALOG),this.config.showQuantity=!!this.params.CONFIG.SHOW_QUANTITY,this.config.showPrice=!!this.params.CONFIG.SHOW_PRICE,this.config.showPercent=!!this.params.CONFIG.SHOW_DISCOUNT_PERCENT,this.config.showOldPrice=!!this.params.CONFIG.SHOW_OLD_PRICE,this.config.showSkuProps=!!this.params.CONFIG.SHOW_SKU_PROPS,this.config.showOfferGroup=!!this.params.CONFIG.OFFER_GROUP,this.config.useCompare=!!this.params.CONFIG.DISPLAY_COMPARE,this.params.CONFIG.MAIN_PICTURE_MODE&&(this.config.mainPictureMode=this.params.CONFIG.MAIN_PICTURE_MODE),this.config.showBasisPrice=!!this.params.CONFIG.SHOW_BASIS_PRICE,this.params.CONFIG.ADD_TO_BASKET_ACTION&&(this.config.basketAction=this.params.CONFIG.ADD_TO_BASKET_ACTION),this.config.showClosePopup=!!this.params.CONFIG.SHOW_CLOSE_POPUP):("undefined"!==this.params.USE_CATALOG&&BX.type.isBoolean(this.params.USE_CATALOG)&&(this.config.useCatalog=this.params.USE_CATALOG),this.config.showQuantity=!!this.params.SHOW_QUANTITY,this.config.showPrice=!!this.params.SHOW_PRICE,this.config.showPercent=!!this.params.SHOW_DISCOUNT_PERCENT,this.config.showOldPrice=!!this.params.SHOW_OLD_PRICE,this.config.showSkuProps=!!this.params.SHOW_SKU_PROPS,this.config.showOfferGroup=!!this.params.OFFER_GROUP,this.config.useCompare=!!this.params.DISPLAY_COMPARE,this.params.MAIN_PICTURE_MODE&&(this.config.mainPictureMode=this.params.MAIN_PICTURE_MODE),this.config.showBasisPrice=!!this.params.SHOW_BASIS_PRICE,this.params.ADD_TO_BASKET_ACTION&&(this.config.basketAction=this.params.ADD_TO_BASKET_ACTION),this.config.showClosePopup=!!this.params.SHOW_CLOSE_POPUP),this.params.VISUAL&&"object"==typeof this.params.VISUAL&&this.params.VISUAL.ID?(this.visual.ID=this.params.VISUAL.ID,this.basketLinkURL=this.params.BASKET.BASKET_URL,this.defaultCount=this.params.DEFAULT_COUNT,this.storeQuanity=BX(this.params.STORE_QUANTITY),this.initVisualParams("main"),this.config.showQuantity&&this.initVisualParams("quantity"),this.config.showPrice&&this.initVisualParams("price"),this.config.showOldPrice&&this.initVisualParams("oldPrice"),this.config.showPercent&&this.initVisualParams("discountPerc"),this.initVisualParams("basket"),"MAGNIFIER"===this.config.mainPictureMode&&this.initVisualParams("magnifier"),void(this.config.useCompare&&this.initVisualParams("compare"))):void(this.errorCode=-1)},t.JCCatalogElement.prototype.initVisualParams=function(t){var i=0,s="";if(!this.listID[t])return void(this.errorCode=-1);for(i=0;i<this.listID[t].length;i++)s=this.listID[t][i],this.visual[s]=this.params.VISUAL[s]?this.params.VISUAL[s]:this.visual.ID+this.visualPostfix[s]},t.JCCatalogElement.prototype.initProductData=function(){var t=0;if(this.initVisualParams("productSlider"),this.params.PRODUCT&&"object"==typeof this.params.PRODUCT){if(this.config.showQuantity&&(this.product.checkQuantity=this.params.PRODUCT.CHECK_QUANTITY,this.product.isDblQuantity=this.params.PRODUCT.QUANTITY_FLOAT,this.product.checkQuantity&&(this.product.maxQuantity=this.product.isDblQuantity?parseFloat(this.params.PRODUCT.MAX_QUANTITY):parseInt(this.params.PRODUCT.MAX_QUANTITY,10)),this.product.stepQuantity=this.product.isDblQuantity?parseFloat(this.params.PRODUCT.STEP_QUANTITY):parseInt(this.params.PRODUCT.STEP_QUANTITY,10),this.checkQuantity=this.product.checkQuantity,this.isDblQuantity=this.product.isDblQuantity,this.maxQuantity=this.product.maxQuantity,this.stepQuantity=this.product.stepQuantity,this.isDblQuantity&&(this.stepQuantity=Math.round(this.stepQuantity*this.precisionFactor)/this.precisionFactor)),this.product.canBuy=this.params.PRODUCT.CAN_BUY,this.product.canSubscription=this.params.PRODUCT.SUBSCRIPTION,this.config.showPrice&&(this.currentBasisPrice=this.params.PRODUCT.BASIS_PRICE),this.canBuy=this.product.canBuy,this.canSubscription=this.product.canSubscription,this.product.name=this.params.PRODUCT.NAME,this.product.pict=this.params.PRODUCT.PICT,this.product.id=this.params.PRODUCT.ID,this.params.PRODUCT.ADD_URL&&(this.product.addUrl=this.params.PRODUCT.ADD_URL),this.params.PRODUCT.BUY_URL&&(this.product.buyUrl=this.params.PRODUCT.BUY_URL),this.params.PRODUCT.SLIDER_COUNT&&(this.product.sliderCount=parseInt(this.params.PRODUCT.SLIDER_COUNT,10),isNaN(this.product.sliderCount)&&(this.product.sliderCount=0),0<this.product.sliderCount&&this.params.PRODUCT.SLIDER.length&&0<this.params.PRODUCT.SLIDER.length)){for(t=0;t<this.params.PRODUCT.SLIDER.length;t++)this.product.useSlider=!0,this.params.PRODUCT.SLIDER[t].WIDTH=parseInt(this.params.PRODUCT.SLIDER[t].WIDTH,10),this.params.PRODUCT.SLIDER[t].HEIGHT=parseInt(this.params.PRODUCT.SLIDER[t].HEIGHT,10);this.product.sliderPict=this.params.PRODUCT.SLIDER,this.setCurrentImg(this.product.sliderPict[0],!1)}this.currentIsSet=!0}else this.errorCode=-1},t.JCCatalogElement.prototype.initOffersData=function(){this.initVisualParams("offerSlider"),this.initVisualParams("offerSliderMobile"),this.initVisualParams("offers"),this.params.OFFERS&&BX.type.isArray(this.params.OFFERS)?(this.offers=this.params.OFFERS,this.offerNum=0,this.params.OFFER_SELECTED&&(this.offerNum=parseInt(this.params.OFFER_SELECTED,10)),isNaN(this.offerNum)&&(this.offerNum=0),this.params.TREE_PROPS&&(this.treeProps=this.params.TREE_PROPS),this.params.DEFAULT_PICTURE&&(this.defaultPict.preview=this.params.DEFAULT_PICTURE.PREVIEW_PICTIRE,this.defaultPict.detail=this.params.DEFAULT_PICTURE.DETAIL_PICTURE),this.params.PRODUCT&&"object"==typeof this.params.PRODUCT&&(this.product.id=parseInt(this.params.PRODUCT.ID,10),this.product.name=this.params.PRODUCT.NAME)):this.errorCode=-1},t.JCCatalogElement.prototype.initBasketData=function(){this.params.BASKET&&"object"==typeof this.params.BASKET&&((1===this.productType||2===this.productType)&&(this.basketData.useProps=!!this.params.BASKET.ADD_PROPS,this.basketData.emptyProps=!!this.params.BASKET.EMPTY_PROPS),this.params.BASKET.QUANTITY&&(this.basketData.quantity=this.params.BASKET.QUANTITY),this.params.BASKET.PROPS&&(this.basketData.props=this.params.BASKET.PROPS),this.params.BASKET.BASKET_URL&&(this.basketData.basketUrl=this.params.BASKET.BASKET_URL),3===this.productType&&this.params.BASKET.SKU_PROPS&&(this.basketData.sku_props=this.params.BASKET.SKU_PROPS),this.params.BASKET.ADD_URL_TEMPLATE&&(this.basketData.add_url=this.params.BASKET.ADD_URL_TEMPLATE),this.params.BASKET.BUY_URL_TEMPLATE&&(this.basketData.buy_url=this.params.BASKET.BUY_URL_TEMPLATE),""===this.basketData.add_url&&""===this.basketData.buy_url&&(this.errorCode=-1024))},t.JCCatalogElement.prototype.initCompareData=function(){this.config.useCompare&&(this.params.COMPARE&&"object"==typeof this.params.COMPARE?(this.params.COMPARE.COMPARE_PATH&&(this.compareData.comparePath=this.params.COMPARE.COMPARE_PATH),this.params.COMPARE.COMPARE_URL_TEMPLATE_DEL&&(this.compareData.compareUrlDel=this.params.COMPARE.COMPARE_URL_TEMPLATE_DEL),this.params.COMPARE.COMPARE_URL_TEMPLATE?this.compareData.compareUrl=this.params.COMPARE.COMPARE_URL_TEMPLATE:this.config.useCompare=!1):this.config.useCompare=!1)},t.JCCatalogElement.prototype.setMainPictHandler=function(){switch(this.config.mainPictureMode){case"GALLERY":break;case"MAGNIFIER":$(this.obPict).addClass("zoom_picture");break;case"POPUP":$(this.obPict).parent().addClass("fancy_offer")}},t.JCCatalogElement.prototype.setCurrentImg=function(t,i){i=!!i,"SMALL"in t?this.currentImg.src=t.SMALL.src:"SRC"in t&&(this.currentImg.src=t.SRC),"BIG"in t&&(this.currentBigImg.src=t.BIG.src),"WIDTH"in t&&(this.currentImg.width=t.WIDTH),"HEIGHT"in t&&(this.currentImg.height=t.HEIGHT),i&&this.obPict&&("MAGNIFIER"===this.config.mainPictureMode&&$(this.obPict).attr("data-large",this.currentBigImg.src),"src"in this.currentImg&&this.currentImg.src&&BX.adjust(this.obPict,{props:{src:this.currentImg.src}}),"src"in this.currentBigImg&&this.currentBigImg.src&&("POPUP"===this.config.mainPictureMode&&$(this.obPict).parent().attr("href",this.currentBigImg.src),$(this.obPict).parent().attr("title",t.TITLE),$(this.obPict).parent().attr("alt",t.ALT),$(this.obPict).attr("title",t.TITLE),$(this.obPict).attr("alt",t.ALT)))},t.JCCatalogElement.prototype.scaleImg=function(t,i){var s,e,a,r={};return i.width>=t.width&&i.height>=t.height?(r.width=t.width,r.height=t.height):(s=i.width/t.width,e=i.height/t.height,a=Math.min(s,e),r.width=Math.max(1,parseInt(a*t.width,10)),r.height=Math.max(1,parseInt(a*t.height,10))),r},t.JCCatalogElement.prototype.showMagnifier=function(t){this.magnify.magnifyShow||(this.calcMagnifierParams(),this.calcMagnifyAreaSize(),this.calcMagnifyAreaPos(t),this.calcMagnifyPictSize(),this.calcMagnifyPictPos(),this.setMagnifyAreaParams(!0),this.setMagnifyPictParams(!0),this.setMagnifierParams(!0),BX.bind(document,"mousemove",BX.proxy(this.moveMagnifierArea,this)))},t.JCCatalogElement.prototype.hideMagnifier=function(){this.magnify.magnifyShow||(this.magnify.obMagnifier&&BX.adjust(this.magnify.obMagnifier,{style:{display:"none"}}),this.magnify.obMagnifyArea&&BX.adjust(this.magnify.obMagnifyArea,{style:{display:"none"}}),BX.unbind(document,"mousemove",BX.proxy(this.moveMagnifierArea,this)))},t.JCCatalogElement.prototype.moveMagnifierArea=function(t){var i={X:0,Y:0},s=BX.pos(this.obPict),e={},a={},r={};if(i=this.inRect(t,s),this.inBound(s,i)){switch(e=this.intersectArea(i,s),e.X){case-1:this.magnify.areaParams.left=this.currentImg.screenOffsetX;break;case 0:this.magnify.areaParams.left=this.currentImg.screenOffsetX+i.X-(this.magnify.areaParams.width>>>1);break;case 1:this.magnify.areaParams.left=this.currentImg.screenOffsetX+s.width-this.magnify.areaParams.width}switch(e.Y){case-1:this.magnify.areaParams.top=0;break;case 0:this.magnify.areaParams.top=i.Y-(this.magnify.areaParams.height>>>1);break;case 1:this.magnify.areaParams.top=s.height-this.magnify.areaParams.height}this.magnify.magnifyPictParams.marginLeft=-parseInt((this.magnify.areaParams.left-this.currentImg.screenOffsetX)*this.currentImg.scale,10),this.magnify.magnifyPictParams.marginTop=-parseInt(this.magnify.areaParams.top*this.currentImg.scale,10),a.left=this.magnify.areaParams.left+"px",a.top=this.magnify.areaParams.top+"px",BX.adjust(this.magnify.obMagnifyArea,{style:a}),r.marginLeft=this.magnify.magnifyPictParams.marginLeft+"px",r.marginTop=this.magnify.magnifyPictParams.marginTop+"px",BX.adjust(this.magnify.obMagnifyPict,{style:r})}else this.outMagnifierArea(),this.hideMagnifier()},t.JCCatalogElement.prototype.onMagnifierArea=function(){this.magnify.magnifyShow=!0},t.JCCatalogElement.prototype.outMagnifierArea=function(){this.magnify.magnifyShow=!1},t.JCCatalogElement.prototype.calcMagnifierParams=function(){if(this.magnify.obBigImg){var t=BX.pos(this.magnify.obBigImg,!0);this.magnify.magnifierParams.width=t.width,this.magnify.magnifierParams.height=t.height,this.magnify.magnifierParams.top=t.top,this.magnify.magnifierParams.left=t.left+t.width+2}},t.JCCatalogElement.prototype.setMagnifierParams=function(t){if(this.magnify.obMagnifier){t=!!t;var i={top:this.magnify.magnifierParams.top+"px",left:this.magnify.magnifierParams.left+"px",width:this.magnify.magnifierParams.width+"px",height:this.magnify.magnifierParams.height+"px"};t&&(i.display=""),BX.adjust(this.magnify.obMagnifier,{style:i})}},t.JCCatalogElement.prototype.setMagnifyAreaParams=function(t){if(this.magnify.obMagnifier){t=!!t;var i={top:this.magnify.areaParams.top+"px",left:this.magnify.areaParams.left+"px",width:this.magnify.areaParams.width+"px",height:this.magnify.areaParams.height+"px"};t&&(i.display=""),BX.adjust(this.magnify.obMagnifyArea,{style:i})}},t.JCCatalogElement.prototype.calcMagnifyAreaPos=function(t){var i,s,e;if(s=BX.pos(this.obPict),i=this.inRect(t,s),this.inBound(s,i)){switch(e=this.intersectArea(i,s),e.X){case-1:this.magnify.areaParams.left=this.currentImg.screenOffsetX;break;case 0:this.magnify.areaParams.left=this.currentImg.screenOffsetX+i.X-(this.magnify.areaParams.width>>>1);break;case 1:this.magnify.areaParams.left=this.currentImg.screenOffsetX+s.width-this.magnify.areaParams.width}switch(e.Y){case-1:this.magnify.areaParams.top=0;break;case 0:this.magnify.areaParams.top=i.Y-(this.magnify.areaParams.height>>>1);break;case 1:this.magnify.areaParams.top=s.height-this.magnify.areaParams.height}}},t.JCCatalogElement.prototype.inBound=function(t,i){return 0<=i.Y&&t.height>=i.Y&&0<=i.X&&t.width>=i.X},t.JCCatalogElement.prototype.inRect=function(t,i){var s=BX.GetWindowSize(),e={X:0,Y:0,globalX:0,globalY:0};return e.globalX=t.clientX+s.scrollLeft,e.X=e.globalX-i.left,e.globalY=t.clientY+s.scrollTop,e.Y=e.globalY-i.top,e},t.JCCatalogElement.prototype.intersectArea=function(t,i){var s={X:0,Y:0},e=this.magnify.areaParams.width>>>1,a=this.magnify.areaParams.height>>>1;return t.X<=e?s.X=-1:t.X>=i.width-e?s.X=1:s.X=0,t.Y<=a?s.Y=-1:t.Y>=i.height-a?s.Y=1:s.Y=0,s},t.JCCatalogElement.prototype.calcMagnifyAreaSize=function(){var t,i,s;this.magnify.magnifierParams.width<this.currentImg.width&&this.magnify.magnifierParams.height<this.currentImg.height?(t=this.magnify.obBigImg.offsetWidth/this.currentImg.width,i=this.magnify.obBigImg.offsetHeight/this.currentImg.height,s=Math.min(t,i),this.currentImg.scale=1/s,this.magnify.areaParams.width=Math.max(1,parseInt(s*this.magnify.magnifierParams.width,10)),this.magnify.areaParams.height=Math.max(1,parseInt(s*this.magnify.magnifierParams.height,10)),this.magnify.areaParams.scaleFactor=this.magnify.magnifierParams.defaultScale):(t=this.obPict.offsetWidth/this.magnify.obBigImg.offsetWidth,i=this.obPict.offsetHeight/this.magnify.obBigImg.offsetHeight,s=Math.min(t,i),this.currentImg.scale=1/s,this.magnify.areaParams.width=Math.max(1,parseInt(s*this.magnify.magnifierParams.width,10)),this.magnify.areaParams.height=Math.max(1,parseInt(s*this.magnify.magnifierParams.height,10)),t=this.magnify.magnifierParams.width/this.currentImg.width,i=this.magnify.magnifierParams.height/this.currentImg.height,s=Math.max(t,i),this.magnify.areaParams.scaleFactor=s)},t.JCCatalogElement.prototype.calcMagnifyPictSize=function(){this.magnify.magnifyPictParams.width=this.currentImg.width*this.magnify.areaParams.scaleFactor,this.magnify.magnifyPictParams.height=this.currentImg.height*this.magnify.areaParams.scaleFactor},t.JCCatalogElement.prototype.calcMagnifyPictPos=function(){this.magnify.magnifyPictParams.marginLeft=-parseInt((this.magnify.areaParams.left-this.currentImg.screenOffsetX)*this.currentImg.scale,10),this.magnify.magnifyPictParams.marginTop=-parseInt(this.magnify.areaParams.top*this.currentImg.scale,10)},t.JCCatalogElement.prototype.setMagnifyPictParams=function(t){if(this.magnify.obMagnifier){t=!!t;var i={width:this.magnify.magnifyPictParams.width+"px",height:this.magnify.magnifyPictParams.height+"px",marginTop:this.magnify.magnifyPictParams.marginTop+"px",marginLeft:this.magnify.magnifyPictParams.marginLeft+"px"};t&&(i.display=""),BX.adjust(this.magnify.obMagnifyPict,{style:i,props:{src:this.currentImg.src}})}},t.JCCatalogElement.prototype.ProductSliderRowLeft=function(){var t=BX.proxy_context;t&&this.sliderRowShowSize<this.product.slider.COUNT&&(0>this.product.slider.START&&(this.product.slider.START++,BX.adjust(this.product.slider.LIST,{style:{marginLeft:20*this.product.slider.START+"%"}}),BX.adjust(this.product.slider.RIGHT,{style:this.sliderEnableArrow})),0<=this.product.slider.START&&BX.adjust(this.product.slider.LEFT,{style:this.sliderDisableArrow}))},t.JCCatalogElement.prototype.ProductSliderRowRight=function(){var t=BX.proxy_context;t&&this.sliderRowShowSize<this.product.slider.COUNT&&(this.sliderRowShowSize-this.product.slider.START<this.product.slider.COUNT&&(this.product.slider.START--,BX.adjust(this.product.slider.LIST,{style:{marginLeft:20*this.product.slider.START+"%"}}),BX.adjust(this.product.slider.LEFT,{style:this.sliderEnableArrow})),this.sliderRowShowSize-this.product.slider.START>=this.product.slider.COUNT&&BX.adjust(this.product.slider.RIGHT,{style:this.sliderDisableArrow}))},t.JCCatalogElement.prototype.ProductSelectSliderImg=function(){var t="",i=BX.proxy_context;i&&i.hasAttribute("data-value")&&(t=i.getAttribute("data-value"),this.SetProductMainPict(t))},t.JCCatalogElement.prototype.SetProductMainPict=function(t){var i=-1,s=0,e=0,a="",r="",o=null;if(0<this.product.sliderCount){for(e=0;e<this.product.sliderPict.length;e++)if(t===this.product.sliderPict[e].ID){i=e;break}if(i>-1&&(this.product.sliderPict[i]&&this.setCurrentImg(this.product.sliderPict[i],!0),o=BX.findChildren(this.product.slider.LIST,{tagName:"li"},!1),o&&0<o.length))for(r=t,s=0;s<o.length;s++)a=o[s].getAttribute("data-value"),a===r?BX.addClass(o[s],"active"):BX.removeClass(o[s],"active")}},t.JCCatalogElement.prototype.SliderRowLeft=function(){var t,i="",s=-1,e=BX.proxy_context;if(e&&e.hasAttribute("data-value")){for(i=e.getAttribute("data-value"),t=0;t<this.sliders.length;t++)if(this.sliders[t].OFFER_ID===i){s=t;break}s>-1&&this.sliderRowShowSize<this.sliders[s].COUNT&&(0>this.sliders[s].START&&(this.sliders[s].START++,BX.adjust(this.sliders[s].LIST,{style:{marginLeft:20*this.sliders[s].START+"%"}}),BX.adjust(this.sliders[s].RIGHT,{style:this.sliderEnableArrow})),0<=this.sliders[s].START&&BX.adjust(this.sliders[s].LEFT,{style:this.sliderDisableArrow}))}},t.JCCatalogElement.prototype.SliderRowRight=function(){var t,i="",s=-1,e=BX.proxy_context;if(e&&e.hasAttribute("data-value")){for(i=e.getAttribute("data-value"),t=0;t<this.sliders.length;t++)if(this.sliders[t].OFFER_ID===i){s=t;break}s>-1&&this.sliderRowShowSize<this.sliders[s].COUNT&&(this.sliderRowShowSize-this.sliders[s].START<this.sliders[s].COUNT&&(this.sliders[s].START--,BX.adjust(this.sliders[s].LIST,{style:{marginLeft:20*this.sliders[s].START+"%"}}),BX.adjust(this.sliders[s].LEFT,{style:this.sliderEnableArrow})),this.sliderRowShowSize-this.sliders[s].START>=this.sliders[s].COUNT&&BX.adjust(this.sliders[s].RIGHT,{style:this.sliderDisableArrow}))}},t.JCCatalogElement.prototype.SelectSliderImg=function(){var t="",i=[],s=BX.proxy_context;s&&s.hasAttribute("data-value")&&(t=s.getAttribute("data-value"),i=t.split("_"),this.SetMainPict(i[0],i[1]))},t.JCCatalogElement.prototype.SetMainPict=function(i,s){var e,a,r=-1,o=-1,h="",n=null,l="";for(e=0;e<this.offers.length;e++)if(i===this.offers[e].ID){r=e;break}if($(t).resize(),$(".thumbs_navigation ul").addClass("hidden_block"),this.SliderImages>1&&$(".thumbs_navigation ul:eq("+r+")").removeClass("hidden_block"),$(".thumbs_navigation").removeClass("hidden_block"),$(".fancy_offer").addClass("hidden_block"),$(this.obPict).closest(".offers_img").css("opacity",0),r>-1&&0<this.offers[r].SLIDER_COUNT){for(a=0;a<this.offers[r].SLIDER.length;a++)if(s===this.offers[r].SLIDER[a].ID){o=a;break}if(o>-1&&(this.offers[r].SLIDER[o]&&this.setCurrentImg(this.offers[r].SLIDER[o],!0),n=BX.findChildren(this.sliders[r].LIST,{tagName:"li"},!1),n&&0<n.length))for(l=i+"_"+s,e=0;e<n.length;e++)h=n[e].getAttribute("data-value"),h===l?BX.addClass(n[e],"current"):BX.removeClass(n[e],"current")}setTimeout(function(){$(".fancy_offer").removeClass("hidden_block"),$(".offers_img").css("opacity",1)},200)},t.JCCatalogElement.prototype.SetMainPictFromItem=function(t){if(this.obPict){var i=!1,s={};this.offers[t]&&(this.offers[t].DETAIL_PICTURE?(s=this.offers[t].DETAIL_PICTURE,i=!0):this.offers[t].PREVIEW_PICTURE&&(s=this.offers[t].PREVIEW_PICTURE,i=!0)),i||(this.defaultPict.detail?(s=this.defaultPict.detail,i=!0):this.defaultPict.preview&&(s=this.defaultPict.preview,i=!0)),i&&this.setCurrentImg(s,!0)}},t.JCCatalogElement.prototype.showMainPictPopup=function(t){var i="";return i='<div style="text-align: center;"><img src="'+this.currentImg.src+'" width="'+this.currentImg.width+'" height="'+this.currentImg.height+'" name=""></div>',this.obPopupPict.setContent(i),this.obPopupPict.show(),BX.PreventDefault(t)},t.JCCatalogElement.prototype.QuantityUp=function(){var t=0,i=!0;0===this.errorCode&&this.config.showQuantity&&this.canBuy&&(t=this.isDblQuantity?parseFloat(this.obQuantity.value):parseInt(this.obQuantity.value,10),isNaN(t)||(t+=this.stepQuantity,this.checkQuantity&&t>this.maxQuantity&&(i=!1),i&&(this.isDblQuantity&&(t=Math.round(t*this.precisionFactor)/this.precisionFactor),this.obQuantity.value=t)))},t.JCCatalogElement.prototype.QuantityDown=function(){var t=0,i=!0;0===this.errorCode&&this.config.showQuantity&&this.canBuy&&(t=this.isDblQuantity?parseFloat(this.obQuantity.value):parseInt(this.obQuantity.value,10),
isNaN(t)||(t-=this.stepQuantity,t<this.stepQuantity&&(i=!1),i&&(this.isDblQuantity&&(t=Math.round(t*this.precisionFactor)/this.precisionFactor),this.obQuantity.value=t)))},t.JCCatalogElement.prototype.QuantityChange=function(){var t,i,s=0;0===this.errorCode&&this.config.showQuantity&&(this.canBuy?(s=this.isDblQuantity?parseFloat(this.obQuantity.value):parseInt(this.obQuantity.value,10),isNaN(s)?this.obQuantity.value=this.stepQuantity:(this.checkQuantity&&s>this.maxQuantity&&(s=this.maxQuantity),s<this.stepQuantity?s=this.stepQuantity:(i=Math.round(s*this.precisionFactor/this.stepQuantity)/this.precisionFactor,t=parseInt(i,10),isNaN(t)&&(t=1,i=1.1),i>t&&(s=1>=t?this.stepQuantity:t*this.stepQuantity,s=Math.round(s*this.precisionFactor)/this.precisionFactor)),this.obQuantity.value=s)):this.obQuantity.value=this.stepQuantity)},t.JCCatalogElement.prototype.QuantitySet=function(t){var i,s="";0===this.errorCode&&(this.canBuy=this.offers[t].CAN_BUY,this.canBuy?(this.obBasketActions&&BX.style(this.obBasketActions,"display",""),this.obNotAvail&&BX.style(this.obNotAvail,"display","none")):(this.obBasketActions&&(BX.style(this.obBasketActions,"opacity","0"),BX.style(BX.findParent(BX(this.obQuantity),{"class":"counter_block"}),"display","none")),this.obNotAvail&&BX.style(this.obNotAvail,"display","")),this.config.showQuantity&&(this.isDblQuantity=this.offers[t].QUANTITY_FLOAT,this.checkQuantity=this.offers[t].CHECK_QUANTITY,this.isDblQuantity?(this.maxQuantity=parseFloat(this.offers[t].MAX_QUANTITY),this.stepQuantity=Math.round(parseFloat(this.offers[t].STEP_QUANTITY)*this.precisionFactor)/this.precisionFactor):(this.maxQuantity=parseInt(this.offers[t].MAX_QUANTITY,10),this.stepQuantity=parseInt(this.offers[t].STEP_QUANTITY,10)),this.obMeasure&&(this.offers[t].MEASURE?BX.adjust(this.obMeasure,{html:this.offers[t].MEASURE}):BX.adjust(this.obMeasure,{html:""})),this.obQuantityLimit.all&&(this.checkQuantity?(i=this.offers[t].MAX_QUANTITY,this.offers[t].MEASURE&&(i+=" "+this.offers[t].MEASURE),BX.adjust(this.obQuantityLimit.value,{html:i}),BX.adjust(this.obQuantityLimit.all,{style:{display:""}})):(BX.adjust(this.obQuantityLimit.value,{html:""}),BX.adjust(this.obQuantityLimit.all,{style:{display:"none"}}))),this.obBasisPrice&&(this.offers[t].BASIS_PRICE?(s=BX.message("BASIS_PRICE_MESSAGE"),s=s.replace("#PRICE#",BX.Currency.currencyFormat(this.offers[t].BASIS_PRICE.DISCOUNT_VALUE,this.offers[t].BASIS_PRICE.CURRENCY,!0)),s=s.replace("#MEASURE#",this.offers[t].MEASURE),BX.adjust(this.obBasisPrice,{style:{display:""},html:s})):BX.adjust(this.obBasisPrice,{style:{display:"none"},html:""}))),this.currentBasisPrice=this.offers[t].BASIS_PRICE)},t.JCCatalogElement.prototype.SelectOfferProp=function(){var t=0,i="",s=[],e=null,a=BX.proxy_context;if("undefined"!=typeof a.options&&"undefined"!=typeof a.options[a.selectedIndex]&&(a=a.options[a.selectedIndex]),a&&a.hasAttribute("data-treevalue")&&(i=a.getAttribute("data-treevalue"),propModes=a.getAttribute("data-showtype"),s=i.split("_"),this.SearchOfferPropIndex(s[0],s[1]),e=BX.findChildren(a.parentNode,{tagName:this.skuVisualParams[propModes.toUpperCase()].TAG},!1),e&&0<e.length))for(t=0;t<e.length;t++)value=e[t].getAttribute("data-onevalue"),"TEXT"==propModes?value===s[1]?e[t].setAttribute("selected","selected"):e[t].removeAttribute("selected"):value===s[1]?$(e[t]).addClass(this.skuVisualParams[propModes.toUpperCase()].ACTIVE_CLASS):$(e[t]).removeClass(this.skuVisualParams[propModes.toUpperCase()].ACTIVE_CLASS)},t.JCCatalogElement.prototype.SearchOfferPropIndex=function(t,i){var s,e,a="",r=!1,o=[],h=-1,n={},l=[];for(s=0;s<this.treeProps.length;s++)if(this.treeProps[s].ID===t){h=s;break}if(h>-1){for(s=0;h>s;s++)a="PROP_"+this.treeProps[s].ID,n[a]=this.selectedValues[a];for(a="PROP_"+this.treeProps[h].ID,n[a]=i,s=h+1;s<this.treeProps.length&&(a="PROP_"+this.treeProps[s].ID,r=this.GetRowValues(n,a),r);s++){if(this.config.showAbsent)for(o=[],l=[],l=BX.clone(n,!0),e=0;e<r.length;e++)l[a]=r[e],o[o.length]=r[e];else o=r;this.selectedValues[a]&&BX.util.in_array(this.selectedValues[a],o)?n[a]=this.selectedValues[a]:n[a]=o[0],this.UpdateRow(s,n[a],r,o)}this.selectedValues=n,this.ChangeInfo()}},t.JCCatalogElement.prototype.RowLeft=function(){var t,i="",s=-1,e=BX.proxy_context;if(e&&e.hasAttribute("data-treevalue")){for(i=e.getAttribute("data-treevalue"),t=0;t<this.treeProps.length;t++)if(this.treeProps[t].ID===i){s=t;break}s>-1&&this.treeRowShowSize<this.showCount[s]&&0>this.showStart[s]&&(this.showStart[s]++,BX.adjust(this.obTreeRows[s].LIST,{style:{marginLeft:20*this.showStart[s]+"%"}}))}},t.JCCatalogElement.prototype.RowRight=function(){var t,i="",s=-1,e=BX.proxy_context;if(e&&e.hasAttribute("data-treevalue")){for(i=e.getAttribute("data-treevalue"),t=0;t<this.treeProps.length;t++)if(this.treeProps[t].ID===i){s=t;break}s>-1&&this.treeRowShowSize<this.showCount[s]&&this.treeRowShowSize-this.showStart[s]<this.showCount[s]&&(this.showStart[s]--,BX.adjust(this.obTreeRows[s].LIST,{style:{marginLeft:20*this.showStart[s]+"%"}}))}},t.JCCatalogElement.prototype.UpdateRow=function(t,i,s,e){var a=0,r=0,o="",h=0,n={},l=null,c=!1,u=0,p=(this.treeEnableArrow,this.treeEnableArrow,0);if(t>-1&&t<this.obTreeRows.length&&(propMode=this.treeProps[t].DISPLAY_TYPE,l=BX.findChildren(this.obTreeRows[t].LIST,{tagName:this.skuVisualParams[propMode].TAG},!1),l&&0<l.length)){for(selectMode="SELECT"===this.treeProps[t].DISPLAY_TYPE,h=s.length,n={style:{},props:{disabled:"",selected:""}},a=0;a<l.length;a++)o=l[a].getAttribute("data-onevalue"),c=o===i&&0!=o,n.props.className=c?this.skuVisualParams[propMode].ACTIVE_CLASS:"",selectMode?(n.props.disabled="disabled",n.props.selected=c?"selected":""):n.style.display="none",BX.util.in_array(o,s)&&(selectMode?n.props.disabled="":n.style.display="",c&&(u=r),r++),BX.adjust(l[a],n);selectMode&&$(this.obTreeRows[t].LIST).parent().hasClass("ik_select")&&$(this.obTreeRows[t].LIST).ikSelect("reset"),this.showCount[t]=h,this.showStart[t]=p}},t.JCCatalogElement.prototype.GetRowValues=function(t,i){var s=[],e=0,a=0,r=!1,o=!0;if(0===t.length){for(e=0;e<this.offers.length;e++)BX.util.in_array(this.offers[e].TREE[i],s)||(s[s.length]=this.offers[e].TREE[i]);r=!0}else for(e=0;e<this.offers.length;e++){o=!0;for(a in t)if(t[a]!==this.offers[e].TREE[a]){o=!1;break}o&&(BX.util.in_array(this.offers[e].TREE[i],s)||(s[s.length]=this.offers[e].TREE[i]),r=!0)}return r?s:!1},t.JCCatalogElement.prototype.GetCanBuy=function(t){var i=0,s=0,e=!0,a=!1;for(i=0;i<this.offers.length;i++){e=!0;for(s in t)if(t[s]!==this.offers[i].TREE[s]){e=!1;break}if(e&&this.offers[i].CAN_BUY){a=!0;break}}return a},t.JCCatalogElement.prototype.SetCurrent=function(){var t=0,i=0,s="",e=!1,a=[],r={},o=[],h=this.offers[this.offerNum].TREE;for(t=0;t<this.treeProps.length&&(s="PROP_"+this.treeProps[t].ID,e=this.GetRowValues(r,s),e);t++){if(BX.util.in_array(h[s],e)?r[s]=h[s]:(r[s]=e[0],this.offerNum=0),this.config.showAbsent)for(a=[],o=[],o=BX.clone(r,!0),i=0;i<e.length;i++)o[s]=e[i],this.GetCanBuy(o)&&(a[a.length]=e[i]);else a=e;this.UpdateRow(t,r[s],e,a)}this.selectedValues=r,this.ChangeInfo()},t.JCCatalogElement.prototype.ChangeInfo=function(){var i=-1,s=0,e=0,a=!0;for(s=0;s<this.offers.length;s++){a=!0;for(e in this.selectedValues)if(this.selectedValues[e]!==this.offers[s].TREE[e]){a=!1;break}if(a){i=s;break}}if(i>-1){var r=this.offers[i].MEASURE&&"Y"==this.offers[i].SHOW_MEASURE?this.offers[i].MEASURE:"";for(this.setPrice(this.offers[i].PRICE,r),s=0;s<this.offers.length;s++)this.config.showOfferGroup&&this.offers[s].OFFER_GROUP&&s!==i&&BX.adjust(BX(this.visual.OFFER_GROUP+this.offers[s].ID),{style:{display:"none"}});if(this.config.showOfferGroup&&this.offers[i].OFFER_GROUP&&BX.adjust(BX(this.visual.OFFER_GROUP+this.offers[i].ID),{style:{display:""}}),0<this.offers[i].SLIDER_COUNT?this.SetMainPict(this.offers[i].ID,this.offers[i].SLIDER[0].ID):this.SetMainPictFromItem(i),this.SetSliderPict(this.offers[i],this.offers[i].SLIDER,this.config),this.SetSliderPictMobile(this.offers[i],this.offers[i].SLIDER,this.config),this.config.showSkuProps&&this.obSkuProps){var o=this.offers[i].TABLE_PROP;"TABLE"!=this.offers[i].TYPE_PROP&&(o=this.offers[i].DIV_PROP),o&&0!==o.length?BX.adjust(this.obSkuProps,{style:{display:""},html:o}):BX.adjust(this.obSkuProps,{style:{display:"none"},html:""})}this.config.showSkuProps&&this.obSkuArticleProps&&("DISPLAY_PROPERTIES_CODE"in this.offers[i]&&"ARTICLE"in this.offers[i].DISPLAY_PROPERTIES_CODE?this.offers[i].DISPLAY_PROPERTIES_CODE.ARTICLE.VALUE&&BX.adjust(this.obSkuArticleProps,{style:{display:""},html:this.offers[i].DISPLAY_PROPERTIES_CODE.ARTICLE.VALUE_FORMAT}):BX.adjust(this.obSkuArticleProps,{style:{display:"none"},html:""})),setLocationSKU(this.offers[i].URL),$(this.obBasketActions).closest(".counter_wrapp").addClass("hidden_block"),this.offerNum=i,this.QuantitySet(this.offerNum),this.setStoreBlock(this.offers[i].ID),this.setQuantityStore(this.offers[i].MAX_QUANTITY,this.offers[i].AVAILIABLE.TEXT),this.incViewedCounter(),BX.onCustomEvent("onCatalogStoreProductChange",[this.offers[this.offerNum].ID]),$(this.obPict).parent().data("id",this.offers[i].ID);var h=this.offers[i],n=$(this.obProduct);"undefined"!=typeof arBasketAspro?this.setActualDataBlock(n,h):"undefined"!=typeof t.frameCacheVars&&BX.addCustomEvent("onFrameDataReceived",function(){t.JCCatalogElement.prototype.setActualDataBlock(n,h)}),$(this.obProduct).find(".quantity_block .values").length&&$(this.obProduct).find(".quantity_block .values .item span").text(this.offers[i].MAX_QUANTITY).css({opacity:"1"}),$('.catalog_detail .tabs_section .tabs_content .form.inline input[data-sid="PRODUCT_NAME"]').attr("value",$("h1").text()+"("+this.offers[i].NAME+")")}},t.JCCatalogElement.prototype.setActualDataBlock=function(t,i){this.setLikeBlock(t,".like_icons .wish_item",i,"DELAY"),this.setLikeBlock(t,".like_icons .compare_item",i,"COMPARE"),this.setBuyBlock(t,i)},t.JCCatalogElement.prototype.SetSliderPict=function(t,i,s){var e=$(".wrapp_thumbs"),a="";countPhoto=t.SLIDER_COUNT,e.find(".thumbs").css({"max-width":Math.ceil(64*(countPhoto<=4?countPhoto:4)-10)}),a='<ul class="slides_block">';for(var r in i)a+='<li data-big="'+i[r].BIG.src+'"><span class="cnt"><img border="0" src="'+i[r].THUMB.src+'" alt="'+i[r].ALT+'" title="'+i[r].TITLE+'" /></span></li>';if(a+="</ul>",e.find(".thumbs").html(a),countPhoto>1){e.show(),e.find(".thumbs_navigation").length&&e.find(".thumbs_navigation").remove(),e.find(".thumbs").append('<span class="thumbs_navigation custom_flex"></span>'),e.find(".thumbs").removeData("flexslider"),e.find(".thumbs").flexslider({animation:"slide",selector:".slides_block > li",slideshow:!1,animationSpeed:600,directionNav:!0,controlNav:!1,pauseOnHover:!0,itemWidth:54,itemMargin:10,animationLoop:!0,controlsContainer:".thumbs_navigation"}),e.find(".thumbs .slides_block li").first().addClass("current");var o=$(this.obPict);e.find(".thumbs").delegate("li:not(.current)","click",function(t){var e="",a="",r="",h="";index=$(this).index(),"SMALL"in i[index]?e=i[index].SMALL.src:"SRC"in i[index]&&(e=i[index].SRC),"BIG"in i[index]&&(a=i[index].BIG.src),"WIDTH"in i[index]&&(r=i[index].WIDTH),"HEIGHT"in i[index]&&(h=i[index].HEIGHT),$(this).addClass("current").siblings().removeClass("current").parents(".item_slider").find(".slides li").fadeOut(333),$(this).parents(".item_slider").find(".slides li").eq(index).addClass("current").stop().fadeIn(333),e&&BX.adjust(o[0],{props:{src:e}}),o.attr("data-large",""),a&&("POPUP"===s.mainPictureMode&&o.parent().attr("href",a),"MAGNIFIER"===s.mainPictureMode&&o.attr("data-large",a),o.parent().attr("title",i[index].TITLE),o.parent().attr("alt",i[index].ALT),o.attr("title",i[index].TITLE),o.attr("alt",i[index].ALT))})}else e.hide()},t.JCCatalogElement.prototype.SetSliderPictMobile=function(t,i){var s=$(".item_slider.flex"),e="";if(countPhoto=t.SLIDER_COUNT,e='<ul class="slides">',i.length)for(var a in i)e+='<li data-value="'+t.ID+"_"+i[a].ID+'"><a href="'+i[a].BIG.src+'" rel="item_slider" class="fancy" title="'+i[a].TITLE+'"><img border="0" src="'+i[a].SMALL.src+'" alt="'+i[a].ALT+'" title="'+i[a].TITLE+'" /></a></li>';else e+='<li data-value=""><span rel="item_slider" class="fancy" title="'+t.NAME+'"><img border="0" src="'+t.NO_PHOTO.SRC+'" alt="'+t.NAME+'" title="'+t.NAME+'" /></span></li>';e+="</ul>",s.html(e),s.removeData("flexslider"),s.flexslider({animation:"slide",slideshow:!0,slideshowSpeed:1e4,animationSpeed:600,directionNav:!1,pauseOnHover:!0,animationLoop:!1})},t.JCCatalogElement.prototype.setLikeBlock=function(t,i,s,e){var a=t;"DELAY"==e&&(s.CAN_BUY?a.find(i).css("display","block"):a.find(i).hide()),a.find(i).attr("data-item",s.ID),arBasketAspro[e]&&(a.find(i).removeClass("added"),a.find(i).find(".value").css("display","block"),a.find(i).find(".value.added").hide(),void 0!==arBasketAspro[e][s.ID]&&(a.find(i).addClass("added"),a.find(i).find(".value").hide(),a.find(i).find(".value.added").css("display","block")))},t.JCCatalogElement.prototype.setBuyBlock=function(t,i){var s=t.find(".offer_buy_block");if(s.find(".counter_wrapp .counter_block").length&&s.find(".counter_wrapp .counter_block").attr("data-item",i.ID),i.CONFIG.OPTIONS.USE_PRODUCT_QUANTITY_DETAIL&&"ADD"==i.CONFIG.ACTION&&i.CAN_BUY){var e=i.CONFIG.MAX_QUANTITY_BUY>0?"data-max='"+i.CONFIG.MAX_QUANTITY_BUY+"'":"",a='<span class="minus">-</span><input type="text" class="text" name="'+i.PRODUCT_QUANTITY_VARIABLE+'" value="'+i.CONFIG.MIN_QUANTITY_BUY+'" /><span class="plus" '+e+">+</span>";arBasketAspro.BASKET&&void 0!==arBasketAspro.BASKET[i.ID]?s.find(".counter_wrapp .counter_block").length?s.find(".counter_wrapp .counter_block").hide():(s.find(".counter_wrapp").prepend('<div class="counter_block big_basket" data-item="'+i.ID+'"></div>'),s.find(".counter_wrapp .counter_block").html(a).hide()):s.find(".counter_wrapp .counter_block").length?s.find(".counter_wrapp .counter_block").html(a).show():(s.find(".counter_wrapp").prepend('<div class="counter_block big_basket" data-item="'+i.ID+'"></div>'),s.find(".counter_wrapp .counter_block").html(a))}else s.find(".counter_wrapp .counter_block").length&&s.find(".counter_wrapp .counter_block").hide();var r="ORDER"==i.CONFIG.ACTION||!i.CAN_BUY||!i.CONFIG.OPTIONS.USE_PRODUCT_QUANTITY_DETAIL||"SUBSCRIBE"==i.CONFIG.ACTION&&"Y"==i.CATALOG_SUBSCRIBE?"wide":"";$('<div class="button_block"></div>');if(s.find(".counter_wrapp").find(".button_block").length?arBasketAspro.BASKET&&void 0!==arBasketAspro.BASKET[i.ID]?(s.find(".counter_wrapp").find(".button_block").addClass("wide").html(i.HTML),markProductAddBasket(i.ID)):r?(s.find(".counter_wrapp").find(".button_block").addClass("wide").html(i.HTML),"undefined"!=typeof arBasketAspro&&arBasketAspro.SUBSCRIBE&&void 0!==arBasketAspro.SUBSCRIBE[i.ID]&&markProductSubscribe(i.ID)):s.find(".counter_wrapp").find(".button_block").removeClass("wide").html(i.HTML):(s.find(".counter_wrapp").append('<div class="button_block '+r+'">'+i.HTML+"</div>"),arBasketAspro.BASKET&&void 0!==arBasketAspro.BASKET[i.ID]&&markProductAddBasket(i.ID),arBasketAspro.SUBSCRIBE&&void 0!==arBasketAspro.SUBSCRIBE[i.ID]&&markProductSubscribe(i.ID)),"NOTHING"!==i.CONFIG.ACTION)if("ADD"==i.CONFIG.ACTION&&i.CAN_BUY&&"N"!=i.SHOW_ONE_CLICK_BUY){var o='<span class="transparent big_btn type_block button one_click transition_bg" data-offers="Y" data-item="'+i.ID+'" data-iblockID="'+i.IBLOCK_ID+'" data-quantity="'+i.CONFIG.MIN_QUANTITY_BUY+'" data-props="'+i.OFFER_PROPS+'" onclick="oneClickBuy('+i.ID+", "+i.IBLOCK_ID+', this)"><span>'+i.ONE_CLICK_BUY+"</span></span>";s.find(".wrapp_one_click").length?s.find(".wrapp_one_click").html(o):s.append('<div class="wrapp_one_click">'+o+"</div>")}else s.find(".wrapp_one_click").length&&s.find(".wrapp_one_click").remove();else s.find(".wrapp_one_click").length&&s.find(".wrapp_one_click").remove();s.fadeIn()},t.JCCatalogElement.prototype.setStoreBlock=function(t){$(".stores_tab > div").hide(),$(".stores_tab .sku_stores_"+t).show()},t.JCCatalogElement.prototype.setQuantityStore=function(t,i){parseFloat(t)>0?$(this.storeQuanity).find(".icon").removeClass("order").addClass("stock"):$(this.storeQuanity).find(".icon").removeClass("stock").addClass("order"),$(this.storeQuanity).find(".icon + span").html(i),$(".stores_tab").length||$(".item-stock .store_view").removeClass("store_view")},t.JCCatalogElement.prototype.CompareCountResult=function(t){if(t.COMPARE_COUNT){for(var i in t.ITEMS){if(t.ITEMS[i]==this.offers[this.offerNum].ID){this.offers[this.offerNum].COMPARE_ACTIVE=!0;break}this.offers[this.offerNum].COMPARE_ACTIVE=!1}this.offers[this.offerNum].COMPARE_ACTIVE?($(this.obCompare).addClass("added"),$(this.obCompare).find(".value:not(.added)").hide(),$(this.obCompare).find(".value.added").css("display","block")):($(this.obCompare).removeClass("added"),$(this.obCompare).find(".value.added").hide(),$(this.obCompare).find(".value:not(.added)").css("display","block"))}},t.JCCatalogElement.prototype.ItemInfoResult=function(t){t.HTML&&($(this.obBasketActions).html(t.HTML),$(this.obBasketActions).show(),this.obAddToBasketBtn=BX(this.visual.BUY_ID),this.obBasketBtn=BX(this.visual.BASKET_LINK),this.obSubscribeBtn=BX(this.visual.SUBSCRIBE_ID),this.obSubscribedBtn=BX(this.visual.SUBSCRIBED_ID),BX.bind(this.obAddToBasketBtn,"click",BX.delegate(this.Add2Basket,this)),$(this.obBasketActions).removeClass("wide"),this.ajax_type_item=t.BUYMISSINGGOODS,"ADD"==t.BUYMISSINGGOODS||this.canBuy?$(this.obQuantity).css("display",""):$(this.obBasketActions).addClass("wide"),t.ONE_CLICK_HTML&&$(".wrapp_one_click").html(t.ONE_CLICK_HTML)),basketParams={ajax_action:"Y"},BX.ajax.loadJSON(arOptimusOptions.SITE_DIR+"ajax/get_basket_count.php",basketParams,BX.delegate(this.BasketCountResult,this))},t.JCCatalogElement.prototype.BasketCountResult=function(t){for(var i in t.ITEMS){if(t.ITEMS[i].PRODUCT_ID==this.offers[this.offerNum].ID){this.offers[this.offerNum].BASKET_ACTIVE=!0;break}this.offers[this.offerNum].BASKET_ACTIVE=!1}for(var i in t.SUBSCRIBE_ITEMS){if(t.SUBSCRIBE_ITEMS[i].PRODUCT_ID==this.offers[this.offerNum].ID){this.offers[this.offerNum].SUBSCRIBE_ACTIVE=!0;break}this.offers[this.offerNum].SUBSCRIBE_ACTIVE=!1}this.BasketStateRefresh()},t.JCCatalogElement.prototype.BasketStateRefresh=function(i){this.offers[this.offerNum].SUBSCRIBE_ACTIVE?($(this.obBasketActions).addClass("wide"),$(this.obSubscribeBtn).hide(),$(this.obSubscribedBtn).show()):($(this.obBasketActions).addClass("wide"),$(this.obSubscribedBtn).hide(),$(this.obSubscribeBtn).show()),this.offers[this.offerNum].BASKET_ACTIVE?($(this.obAddToBasketBtn).hide(),$(this.obQuantity).closest(".counter_wrapp").find(".counter_block").hide(),$(this.obBasketBtn).show(),$(this.obBasketActions).addClass("wide")):($(this.obBasketActions).removeClass("wide"),$(this.obBasketBtn).hide(),("ADD"==this.ajax_type_item||this.canBuy)&&$(this.obQuantity).closest(".counter_wrapp").find(".counter_block").show(),$(this.obAddToBasketBtn).show()),this.canBuy||$(this.obBasketActions).addClass("wide"),this.canBuy&&$(".one_click").removeClass("hidden_block").css("opacity",1),BX.style(this.obBasketActions,"opacity","1"),$(this.obBasketActions).closest(".counter_wrapp").removeClass("hidden_block").css("opacity",1),"undefined"!==i&&"Y"==i&&($("#basket_line .basket_fly").length&&$(t).outerWidth()>768?basketFly("open"):$("#basket_line .cart").length&&($("#basket_line .cart").is(".empty_cart")&&($("#basket_line .cart").removeClass("empty_cart").find(".cart_wrapp a.basket_link").removeAttr("href").addClass("cart-call"),touchBasket(".cart:not(.empty_cart) .basket_block .link")),reloadTopBasket("add",$("#basket_line"),200,2e3,"Y")),animateBasketLine(200))},t.JCCatalogElement.prototype.setPrice=function(t,i){var s="";this.obPrice.price&&(s=BX.Currency.currencyFormat(t.DISCOUNT_VALUE,t.CURRENCY,!0),i&&(s=s?s+"/"+i:"&nbsp;"),BX.adjust(this.obPrice.price,{html:s}),t.DISCOUNT_VALUE!==t.VALUE?this.config.showOldPrice&&(this.obPrice.full&&BX.adjust(this.obPrice.full,{style:{display:""},html:BX.Currency.currencyFormat(t.VALUE,t.CURRENCY,!0)}),this.config.showPercent&&($(this.obPrice.full).closest(".cost").find(".sale_block").show(),$(this.obPrice.full).closest(".cost").find(".value").html(t.DISCOUNT_DIFF_PERCENT_RAW),$(this.obPrice.full).closest(".cost").find(".text span").html(BX.Currency.currencyFormat(t.DISCOUNT_DIFF,t.CURRENCY,!0)))):(this.config.showOldPrice&&(this.obPrice.full&&BX.adjust(this.obPrice.full,{style:{display:"none"},html:""}),this.obPrice.discount&&BX.adjust(this.obPrice.discount,{style:{display:"none"},html:""})),this.config.showPercent&&(this.obPrice.percent&&BX.adjust(this.obPrice.percent,{style:{display:"none"},html:""}),$(this.obPrice.full).closest(".cost").find(".sale_block").hide(),$(this.obPrice.full).closest(".cost").find(".value").html(""),$(this.obPrice.full).closest(".cost").find(".text span").html(""))))},t.JCCatalogElement.prototype.Compare=function(){var t,i;if($(this.obCompare).find(".added").is(":visible")?(i=this.compareData.compareUrlDel,this.compareData.Added=!1):(i=this.compareData.compareUrl,this.compareData.Added=!0),i){switch(this.productType){case 1:case 2:i=i.replace("#ID#",this.product.id.toString());break;case 3:i=i.replace("#ID#",this.offers[this.offerNum].ID)}t={ajax_action:"Y"},BX.ajax.loadJSON(i,t,BX.proxy(this.CompareResult,this))}},t.JCCatalogElement.prototype.CompareResult=function(t){return"object"!=typeof t?!1:("OK"===t.STATUS?(BX.onCustomEvent("OnCompareChange"),this.compareData.Added?($(this.obCompare).addClass("added"),$(this.obCompare).find(".value:not(.added)").hide(),$(this.obCompare).find(".added").css("display","block")):($(this.obCompare).removeClass("added"),$(this.obCompare).find(".added").hide(),$(this.obCompare).find(".value:not(.added)").css("display","block")),jsAjaxUtil.InsertDataToNode(arOptimusOptions.SITE_DIR+"ajax/show_compare_preview_top.php","compare_line",!1)):console.log(BX.message("ADD_ERROR_COMPARE")),!1)},t.JCCatalogElement.prototype.CompareRedirect=function(){this.compareData.comparePath?location.href=this.compareData.comparePath:this.obPopupWin.close()},t.JCCatalogElement.prototype.InitBasketUrl=function(){var t="";switch(this.basketUrl="ADD"===this.basketMode?this.basketData.add_url:this.basketData.buy_url,this.productType){case 1:case 2:this.basketUrl=this.basketUrl.replace("#ID#",this.product.id.toString()),t=this.product.id.toString();break;case 3:this.basketUrl=this.basketUrl.replace("#ID#",this.offers[this.offerNum].ID),t=this.offers[this.offerNum].URL}this.basketParams={ajax_basket:"Y"},this.config.showQuantity&&(this.basketParams[this.basketData.quantity]=this.obQuantity.value),this.basketData.sku_props&&(this.basketParams[this.basketData.sku_props_var]=this.basketData.sku_props),t&&(this.basketParams.REQUEST_URI=t)},t.JCCatalogElement.prototype.FillBasketProps=function(){if(this.visual.BASKET_PROP_DIV){var t=0,i=null,s=!1,e=null;if(this.basketData.useProps&&!this.basketData.emptyProps?this.obPopupWin&&this.obPopupWin.contentContainer&&(e=this.obPopupWin.contentContainer):e=BX(this.visual.BASKET_PROP_DIV),e){if(i=e.getElementsByTagName("select"),i&&i.length)for(t=0;t<i.length;t++)if(!i[t].disabled)switch(i[t].type.toLowerCase()){case"select-one":this.basketParams[i[t].name]=i[t].value,s=!0}if(i=e.getElementsByTagName("input"),i&&i.length)for(t=0;t<i.length;t++)if(!i[t].disabled)switch(i[t].type.toLowerCase()){case"hidden":this.basketParams[i[t].name]=i[t].value,s=!0;break;case"radio":i[t].checked&&(this.basketParams[i[t].name]=i[t].value,s=!0)}}s||(this.basketParams[this.basketData.props]=[],this.basketParams[this.basketData.props][0]=0)}},t.JCCatalogElement.prototype.SendToBasket=function(){this.canBuy&&(this.InitBasketUrl(),this.FillBasketProps(),BX.ajax.loadJSON(this.basketUrl,this.basketParams,BX.proxy(this.BasketResult,this)))},t.JCCatalogElement.prototype.Add2Basket=function(){this.basketMode="ADD",this.Basket()},t.JCCatalogElement.prototype.BuyBasket=function(){this.basketMode="BUY",this.Basket()},t.JCCatalogElement.prototype.Basket=function(){this.canBuy&&this.SendToBasket()},t.JCCatalogElement.prototype.BasketResult=function(t){var i;return this.obPopupWin&&this.obPopupWin.close(),"object"!=typeof t?!1:("OK"===t.STATUS&&"BUY"===this.basketMode?this.BasketRedirect():(i={content:BX.create("div",{style:{marginRight:"30px",whiteSpace:"nowrap"},text:"OK"===t.STATUS?BX.message("TITLE_SUCCESSFUL"):BX.message("TITLE_ERROR")})},"OK"===t.STATUS?(BX.onCustomEvent("OnBasketChange"),this.offers[this.offerNum].BASKET_ACTIVE=!0,this.BasketStateRefresh("Y")):console.log(BX.message("ADD_ERROR_BASKET"))),!1)},t.JCCatalogElement.prototype.BasketRedirect=function(){location.href=this.basketData.basketUrl?this.basketData.basketUrl:BX.message("BASKET_URL")},t.JCCatalogElement.prototype.InitPopupWindow=function(){this.obPopupWin||(this.obPopupWin=BX.PopupWindowManager.create("CatalogElementBasket_"+this.visual.ID,null,{autoHide:!1,offsetLeft:0,offsetTop:0,overlay:!0,closeByEsc:!0,titleBar:!0,closeIcon:{top:"10px",right:"10px"}}))},t.JCCatalogElement.prototype.onPopupWindowShow=function(t){BX.bind(document,"click",BX.proxy(this.popupWindowClick,this))},t.JCCatalogElement.prototype.onPopupWindowClose=function(t,i){BX.unbind(document,"click",BX.proxy(this.popupWindowClick,this))},t.JCCatalogElement.prototype.popupWindowClick=function(){this.obPopupPict&&"object"==typeof this.obPopupPict&&this.obPopupPict.isShown()&&this.obPopupPict.close()},t.JCCatalogElement.prototype.incViewedCounter=function(){if(this.currentIsSet&&!this.updateViewedCount){switch(this.productType){case 1:case 2:this.viewedCounter.params.PRODUCT_ID=this.product.id,this.viewedCounter.params.PARENT_ID=this.product.id;break;case 3:this.viewedCounter.params.PARENT_ID=this.product.id,this.viewedCounter.params.PRODUCT_ID=this.offers[this.offerNum].ID;break;default:return}this.viewedCounter.params.SITE_ID=BX.message("SITE_ID"),this.updateViewedCount=!0,BX.ajax.post(this.viewedCounter.path,this.viewedCounter.params,BX.delegate(function(){this.updateViewedCount=!1},this))}},t.JCCatalogElement.prototype.allowViewedCount=function(t){t=!!t,this.currentIsSet=!0,t&&this.incViewedCounter()}}}(window);137  87166|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/components/bitrix/catalog.element/main/script.js|b8a1762a(function (window) {

if (!!window.JCCatalogElement)
{
	return;
}

var BasketButton = function(params)
{
	BasketButton.superclass.constructor.apply(this, arguments);
	this.nameNode = BX.create('span', {
		props : { className : 'bx_medium bx_bt_button', id : this.id },
		style: typeof(params.style) === 'object' ? params.style : {},
		text: params.text
	});
	this.buttonNode = BX.create('span', {
		attrs: { className: params.ownerClass },
		children: [this.nameNode],
		events : this.contextEvents
	});
	if (BX.browser.IsIE())
	{
		this.buttonNode.setAttribute("hideFocus", "hidefocus");
	}
};
BX.extend(BasketButton, BX.PopupWindowButton);

window.JCCatalogElement = function (arParams)
{
	this.skuVisualParams = {
		SELECT:
		{
			TAG_BIND: 'select',
			TAG: 'option',
			ACTIVE_CLASS: 'active',
			HIDE_CLASS: 'hidden',
			EVENT: 'change',
		},
		LI:
		{
			TAG_BIND: 'li',
			TAG: 'li',
			ACTIVE_CLASS: 'active',
			HIDE_CLASS: 'missing',
			EVENT: 'click',
		}
	};
	this.productType = 0;

	this.config = {
		useCatalog: true,
		showQuantity: true,
		showPrice: true,
		showAbsent: true,
		showOldPrice: false,
		showPercent: false,
		showSkuProps: false,
		showOfferGroup: false,
		useCompare: false,
		mainPictureMode: 'IMG',
		showBasisPrice: false,
		basketAction: ['BUY'],
		showClosePopup: false
	};

	this.basketLinkURL = '';

	this.checkQuantity = false;
	this.maxQuantity = 0;
	this.SliderImages=0;
	this.defaultCount = 1;
	this.stepQuantity = 1;
	this.isDblQuantity = false;
	this.canBuy = true;
	this.currentBasisPrice = {};
	this.canSubscription = true;
	this.currentIsSet = false;
	this.updateViewedCount = false;

	this.precision = 6;
	this.precisionFactor = Math.pow(10,this.precision);

	this.listID = {
		main: ['PICT_ID', 'BIG_SLIDER_ID', 'BIG_IMG_CONT_ID'],
		stickers: ['STICKER_ID'],
		productSlider: ['SLIDER_CONT', 'SLIDER_LIST', 'SLIDER_LEFT', 'SLIDER_RIGHT'],
		offerSlider: ['SLIDER_CONT_OF_ID', 'SLIDER_LIST_OF_ID', 'SLIDER_LEFT_OF_ID', 'SLIDER_RIGHT_OF_ID'],
		offerSliderMobile: ['SLIDER_CONT_OFM_ID', 'SLIDER_LIST_OFM_ID', 'SLIDER_LEFT_OFM_ID', 'SLIDER_RIGHT_OFM_ID'],
		offers: ['TREE_ID', 'TREE_ITEM_ID', 'DISPLAY_PROP_DIV', 'DISPLAY_PROP_ARTICLE_DIV', 'OFFER_GROUP'],
		quantity: ['QUANTITY_ID', 'QUANTITY_UP_ID', 'QUANTITY_DOWN_ID', 'QUANTITY_MEASURE', 'QUANTITY_LIMIT', 'BASIS_PRICE'],
		price: ['PRICE_ID'],
		oldPrice: ['OLD_PRICE_ID', 'DISCOUNT_VALUE_ID'],
		discountPerc: ['DISCOUNT_PERC_ID'],
		basket: ['BASKET_PROP_DIV', 'BUY_ID', 'BASKET_LINK', 'ADD_BASKET_ID', 'BASKET_ACTIONS_ID', 'NOT_AVAILABLE_MESS', 'SUBSCRIBE_ID', 'SUBSCRIBED_ID'],
		magnifier: ['MAGNIFIER_ID', 'MAGNIFIER_AREA_ID'],
		compare: ['COMPARE_LINK_ID']
	};

	this.visualPostfix = {
		// main pict
		PICT_ID: '_pict',
		BIG_SLIDER_ID: '_big_slider',
		BIG_IMG_CONT_ID: '_bigimg_cont',
		// stickers
		STICKER_ID: '_sticker',
		// product pict slider
		SLIDER_CONT: '_slider_cont',
		SLIDER_LIST: '_slider_list',
		SLIDER_LEFT: '_slider_left',
		SLIDER_RIGHT: '_slider_right',
		// offers sliders
		SLIDER_CONT_OF_ID: '_slider_cont_',
		SLIDER_LIST_OF_ID: '_slider_list_',
		SLIDER_LEFT_OF_ID: '_slider_left_',
		SLIDER_RIGHT_OF_ID: '_slider_right_',
		// offers sliders mobile
		SLIDER_CONT_OFM_ID: '_sliderm_cont_',
		SLIDER_LIST_OFM_ID: '_sliderm_list_',
		SLIDER_LEFT_OFM_ID: '_sliderm_left_',
		SLIDER_RIGHT_OFM_ID: '_sliderm_right_',
		// offers
		TREE_ID: '_skudiv',
		TREE_ITEM_ID: '_prop_',
		DISPLAY_PROP_DIV: '_sku_prop',
		DISPLAY_PROP_ARTICLE_DIV: '_sku_article_prop',
		// quantity
		QUANTITY_ID: '_quantity',
		QUANTITY_UP_ID: '_quant_up',
		QUANTITY_DOWN_ID: '_quant_down',
		QUANTITY_MEASURE: '_quant_measure',
		QUANTITY_LIMIT: '_quant_limit',
		BASIS_PRICE: '_basis_price',
		// price and discount
		PRICE_ID: '_price',
		OLD_PRICE_ID: '_old_price',
		DISCOUNT_VALUE_ID: '_price_discount',
		DISCOUNT_PERC_ID: '_dsc_pict',
		// basket
		BASKET_PROP_DIV: '_basket_prop',
		BUY_ID: '_buy_link',
		BASKET_LINK: '_basket_link',
		ADD_BASKET_ID: '_add_basket_link',
		BASKET_ACTIONS_ID: '_basket_actions',
		NOT_AVAILABLE_MESS: '_not_avail',
		SUBSCRIBE_ID: '_subscribe_div',
		SUBSCRIBED_ID: '_subscribed_div',
		// magnifier
		MAGNIFIER_ID: '_magnifier',
		MAGNIFIER_AREA_ID: '_magnifier_area',
		// offer groups
		OFFER_GROUP: '_set_group_',
		// compare
		COMPARE_LINK_ID: '_compare_link'
	};

	this.visual = {};

	this.basketMode = '';
	this.product = {
		checkQuantity: false,
		maxQuantity: 0,
		stepQuantity: 1,
		startQuantity: 1,
		isDblQuantity: false,
		canBuy: true,
		canSubscription: true,
		name: '',
		pict: {},
		id: 0,
		addUrl: '',
		buyUrl: '',
		slider: {},
		sliderCount: 0,
		useSlider: false,
		sliderPict: []
	};
	this.mess = {};

	this.basketData = {
		useProps: false,
		emptyProps: false,
		quantity: 'quantity',
		props: 'prop',
		basketUrl: '',
		sku_props: '',
		sku_props_var: 'basket_props',
		add_url: '',
		buy_url: ''
	};
	this.compareData = {
		compareUrl: '',
		comparePath: ''
	};

	this.defaultPict = {
		preview: null,
		detail: null
	};

	this.offers = [];
	this.offerNum = 0;
	this.treeProps = [];
	this.obTreeRows = [];
	this.showCount = [];
	this.showStart = [];
	this.selectedValues = {};
	this.sliders = [];

	this.obProduct = null;
	this.obQuantity = null;
	this.obQuantityUp = null;
	this.obQuantityDown = null;
	this.obBasisPrice = null;
	this.obPict = null;
	this.obPictAligner = null;
	this.obPrice = {
		price: null,
		full: null,
		discount: null,
		percent: null
	};
	this.obTree = null;
	this.obBuyBtn = null;
	this.obBasketBtn = null;
	this.obAddToBasketBtn = null;
	this.obBasketActions = null;
	this.obNotAvail = null;
	this.obSkuProps = null;
	this.obSlider = null;
	this.obMeasure = null;
	this.obQuantityLimit = {
		all: null,
		value: null
	};
	this.obCompare = null;

	this.viewedCounter = {
		path: '/bitrix/components/bitrix/catalog.element/ajax.php',
		params: {
			AJAX: 'Y',
			SITE_ID: '',
			PRODUCT_ID: 0,
			PARENT_ID: 0
		}
	};

	this.currentImg = {
		src: '',
		width: 0,
		height: 0,
		screenWidth: 0,
		screenHeight: 0,
		screenOffsetX: 0,
		screenOffsetY: 0,
		scale: 1
	};
	this.currentBigImg = {
		src: '',
	}

	this.obPopupWin = null;
	this.basketUrl = '';
	this.basketParams = {};

	this.obPopupPict = null;
	this.magnify = {
		obMagnifier: null,
		obMagnifyPict: null,
		obMagnifyArea: null,
		obBigImg: null,
		obBigSlider: null,
		magnifyShow: false,
		areaParams : {
			width: 100,
			height: 130,
			left: 0,
			top: 0,
			scaleFactor: 1,
			globalLeft: 0,
			globalTop: 0,
			globalRight: 0,
			globalBottom: 0
		},
		magnifierParams: {
			top: 0,
			left: 0,
			width: 0,
			height: 0,
			ratioX: 10,
			ratioY: 13,
			defaultScale: 1
		},
		magnifyPictParams: {
			marginTop: 0,
			marginLeft: 0,
			width: 0,
			height: 0
		}
	};

	this.treeRowShowSize = 5;
	this.treeEnableArrow = { display: '', cursor: 'pointer', opacity: 1 };
	this.treeDisableArrow = { display: '', cursor: 'default', opacity: 0.2 };
	this.sliderRowShowSize = 5;
	this.sliderEnableArrow = { display: '', cursor: 'pointer', opacity: 1 };
	this.sliderDisableArrow = { display: '', cursor: 'default', opacity: 0.2 };

	this.errorCode = 0;
	if (typeof arParams === 'object')
	{
		this.params = arParams;
		this.initConfig();

		if (!!this.params.MESS)
		{
			this.mess = this.params.MESS;
		}
		switch (this.productType)
		{
			case 0:// no catalog
			case 1://product
			case 2://set
				this.initProductData();
				break;
			case 3://sku
				this.initOffersData();
				break;
			default:
				this.errorCode = -1;
		}

		this.initBasketData();
		this.initCompareData();
	}
	if (0 === this.errorCode)
	{
		BX.ready(BX.delegate(this.Init,this));
	}
	this.params = {};
};

window.JCCatalogElement.prototype.Init = function()
{
	var i = 0,
		j = 0,
		strPrefix = '',
		SliderImgs = null,
		TreeItems = null;

	this.obProduct = BX(this.visual.ID);
	if (!this.obProduct)
	{
		this.errorCode = -1;
	}
	this.obPict = BX(this.visual.PICT_ID);
	if (!this.obPict)
	{
		this.errorCode = -2;
	}
	else
	{
		this.obPictAligner = this.obPict.parentNode;
	}

	if (this.config.showPrice)
	{
		this.obPrice.price = BX(this.visual.PRICE_ID);
		if (!this.obPrice.price && this.config.useCatalog)
		{
			this.errorCode = -16;
		}
		else
		{
			if (this.config.showOldPrice)
			{
				this.obPrice.full = BX(this.visual.OLD_PRICE_ID);
				this.obPrice.discount = BX(this.visual.DISCOUNT_VALUE_ID);
				/*if (!this.obPrice.full || !this.obPrice.discount)
				{
					this.config.showOldPrice = false;
				}*/
			}
			if (this.config.showPercent)
			{
				this.obPrice.percent = BX(this.visual.DISCOUNT_PERC_ID);
				/*if (!this.obPrice.percent)
				{
					this.config.showPercent = false;
				}*/
			}
		}
		this.obBasketActions = BX(this.visual.BASKET_ACTIONS_ID);
		if (!!this.obBasketActions)
		{
			if (BX.util.in_array('BUY', this.config.basketAction))
			{
				this.obBuyBtn = BX(this.visual.BUY_ID);
			}
			if (BX.util.in_array('ADD', this.config.basketAction))
			{
				this.obAddToBasketBtn = BX(this.visual.BUY_ID);
			}
			if (!!this.visual.BASKET_LINK)
			{
				this.obBasketBtn = BX(this.visual.BASKET_LINK);
			}

		}
		this.obNotAvail = BX(this.visual.NOT_AVAILABLE_MESS);
	}

	if (this.config.showQuantity)
	{
		this.obQuantity = BX(this.visual.QUANTITY_ID);
		if (!!this.visual.QUANTITY_UP_ID)
		{
			this.obQuantityUp = BX(this.visual.QUANTITY_UP_ID);
		}
		if (!!this.visual.QUANTITY_DOWN_ID)
		{
			this.obQuantityDown = BX(this.visual.QUANTITY_DOWN_ID);
		}
		if (this.config.showBasisPrice)
		{
			this.obBasisPrice = BX(this.visual.BASIS_PRICE);
		}
	}
	if (3 === this.productType)
	{
		if (!!this.visual.TREE_ID)
		{
			this.obTree = BX(this.visual.TREE_ID);
			if (!this.obTree)
			{
				this.errorCode = -256;
			}
			strPrefix = this.visual.TREE_ITEM_ID;
			for (i = 0; i < this.treeProps.length; i++)
			{
				this.obTreeRows[i] = {
					LEFT: BX(strPrefix+this.treeProps[i].ID+'_left'),
					RIGHT: BX(strPrefix+this.treeProps[i].ID+'_right'),
					LIST: BX(strPrefix+this.treeProps[i].ID+'_list'),
					CONT: BX(strPrefix+this.treeProps[i].ID+'_cont')
				};
				if (!this.obTreeRows[i].LIST || !this.obTreeRows[i].CONT)
				{
					this.errorCode = -512;
					break;
				}
			}
		}
		if (!!this.visual.QUANTITY_MEASURE)
		{
			this.obMeasure = BX(this.visual.QUANTITY_MEASURE);
		}
		if (!!this.visual.QUANTITY_LIMIT)
		{
			this.obQuantityLimit.all = BX(this.visual.QUANTITY_LIMIT);
			if (!!this.obQuantityLimit.all)
			{
				this.obQuantityLimit.value = BX.findChild(this.obQuantityLimit.all, {tagName: 'span'}, false, false);
				if (!this.obQuantityLimit.value)
				{
					this.obQuantityLimit.all = null;
				}
			}
		}
	}

	if (this.config.showSkuProps)
	{
		if (!!this.visual.DISPLAY_PROP_DIV)
		{
			this.obSkuProps = BX(this.visual.DISPLAY_PROP_DIV);
		}
		if (!!this.visual.DISPLAY_PROP_ARTICLE_DIV)
		{
			this.obSkuArticleProps = BX(this.visual.DISPLAY_PROP_ARTICLE_DIV);
		}

	}

	if (this.config.useCompare)
	{
		this.obCompare = BX(this.visual.COMPARE_LINK_ID);
	}
	if (0 === this.errorCode)
	{

		if (this.config.showQuantity)
		{
			if (!!this.obQuantityUp)
			{
				BX.bind(this.obQuantityUp, 'click', BX.delegate(this.QuantityUp, this));
			}
			if (!!this.obQuantityDown)
			{
				BX.bind(this.obQuantityDown, 'click', BX.delegate(this.QuantityDown, this));
			}
			if (!!this.obQuantity)
			{
				BX.bind(this.obQuantity, 'change', BX.delegate(this.QuantityChange, this));
			}
		}
		switch (this.productType)
		{
			case 0://no catalog
			case 1://product
			case 2://set
				if (this.product.useSlider)
				{
					this.product.slider = {
						COUNT: this.product.sliderCount,
						ID: this.visual.SLIDER_CONT,
						CONT: BX(this.visual.SLIDER_CONT),
						LIST: BX(this.visual.SLIDER_LIST),
						LEFT: BX(this.visual.SLIDER_LEFT),
						RIGHT: BX(this.visual.SLIDER_RIGHT),
						START: 0
					};
					SliderImgs = BX.findChildren(this.product.slider.LIST, {tagName: 'li'}, true);
					if (!!SliderImgs && 0 < SliderImgs.length)
					{
						for (j = 0; j < SliderImgs.length; j++)
						{
							BX.bind(SliderImgs[j], 'click', BX.delegate(this.ProductSelectSliderImg, this));
						}
					}
					if (!!this.product.slider.LEFT)
					{
						BX.bind(this.product.slider.LEFT, 'click', BX.delegate(this.ProductSliderRowLeft, this));
						BX.adjust(this.product.slider.LEFT, { style: this.sliderDisableArrow } );

					}
					if (!!this.product.slider.RIGHT)
					{
						BX.bind(this.product.slider.RIGHT, 'click', BX.delegate(this.ProductSliderRowRight, this));
						BX.adjust(this.product.slider.RIGHT, { style: this.sliderEnableArrow } );
					}
					this.setCurrentImg(this.product.sliderPict[0], true);
				}
				break;
			case 3://sku
				for(var key in this.skuVisualParams){
					var TreeItems = BX.findChildren(this.obTree, {tagName: this.skuVisualParams[key].TAG_BIND}, true);
					if (!!TreeItems && 0 < TreeItems.length){
						for (i = 0; i < TreeItems.length; i++){
							$(TreeItems[i]).on(this.skuVisualParams[key].EVENT, BX.delegate(this.SelectOfferProp, this));
							//BX.bind(TreeItems[i], this.skuVisualParams[key].EVENT, BX.delegate(this.SelectOfferProp, this));
						}
					}
				}
				for (i = 0; i < this.offers.length; i++)
				{
					this.offers[i].SLIDER_COUNT = parseInt(this.offers[i].SLIDER_COUNT, 10);
					if (isNaN(this.offers[i].SLIDER_COUNT))
					{
						this.offers[i].SLIDER_COUNT = 0;
					}
					if (0 === this.offers[i].SLIDER_COUNT)
					{
						this.sliders[i] = {
							COUNT: this.offers[i].SLIDER_COUNT,
							ID: ''
						};
					}
					else
					{
						for (j = 0; j < this.offers[i].SLIDER.length; j++)
						{
							this.offers[i].SLIDER[j].WIDTH = parseInt(this.offers[i].SLIDER[j].WIDTH, 10);
							this.offers[i].SLIDER[j].HEIGHT = parseInt(this.offers[i].SLIDER[j].HEIGHT, 10);
						}
						this.sliders[i] = {
							COUNT: this.offers[i].SLIDER_COUNT,
							OFFER_ID: this.offers[i].ID,
							ID: this.visual.SLIDER_CONT_OF_ID+this.offers[i].ID,
							CONT: BX(this.visual.SLIDER_CONT_OF_ID+this.offers[i].ID),
							LIST: BX(this.visual.SLIDER_LIST_OF_ID+this.offers[i].ID),
							CONT_M: BX(this.visual.SLIDER_CONT_OFM_ID+this.offers[i].ID),
							LIST_M: BX(this.visual.SLIDER_LIST_OFM_ID+this.offers[i].ID),
							LEFT: BX(this.visual.SLIDER_LEFT_OF_ID+this.offers[i].ID),
							RIGHT: BX(this.visual.SLIDER_RIGHT_OF_ID+this.offers[i].ID),
							START: 0
						};
						SliderImgs = BX.findChildren(this.sliders[i].LIST, {tagName: 'li'}, true);
						if (!!SliderImgs && 0 < SliderImgs.length)
						{
							for (j = 0; j < SliderImgs.length; j++)
							{
								BX.bind(SliderImgs[j], 'click', BX.delegate(this.SelectSliderImg, this));
							}
						}
						if (!!this.sliders[i].LEFT)
						{
							BX.bind(this.sliders[i].LEFT, 'click', BX.delegate(this.SliderRowLeft, this));
						}
						if (!!this.sliders[i].RIGHT)
						{
							BX.bind(this.sliders[i].RIGHT, 'click', BX.delegate(this.SliderRowRight, this));
						}
					}
				}
				this.SetCurrent();

				break;
		}

		if (!!this.obBuyBtn)
		{
			BX.bind(this.obBuyBtn, 'click', BX.proxy(this.BuyBasket, this));
		}
		if (!!this.obAddToBasketBtn)
		{
			BX.bind(this.obAddToBasketBtn, 'click', BX.proxy(this.Add2Basket, this));
		}
		if (!!this.obCompare)
		{
			BX.bind(this.obCompare, 'click', BX.proxy(this.Compare, this));
		}

		this.setMainPictHandler();
		setTimeout(function(){
			$('.offers_img.wof').css('opacity', 1);
		},400);
	}
};

window.JCCatalogElement.prototype.initConfig = function()
{
	this.productType = parseInt(this.params.PRODUCT_TYPE, 10);
	if (!!this.params.CONFIG && typeof(this.params.CONFIG) === 'object')
	{
		if (this.params.CONFIG.USE_CATALOG !== 'undefined' && BX.type.isBoolean(this.params.CONFIG.USE_CATALOG))
		{
			this.config.useCatalog = this.params.CONFIG.USE_CATALOG;
		}
		this.config.showQuantity = !!this.params.CONFIG.SHOW_QUANTITY;
		this.config.showPrice = !!this.params.CONFIG.SHOW_PRICE;
		this.config.showPercent = !!this.params.CONFIG.SHOW_DISCOUNT_PERCENT;
		this.config.showOldPrice = !!this.params.CONFIG.SHOW_OLD_PRICE;
		this.config.showSkuProps = !!this.params.CONFIG.SHOW_SKU_PROPS;
		this.config.showOfferGroup = !!this.params.CONFIG.OFFER_GROUP;
		this.config.useCompare = !!this.params.CONFIG.DISPLAY_COMPARE;
		if (!!this.params.CONFIG.MAIN_PICTURE_MODE)
		{
			this.config.mainPictureMode = this.params.CONFIG.MAIN_PICTURE_MODE;
		}
		this.config.showBasisPrice = !!this.params.CONFIG.SHOW_BASIS_PRICE;
		if (!!this.params.CONFIG.ADD_TO_BASKET_ACTION)
		{
			this.config.basketAction = this.params.CONFIG.ADD_TO_BASKET_ACTION;
		}
		this.config.showClosePopup = !!this.params.CONFIG.SHOW_CLOSE_POPUP;
	}
	else
	{
		// old version
		if (this.params.USE_CATALOG !== 'undefined' && BX.type.isBoolean(this.params.USE_CATALOG))
		{
			this.config.useCatalog = this.params.USE_CATALOG;
		}
		this.config.showQuantity = !!this.params.SHOW_QUANTITY;
		this.config.showPrice = !!this.params.SHOW_PRICE;
		this.config.showPercent = !!this.params.SHOW_DISCOUNT_PERCENT;
		this.config.showOldPrice = !!this.params.SHOW_OLD_PRICE;
		this.config.showSkuProps = !!this.params.SHOW_SKU_PROPS;
		this.config.showOfferGroup = !!this.params.OFFER_GROUP;
		this.config.useCompare = !!this.params.DISPLAY_COMPARE;
		if (!!this.params.MAIN_PICTURE_MODE)
		{
			this.config.mainPictureMode = this.params.MAIN_PICTURE_MODE;
		}
		this.config.showBasisPrice = !!this.params.SHOW_BASIS_PRICE;
		if (!!this.params.ADD_TO_BASKET_ACTION)
		{
			this.config.basketAction = this.params.ADD_TO_BASKET_ACTION;
		}
		this.config.showClosePopup = !!this.params.SHOW_CLOSE_POPUP;
	}

	if (!this.params.VISUAL || typeof(this.params.VISUAL) !== 'object' || !this.params.VISUAL.ID)
	{
		this.errorCode = -1;
		return;
	}
	this.visual.ID = this.params.VISUAL.ID;
	this.basketLinkURL = this.params.BASKET.BASKET_URL;
	this.defaultCount = this.params.DEFAULT_COUNT;
	this.storeQuanity = BX(this.params.STORE_QUANTITY);
	this.initVisualParams('main');
	if (this.config.showQuantity)
	{
		this.initVisualParams('quantity');
	}
	if (this.config.showPrice)
	{
		this.initVisualParams('price');
	}
	if (this.config.showOldPrice)
	{
		this.initVisualParams('oldPrice');
	}
	if (this.config.showPercent)
	{
		this.initVisualParams('discountPerc');
	}
	this.initVisualParams('basket');
	if (this.config.mainPictureMode === 'MAGNIFIER')
	{
		this.initVisualParams('magnifier');
	}
	if (this.config.useCompare)
	{
		this.initVisualParams('compare');
	}
};

window.JCCatalogElement.prototype.initVisualParams = function(ID)
{
	var i = 0,
		key = '';

	if (!this.listID[ID])
	{
		this.errorCode = -1;
		return;
	}
	for (i = 0; i < this.listID[ID].length; i++)
	{
		key = this.listID[ID][i];
		this.visual[key] = (!!this.params.VISUAL[key] ? this.params.VISUAL[key] : this.visual.ID+this.visualPostfix[key]);
	}
};

window.JCCatalogElement.prototype.initProductData = function()
{
	var j = 0;
	this.initVisualParams('productSlider');
	if (!!this.params.PRODUCT && 'object' === typeof(this.params.PRODUCT))
	{
		if (this.config.showQuantity)
		{
			this.product.checkQuantity = this.params.PRODUCT.CHECK_QUANTITY;
			this.product.isDblQuantity = this.params.PRODUCT.QUANTITY_FLOAT;
			if (this.product.checkQuantity)
			{
				this.product.maxQuantity = (this.product.isDblQuantity ? parseFloat(this.params.PRODUCT.MAX_QUANTITY) : parseInt(this.params.PRODUCT.MAX_QUANTITY, 10));
			}
			this.product.stepQuantity = (this.product.isDblQuantity ? parseFloat(this.params.PRODUCT.STEP_QUANTITY) : parseInt(this.params.PRODUCT.STEP_QUANTITY, 10));

			this.checkQuantity = this.product.checkQuantity;
			this.isDblQuantity = this.product.isDblQuantity;
			this.maxQuantity = this.product.maxQuantity;
			this.stepQuantity = this.product.stepQuantity;
			if (this.isDblQuantity)
			{
				this.stepQuantity = Math.round(this.stepQuantity*this.precisionFactor)/this.precisionFactor;
			}
		}
		this.product.canBuy = this.params.PRODUCT.CAN_BUY;
		this.product.canSubscription = this.params.PRODUCT.SUBSCRIPTION;
		if (this.config.showPrice)
		{
			this.currentBasisPrice = this.params.PRODUCT.BASIS_PRICE;
		}

		this.canBuy = this.product.canBuy;
		this.canSubscription = this.product.canSubscription;

		this.product.name = this.params.PRODUCT.NAME;
		this.product.pict = this.params.PRODUCT.PICT;
		this.product.id = this.params.PRODUCT.ID;

		if (!!this.params.PRODUCT.ADD_URL)
		{
			this.product.addUrl = this.params.PRODUCT.ADD_URL;
		}
		if (!!this.params.PRODUCT.BUY_URL)
		{
			this.product.buyUrl = this.params.PRODUCT.BUY_URL;
		}

		if (!!this.params.PRODUCT.SLIDER_COUNT)
		{
			this.product.sliderCount = parseInt(this.params.PRODUCT.SLIDER_COUNT, 10);
			if (isNaN(this.product.sliderCount))
			{
				this.product.sliderCount = 0;
			}
			if (0 < this.product.sliderCount && !!this.params.PRODUCT.SLIDER.length && 0 < this.params.PRODUCT.SLIDER.length)
			{
				for (j = 0; j < this.params.PRODUCT.SLIDER.length; j++)
				{
					this.product.useSlider = true;
					this.params.PRODUCT.SLIDER[j].WIDTH = parseInt(this.params.PRODUCT.SLIDER[j].WIDTH, 10);
					this.params.PRODUCT.SLIDER[j].HEIGHT = parseInt(this.params.PRODUCT.SLIDER[j].HEIGHT, 10);
				}
				this.product.sliderPict = this.params.PRODUCT.SLIDER;
				this.setCurrentImg(this.product.sliderPict[0], false);
			}
		}
		this.currentIsSet = true;
	}
	else
	{
		this.errorCode = -1;
	}
};

window.JCCatalogElement.prototype.initOffersData = function()
{
	this.initVisualParams('offerSlider');
	this.initVisualParams('offerSliderMobile');
	this.initVisualParams('offers');
	if (!!this.params.OFFERS && BX.type.isArray(this.params.OFFERS))
	{
		this.offers = this.params.OFFERS;
		this.offerNum = 0;
		if (!!this.params.OFFER_SELECTED)
		{
			this.offerNum = parseInt(this.params.OFFER_SELECTED, 10);
		}
		if (isNaN(this.offerNum))
		{
			this.offerNum = 0;
		}
		if (!!this.params.TREE_PROPS)
		{
			this.treeProps = this.params.TREE_PROPS;
		}
		if (!!this.params.DEFAULT_PICTURE)
		{
			this.defaultPict.preview = this.params.DEFAULT_PICTURE.PREVIEW_PICTIRE;
			this.defaultPict.detail = this.params.DEFAULT_PICTURE.DETAIL_PICTURE;
		}
		if (!!this.params.PRODUCT && typeof(this.params.PRODUCT) === 'object')
		{
			this.product.id = parseInt(this.params.PRODUCT.ID, 10);
			this.product.name = this.params.PRODUCT.NAME;
		}
	}
	else
	{
		this.errorCode = -1;
	}
};

window.JCCatalogElement.prototype.initBasketData = function()
{
	if (!!this.params.BASKET && 'object' === typeof(this.params.BASKET))
	{
		if (1 === this.productType || 2 === this.productType)
		{
			this.basketData.useProps = !!this.params.BASKET.ADD_PROPS;
			this.basketData.emptyProps = !!this.params.BASKET.EMPTY_PROPS;
		}

		if (!!this.params.BASKET.QUANTITY)
		{
			this.basketData.quantity = this.params.BASKET.QUANTITY;
		}
		if (!!this.params.BASKET.PROPS)
		{
			this.basketData.props = this.params.BASKET.PROPS;
		}
		if (!!this.params.BASKET.BASKET_URL)
		{
			this.basketData.basketUrl = this.params.BASKET.BASKET_URL;
		}
		if (3 === this.productType)
		{
			if (!!this.params.BASKET.SKU_PROPS)
			{
				this.basketData.sku_props = this.params.BASKET.SKU_PROPS;
			}
		}
		if (!!this.params.BASKET.ADD_URL_TEMPLATE)
		{
			this.basketData.add_url = this.params.BASKET.ADD_URL_TEMPLATE;
		}
		if (!!this.params.BASKET.BUY_URL_TEMPLATE)
		{
			this.basketData.buy_url = this.params.BASKET.BUY_URL_TEMPLATE;
		}
		if (this.basketData.add_url === '' && this.basketData.buy_url === '')
		{
			this.errorCode = -1024;
		}
	}
};

window.JCCatalogElement.prototype.initCompareData = function()
{
	if (this.config.useCompare)
	{
		if (!!this.params.COMPARE && typeof(this.params.COMPARE) === 'object')
		{
			if (!!this.params.COMPARE.COMPARE_PATH)
			{
				this.compareData.comparePath = this.params.COMPARE.COMPARE_PATH;
			}
			if (!!this.params.COMPARE.COMPARE_URL_TEMPLATE_DEL)
			{
				this.compareData.compareUrlDel = this.params.COMPARE.COMPARE_URL_TEMPLATE_DEL;
			}
			if (!!this.params.COMPARE.COMPARE_URL_TEMPLATE)
			{
				this.compareData.compareUrl = this.params.COMPARE.COMPARE_URL_TEMPLATE;
			}
			else
			{
				this.config.useCompare = false;
			}
		}
		else
		{
			this.config.useCompare = false;
		}
	}
};

window.JCCatalogElement.prototype.setMainPictHandler = function()
{
	switch (this.config.mainPictureMode)
	{
		case 'GALLERY':
			break;
		case 'MAGNIFIER':
			$(this.obPict).addClass('zoom_picture');
			break;
		case 'POPUP':
			$(this.obPict).parent().addClass('fancy_offer');
			break;
		default:
			break;
	}
};

window.JCCatalogElement.prototype.setCurrentImg = function(img, showImage)
{
	showImage = !!showImage;
	if('SMALL' in img){
		this.currentImg.src = img.SMALL.src;
	}else if ('SRC' in img) {
		this.currentImg.src = img.SRC
	};
	if('BIG' in img){
		this.currentBigImg.src = img.BIG.src;
	}
	if('WIDTH' in img){
		this.currentImg.width = img.WIDTH;
	}
	if('HEIGHT' in img){
		this.currentImg.height = img.HEIGHT;
	}
	if (showImage && !!this.obPict)
	{
		if (this.config.mainPictureMode === 'MAGNIFIER')
		{
			$(this.obPict).attr('data-large',this.currentBigImg.src);
		}
		if('src' in this.currentImg){
			if (this.currentImg.src){
				BX.adjust(this.obPict, { props: { src: this.currentImg.src } });
			}
		}
		if('src' in this.currentBigImg){
			if (this.currentBigImg.src){
				if(this.config.mainPictureMode === 'POPUP'){
					$(this.obPict).parent().attr('href',this.currentBigImg.src);
				}
				$(this.obPict).parent().attr('title',img.TITLE);
				$(this.obPict).parent().attr('alt',img.ALT);
				$(this.obPict).attr('title',img.TITLE);
				$(this.obPict).attr('alt',img.ALT);
			}
		}

	}
};

window.JCCatalogElement.prototype.scaleImg = function(src, dest)
{
	var
		scaleX,
		scaleY,
		scale,
		result = {};

	if (dest.width >= src.width && dest.height >= src.height)
	{
		result.width = src.width;
		result.height = src.height;
	}
	else
	{
		scaleX = dest.width/src.width;
		scaleY = dest.height/src.height;
		scale =  Math.min(scaleX, scaleY);
		result.width = Math.max(1, parseInt(scale*src.width , 10));
		result.height = Math.max(1, parseInt(scale*src.height , 10));
	}
	return result;
};

window.JCCatalogElement.prototype.showMagnifier = function(e)
{
	if (!this.magnify.magnifyShow)
	{
		this.calcMagnifierParams();
		this.calcMagnifyAreaSize();
		this.calcMagnifyAreaPos(e);
		this.calcMagnifyPictSize();
		this.calcMagnifyPictPos();
		this.setMagnifyAreaParams(true);
		this.setMagnifyPictParams(true);
		this.setMagnifierParams(true);
		BX.bind(document, 'mousemove', BX.proxy(this.moveMagnifierArea, this));
	}
};

window.JCCatalogElement.prototype.hideMagnifier = function()
{
	if (!this.magnify.magnifyShow)
	{
		if (!!this.magnify.obMagnifier)
		{
			BX.adjust(this.magnify.obMagnifier, { style: { display: 'none' } });
		}
		if (!!this.magnify.obMagnifyArea)
		{
			BX.adjust(this.magnify.obMagnifyArea, { style: { display: 'none' } });
		}
		BX.unbind(document, 'mousemove', BX.proxy(this.moveMagnifierArea, this));
	}
};

window.JCCatalogElement.prototype.moveMagnifierArea = function(e)
{
	var
		currentPos = {
			X: 0,
			Y: 0
		},
		posBigImg = BX.pos(this.obPict),
		intersect = {},
		params = {},
		paramsPict = {};

	currentPos = this.inRect(e, posBigImg);
	if (this.inBound(posBigImg, currentPos))
	{
		intersect = this.intersectArea(currentPos, posBigImg);
		switch (intersect.X)
		{
			case -1:
				this.magnify.areaParams.left = this.currentImg.screenOffsetX;
				break;
			case 0:
				this.magnify.areaParams.left = this.currentImg.screenOffsetX + currentPos.X - (this.magnify.areaParams.width >>> 1);
				break;
			case 1:
				this.magnify.areaParams.left = this.currentImg.screenOffsetX + posBigImg.width - this.magnify.areaParams.width;
				break;
		}
		switch (intersect.Y)
		{
			case -1:
				this.magnify.areaParams.top = 0;
				break;
			case 0:
				this.magnify.areaParams.top = currentPos.Y - (this.magnify.areaParams.height >>> 1);
				break;
			case 1:
				this.magnify.areaParams.top = posBigImg.height - this.magnify.areaParams.height;
				break;
		}
		this.magnify.magnifyPictParams.marginLeft = -parseInt(((this.magnify.areaParams.left-this.currentImg.screenOffsetX)*this.currentImg.scale), 10);
		this.magnify.magnifyPictParams.marginTop = -parseInt(((this.magnify.areaParams.top)*this.currentImg.scale), 10);
		params.left = this.magnify.areaParams.left+'px';
		params.top = this.magnify.areaParams.top+'px';
		BX.adjust(this.magnify.obMagnifyArea, { style: params });
		paramsPict.marginLeft = this.magnify.magnifyPictParams.marginLeft+'px';
		paramsPict.marginTop = this.magnify.magnifyPictParams.marginTop+'px';
		BX.adjust(this.magnify.obMagnifyPict, { style: paramsPict });
	}
	else
	{
		this.outMagnifierArea();
		this.hideMagnifier();
	}
};

window.JCCatalogElement.prototype.onMagnifierArea = function()
{
	this.magnify.magnifyShow = true;
};

window.JCCatalogElement.prototype.outMagnifierArea = function()
{
	this.magnify.magnifyShow = false;
};

window.JCCatalogElement.prototype.calcMagnifierParams = function()
{
	if (!!this.magnify.obBigImg)
	{
		var pos = BX.pos(this.magnify.obBigImg, true);

		this.magnify.magnifierParams.width = pos.width;
		this.magnify.magnifierParams.height = pos.height;
		this.magnify.magnifierParams.top = pos.top;
		this.magnify.magnifierParams.left = pos.left + pos.width + 2;
	}
};

window.JCCatalogElement.prototype.setMagnifierParams = function(show)
{
	if (!!this.magnify.obMagnifier)
	{
		show = !!show;
		var params = {
			top: this.magnify.magnifierParams.top+'px',
			left: this.magnify.magnifierParams.left+'px',
			width: this.magnify.magnifierParams.width+'px',
			height: this.magnify.magnifierParams.height+'px'
		};
		if (show)
		{
			params.display = '';
		}
		BX.adjust(this.magnify.obMagnifier, { style: params });
	}
};

window.JCCatalogElement.prototype.setMagnifyAreaParams = function(show)
{
	if (!!this.magnify.obMagnifier)
	{
		show = !!show;
		var params = {
			top: this.magnify.areaParams.top+'px',
			left: this.magnify.areaParams.left+'px',
			width: this.magnify.areaParams.width+'px',
			height: this.magnify.areaParams.height+'px'
		};
		if (show)
		{
			params.display = '';
		}
		BX.adjust(this.magnify.obMagnifyArea, { style: params });
	}
};

window.JCCatalogElement.prototype.calcMagnifyAreaPos = function(e)
{
	var currentPos,
		posBigImg,
		intersect;

	posBigImg = BX.pos(this.obPict);
	currentPos = this.inRect(e, posBigImg);
	if (this.inBound(posBigImg, currentPos))
	{
		intersect = this.intersectArea(currentPos, posBigImg);
		switch (intersect.X)
		{
			case -1:
				this.magnify.areaParams.left = this.currentImg.screenOffsetX;
				break;
			case 0:
				this.magnify.areaParams.left = this.currentImg.screenOffsetX + currentPos.X - (this.magnify.areaParams.width >>> 1);
				break;
			case 1:
				this.magnify.areaParams.left = this.currentImg.screenOffsetX + posBigImg.width - this.magnify.areaParams.width;
				break;
		}
		switch (intersect.Y)
		{
			case -1:
				this.magnify.areaParams.top = 0;
				break;
			case 0:
				this.magnify.areaParams.top = currentPos.Y - (this.magnify.areaParams.height >>> 1);
				break;
			case 1:
				this.magnify.areaParams.top = posBigImg.height - this.magnify.areaParams.height;
				break;
		}
	}
};

window.JCCatalogElement.prototype.inBound = function(rect, point)
{
	return ((0 <= point.Y && rect.height >= point.Y) && (0 <= point.X && rect.width >= point.X));
};

window.JCCatalogElement.prototype.inRect = function(e, rect)
{
	var wndSize = BX.GetWindowSize(),
		currentPos = {
			X: 0,
			Y: 0,
			globalX: 0,
			globalY: 0
		};

	currentPos.globalX = e.clientX + wndSize.scrollLeft;
	currentPos.X = currentPos.globalX - rect.left;
	currentPos.globalY = e.clientY + wndSize.scrollTop;
	currentPos.Y = currentPos.globalY - rect.top;
	return currentPos;
};

window.JCCatalogElement.prototype.intersectArea = function(currentPos, rect)
{
	var intersect = {
			X: 0,
			Y: 0
		},
		halfX = this.magnify.areaParams.width >>> 1,
		halfY = this.magnify.areaParams.height >>> 1;

	if (currentPos.X <= halfX)
	{
		intersect.X = -1;
	}
	else if (currentPos.X >= (rect.width - halfX))
	{
		intersect.X = 1;
	}
	else
	{
		intersect.X = 0;
	}
	if (currentPos.Y <= halfY)
	{
		intersect.Y = -1;
	}
	else if (currentPos.Y >= (rect.height - halfY))
	{
		intersect.Y = 1;
	}
	else
	{
		intersect.Y = 0;
	}

	return intersect;
};

window.JCCatalogElement.prototype.calcMagnifyAreaSize = function()
{
	var scaleX,
		scaleY,
		scale;

	if (
		this.magnify.magnifierParams.width < this.currentImg.width &&
			this.magnify.magnifierParams.height < this.currentImg.height
		)
	{
		scaleX = this.magnify.obBigImg.offsetWidth/this.currentImg.width;
		scaleY = this.magnify.obBigImg.offsetHeight/this.currentImg.height;
		scale =  Math.min(scaleX, scaleY);
		this.currentImg.scale = 1/scale;
		this.magnify.areaParams.width = Math.max(1, parseInt(scale*this.magnify.magnifierParams.width , 10));
		this.magnify.areaParams.height = Math.max(1, parseInt(scale*this.magnify.magnifierParams.height , 10));
		this.magnify.areaParams.scaleFactor = this.magnify.magnifierParams.defaultScale;
	}
	else
	{
		scaleX = this.obPict.offsetWidth/this.magnify.obBigImg.offsetWidth;
		scaleY = this.obPict.offsetHeight/this.magnify.obBigImg.offsetHeight;
		scale =  Math.min(scaleX, scaleY);
		this.currentImg.scale = 1/scale;
		this.magnify.areaParams.width = Math.max(1, parseInt(scale*this.magnify.magnifierParams.width , 10));
		this.magnify.areaParams.height = Math.max(1, parseInt(scale*this.magnify.magnifierParams.height , 10));

		scaleX = this.magnify.magnifierParams.width/this.currentImg.width;
		scaleY = this.magnify.magnifierParams.height/this.currentImg.height;
		scale = Math.max(scaleX, scaleY);
		this.magnify.areaParams.scaleFactor = scale;
	}
};

window.JCCatalogElement.prototype.calcMagnifyPictSize = function()
{
	this.magnify.magnifyPictParams.width = this.currentImg.width*this.magnify.areaParams.scaleFactor;
	this.magnify.magnifyPictParams.height = this.currentImg.height*this.magnify.areaParams.scaleFactor;
};

window.JCCatalogElement.prototype.calcMagnifyPictPos = function()
{
	this.magnify.magnifyPictParams.marginLeft = -parseInt(((this.magnify.areaParams.left-this.currentImg.screenOffsetX)*this.currentImg.scale), 10);
	this.magnify.magnifyPictParams.marginTop = -parseInt(((this.magnify.areaParams.top)*this.currentImg.scale), 10);
};

window.JCCatalogElement.prototype.setMagnifyPictParams = function(show)
{
	if (!!this.magnify.obMagnifier)
	{
		show = !!show;
		var params = {
			width: this.magnify.magnifyPictParams.width+'px',
			height: this.magnify.magnifyPictParams.height+'px',
			marginTop: this.magnify.magnifyPictParams.marginTop+'px',
			marginLeft: this.magnify.magnifyPictParams.marginLeft+'px'
		};
		if (show)
		{
			params.display = '';
		}
		BX.adjust(this.magnify.obMagnifyPict, { style: params, props: { src: this.currentImg.src } });
	}
};

window.JCCatalogElement.prototype.ProductSliderRowLeft = function()
{
	var target = BX.proxy_context;
	if (!!target)
	{
		if (this.sliderRowShowSize < this.product.slider.COUNT)
		{
			if (0 > this.product.slider.START)
			{
				this.product.slider.START++;
				BX.adjust(this.product.slider.LIST, { style: { marginLeft: this.product.slider.START*20+'%' }});
				BX.adjust(this.product.slider.RIGHT, { style: this.sliderEnableArrow });
			}

			if (0 <= this.product.slider.START)
			{
				BX.adjust(this.product.slider.LEFT, { style: this.sliderDisableArrow });
			}
		}
	}
};

window.JCCatalogElement.prototype.ProductSliderRowRight = function()
{
	var target = BX.proxy_context;
	if (!!target)
	{
		if (this.sliderRowShowSize < this.product.slider.COUNT)
		{
			if ((this.sliderRowShowSize - this.product.slider.START) < this.product.slider.COUNT)
			{
				this.product.slider.START--;
				BX.adjust(this.product.slider.LIST, { style: { marginLeft: this.product.slider.START*20+'%' }});
				BX.adjust(this.product.slider.LEFT, { style: this.sliderEnableArrow } );
			}

			if ((this.sliderRowShowSize - this.product.slider.START) >= this.product.slider.COUNT)
			{
				BX.adjust(this.product.slider.RIGHT, { style: this.sliderDisableArrow } );
			}
		}
	}
};

window.JCCatalogElement.prototype.ProductSelectSliderImg = function()
{
	var strValue = '',
		target = BX.proxy_context;
	if (!!target && target.hasAttribute('data-value'))
	{
		strValue = target.getAttribute('data-value');
		this.SetProductMainPict(strValue);
	}
};

window.JCCatalogElement.prototype.SetProductMainPict = function(intPict)
{
	var indexPict = -1,
		i = 0,
		j = 0,
		value = '',
		strValue = '',
		RowItems = null;
	if (0 < this.product.sliderCount)
	{
		for (j = 0; j < this.product.sliderPict.length; j++)
		{
			if (intPict === this.product.sliderPict[j].ID)
			{
				indexPict = j;
				break;
			}
		}
		if (-1 < indexPict)
		{
			if (!!this.product.sliderPict[indexPict])
			{
				this.setCurrentImg(this.product.sliderPict[indexPict], true);
			}
			RowItems = BX.findChildren(this.product.slider.LIST, {tagName: 'li'}, false);
			if (!!RowItems && 0 < RowItems.length)
			{
				strValue = intPict;
				for (i = 0; i < RowItems.length; i++)
				{
					value = RowItems[i].getAttribute('data-value');
					if (value === strValue)
					{
						BX.addClass(RowItems[i], 'active');
					}
					else
					{
						BX.removeClass(RowItems[i], 'active');
					}
				}
			}
		}
	}
};

window.JCCatalogElement.prototype.SliderRowLeft = function()
{
	var strValue = '',
		index = -1,
		i,
		target = BX.proxy_context;
	if (!!target && target.hasAttribute('data-value'))
	{
		strValue = target.getAttribute('data-value');
		for (i = 0; i < this.sliders.length; i++)
		{
			if (this.sliders[i].OFFER_ID === strValue)
			{
				index = i;
				break;
			}
		}
		if (-1 < index && this.sliderRowShowSize < this.sliders[index].COUNT)
		{
			if (0 > this.sliders[index].START)
			{
				this.sliders[index].START++;
				BX.adjust(this.sliders[index].LIST, { style: { marginLeft: this.sliders[index].START*20+'%' }});
				BX.adjust(this.sliders[index].RIGHT, { style: this.sliderEnableArrow });
			}

			if (0 <= this.sliders[index].START)
			{
				BX.adjust(this.sliders[index].LEFT, { style: this.sliderDisableArrow });
			}
		}
	}
};

window.JCCatalogElement.prototype.SliderRowRight = function()
{
	var strValue = '',
		index = -1,
		i,
		target = BX.proxy_context;
	if (!!target && target.hasAttribute('data-value'))
	{
		strValue = target.getAttribute('data-value');
		for (i = 0; i < this.sliders.length; i++)
		{
			if (this.sliders[i].OFFER_ID === strValue)
			{
				index = i;
				break;
			}
		}
		if (-1 < index && this.sliderRowShowSize < this.sliders[index].COUNT)
		{
			if ((this.sliderRowShowSize - this.sliders[index].START) < this.sliders[index].COUNT)
			{
				this.sliders[index].START--;
				BX.adjust(this.sliders[index].LIST, { style: { marginLeft: this.sliders[index].START*20+'%' }});
				BX.adjust(this.sliders[index].LEFT, { style: this.sliderEnableArrow } );
			}

			if ((this.sliderRowShowSize - this.sliders[index].START) >= this.sliders[index].COUNT)
			{
				BX.adjust(this.sliders[index].RIGHT, { style: this.sliderDisableArrow } );
			}
		}
	}
};

window.JCCatalogElement.prototype.SelectSliderImg = function()
{
	var strValue = '',
		arItem = [],
		target = BX.proxy_context;
	if (!!target && target.hasAttribute('data-value'))
	{
		strValue = target.getAttribute('data-value');
		arItem = strValue.split('_');
		this.SetMainPict(arItem[0], arItem[1]);
	}
};

window.JCCatalogElement.prototype.SetMainPict = function(intSlider, intPict)
{
	var index = -1,
		indexPict = -1,
		i,
		j,
		value = '',
		RowItems = null,
		strValue = '';

	for (i = 0; i < this.offers.length; i++)
	{
		if (intSlider === this.offers[i].ID)
		{
			index = i;
			break;
		}
	}

	$(window).resize();
	$('.thumbs_navigation ul').addClass('hidden_block');
	if(this.SliderImages>1){
		$('.thumbs_navigation ul:eq('+index+')').removeClass('hidden_block');
	}
	$('.thumbs_navigation').removeClass('hidden_block');

	$('.fancy_offer').addClass('hidden_block');
	$(this.obPict).closest('.offers_img').css('opacity', 0);

	if (-1 < index)
	{
		if (0 < this.offers[index].SLIDER_COUNT)
		{
			for (j = 0; j < this.offers[index].SLIDER.length; j++)
			{
				if (intPict === this.offers[index].SLIDER[j].ID)
				{
					indexPict = j;
					break;
				}
			}
			if (-1 < indexPict)
			{
				if (!!this.offers[index].SLIDER[indexPict])
				{
					this.setCurrentImg(this.offers[index].SLIDER[indexPict], true);
				}

				RowItems = BX.findChildren(this.sliders[index].LIST, {tagName: 'li'}, false);
				if (!!RowItems && 0 < RowItems.length)
				{
					strValue = intSlider+'_'+intPict;
					for (i = 0; i < RowItems.length; i++)
					{
						value = RowItems[i].getAttribute('data-value');
						if (value === strValue)
						{
							BX.addClass(RowItems[i], 'current');
						}
						else
						{
							BX.removeClass(RowItems[i], 'current');
						}
					}
				}
			}
		}
	}
	setTimeout(function(){
		$('.fancy_offer').removeClass('hidden_block');
		$('.offers_img').css('opacity', 1);
	}, 200);
};

window.JCCatalogElement.prototype.SetMainPictFromItem = function(index)
{
	if (!!this.obPict)
	{
		var boolSet = false,
			obNewPict = {};

		if (!!this.offers[index])
		{
			if (!!this.offers[index].DETAIL_PICTURE)
			{
				obNewPict = this.offers[index].DETAIL_PICTURE;
				boolSet = true;
			}
			else if (!!this.offers[index].PREVIEW_PICTURE)
			{
				obNewPict = this.offers[index].PREVIEW_PICTURE;
				boolSet = true;
			}
		}
		if (!boolSet)
		{
			if (!!this.defaultPict.detail)
			{
				obNewPict = this.defaultPict.detail;
				boolSet = true;
			}
			else if (!!this.defaultPict.preview)
			{
				obNewPict = this.defaultPict.preview;
				boolSet = true;
			}
		}
		if (boolSet)
		{
			this.setCurrentImg(obNewPict, true);
		}
	}
};

window.JCCatalogElement.prototype.showMainPictPopup = function(e)
{
	var pictContent = '';

	pictContent = '<div style="text-align: center;"><img src="'+
		this.currentImg.src+
		'" width="'+this.currentImg.width+'" height="'+this.currentImg.height+'" name=""></div>';
	this.obPopupPict.setContent(pictContent);
	this.obPopupPict.show();
	return BX.PreventDefault(e);
};

window.JCCatalogElement.prototype.QuantityUp = function()
{
	var curValue = 0,
		boolSet = true,
		calcPrice;

	if (0 === this.errorCode && this.config.showQuantity && this.canBuy)
	{
		curValue = (this.isDblQuantity ? parseFloat(this.obQuantity.value) : parseInt(this.obQuantity.value, 10));
		if (!isNaN(curValue))
		{
			curValue += this.stepQuantity;
			if (this.checkQuantity)
			{
				if (curValue > this.maxQuantity)
				{
					boolSet = false;
				}
			}

			if (boolSet)
			{
				if (this.isDblQuantity)
				{
					curValue = Math.round(curValue*this.precisionFactor)/this.precisionFactor;
				}
				this.obQuantity.value = curValue;
			}
		}
	}
};

window.JCCatalogElement.prototype.QuantityDown = function()
{
	var curValue = 0,
		boolSet = true,
		calcPrice;

	if (0 === this.errorCode && this.config.showQuantity && this.canBuy)
	{
		curValue = (this.isDblQuantity ? parseFloat(this.obQuantity.value) : parseInt(this.obQuantity.value, 10));
		if (!isNaN(curValue))
		{
			curValue -= this.stepQuantity;
			if (curValue < this.stepQuantity)
			{
				boolSet = false;
			}
			if (boolSet)
			{
				if (this.isDblQuantity)
				{
					curValue = Math.round(curValue*this.precisionFactor)/this.precisionFactor;
				}
				this.obQuantity.value = curValue;
			}
		}
	}
};

window.JCCatalogElement.prototype.QuantityChange = function()
{
	var curValue = 0,
		calcPrice,
		intCount,
		count;

	if (0 === this.errorCode && this.config.showQuantity)
	{
		if (this.canBuy)
		{
			curValue = (this.isDblQuantity ? parseFloat(this.obQuantity.value) : parseInt(this.obQuantity.value, 10));
			if (!isNaN(curValue))
			{
				if (this.checkQuantity)
				{
					if (curValue > this.maxQuantity)
					{
						curValue = this.maxQuantity;
					}
				}
				if (curValue < this.stepQuantity)
				{
					curValue = this.stepQuantity;
				}
				else
				{
					count = Math.round((curValue*this.precisionFactor)/this.stepQuantity)/this.precisionFactor;
					intCount = parseInt(count, 10);
					if (isNaN(intCount))
					{
						intCount = 1;
						count = 1.1;
					}
					if (count > intCount)
					{
						curValue = (intCount <= 1 ? this.stepQuantity : intCount*this.stepQuantity);
						curValue = Math.round(curValue*this.precisionFactor)/this.precisionFactor;
					}
				}
				this.obQuantity.value = curValue;
			}
			else
			{
				this.obQuantity.value = this.stepQuantity;
			}
		}
		else
		{
			this.obQuantity.value = this.stepQuantity;
		}
	}
};

window.JCCatalogElement.prototype.QuantitySet = function(index)
{
	var basisPrice = '',
		strLimit;
	if (this.errorCode === 0)
	{
		this.canBuy = this.offers[index].CAN_BUY;
		if (this.canBuy)
		{
			if (!!this.obBasketActions)
			{
				BX.style(this.obBasketActions, 'display', '');
			}
			if (!!this.obNotAvail)
			{
				BX.style(this.obNotAvail, 'display', 'none');
			}
		}
		else
		{
			if (!!this.obBasketActions)
			{
				//BX.style(this.obBasketActions, 'display', 'none');
				BX.style(this.obBasketActions, 'opacity', '0');
				BX.style(BX.findParent(BX(this.obQuantity), { 'class':'counter_block' }), 'display', 'none');
			}
			if (!!this.obNotAvail)
			{
				BX.style(this.obNotAvail, 'display', '');
			}
		}
		if (this.config.showQuantity)
		{
			this.isDblQuantity = this.offers[index].QUANTITY_FLOAT;
			this.checkQuantity = this.offers[index].CHECK_QUANTITY;
			if (this.isDblQuantity)
			{
				this.maxQuantity = parseFloat(this.offers[index].MAX_QUANTITY);
				this.stepQuantity = Math.round(parseFloat(this.offers[index].STEP_QUANTITY)*this.precisionFactor)/this.precisionFactor;
			}
			else
			{
				this.maxQuantity = parseInt(this.offers[index].MAX_QUANTITY, 10);
				this.stepQuantity = parseInt(this.offers[index].STEP_QUANTITY, 10);
			}
			/*this.obQuantity.value = this.stepQuantity;
			this.obQuantity.disabled = !this.canBuy;*/
			if (!!this.obMeasure)
			{
				if (!!this.offers[index].MEASURE)
				{
					BX.adjust(this.obMeasure, { html : this.offers[index].MEASURE});
				}
				else
				{
					BX.adjust(this.obMeasure, { html : ''});
				}
			}
			if (!!this.obQuantityLimit.all)
			{
				if (!this.checkQuantity)
				{
					BX.adjust(this.obQuantityLimit.value, { html: '' });
					BX.adjust(this.obQuantityLimit.all, { style: {display: 'none'} });
				}
				else
				{
					strLimit = this.offers[index].MAX_QUANTITY;
					if (!!this.offers[index].MEASURE)
					{
						strLimit += (' '+this.offers[index].MEASURE);
					}
					BX.adjust(this.obQuantityLimit.value, { html: strLimit});
					BX.adjust(this.obQuantityLimit.all, { style: {display: ''} });
				}
			}
			if (!!this.obBasisPrice)
			{
				if (!!this.offers[index].BASIS_PRICE)
				{
					basisPrice = BX.message('BASIS_PRICE_MESSAGE');
					basisPrice = basisPrice.replace(
						'#PRICE#',
						BX.Currency.currencyFormat(this.offers[index].BASIS_PRICE.DISCOUNT_VALUE, this.offers[index].BASIS_PRICE.CURRENCY, true)
					);
					basisPrice = basisPrice.replace('#MEASURE#', this.offers[index].MEASURE);
					BX.adjust(this.obBasisPrice, { style: { display: '' }, html: basisPrice });
				}
				else
				{
					BX.adjust(this.obBasisPrice, { style: { display: 'none' }, html: '' });
				}
			}
		}
		this.currentBasisPrice = this.offers[index].BASIS_PRICE;
	}
};

window.JCCatalogElement.prototype.SelectOfferProp = function()
{
	var i = 0,
		strTreeValue = '',
		arTreeItem = [],
		RowItems = null,
		target = BX.proxy_context;
	if(typeof target.options !== 'undefined' && typeof target.options[target.selectedIndex] !== 'undefined')
		target = target.options[target.selectedIndex];
	if (!!target && target.hasAttribute('data-treevalue'))
	{
		strTreeValue = target.getAttribute('data-treevalue');
		propModes = target.getAttribute('data-showtype');
		arTreeItem = strTreeValue.split('_');
		this.SearchOfferPropIndex(arTreeItem[0], arTreeItem[1]);
		RowItems = BX.findChildren(target.parentNode, {tagName: this.skuVisualParams[propModes.toUpperCase()].TAG}, false);
		if (!!RowItems && 0 < RowItems.length)
		{
			for (i = 0; i < RowItems.length; i++)
			{
				value = RowItems[i].getAttribute('data-onevalue');

				// for SELECTBOXES
				if(propModes == 'TEXT'){
					if (value === arTreeItem[1]){
						RowItems[i].setAttribute('selected', 'selected');
					}else{
						RowItems[i].removeAttribute('selected');
					}
				}else{
					if (value === arTreeItem[1]){
						$(RowItems[i]).addClass(this.skuVisualParams[propModes.toUpperCase()].ACTIVE_CLASS);
					}else{
						$(RowItems[i]).removeClass(this.skuVisualParams[propModes.toUpperCase()].ACTIVE_CLASS);
					}
				}
			}
		}
	}
};

window.JCCatalogElement.prototype.SearchOfferPropIndex = function(strPropID, strPropValue)
{
	var strName = '',
		arShowValues = false,
		arCanBuyValues = [],
		index = -1,
		i, j,
		arFilter = {},
		tmpFilter = [];

	for (i = 0; i < this.treeProps.length; i++)
	{
		if (this.treeProps[i].ID === strPropID)
		{
			index = i;
			break;
		}
	}

	if (-1 < index)
	{
		for (i = 0; i < index; i++)
		{
			strName = 'PROP_'+this.treeProps[i].ID;
			arFilter[strName] = this.selectedValues[strName];
		}
		strName = 'PROP_'+this.treeProps[index].ID;
		arFilter[strName] = strPropValue;
		for (i = index+1; i < this.treeProps.length; i++)
		{
			strName = 'PROP_'+this.treeProps[i].ID;
			arShowValues = this.GetRowValues(arFilter, strName);
			if (!arShowValues)
			{
				break;
			}
			if (this.config.showAbsent)
			{
				arCanBuyValues = [];
				tmpFilter = [];
				tmpFilter = BX.clone(arFilter, true);
				for (j = 0; j < arShowValues.length; j++)
				{
					tmpFilter[strName] = arShowValues[j];
					/*if (this.GetCanBuy(tmpFilter))
					{*/
						arCanBuyValues[arCanBuyValues.length] = arShowValues[j];
					//}
				}
			}
			else
			{
				arCanBuyValues = arShowValues;
			}
			if (!!this.selectedValues[strName] && BX.util.in_array(this.selectedValues[strName], arCanBuyValues))
			{
				arFilter[strName] = this.selectedValues[strName];
			}
			else
			{
				arFilter[strName] = arCanBuyValues[0];
			}
			this.UpdateRow(i, arFilter[strName], arShowValues, arCanBuyValues);
		}
		this.selectedValues = arFilter;

		this.ChangeInfo();
	}
};

window.JCCatalogElement.prototype.RowLeft = function()
{
	var strTreeValue = '',
		index = -1,
		i,
		target = BX.proxy_context;
	if (!!target && target.hasAttribute('data-treevalue'))
	{
		strTreeValue = target.getAttribute('data-treevalue');
		for (i = 0; i < this.treeProps.length; i++)
		{
			if (this.treeProps[i].ID === strTreeValue)
			{
				index = i;
				break;
			}
		}
		if (-1 < index && this.treeRowShowSize < this.showCount[index])
		{
			if (0 > this.showStart[index])
			{
				this.showStart[index]++;
				BX.adjust(this.obTreeRows[index].LIST, { style: { marginLeft: this.showStart[index]*20+'%' }});
				//BX.adjust(this.obTreeRows[index].RIGHT, { style: this.treeEnableArrow });
			}

			/*if (0 <= this.showStart[index])
			{
				BX.adjust(this.obTreeRows[index].LEFT, { style: this.treeDisableArrow });
			}*/
		}
	}
};

window.JCCatalogElement.prototype.RowRight = function()
{
	var strTreeValue = '',
		index = -1,
		i,
		target = BX.proxy_context;
	if (!!target && target.hasAttribute('data-treevalue'))
	{
		strTreeValue = target.getAttribute('data-treevalue');
		for (i = 0; i < this.treeProps.length; i++)
		{
			if (this.treeProps[i].ID === strTreeValue)
			{
				index = i;
				break;
			}
		}
		if (-1 < index && this.treeRowShowSize < this.showCount[index])
		{
			if ((this.treeRowShowSize - this.showStart[index]) < this.showCount[index])
			{
				this.showStart[index]--;
				BX.adjust(this.obTreeRows[index].LIST, { style: { marginLeft: this.showStart[index]*20+'%' }});
				//BX.adjust(this.obTreeRows[index].LEFT, { style: this.treeEnableArrow });
			}

			/*if ((this.treeRowShowSize - this.showStart[index]) >= this.showCount[index])
			{
				BX.adjust(this.obTreeRows[index].RIGHT, { style: this.treeDisableArrow });
			}*/
		}
	}
};

window.JCCatalogElement.prototype.UpdateRow = function(intNumber, activeID, showID, canBuyID)
{
	var i = 0,
		showI = 0,
		value = '',
		countShow = 0,
		strNewLen = '',
		obData = {},
		RowItems = null,
		pictMode = false,
		extShowMode = false,
		isCurrent = false,
		selectIndex = 0,
		obLeft = this.treeEnableArrow,
		obRight = this.treeEnableArrow,
		currentShowStart = 0;

	if (-1 < intNumber && intNumber < this.obTreeRows.length)
	{
		propMode = this.treeProps[intNumber].DISPLAY_TYPE;
		RowItems = BX.findChildren(this.obTreeRows[intNumber].LIST, {tagName: this.skuVisualParams[propMode].TAG}, false);
		if (!!RowItems && 0 < RowItems.length)
		{
			selectMode = ('SELECT' === this.treeProps[intNumber].DISPLAY_TYPE);
			countShow = showID.length;
			obData = {
				style: {},
				props: {
					disabled: '',
					selected: '',
				},
			};

			for (i = 0; i < RowItems.length; i++){
				value = RowItems[i].getAttribute('data-onevalue');
				isCurrent = (value === activeID && value !=0);
				/*if (BX.util.in_array(value, canBuyID)){
					obData.props.className = (isCurrent ? this.skuVisualParams[propMode].ACTIVE_CLASS : '');
				}else{
					obData.props.className = (isCurrent ? this.skuVisualParams[propMode].ACTIVE_CLASS+' '+this.skuVisualParams[propMode].HIDE_CLASS : this.skuVisualParams[propMode].HIDE_CLASS);
				}*/
				obData.props.className = (isCurrent ? this.skuVisualParams[propMode].ACTIVE_CLASS : '');

				if(selectMode){
					obData.props.disabled = 'disabled';
					obData.props.selected = (isCurrent ? 'selected' : '');
				}else{
					obData.style.display = 'none';
				}

				if (BX.util.in_array(value, showID)){
					if(selectMode){
						obData.props.disabled = '';
					}else{
						obData.style.display = '';
					}
					if (isCurrent){
						selectIndex = showI;
					}
					showI++;
				}
				BX.adjust(RowItems[i], obData);
			}

			if(selectMode){
				if($(this.obTreeRows[intNumber].LIST).parent().hasClass('ik_select'))
					$(this.obTreeRows[intNumber].LIST).ikSelect('reset');
			}

			this.showCount[intNumber] = countShow;
			this.showStart[intNumber] = currentShowStart;
		}
	}
};

window.JCCatalogElement.prototype.GetRowValues = function(arFilter, index)
{
	var arValues = [],
		i = 0,
		j = 0,
		boolSearch = false,
		boolOneSearch = true;

	if (0 === arFilter.length)
	{
		for (i = 0; i < this.offers.length; i++)
		{
			if (!BX.util.in_array(this.offers[i].TREE[index], arValues))
			{
				arValues[arValues.length] = this.offers[i].TREE[index];
			}
		}
		boolSearch = true;
	}
	else
	{
		for (i = 0; i < this.offers.length; i++)
		{
			boolOneSearch = true;
			for (j in arFilter)
			{
				if (arFilter[j] !== this.offers[i].TREE[j])
				{
					boolOneSearch = false;
					break;
				}
			}
			if (boolOneSearch)
			{
				if (!BX.util.in_array(this.offers[i].TREE[index], arValues))
				{
					arValues[arValues.length] = this.offers[i].TREE[index];
				}
				boolSearch = true;
			}
		}
	}
	return (boolSearch ? arValues : false);
};

window.JCCatalogElement.prototype.GetCanBuy = function(arFilter)
{
	var i = 0,
		j = 0,
		boolOneSearch = true,
		boolSearch = false;

	for (i = 0; i < this.offers.length; i++)
	{
		boolOneSearch = true;
		for (j in arFilter)
		{
			if (arFilter[j] !== this.offers[i].TREE[j])
			{
				boolOneSearch = false;
				break;
			}
		}
		if (boolOneSearch)
		{
			if (this.offers[i].CAN_BUY)
			{
				boolSearch = true;
				break;
			}
		}
	}
	return boolSearch;
};

window.JCCatalogElement.prototype.SetCurrent = function()
{
	var i = 0,
		j = 0,
		strName = '',
		arShowValues = false,
		arCanBuyValues = [],
		arFilter = {},
		tmpFilter = [],
		current = this.offers[this.offerNum].TREE;

	for (i = 0; i < this.treeProps.length; i++)
	{
		strName = 'PROP_'+this.treeProps[i].ID;
		arShowValues = this.GetRowValues(arFilter, strName);
		if (!arShowValues)
		{
			break;
		}
		if (BX.util.in_array(current[strName], arShowValues))
		{
			arFilter[strName] = current[strName];
		}
		else
		{
			arFilter[strName] = arShowValues[0];
			this.offerNum = 0;
		}
		if (this.config.showAbsent)
		{
			arCanBuyValues = [];
			tmpFilter = [];
			tmpFilter = BX.clone(arFilter, true);
			for (j = 0; j < arShowValues.length; j++)
			{
				tmpFilter[strName] = arShowValues[j];
				if (this.GetCanBuy(tmpFilter))
				{
					arCanBuyValues[arCanBuyValues.length] = arShowValues[j];
				}
			}
		}
		else
		{
			arCanBuyValues = arShowValues;
		}
		this.UpdateRow(i, arFilter[strName], arShowValues, arCanBuyValues);
	}

	this.selectedValues = arFilter;
	this.ChangeInfo();
};

window.JCCatalogElement.prototype.ChangeInfo = function()
{
	var index = -1,
		i = 0,
		j = 0,
		RowItems=null,
		boolOneSearch = true;

	for (i = 0; i < this.offers.length; i++)
	{
		boolOneSearch = true;
		for (j in this.selectedValues)
		{
			if (this.selectedValues[j] !== this.offers[i].TREE[j])
			{
				boolOneSearch = false;
				break;
			}
		}
		if (boolOneSearch)
		{
			index = i;
			break;
		}
	}
	if (-1 < index)
	{
		var measure = this.offers[index].MEASURE && this.offers[index].SHOW_MEASURE=="Y" ? this.offers[index].MEASURE : '';
		this.setPrice(this.offers[index].PRICE, measure);
		for (i = 0; i < this.offers.length; i++)
		{

			if (this.config.showOfferGroup && this.offers[i].OFFER_GROUP)
			{
				if (i !== index)
				{
					BX.adjust(BX(this.visual.OFFER_GROUP+this.offers[i].ID), { style: {display: 'none'} });
				}
			}
			/*set slider*/
			/*if (!!this.sliders[i].ID)
			{
				if (i === index)
				{
					this.sliders[i].START = 0;
					if(this.sliders[i].CONT){

						RowItems = $(this.sliders[i].CONT).find("li");
						this.SliderImages=RowItems.length;
						if(this.SliderImages>1){
							BX.adjust(this.sliders[i].CONT, {style: { display: ''}});
						}else{
							BX.adjust(this.sliders[i].CONT, {style: { display: 'none'}});
						}
					}
					BX.adjust(this.sliders[i].CONT_M, {style: { display: ''}});
				}
				else
				{
					if(this.sliders[i].CONT)
						BX.adjust(this.sliders[i].CONT, {style: { display: 'none'}});
					BX.adjust(this.sliders[i].CONT_M, {style: { display: 'none'}});
				}
			}*/
		}
		if (this.config.showOfferGroup && this.offers[index].OFFER_GROUP)
		{
			BX.adjust(BX(this.visual.OFFER_GROUP+this.offers[index].ID), { style: {display: ''} });
		}
		if (0 < this.offers[index].SLIDER_COUNT)
		{
			this.SetMainPict(this.offers[index].ID, this.offers[index].SLIDER[0].ID);
		}
		else
		{
			this.SetMainPictFromItem(index);
		}

		/*set slider images start*/
		this.SetSliderPict(this.offers[index], this.offers[index].SLIDER, this.config);
		/*set slider images end*/

		/*set mobile slider images start*/
		this.SetSliderPictMobile(this.offers[index], this.offers[index].SLIDER, this.config);
		/*set mobile slider images end*/

		if (this.config.showSkuProps && !!this.obSkuProps)
		{
			var type_prop=this.offers[index].TABLE_PROP;
			if(this.offers[index].TYPE_PROP!="TABLE")
				type_prop=this.offers[index].DIV_PROP;

			if (!type_prop || type_prop.length === 0)
			{
				BX.adjust(this.obSkuProps, {style: {display: 'none'}, html: ''});
			}
			else
			{
				BX.adjust(this.obSkuProps, {style: {display: ''}, html: type_prop});
			}

		}
		if (this.config.showSkuProps && !!this.obSkuArticleProps)
		{
			if ('DISPLAY_PROPERTIES_CODE' in this.offers[index]){
				if ('ARTICLE' in this.offers[index].DISPLAY_PROPERTIES_CODE){
					if(this.offers[index].DISPLAY_PROPERTIES_CODE.ARTICLE.VALUE){
						BX.adjust(this.obSkuArticleProps, {style: {display: ''}, html: this.offers[index].DISPLAY_PROPERTIES_CODE.ARTICLE.VALUE_FORMAT});
					}
				}else{
					BX.adjust(this.obSkuArticleProps, {style: {display: 'none'}, html: ''});
				}
			}else{
				BX.adjust(this.obSkuArticleProps, {style: {display: 'none'}, html: ''});
			}
		}

		setLocationSKU(this.offers[index].URL);

		$(this.obBasketActions).closest('.counter_wrapp').addClass('hidden_block');

		this.offerNum = index;
		this.QuantitySet(this.offerNum);
		this.setStoreBlock(this.offers[index].ID);
		this.setQuantityStore(this.offers[index].MAX_QUANTITY, this.offers[index].AVAILIABLE.TEXT);

		this.incViewedCounter();
		BX.onCustomEvent('onCatalogStoreProductChange', [this.offers[this.offerNum].ID]);
		$(this.obPict).parent().data('id', this.offers[index].ID);


		var obj=this.offers[index],
			th=$(this.obProduct);



		if(typeof arBasketAspro !=="undefined"){
			this.setActualDataBlock(th, obj);
		}else{
			if(typeof window.frameCacheVars !== "undefined"){
				BX.addCustomEvent("onFrameDataReceived", function(){
					window.JCCatalogElement.prototype.setActualDataBlock(th, obj);
				});
			}
		}

		/*quantity discount start*/
		if($(this.obProduct).find('.quantity_block .values').length){
			$(this.obProduct).find('.quantity_block .values .item span').text(this.offers[index].MAX_QUANTITY).css({'opacity':'1'});
		}
		/*quantity discount end*/

		$('.catalog_detail .tabs_section .tabs_content .form.inline input[data-sid="PRODUCT_NAME"]').attr('value', $('h1').text() + '(' + this.offers[index].NAME + ')');
	}
};

/*set blocks start*/
window.JCCatalogElement.prototype.setActualDataBlock = function(th, obj)
{
	/*like block start*/
	this.setLikeBlock(th, '.like_icons .wish_item', obj, 'DELAY');
	this.setLikeBlock(th, '.like_icons .compare_item',obj, 'COMPARE');
	/*like block end*/

	/*buy block start*/
	this.setBuyBlock(th, obj);
	/*buy block end*/
}
/*set blocks end*/

/*set slider offers*/
window.JCCatalogElement.prototype.SetSliderPict = function(obj, slider, config)
{
	var container=$('.wrapp_thumbs'),
		slideHtml='';
		countPhoto=obj.SLIDER_COUNT;
		container.find('.thumbs').css({
			'max-width':Math.ceil(((countPhoto <= 4 ? countPhoto : 4) * 64) - 10)
		});

		slideHtml='<ul class="slides_block">';
		for(var i in slider){
			slideHtml+='<li data-big="'+slider[i].BIG.src+'">'+
			'<span class="cnt"><img border="0" src="'+slider[i].THUMB.src+'" alt="'+slider[i].ALT+'" title="'+slider[i].TITLE+'" /></span>'+
			'</li>';
		}
		slideHtml+='</ul>';


		container.find('.thumbs').html(slideHtml);
	if(countPhoto>1){
		container.show();

		if(container.find('.thumbs_navigation').length){
			container.find('.thumbs_navigation').remove();
		}
		container.find('.thumbs').append('<span class="thumbs_navigation custom_flex"></span>');

		/* init flexslider start */
		container.find('.thumbs').removeData("flexslider");
		container.find('.thumbs').flexslider({
			animation: "slide",
			selector: ".slides_block > li",
			slideshow: false,
			animationSpeed: 600,
			directionNav: true,
			controlNav: false,
			pauseOnHover: true,
			itemWidth: 54,
			itemMargin: 10,
			animationLoop: true,
			controlsContainer: ".thumbs_navigation",
		});
		/* init flexslider end */
		container.find('.thumbs .slides_block li').first().addClass('current');

		var pict=$(this.obPict);
		container.find('.thumbs').delegate('li:not(.current)', 'click', function(e){
			var srcSmall='',
				srcBig='',
				width='',
				height=''
				index=$(this).index();

			if('SMALL' in slider[index]){
				srcSmall = slider[index].SMALL.src;
			}else if ('SRC' in slider[index]) {
				srcSmall = slider[index].SRC
			};
			if('BIG' in slider[index]){
				srcBig = slider[index].BIG.src;
			}
			if('WIDTH' in slider[index]){
				width = slider[index].WIDTH;
			}
			if('HEIGHT' in slider[index]){
				height = slider[index].HEIGHT;
			}

			$(this).addClass('current').siblings().removeClass('current').parents('.item_slider').find('.slides li').fadeOut(333);
			$(this).parents('.item_slider').find('.slides li').eq(index).addClass('current').stop().fadeIn(333);


			if(srcSmall){
				BX.adjust(pict[0], { props: { src: srcSmall } });
			}
			pict.attr('data-large','');

			if(srcBig){
				if(config.mainPictureMode === 'POPUP'){
					pict.parent().attr('href',srcBig);
				}
				if(config.mainPictureMode === 'MAGNIFIER'){
					pict.attr('data-large',srcBig);
				}
				pict.parent().attr('title',slider[index].TITLE);
				pict.parent().attr('alt',slider[index].ALT);
				pict.attr('title',slider[index].TITLE);
				pict.attr('alt',slider[index].ALT);
			}
		});

	}else{
		container.hide();
	}
}

/*set mobile slider offers*/
window.JCCatalogElement.prototype.SetSliderPictMobile = function(obj, slider)
{
	var container=$('.item_slider.flex'),
		slideHtml='';
		countPhoto=obj.SLIDER_COUNT;

	slideHtml='<ul class="slides">';
	if(!slider.length){
		slideHtml+='<li data-value="">'+
			'<span rel="item_slider" class="fancy" title="'+obj.NAME+'"><img border="0" src="'+obj.NO_PHOTO.SRC+'" alt="'+obj.NAME+'" title="'+obj.NAME+'" /></span>'+
			'</li>';
	}else{
		for(var i in slider){
			slideHtml+='<li data-value="'+obj.ID+'_'+slider[i].ID+'">'+
			'<a href="'+slider[i].BIG.src+'" rel="item_slider" class="fancy" title="'+slider[i].TITLE+'"><img border="0" src="'+slider[i].SMALL.src+'" alt="'+slider[i].ALT+'" title="'+slider[i].TITLE+'" /></a>'+
			'</li>';
		}
	}
	slideHtml+='</ul>';

	container.html(slideHtml);

	/* init flexslider start */
	container.removeData("flexslider");
	container.flexslider({
		animation: "slide",
		slideshow: true,
		slideshowSpeed: 10000,
		animationSpeed: 600,
		directionNav: false,
		pauseOnHover: true,
		animationLoop: false,
	});
	/* init flexslider end */
}

/*set compare/wish*/
window.JCCatalogElement.prototype.setLikeBlock = function(th, className, obj, type)
{
	var block=th;
	if(type=="DELAY"){
		if(obj.CAN_BUY){
			block.find(className).css('display','block');
		}else{
			block.find(className).hide();
		}
	}
	block.find(className).attr('data-item', obj.ID);

	if(arBasketAspro[type]){
		block.find(className).removeClass('added');
		block.find(className).find('.value').css('display','block');
		block.find(className).find('.value.added').hide();

		if(arBasketAspro[type][obj.ID]!==undefined){
			block.find(className).addClass('added');
			block.find(className).find('.value').hide();
			block.find(className).find('.value.added').css('display','block');
		}
	}
}

/*set buy*/
window.JCCatalogElement.prototype.setBuyBlock = function(th, obj)
{
	var buyBlock=th.find('.offer_buy_block');

	if(buyBlock.find('.counter_wrapp .counter_block').length){
		buyBlock.find('.counter_wrapp .counter_block').attr('data-item', obj.ID);
	}

	if((obj.CONFIG.OPTIONS.USE_PRODUCT_QUANTITY_DETAIL && obj.CONFIG.ACTION == "ADD") && obj.CAN_BUY){
		var max=(obj.CONFIG.MAX_QUANTITY_BUY>0 ? "data-max='"+obj.CONFIG.MAX_QUANTITY_BUY+"'" : ""),
			counterHtml='<span class="minus">-</span>'+
				'<input type="text" class="text" name="'+obj.PRODUCT_QUANTITY_VARIABLE+'" value="'+obj.CONFIG.MIN_QUANTITY_BUY+'" />'+
				'<span class="plus" '+max+'>+</span>';
		if(arBasketAspro["BASKET"] && arBasketAspro["BASKET"][obj.ID]!==undefined){
			if(buyBlock.find('.counter_wrapp .counter_block').length){
				buyBlock.find('.counter_wrapp .counter_block').hide();
			}else{
				buyBlock.find('.counter_wrapp').prepend('<div class="counter_block big_basket" data-item="'+obj.ID+'"></div>');
				buyBlock.find('.counter_wrapp .counter_block').html(counterHtml).hide();
			}
		}else{
			if(buyBlock.find('.counter_wrapp .counter_block').length){
				buyBlock.find('.counter_wrapp .counter_block').html(counterHtml).show();
			}else{
				buyBlock.find('.counter_wrapp').prepend('<div class="counter_block big_basket" data-item="'+obj.ID+'"></div>');
				buyBlock.find('.counter_wrapp .counter_block').html(counterHtml);
			}
		}
	}else{
		if(buyBlock.find('.counter_wrapp .counter_block').length){
			buyBlock.find('.counter_wrapp .counter_block').hide();
		}
	}
	var className=((obj.CONFIG.ACTION == "ORDER") || !obj.CAN_BUY || !obj.CONFIG.OPTIONS.USE_PRODUCT_QUANTITY_DETAIL || (obj.CONFIG.ACTION == "SUBSCRIBE" && obj.CATALOG_SUBSCRIBE == "Y") ? "wide" : "" ),
		buyBlockBtn=$('<div class="button_block"></div>');

	if(buyBlock.find('.counter_wrapp').find('.button_block').length){
		if(arBasketAspro["BASKET"] && arBasketAspro["BASKET"][obj.ID]!==undefined){
			buyBlock.find('.counter_wrapp').find('.button_block').addClass('wide').html(obj.HTML);
			markProductAddBasket(obj.ID);
		}else{
			if(className){
				buyBlock.find('.counter_wrapp').find('.button_block').addClass('wide').html(obj.HTML);
				if(typeof arBasketAspro !=="undefined"){
					if(arBasketAspro["SUBSCRIBE"] && arBasketAspro["SUBSCRIBE"][obj.ID]!==undefined){
						markProductSubscribe(obj.ID);
					}
				}
			}else{
				buyBlock.find('.counter_wrapp').find('.button_block').removeClass('wide').html(obj.HTML);
			}
		}
	}else{
		buyBlock.find('.counter_wrapp').append('<div class="button_block '+className+'">'+obj.HTML+'</div>');
		if(arBasketAspro["BASKET"] && arBasketAspro["BASKET"][obj.ID]!==undefined)
			markProductAddBasket(obj.ID);
		if(arBasketAspro["SUBSCRIBE"] && arBasketAspro["SUBSCRIBE"][obj.ID]!==undefined)
			markProductSubscribe(obj.ID);
	}

	if(obj.CONFIG.ACTION !== "NOTHING"){
		if(obj.CONFIG.ACTION == "ADD" && obj.CAN_BUY && obj.SHOW_ONE_CLICK_BUY!="N"){
			var ocb='<span class="transparent big_btn type_block button one_click transition_bg" data-offers="Y" data-item="'+obj.ID+'" data-iblockID="'+obj.IBLOCK_ID+'" data-quantity="'+obj.CONFIG.MIN_QUANTITY_BUY+'" data-props="'+obj.OFFER_PROPS+'" onclick="oneClickBuy('+obj.ID+', '+obj.IBLOCK_ID+', this)">'+
				'<span>'+obj.ONE_CLICK_BUY+'</span>'+
				'</span>';
			if(buyBlock.find('.wrapp_one_click').length){
				buyBlock.find('.wrapp_one_click').html(ocb);
			}else{
				buyBlock.append('<div class="wrapp_one_click">'+ocb+'</div>');
			}
		}else{
			if(buyBlock.find('.wrapp_one_click').length){
				buyBlock.find('.wrapp_one_click').remove();
			}
		}
	}else{
		if(buyBlock.find('.wrapp_one_click').length){
			buyBlock.find('.wrapp_one_click').remove();
		}
	}

	buyBlock.fadeIn();
}

/*set store block*/
window.JCCatalogElement.prototype.setStoreBlock = function(id)
{
	$('.stores_tab > div').hide();
	$('.stores_tab .sku_stores_'+id).show();
}

/*set store quantity*/
window.JCCatalogElement.prototype.setQuantityStore = function(quantity, text)
{
	if(parseFloat(quantity)>0){
		$(this.storeQuanity).find('.icon').removeClass('order').addClass('stock');
	}else{
		$(this.storeQuanity).find('.icon').removeClass('stock').addClass('order');
	}
	$(this.storeQuanity).find('.icon + span').html(text);
	if(!$(".stores_tab").length){
		$('.item-stock .store_view').removeClass('store_view');
	}
}

/*get compare sku*/
window.JCCatalogElement.prototype.CompareCountResult = function(result)
{
	if(result.COMPARE_COUNT){
		for(var i in result.ITEMS){
			if(result.ITEMS[i]==this.offers[this.offerNum].ID){
				this.offers[this.offerNum].COMPARE_ACTIVE=true;
				break;
			}else{
				this.offers[this.offerNum].COMPARE_ACTIVE=false;
			}
		}
		if(this.offers[this.offerNum].COMPARE_ACTIVE){
			$(this.obCompare).addClass('added');
			$(this.obCompare).find('.value:not(.added)').hide();
			$(this.obCompare).find('.value.added').css('display','block');
		}else{
			$(this.obCompare).removeClass('added');
			$(this.obCompare).find('.value.added').hide();
			$(this.obCompare).find('.value:not(.added)').css('display','block');
		}
	}
}

/*get item info*/
window.JCCatalogElement.prototype.ItemInfoResult = function(result)
{
	if(result.HTML){
		$(this.obBasketActions).html(result.HTML);
		$(this.obBasketActions).show();
		this.obAddToBasketBtn = BX(this.visual.BUY_ID);
		this.obBasketBtn = BX(this.visual.BASKET_LINK);
		this.obSubscribeBtn = BX(this.visual.SUBSCRIBE_ID);
		this.obSubscribedBtn = BX(this.visual.SUBSCRIBED_ID);
		BX.bind(this.obAddToBasketBtn, 'click', BX.delegate(this.Add2Basket, this));
		$(this.obBasketActions).removeClass('wide');
		this.ajax_type_item=result.BUYMISSINGGOODS;
		if(result.BUYMISSINGGOODS!="ADD" && !this.canBuy){
			$(this.obBasketActions).addClass('wide');
		}else{
			$(this.obQuantity).css('display','');
		}
		if(result.ONE_CLICK_HTML){
			$('.wrapp_one_click').html(result.ONE_CLICK_HTML);
		}

	}
	//if(this.canBuy){
		basketParams = {
			ajax_action: 'Y'
		};
		BX.ajax.loadJSON(
			arOptimusOptions['SITE_DIR']+'ajax/get_basket_count.php',
			basketParams,
			BX.delegate(this.BasketCountResult, this)
		);
	//}
}

/*get basket items*/
window.JCCatalogElement.prototype.BasketCountResult = function(result)
{
	//if(result.TOTAL_COUNT){
		for(var i in result.ITEMS){
			if(result.ITEMS[i].PRODUCT_ID==this.offers[this.offerNum].ID){
				this.offers[this.offerNum].BASKET_ACTIVE=true;
				break;
			}else{
				this.offers[this.offerNum].BASKET_ACTIVE=false;
			}
		}
		for(var i in result.SUBSCRIBE_ITEMS){
			if(result.SUBSCRIBE_ITEMS[i].PRODUCT_ID==this.offers[this.offerNum].ID){
				this.offers[this.offerNum].SUBSCRIBE_ACTIVE=true;
				break;
			}else{
				this.offers[this.offerNum].SUBSCRIBE_ACTIVE=false;
			}
		}

		this.BasketStateRefresh();
	//}
}

window.JCCatalogElement.prototype.BasketStateRefresh = function(buy_basket)
{
	if(this.offers[this.offerNum].SUBSCRIBE_ACTIVE){
		$(this.obBasketActions).addClass('wide');
		$(this.obSubscribeBtn).hide();
		$(this.obSubscribedBtn).show();
	}else{
		$(this.obBasketActions).addClass('wide');
		$(this.obSubscribedBtn).hide();
		$(this.obSubscribeBtn).show();
	}

	if(this.offers[this.offerNum].BASKET_ACTIVE){
		$(this.obAddToBasketBtn).hide();
		$(this.obQuantity).closest('.counter_wrapp').find('.counter_block').hide();
		$(this.obBasketBtn).show();
		$(this.obBasketActions).addClass('wide');
	}else{
		$(this.obBasketActions).removeClass('wide');
		$(this.obBasketBtn).hide();
		if(this.ajax_type_item=="ADD" || this.canBuy)
			$(this.obQuantity).closest('.counter_wrapp').find('.counter_block').show();
		$(this.obAddToBasketBtn).show();
	}
	if(!this.canBuy){
		$(this.obBasketActions).addClass('wide');
	}
	if(this.canBuy){
		$('.one_click').removeClass('hidden_block').css('opacity', 1);
	}
	BX.style(this.obBasketActions, 'opacity', '1');
	$(this.obBasketActions).closest('.counter_wrapp').removeClass('hidden_block').css('opacity',1);

	if(buy_basket!== 'undefined' && buy_basket=="Y"){
		if($("#basket_line .basket_fly").length && $(window).outerWidth()>768)
		{
			// preAnimateBasketFly($("#basket_line .basket_fly"), 200, 333);
			basketFly('open');
		}
		else if($("#basket_line .cart").length)
		{
			if($("#basket_line .cart").is(".empty_cart"))
			{
				$("#basket_line .cart").removeClass("empty_cart").find(".cart_wrapp a.basket_link").removeAttr("href").addClass("cart-call");
				touchBasket('.cart:not(.empty_cart) .basket_block .link');
			}
			reloadTopBasket('add', $('#basket_line'), 200, 2000, 'Y');
			/*if($(window).outerWidth() > 520){
				//if(arOptimusOptions['THEME']['SHOW_BASKET_ONADDTOCART'] !== 'N'){
					preAnimateBasketPopup('', $('.card_popup_frame'), 0, 200);
				//}
			};*/
		}
		animateBasketLine(200);
	}
}

window.JCCatalogElement.prototype.setPrice = function(price, measure)
{
	var prices = '';
	if (!!this.obPrice.price)
	{
		prices=BX.Currency.currencyFormat(price.DISCOUNT_VALUE, price.CURRENCY, true);
		if(measure){
			prices=(prices ? prices+'/'+measure : "&nbsp;");
		}
		BX.adjust(this.obPrice.price, {html: prices});
		if (price.DISCOUNT_VALUE !== price.VALUE)
		{
			if (this.config.showOldPrice){
				if (!!this.obPrice.full){
					BX.adjust(this.obPrice.full, {style: {display: ''}, html: BX.Currency.currencyFormat(price.VALUE, price.CURRENCY, true)});
				}
				if(this.config.showPercent){
					$(this.obPrice.full).closest('.cost').find('.sale_block').show();
					$(this.obPrice.full).closest('.cost').find('.value').html(price.DISCOUNT_DIFF_PERCENT_RAW);
					$(this.obPrice.full).closest('.cost').find('.text span').html(BX.Currency.currencyFormat(price.DISCOUNT_DIFF, price.CURRENCY, true));
				}
			}
		}
		else
		{
			if (this.config.showOldPrice)
			{
				if (!!this.obPrice.full)
				{
					BX.adjust(this.obPrice.full, {style: {display: 'none'}, html: ''});
				}
				if (!!this.obPrice.discount)
				{
					BX.adjust(this.obPrice.discount, {style: {display: 'none'}, html: ''});
				}
			}
			if (this.config.showPercent)
			{
				if (!!this.obPrice.percent)
				{
					BX.adjust(this.obPrice.percent, {style: {display: 'none'}, html: ''});
				}
				$(this.obPrice.full).closest('.cost').find('.sale_block').hide();
				$(this.obPrice.full).closest('.cost').find('.value').html('');
				$(this.obPrice.full).closest('.cost').find('.text span').html('');
			}
		}
	}
};

window.JCCatalogElement.prototype.Compare = function()
{
	var compareParams, compareLink;
	if($(this.obCompare).find('.added').is(':visible')){
		compareLink = this.compareData.compareUrlDel;
		this.compareData.Added = false;
	}else{
		compareLink = this.compareData.compareUrl;
		this.compareData.Added = true;
	}
	if (!!compareLink){
		switch (this.productType){
			case 1://product
			case 2://set
				compareLink = compareLink.replace('#ID#', this.product.id.toString());
				break;
			case 3://sku
				compareLink = compareLink.replace('#ID#', this.offers[this.offerNum].ID);
				break;
		}
		compareParams = {
			ajax_action: 'Y'
		};
		BX.ajax.loadJSON(
			compareLink,
			compareParams,
			BX.proxy(this.CompareResult, this)
		);
	}
};

window.JCCatalogElement.prototype.CompareResult = function(result)
{
	var popupContent, popupButtons, popupTitle;

	if (typeof result !== 'object')
	{
		return false;
	}
	if (result.STATUS === 'OK')
	{
		BX.onCustomEvent('OnCompareChange');
		if(!this.compareData.Added){
			$(this.obCompare).removeClass('added');
			$(this.obCompare).find('.added').hide();
			$(this.obCompare).find('.value:not(.added)').css('display','block');
		}
		else{
			$(this.obCompare).addClass('added');
			$(this.obCompare).find('.value:not(.added)').hide();
			$(this.obCompare).find('.added').css('display','block');
		}
		jsAjaxUtil.InsertDataToNode(arOptimusOptions['SITE_DIR'] + 'ajax/show_compare_preview_top.php', 'compare_line', false);
	}
	else
	{
		console.log(BX.message('ADD_ERROR_COMPARE'));
	}
	return false;
};

window.JCCatalogElement.prototype.CompareRedirect = function()
{
	if (!!this.compareData.comparePath)
	{
		location.href = this.compareData.comparePath;
	}
	else
	{
		this.obPopupWin.close();
	}
};

window.JCCatalogElement.prototype.InitBasketUrl = function()
{
	var product_url='';
	this.basketUrl = (this.basketMode === 'ADD' ? this.basketData.add_url : this.basketData.buy_url);
	switch (this.productType)
	{
		case 1://product
		case 2://set
			this.basketUrl = this.basketUrl.replace('#ID#', this.product.id.toString());
			product_url=this.product.id.toString();
			break;
		case 3://sku
			this.basketUrl = this.basketUrl.replace('#ID#', this.offers[this.offerNum].ID);
			product_url=this.offers[this.offerNum].URL;
			break;
	}
	this.basketParams = {
		'ajax_basket': 'Y'
	};
	if (this.config.showQuantity)
	{
		this.basketParams[this.basketData.quantity] = this.obQuantity.value;
	}
	if (!!this.basketData.sku_props)
	{
		this.basketParams[this.basketData.sku_props_var] = this.basketData.sku_props;
	}
	if (!!product_url)
	{
		this.basketParams["REQUEST_URI"] = product_url;
	}
};

window.JCCatalogElement.prototype.FillBasketProps = function()
{
	if (!this.visual.BASKET_PROP_DIV)
	{
		return;
	}
	var
		i = 0,
		propCollection = null,
		foundValues = false,
		obBasketProps = null;
	if (this.basketData.useProps && !this.basketData.emptyProps)
	{
		if (!!this.obPopupWin && !!this.obPopupWin.contentContainer)
		{
			obBasketProps = this.obPopupWin.contentContainer;
		}
	}
	else
	{
		obBasketProps = BX(this.visual.BASKET_PROP_DIV);
	}
	if (!!obBasketProps)
	{
		propCollection = obBasketProps.getElementsByTagName('select');
		if (!!propCollection && !!propCollection.length)
		{
			for (i = 0; i < propCollection.length; i++)
			{
				if (!propCollection[i].disabled)
				{
					switch(propCollection[i].type.toLowerCase())
					{
						case 'select-one':
							this.basketParams[propCollection[i].name] = propCollection[i].value;
							foundValues = true;
							break;
						default:
							break;
					}
				}
			}
		}
		propCollection = obBasketProps.getElementsByTagName('input');
		if (!!propCollection && !!propCollection.length)
		{
			for (i = 0; i < propCollection.length; i++)
			{
				if (!propCollection[i].disabled)
				{
					switch(propCollection[i].type.toLowerCase())
					{
						case 'hidden':
							this.basketParams[propCollection[i].name] = propCollection[i].value;
							foundValues = true;
							break;
						case 'radio':
							if (propCollection[i].checked)
							{
								this.basketParams[propCollection[i].name] = propCollection[i].value;
								foundValues = true;
							}
							break;
						default:
							break;
					}
				}
			}
		}
	}
	if (!foundValues)
	{
		this.basketParams[this.basketData.props] = [];
		this.basketParams[this.basketData.props][0] = 0;
	}
};

window.JCCatalogElement.prototype.SendToBasket = function()
{
	if (!this.canBuy)
	{
		return;
	}
	this.InitBasketUrl();
	this.FillBasketProps();
	BX.ajax.loadJSON(
		this.basketUrl,
		this.basketParams,
		BX.proxy(this.BasketResult, this)
	);
};

window.JCCatalogElement.prototype.Add2Basket = function()
{
	this.basketMode = 'ADD';
	this.Basket();
};

window.JCCatalogElement.prototype.BuyBasket = function()
{
	this.basketMode = 'BUY';
	this.Basket();
};

window.JCCatalogElement.prototype.Basket = function()
{
	var contentBasketProps = '';
	if (!this.canBuy)
	{
		return;
	}
	this.SendToBasket();
};

window.JCCatalogElement.prototype.BasketResult = function(arResult)
{
	var popupContent, popupButtons, popupTitle, productPict;
	if (!!this.obPopupWin)
	{
		this.obPopupWin.close();
	}
	if (typeof arResult !== 'object')
	{
		return false;
	}
	if (arResult.STATUS === 'OK' && this.basketMode === 'BUY')
	{
		this.BasketRedirect();
	}
	else
	{
		// this.InitPopupWindow();
		popupTitle = {
			content: BX.create('div', {
				style: { marginRight: '30px', whiteSpace: 'nowrap' },
				text: (arResult.STATUS === 'OK' ? BX.message('TITLE_SUCCESSFUL') : BX.message('TITLE_ERROR'))
			})
		};
		if (arResult.STATUS === 'OK')
		{
			BX.onCustomEvent('OnBasketChange');
			this.offers[this.offerNum].BASKET_ACTIVE=true;
			this.BasketStateRefresh("Y");
		}
		else
		{
			console.log(BX.message('ADD_ERROR_BASKET'));
		}
	}
	return false;
};

window.JCCatalogElement.prototype.BasketRedirect = function()
{
	location.href = (!!this.basketData.basketUrl ? this.basketData.basketUrl : BX.message('BASKET_URL'));
};

window.JCCatalogElement.prototype.InitPopupWindow = function()
{
	if (!!this.obPopupWin)
	{
		return;
	}
	this.obPopupWin = BX.PopupWindowManager.create('CatalogElementBasket_'+this.visual.ID, null, {
		autoHide: false,
		offsetLeft: 0,
		offsetTop: 0,
		overlay : true,
		closeByEsc: true,
		titleBar: true,
		closeIcon: {top: '10px', right: '10px'}
	});
};

window.JCCatalogElement.prototype.onPopupWindowShow = function(popup)
{
	BX.bind(document, 'click', BX.proxy(this.popupWindowClick, this));
};

window.JCCatalogElement.prototype.onPopupWindowClose = function(popup, event)
{
	BX.unbind(document, 'click', BX.proxy(this.popupWindowClick, this));
};

window.JCCatalogElement.prototype.popupWindowClick = function()
{
	if (!!this.obPopupPict && typeof (this.obPopupPict) === 'object')
	{
		if (this.obPopupPict.isShown())
		{
			this.obPopupPict.close();
		}
	}
};

window.JCCatalogElement.prototype.incViewedCounter = function()
{
	if (this.currentIsSet && !this.updateViewedCount)
	{

		switch (this.productType)
		{
			case 1:
			case 2:
				this.viewedCounter.params.PRODUCT_ID = this.product.id;
				this.viewedCounter.params.PARENT_ID = this.product.id;
				break;
			case 3:
				this.viewedCounter.params.PARENT_ID = this.product.id;
				this.viewedCounter.params.PRODUCT_ID = this.offers[this.offerNum].ID;
				break;
			default:
				return;
		}
		this.viewedCounter.params.SITE_ID = BX.message('SITE_ID');
		this.updateViewedCount = true;
		BX.ajax.post(
			this.viewedCounter.path,
			this.viewedCounter.params,
			BX.delegate(function(){ this.updateViewedCount = false; }, this)
		);
	}
};

window.JCCatalogElement.prototype.allowViewedCount = function(update)
{
	update = !!update;
	this.currentIsSet = true;
	if (update)
	{
		this.incViewedCounter();
	}
};
})(window);140  79311|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/components/bitrix/catalog.element/main/template.php|c44aebc0<?if(!defined("B_PROLOG_INCLUDED") || B_PROLOG_INCLUDED!==true)die();?>
<div class="basket_props_block" id="bx_basket_div_<?=$arResult["ID"];?>" style="display: none;">
	<?if (!empty($arResult['PRODUCT_PROPERTIES_FILL'])){
		foreach ($arResult['PRODUCT_PROPERTIES_FILL'] as $propID => $propInfo){?>
			<input type="hidden" name="<? echo $arParams['PRODUCT_PROPS_VARIABLE']; ?>[<? echo $propID; ?>]" value="<? echo htmlspecialcharsbx($propInfo['ID']); ?>">
			<?if (isset($arResult['PRODUCT_PROPERTIES'][$propID]))
				unset($arResult['PRODUCT_PROPERTIES'][$propID]);
		}
	}
	$arResult["EMPTY_PROPS_JS"]="Y";
	$emptyProductProperties = empty($arResult['PRODUCT_PROPERTIES']);
	if (!$emptyProductProperties){
		$arResult["EMPTY_PROPS_JS"]="N";?>
		<div class="wrapper">
			<table>
				<?foreach ($arResult['PRODUCT_PROPERTIES'] as $propID => $propInfo){?>
					<tr>
						<td><? echo $arResult['PROPERTIES'][$propID]['NAME']; ?></td>
						<td>
							<?if('L' == $arResult['PROPERTIES'][$propID]['PROPERTY_TYPE'] && 'C' == $arResult['PROPERTIES'][$propID]['LIST_TYPE']){
								foreach($propInfo['VALUES'] as $valueID => $value){?>
									<label>
										<input type="radio" name="<? echo $arParams['PRODUCT_PROPS_VARIABLE']; ?>[<? echo $propID; ?>]" value="<? echo $valueID; ?>" <? echo ($valueID == $propInfo['SELECTED'] ? '"checked"' : ''); ?>><? echo $value; ?>
									</label>
								<?}
							}else{?>
								<select name="<? echo $arParams['PRODUCT_PROPS_VARIABLE']; ?>[<? echo $propID; ?>]">
									<?foreach($propInfo['VALUES'] as $valueID => $value){?>
										<option value="<? echo $valueID; ?>" <? echo ($valueID == $propInfo['SELECTED'] ? '"selected"' : ''); ?>><? echo $value; ?></option>
									<?}?>
								</select>
							<?}?>
						</td>
					</tr>
				<?}?>
			</table>
		</div>
	<?}?>
</div>
<?
$this->setFrameMode(true);
$currencyList = '';
if (!empty($arResult['CURRENCIES'])){
	$templateLibrary[] = 'currency';
	$currencyList = CUtil::PhpToJSObject($arResult['CURRENCIES'], false, true, true);
}
$templateData = array(
	'TEMPLATE_LIBRARY' => $templateLibrary,
	'CURRENCIES' => $currencyList,
	'STORES' => array(
		"USE_STORE_PHONE" => $arParams["USE_STORE_PHONE"],
		"SCHEDULE" => $arParams["SCHEDULE"],
		"USE_MIN_AMOUNT" => $arParams["USE_MIN_AMOUNT"],
		"MIN_AMOUNT" => $arParams["MIN_AMOUNT"],
		"ELEMENT_ID" => $arResult["ID"],
		"STORE_PATH"  =>  $arParams["STORE_PATH"],
		"MAIN_TITLE"  =>  $arParams["MAIN_TITLE"],
		"MAX_AMOUNT"=>$arParams["MAX_AMOUNT"],
		"USE_ONLY_MAX_AMOUNT" => $arParams["USE_ONLY_MAX_AMOUNT"],
		"SHOW_EMPTY_STORE" => $arParams['SHOW_EMPTY_STORE'],
		"SHOW_GENERAL_STORE_INFORMATION" => $arParams['SHOW_GENERAL_STORE_INFORMATION'],
		"USE_ONLY_MAX_AMOUNT" => $arParams["USE_ONLY_MAX_AMOUNT"],
		"USER_FIELDS" => $arParams['USER_FIELDS'],
		"FIELDS" => $arParams['FIELDS'],
		"STORES" => $arParams['STORES'],
	)
);
unset($currencyList, $templateLibrary);

$arSkuTemplate = array();
if (!empty($arResult['SKU_PROPS'])){
	$arSkuTemplate=COptimus::GetSKUPropsArray($arResult['SKU_PROPS'], $arResult["SKU_IBLOCK_ID"], "list", $arParams["OFFER_HIDE_NAME_PROPS"]);
}
$strMainID = $this->GetEditAreaId($arResult['ID']);

$strObName = 'ob'.preg_replace("/[^a-zA-Z0-9_]/", "x", $strMainID);

$arResult["strMainID"] = $this->GetEditAreaId($arResult['ID']);
$arItemIDs=COptimus::GetItemsIDs($arResult, "Y");
$totalCount = COptimus::GetTotalCount($arResult);
$arQuantityData = COptimus::GetQuantityArray($totalCount, $arItemIDs["ALL_ITEM_IDS"], "Y");

$arParams["BASKET_ITEMS"]=($arParams["BASKET_ITEMS"] ? $arParams["BASKET_ITEMS"] : array());
$useStores = $arParams["USE_STORE"] == "Y" && $arResult["STORES_COUNT"] && $arQuantityData["RIGHTS"]["SHOW_QUANTITY"];
$showCustomOffer=(($arResult['OFFERS'] && $arParams["TYPE_SKU"] !="N") ? true : false);
if($showCustomOffer){
	$templateData['JS_OBJ'] = $strObName;
}
$strMeasure='';
if($arResult["OFFERS"]){
	$strMeasure=$arResult["MIN_PRICE"]["CATALOG_MEASURE_NAME"];
	$templateData["STORES"]["OFFERS"]="Y";
	foreach($arResult["OFFERS"] as $arOffer){
		$templateData["STORES"]["OFFERS_ID"][]=$arOffer["ID"];
	}
}else{
	if (($arParams["SHOW_MEASURE"]=="Y")&&($arResult["CATALOG_MEASURE"])){
		$arMeasure = CCatalogMeasure::getList(array(), array("ID"=>$arResult["CATALOG_MEASURE"]), false, false, array())->GetNext();
		$strMeasure=$arMeasure["SYMBOL_RUS"];
	}
	$arAddToBasketData = COptimus::GetAddToBasketArray($arResult, $totalCount, $arParams["DEFAULT_COUNT"], $arParams["BASKET_URL"], false, $arItemIDs["ALL_ITEM_IDS"], 'big_btn w_icons', $arParams);
}
$arOfferProps = implode(';', $arParams['OFFERS_CART_PROPERTIES']);

// save item viewed
$arFirstPhoto = reset($arResult['MORE_PHOTO']);
$arViewedData = array(
	'PRODUCT_ID' => $arResult['ID'],
	'IBLOCK_ID' => $arResult['IBLOCK_ID'],
	'NAME' => $arResult['NAME'],
	'DETAIL_PAGE_URL' => $arResult['DETAIL_PAGE_URL'],
	'PICTURE_ID' => $arResult['PREVIEW_PICTURE'] ? $arResult['PREVIEW_PICTURE']['ID'] : ($arFirstPhoto ? $arFirstPhoto['ID'] : false),
	'CATALOG_MEASURE_NAME' => $arResult['CATALOG_MEASURE_NAME'],
	'MIN_PRICE' => $arResult['MIN_PRICE'],
	'CAN_BUY' => $arResult['CAN_BUY'] ? 'Y' : 'N',
	'IS_OFFER' => 'N',
	'WITH_OFFERS' => $arResult['OFFERS'] ? 'Y' : 'N',
);
?>
<script type="text/javascript">
setViewedProduct(<?=$arResult['ID']?>, <?=CUtil::PhpToJSObject($arViewedData, false)?>);
</script>

<div class="item_main_info <?=(!$showCustomOffer ? "noffer" : "");?>" id="<?=$arItemIDs["strMainID"];?>">
	<div class="img_wrapper">
		<div class="stickers">
			<?if (is_array($arResult["PROPERTIES"]["HIT"]["VALUE_XML_ID"])):?>
				<?foreach($arResult["PROPERTIES"]["HIT"]["VALUE_XML_ID"] as $key=>$class){?>
					<div><div class="sticker_<?=strtolower($class);?>"><?=$arResult["PROPERTIES"]["HIT"]["VALUE"][$key]?></div></div>
				<?}?>
			<?endif;?>
			<?if($arParams["SALE_STIKER"] && $arResult["PROPERTIES"][$arParams["SALE_STIKER"]]["VALUE"]){?>
				<div><div class="sticker_sale_text"><?=$arResult["PROPERTIES"][$arParams["SALE_STIKER"]]["VALUE"];?></div></div>
			<?}?>
		</div>
		<div class="item_slider">
			<?if(((!$arResult["OFFERS"] && $arParams["DISPLAY_WISH_BUTTONS"] != "N") || ($arParams["DISPLAY_COMPARE"] == "Y")) || (strlen($arResult["DISPLAY_PROPERTIES"]["CML2_ARTICLE"]["VALUE"]) || ($arResult['SHOW_OFFERS_PROPS'] && $showCustomOffer))):?>
				<div class="like_wrapper">
					<?if((!$arResult["OFFERS"] && $arParams["DISPLAY_WISH_BUTTONS"] != "N") || ($arParams["DISPLAY_COMPARE"] == "Y")):?>
						<div class="like_icons iblock">
							<?if($arParams["DISPLAY_WISH_BUTTONS"] != "N"):?>
								<?if(!$arResult["OFFERS"]):?>
									<div class="wish_item text" data-item="<?=$arResult["ID"]?>" data-iblock="<?=$arResult["IBLOCK_ID"]?>">
										<span class="value" title="<?=GetMessage('CT_BCE_CATALOG_IZB')?>" ><i></i></span>
										<span class="value added" title="<?=GetMessage('CT_BCE_CATALOG_IZB_ADDED')?>"><i></i></span>
									</div>
								<?elseif($arResult["OFFERS"] && $arParams["TYPE_SKU"] === 'TYPE_1' && !empty($arResult['OFFERS_PROP'])):?>
									<div class="wish_item text " data-item="" data-iblock="<?=$arResult["IBLOCK_ID"]?>" <?=(!empty($arResult['OFFERS_PROP']) ? 'data-offers="Y"' : '');?> data-props="<?=$arOfferProps?>">
										<span class="value <?=$arParams["TYPE_SKU"];?>" title="<?=GetMessage('CT_BCE_CATALOG_IZB')?>"><i></i></span>
										<span class="value added <?=$arParams["TYPE_SKU"];?>" title="<?=GetMessage('CT_BCE_CATALOG_IZB_ADDED')?>"><i></i></span>
									</div>
								<?endif;?>
							<?endif;?>
							<?if($arParams["DISPLAY_COMPARE"] == "Y"):?>
								<?if(!$arResult["OFFERS"]):?>
									<div data-item="<?=$arResult["ID"]?>" data-iblock="<?=$arResult["IBLOCK_ID"]?>" data-href="<?=$arResult["COMPARE_URL"]?>" class="compare_item text <?=($arResult["OFFERS"] ? $arParams["TYPE_SKU"] : "");?>" id="<? echo $arItemIDs["ALL_ITEM_IDS"]['COMPARE_LINK']; ?>">
										<span class="value" title="<?=GetMessage('CT_BCE_CATALOG_COMPARE')?>"><i></i></span>
										<span class="value added" title="<?=GetMessage('CT_BCE_CATALOG_COMPARE_ADDED')?>"><i></i></span>
									</div>
								<?elseif($arResult["OFFERS"] && $arParams["TYPE_SKU"] === 'TYPE_1'):?>
									<div data-item="" data-iblock="<?=$arResult["IBLOCK_ID"]?>" data-href="<?=$arResult["COMPARE_URL"]?>" class="compare_item text <?=$arParams["TYPE_SKU"];?>">
										<span class="value" title="<?=GetMessage('CT_BCE_CATALOG_COMPARE')?>"><i></i></span>
										<span class="value added" title="<?=GetMessage('CT_BCE_CATALOG_COMPARE_ADDED')?>"><i></i></span>
									</div>
								<?endif;?>
							<?endif;?>
						</div>
					<?endif;?>
				</div>
			<?endif;?>

			<?reset($arResult['MORE_PHOTO']);
			$arFirstPhoto = current($arResult['MORE_PHOTO']);
			$viewImgType=$arParams["DETAIL_PICTURE_MODE"];?>
			<div class="slides">
				<?if($showCustomOffer && !empty($arResult['OFFERS_PROP'])){?>
					<div class="offers_img wof">
						<?$alt=$arFirstPhoto["ALT"];
						$title=$arFirstPhoto["TITLE"];?>
						<?if($arFirstPhoto["BIG"]["src"]){?>
							<a href="<?=($viewImgType=="POPUP" ? $arFirstPhoto["BIG"]["src"] : "javascript:void(0)");?>" class="<?=($viewImgType=="POPUP" ? "popup_link" : "line_link");?>" title="<?=$title;?>">
								<img id="<? echo $arItemIDs["ALL_ITEM_IDS"]['PICT']; ?>" src="<?=$arFirstPhoto['SMALL']['src']; ?>" <?=($viewImgType=="MAGNIFIER" ? 'data-large=""': "");?> alt="<?=$alt;?>" title="<?=$title;?>">
							</a>
						<?}else{?>
							<a href="javascript:void(0)" class="" title="<?=$title;?>">
								<img id="<? echo $arItemIDs["ALL_ITEM_IDS"]['PICT']; ?>" src="<?=$arFirstPhoto['SRC']; ?>" alt="<?=$alt;?>" title="<?=$title;?>">
							</a>
						<?}?>
					</div>
				<?}else{
					if($arResult["MORE_PHOTO"]){
						foreach($arResult["MORE_PHOTO"] as $i => $arImage){?>
							<?$isEmpty=($arImage["SMALL"]["src"] ? false : true );?>
							<?
							$alt=$arImage["ALT"];
							$title=$arImage["TITLE"];
							?>
							<li id="photo-<?=$i?>" <?=(!$i ? 'class="current"' : 'style="display: none;"')?>>
								<?if(!$isEmpty){?>
									<a href="<?=($viewImgType=="POPUP" ? $arImage["BIG"]["src"] : "javascript:void(0)");?>" <?=($bIsOneImage ? '' : 'rel="item_slider"')?> class="<?=($viewImgType=="POPUP" ? "popup_link fancy" : "line_link");?>" title="<?=$title;?>">
										<img border="0" src="<?=$arImage["SMALL"]["src"]?>" <?=($viewImgType=="MAGNIFIER" ? "class='zoom_picture'" : "");?> <?=($viewImgType=="MAGNIFIER" ? 'data-large="'.$arImage["BIG"]["src"].'"': "");?> alt="<?=$alt;?>" title="<?=$title;?>" />
									</a>
								<?}else{?>
									<img border="0" src="<?=$arImage["SRC"]?>" alt="<?=$alt;?>" title="<?=$title;?>" />
								<?}?>
							</li>
						<?}
					}
				}?>
			</div>
			<?/*thumbs*/?>
			<?if(!$showCustomOffer || empty($arResult['OFFERS_PROP'])){
				if(count($arResult["MORE_PHOTO"]) > 1):?>
					<div class="wrapp_thumbs">
						<div class="thumbs flexslider" data-plugin-options='{"animation": "slide", "selector": ".slides_block > li", "directionNav": true, "itemMargin":10, "itemWidth": 54, "controlsContainer": ".thumbs_navigation", "controlNav" :false, "animationLoop": true, "slideshow": false}' style="max-width:<?=ceil(((count($arResult['MORE_PHOTO']) <= 4 ? count($arResult['MORE_PHOTO']) : 4) * 64) - 10)?>px;">
							<ul class="slides_block" id="thumbs">
								<?foreach($arResult["MORE_PHOTO"]as $i => $arImage):?>
									<li <?=(!$i ? 'class="current"' : '')?>>
										<span><img border="0" src="<?=$arImage["THUMB"]["src"]?>" alt="<?=$arImage["ALT"];?>" title="<?=$arImage["TITLE"];?>" /></span>
									</li>
								<?endforeach;?>
							</ul>
							<span class="thumbs_navigation custom_flex"></span>
						</div>
					</div>
					<script>
						$(document).ready(function(){
							$('.item_slider .thumbs li').first().addClass('current');
							$('.item_slider .thumbs').delegate('li:not(.current)', 'click', function(){
								$(this).addClass('current').siblings().removeClass('current').parents('.item_slider').find('.slides li').fadeOut(333);
								$(this).parents('.item_slider').find('.slides li').eq($(this).index()).addClass('current').stop().fadeIn(333);
							});
						})
					</script>
				<?endif;?>
			<?}else{?>
				<div class="wrapp_thumbs">
					<div class="sliders">
						<div class="thumbs" style="">
						</div>
					</div>
				</div>
			<?}?>
		</div>
		<?/*mobile*/?>
		<?if(!$showCustomOffer || empty($arResult['OFFERS_PROP'])){?>
			<div class="item_slider flex flexslider" data-plugin-options='{"animation": "slide", "directionNav": false, "animationLoop": false, "slideshow": true, "slideshowSpeed": 10000, "animationSpeed": 600}'>
				<ul class="slides">
					<?if($arResult["MORE_PHOTO"]){
						foreach($arResult["MORE_PHOTO"] as $i => $arImage){?>
							<?$isEmpty=($arImage["SMALL"]["src"] ? false : true );?>
							<li id="photo-<?=$i?>" <?=(!$i ? 'class="current"' : 'style="display: none;"')?>>
								<?
								$alt=$arImage["ALT"];
								$title=$arImage["TITLE"];
								?>
								<?if(!$isEmpty){?>
									<a href="<?=$arImage["BIG"]["src"]?>" rel="item_slider_flex" class="fancy" title="<?=$title;?>" >
										<img border="0" src="<?=$arImage["SMALL"]["src"]?>" alt="<?=$alt;?>" title="<?=$title;?>" />
									</a>
								<?}else{?>
									<img border="0" src="<?=$arImage["SRC"];?>" alt="<?=$alt;?>" title="<?=$title;?>" />
								<?}?>
							</li>
						<?}
					}?>
				</ul>
			</div>
		<?}else{?>
			<div class="item_slider flex"></div>
		<?}?>
	</div>
	<div class="right_info">
		<div class="info_item">
			<?$isArticle=(strlen($arResult["DISPLAY_PROPERTIES"]["CML2_ARTICLE"]["VALUE"]) || ($arResult['SHOW_OFFERS_PROPS'] && $showCustomOffer));?>
			<?if($isArticle || $arResult["BRAND_ITEM"] || $arParams["SHOW_RATING"] == "Y" || strlen($arResult["PREVIEW_TEXT"])){?>
				<div class="top_info">
					<div class="rows_block">
						<?$col=1;
						if($isArticle && $arResult["BRAND_ITEM"] && $arParams["SHOW_RATING"] == "Y"){
							$col=3;
						}elseif(($isArticle && $arResult["BRAND_ITEM"]) || ($isArticle && $arParams["SHOW_RATING"] == "Y") || ($arResult["BRAND_ITEM"] && $arParams["SHOW_RATING"] == "Y")){
							$col=2;
						}?>
						<?if($arParams["SHOW_RATING"] == "Y"):?>
							<div class="item_block col-<?=$col;?>">
								<div class="rating">
									<?$APPLICATION->IncludeComponent(
									   "bitrix:iblock.vote",
									   "element_rating",
									   Array(
										  "IBLOCK_TYPE" => $arParams["IBLOCK_TYPE"],
										  "IBLOCK_ID" => $arResult["IBLOCK_ID"],
										  "ELEMENT_ID" =>$arResult["ID"],
										  "MAX_VOTE" => 5,
										  "VOTE_NAMES" => array(),
										  "CACHE_TYPE" => $arParams["CACHE_TYPE"],
										  "CACHE_TIME" => $arParams["CACHE_TIME"],
										  "DISPLAY_AS_RATING" => 'vote_avg'
									   ),
									   $component, array("HIDE_ICONS" =>"Y")
									);?>
								</div>
							</div>
						<?endif;?>
						<?if($isArticle):?>
							<div class="item_block col-<?=$col;?>">
								<div class="article iblock" <?if($arResult['SHOW_OFFERS_PROPS']){?>id="<? echo $arItemIDs["ALL_ITEM_IDS"]['DISPLAY_PROP_ARTICLE_DIV'] ?>" style="display: none;"<?}?>>
									<span class="block_title"><?=GetMessage("ARTICLE");?>:</span>
									<span class="value"><?=$arResult["DISPLAY_PROPERTIES"]["CML2_ARTICLE"]["VALUE"]?></span>
								</div>
							</div>
						<?endif;?>

						<?if($arResult["BRAND_ITEM"]){?>
							<div class="item_block col-<?=$col;?>">
								<div class="brand">
									<?if(!$arResult["BRAND_ITEM"]["IMAGE"]):?>
										<b class="block_title"><?=GetMessage("BRAND");?>:</b>
										<a href="<?=$arResult["BRAND_ITEM"]["DETAIL_PAGE_URL"]?>"><?=$arResult["BRAND_ITEM"]["NAME"]?></a>
									<?else:?>
										<a class="brand_picture" href="<?=$arResult["BRAND_ITEM"]["DETAIL_PAGE_URL"]?>">
											<img border="0" src="<?=$arResult["BRAND_ITEM"]["IMAGE"]["src"]?>" alt="<?=$arResult["BRAND_ITEM"]["NAME"]?>" title="<?=$arResult["BRAND_ITEM"]["NAME"]?>" />
										</a>
									<?endif;?>
								</div>
							</div>
						<?}?>
					</div>
					<?if(strlen($arResult["PREVIEW_TEXT"])):?>
						<div class="preview_text dotdot"><?=$arResult["PREVIEW_TEXT"]?></div>
						<div class="more_block icons_fa color_link"><span><?=GetMessage('MORE_TEXT_BOTTOM');?></span></div>
					<?endif;?>
				</div>
			<?}?>
			<div class="middle_info">
				<div class="prices_block">
					<div class="cost prices clearfix">
						<?if( count( $arResult["OFFERS"] ) > 0 ){
							$minPrice = false;
							$min_price_id=0;
							if (isset($arResult['MIN_PRICE']) || isset($arResult['RATIO_PRICE'])){
								// $minPrice = (isset($arResult['RATIO_PRICE']) ? $arResult['RATIO_PRICE'] : $arResult['MIN_PRICE']);
								$minPrice = $arResult['MIN_PRICE'];
							}
							$offer_id=0;
							if($arParams["TYPE_SKU"]=="N"){
								$offer_id=$minPrice["MIN_ITEM_ID"];
							}
							$min_price_id=$minPrice["MIN_PRICE_ID"];
							if(!$min_price_id)
								$min_price_id=$minPrice["PRICE_ID"];
							if($minPrice["MIN_ITEM_ID"])
								$item_id=$minPrice["MIN_ITEM_ID"];
							$prefix='';
							if('N' == $arParams['TYPE_SKU'] || $arParams['DISPLAY_TYPE'] =='table' || empty($arResult['OFFERS_PROP'])){
								$prefix=GetMessage("CATALOG_FROM");
							}
							if($arParams["SHOW_OLD_PRICE"]=="Y"){?>
								<div class="price" id="<? echo $arItemIDs["ALL_ITEM_IDS"]['PRICE']; ?>">
									<?if(strlen($minPrice["PRINT_DISCOUNT_VALUE"])):?>
										<?=$prefix;?> <?=$minPrice["PRINT_DISCOUNT_VALUE"];?>
										<?if (($arParams["SHOW_MEASURE"]=="Y") && $strMeasure){?>
											/<?=$strMeasure?>
										<?}?>
									<?endif;?>
								</div>
								<div class="price discount" >
									<strike id="<?=$arItemIDs["ALL_ITEM_IDS"]['OLD_PRICE']?>" <?=(!$minPrice["DISCOUNT_DIFF"] ? 'style="display:none;"' : '')?>><?=$minPrice["PRINT_VALUE"];?></strike>
								</div>
								<?/*if($arParams["SHOW_DISCOUNT_PERCENT"]=="Y"){?>
									<div class="sale_block" <?=(!$minPrice["DISCOUNT_DIFF"] ? 'style="display:none;"' : '')?>>
										<?$percent=round(($minPrice["DISCOUNT_DIFF"]/$minPrice["VALUE"])*100, 2);?>
										<div class="value">-<?=$percent;?>%</div>
										<div class="text"><?=GetMessage("CATALOG_ECONOMY");?> <span><?=$minPrice["PRINT_DISCOUNT_DIFF"];?></span></div>
										<div class="clearfix"></div>
									</div>
								<?}*/?>
							<?}else{?>
								<div class="price" id="<? echo $arItemIDs["ALL_ITEM_IDS"]['PRICE']; ?>">
									<?if(strlen($minPrice["PRINT_DISCOUNT_VALUE"])):?>
										<?=$prefix;?> <?=$minPrice['PRINT_DISCOUNT_VALUE'];?>
										<?if (($arParams["SHOW_MEASURE"]=="Y") && $strMeasure){?>
											/<?=$strMeasure?>
										<?}?>
									<?endif;?>
								</div>
							<?}?>
						<?}else{?>
							<?
							$arCountPricesCanAccess = 0;
							$min_price_id=0;
							foreach( $arResult["PRICES"] as $key => $arPrice ) { if($arPrice["CAN_ACCESS"]){$arCountPricesCanAccess++;} }?>
							<?foreach($arResult["PRICES"] as $key => $arPrice){?>
								<?if($arPrice["CAN_ACCESS"]){
									$percent=0;
									if($arPrice["MIN_PRICE"]=="Y"){
										$min_price_id=$arPrice["PRICE_ID"];
									}?>
									<?$price = CPrice::GetByID($arPrice["ID"]);?>
									<?if($arCountPricesCanAccess > 1):?>
										<div class="price_name"><?=$price["CATALOG_GROUP_NAME"];?></div>
									<?endif;?>
									<?if($arPrice["VALUE"] > $arPrice["DISCOUNT_VALUE"] && $arParams["SHOW_OLD_PRICE"]=="Y"){?>
										<div class="price" id="<? echo $arItemIDs["ALL_ITEM_IDS"]['PRICE']; ?>">
											<?if(strlen($arPrice["PRINT_DISCOUNT_VALUE"])):?>
												<?=$arPrice["PRINT_DISCOUNT_VALUE"];?>
												<?if (($arParams["SHOW_MEASURE"]=="Y") && $strMeasure){?>
													/<?=$strMeasure?>
												<?}?>
											<?endif;?>
										</div>
										<div class="price discount">
											<strike><?=$arPrice["PRINT_VALUE"];?></strike>
										</div>
										<?/*if($arParams["SHOW_DISCOUNT_PERCENT"]=="Y"){?>
											<div class="sale_block">
												<?$percent=round(($arPrice["DISCOUNT_DIFF"]/$arPrice["VALUE"])*100, 2);?>
												<?if($percent && $percent<100){?>
													<div class="value">-<?=$percent;?>%</div>
												<?}?>
												<div class="text"><?=GetMessage("CATALOG_ECONOMY");?> <span><?=$arPrice["PRINT_DISCOUNT_DIFF"];?></span></div>
												<div class="clearfix"></div>
											</div>
										<?}*/?>
									<?}else{?>
										<div class="price" id="<? echo $arItemIDs["ALL_ITEM_IDS"]['PRICE']; ?>">
											<?if(strlen($arPrice["PRINT_VALUE"])):?>
												<?=$arPrice["PRINT_VALUE"];?>
												<?if (($arParams["SHOW_MEASURE"]=="Y") && $strMeasure){?>
													/<?=$strMeasure?>
												<?}?>
											<?endif;?>
										</div>
									<?}?>
								<?}?>
							<?}?>
						<?}?>
					</div>
					<?if($arParams["SHOW_DISCOUNT_TIME"]=="Y"){?>
						<?$arDiscounts = CCatalogDiscount::GetDiscountByProduct( $arResult["ID"], $USER->GetUserGroupArray(), "N", $min_price_id, SITE_ID );
						$arDiscount=array();
						if($arDiscounts)
							$arDiscount=current($arDiscounts);
						if($arDiscount["ACTIVE_TO"]){?>
							<div class="view_sale_block">
								<div class="count_d_block">
									<span class="active_to hidden"><?=$arDiscount["ACTIVE_TO"];?></span>
									<div class="title"><?=GetMessage("UNTIL_AKC");?></div>
									<span class="countdown values"></span>
								</div>
								<div class="quantity_block">
									<div class="title"><?=GetMessage("TITLE_QUANTITY_BLOCK");?></div>
									<div class="values">
										<span class="item">
											<span <?=( count( $arResult["OFFERS"] ) > 0 ? 'style="opacity:0;"' : '')?>><?=$totalCount;?></span>
											<div class="text"><?=GetMessage("TITLE_QUANTITY");?></div>
										</span>
									</div>
								</div>
							</div>
						<?}?>
					<?}?>
					<?if($useStores){?>
						<div class="p_block">
					<?}?>
						<?=$arQuantityData["HTML"];?>
					<?if($useStores){?>
						</div>
					<?}?>
				</div>
				<div class="buy_block">
					<?if($arResult["OFFERS"] && $showCustomOffer){?>
						<div class="sku_props">
							<?if (!empty($arResult['OFFERS_PROP'])){?>
								<div class="bx_catalog_item_scu wrapper_sku" id="<? echo $arItemIDs["ALL_ITEM_IDS"]['PROP_DIV']; ?>">
									<?foreach ($arSkuTemplate as $code => $strTemplate){
										if (!isset($arResult['OFFERS_PROP'][$code]))
											continue;
										echo str_replace('#ITEM#_prop_', $arItemIDs["ALL_ITEM_IDS"]['PROP'], $strTemplate);
									}?>
								</div>
							<?}?>
							<?$arItemJSParams=COptimus::GetSKUJSParams($arResult, $arParams, $arResult, "Y");?>
							<script type="text/javascript">
								var <? echo $arItemIDs["strObName"]; ?> = new JCCatalogElement(<? echo CUtil::PhpToJSObject($arItemJSParams, false, true); ?>);
							</script>
						</div>
					<?}?>
					<?if(!$arResult["OFFERS"]):?>
						<script>
							$(document).ready(function() {
								$('.catalog_detail .tabs_section .tabs_content .form.inline input[data-sid="PRODUCT_NAME"]').attr('value', $('h1').text());
							});
						</script>
						<div class="counter_wrapp">
							<?if(($arAddToBasketData["OPTIONS"]["USE_PRODUCT_QUANTITY_DETAIL"] && $arAddToBasketData["ACTION"] == "ADD") && $arResult["CAN_BUY"]):?>
								<div class="counter_block big_basket" data-offers="<?=($arResult["OFFERS"] ? "Y" : "N");?>" data-item="<?=$arResult["ID"];?>" <?=(($arResult["OFFERS"] && $arParams["TYPE_SKU"]=="N") ? "style='display: none;'" : "");?>>
									<span class="minus" id="<? echo $arItemIDs["ALL_ITEM_IDS"]['QUANTITY_DOWN']; ?>">-</span>
									<input type="text" class="text" id="<? echo $arItemIDs["ALL_ITEM_IDS"]['QUANTITY']; ?>" name="<? echo $arParams["PRODUCT_QUANTITY_VARIABLE"]; ?>" value="<?=$arAddToBasketData["MIN_QUANTITY_BUY"]?>" />
									<span class="plus" id="<? echo $arItemIDs["ALL_ITEM_IDS"]['QUANTITY_UP']; ?>" <?=($arAddToBasketData["MAX_QUANTITY_BUY"] ? "data-max='".$arAddToBasketData["MAX_QUANTITY_BUY"]."'" : "")?>>+</span>
								</div>
							<?endif;?>
							<div id="<? echo $arItemIDs["ALL_ITEM_IDS"]['BASKET_ACTIONS']; ?>" class="button_block <?=(($arAddToBasketData["ACTION"] == "ORDER" /*&& !$arResult["CAN_BUY"]*/) || !$arResult["CAN_BUY"] || !$arAddToBasketData["OPTIONS"]["USE_PRODUCT_QUANTITY_DETAIL"] || ($arAddToBasketData["ACTION"] == "SUBSCRIBE" && $arResult["CATALOG_SUBSCRIBE"] == "Y")  ? "wide" : "");?>">
								<!--noindex-->
									<?=$arAddToBasketData["HTML"]?>
								<!--/noindex-->
							</div>
						</div>
						<?if($arAddToBasketData["ACTION"] !== "NOTHING"):?>
							<?if($arAddToBasketData["ACTION"] == "ADD" && $arResult["CAN_BUY"] && $arParams["SHOW_ONE_CLICK_BUY"]!="N"):?>
								<div class="wrapp_one_click">
									<span class="transparent big_btn type_block button transition_bg one_click" data-item="<?=$arResult["ID"]?>" data-iblockID="<?=$arParams["IBLOCK_ID"]?>" data-quantity="<?=$arAddToBasketData["MIN_QUANTITY_BUY"];?>" onclick="oneClickBuy('<?=$arResult["ID"]?>', '<?=$arParams["IBLOCK_ID"]?>', this)">
										<span><?=GetMessage('ONE_CLICK_BUY')?></span>
									</span>
								</div>
							<?endif;?>
						<?endif;?>
					<?elseif($arResult["OFFERS"] && $arParams['TYPE_SKU'] == 'TYPE_1'):?>
						<div class="offer_buy_block buys_wrapp" style="display:none;">
							<div class="counter_wrapp"></div>
						</div>
					<?elseif($arResult["OFFERS"] && $arParams['TYPE_SKU'] != 'TYPE_1'):?>
						<span class="big_btn slide_offer button transition_bg type_block"><i></i><span><?=GetMessage("MORE_TEXT_BOTTOM");?></span></span>
					<?endif;?>
				</div>
			</div>
			<?if(is_array($arResult["STOCK"]) && $arResult["STOCK"]):?>
				<?foreach($arResult["STOCK"] as $key => $arStockItem):?>
					<div class="stock_board">
						<div class="title"><?=GetMessage("CATALOG_STOCK_TITLE")?></div>
						<div class="txt"><?=$arStockItem["PREVIEW_TEXT"]?></div>
						<a class="read_more" href="<?=$arStockItem["DETAIL_PAGE_URL"]?>"><?=GetMessage("CATALOG_STOCK_VIEW")?></a>
					</div>
				<?endforeach;?>
			<?endif;?>
			<div class="element_detail_text wrap_md">
				<div class="sh">
					<?$APPLICATION->IncludeFile(SITE_DIR."include/share_buttons.php", Array(), Array("MODE" => "html", "NAME" => GetMessage('CT_BCE_CATALOG_SOC_BUTTON')));?>
				</div>
				<div class="price_txt">
					<?$APPLICATION->IncludeFile(SITE_DIR."include/element_detail_text.php", Array(), Array("MODE" => "html",  "NAME" => GetMessage('CT_BCE_CATALOG_DOP_DESCR')));?>
				</div>
			</div>
		</div>
	</div>
	<div class="clearleft"></div>
	<?if($arResult["TIZERS_ITEMS"]){?>
		<div class="tizers_block_detail">
			<div class="rows_block">
				<?$count_t_items=count($arResult["TIZERS_ITEMS"]);?>
				<?foreach($arResult["TIZERS_ITEMS"] as $arItem){?>
					<div class="item_block tizer col-<?=$count_t_items;?>">
						<div class="inner_wrapper">
							<?if($arItem["UF_LINK"]){?>
								<a href="<?=$arItem["PREVIEW_PICTURE"]["src"];?>">
							<?}?>
							<?if($arItem["UF_FILE"]){?>
								<div class="image">
									<img src="<?=$arItem["PREVIEW_PICTURE"]["src"];?>" alt="<?=$arItem["UF_NAME"];?>" title="<?=$arItem["UF_NAME"];?>">
								</div>
							<?}?>
							<div class="text">
								<?=$arItem["UF_NAME"];?>
							</div>
							<div class="clearfix"></div>
							<?if($arItem["UF_LINK"]){?>
								</a>
							<?}?>
						</div>
					</div>
				<?}?>
			</div>
		</div>
	<?}?>

	<?if($arParams["SHOW_KIT_PARTS"] == "Y" && $arResult["SET_ITEMS"]):?>
		<div class="set_wrapp set_block">
			<div class="title"><?=GetMessage("GROUP_PARTS_TITLE")?></div>
			<ul>
				<?foreach($arResult["SET_ITEMS"] as $iii => $arSetItem):?>
					<li class="item">
						<div class="item_inner">
							<div class="image">
								<a href="<?=$arSetItem["DETAIL_PAGE_URL"]?>">
									<?if($arSetItem["PREVIEW_PICTURE"]):?>
										<?$img = CFile::ResizeImageGet($arSetItem["PREVIEW_PICTURE"], array("width" => 140, "height" => 140), BX_RESIZE_IMAGE_PROPORTIONAL, true);?>
										<img border="0" src="<?=$img["src"]?>" alt="<?=$arSetItem["NAME"];?>" title="<?=$arSetItem["NAME"];?>" />
									<?elseif($arSetItem["DETAIL_PICTURE"]):?>
										<?$img = CFile::ResizeImageGet($arSetItem["DETAIL_PICTURE"], array("width" => 140, "height" => 140), BX_RESIZE_IMAGE_PROPORTIONAL, true);?>
										<img border="0" src="<?=$img["src"]?>" alt="<?=$arSetItem["NAME"];?>" title="<?=$arSetItem["NAME"];?>" />
									<?else:?>
										<img border="0" src="<?=SITE_TEMPLATE_PATH?>/images/no_photo_small.png" alt="<?=$arSetItem["NAME"];?>" title="<?=$arSetItem["NAME"];?>" />
									<?endif;?>
								</a>
							</div>
							<div class="item_info">
								<div class="item-title">
									<a href="<?=$arSetItem["DETAIL_PAGE_URL"]?>"><span><?=$arSetItem["NAME"]?></span></a>
								</div>
								<?if($arParams["SHOW_KIT_PARTS_PRICES"] == "Y"):?>
									<div class="cost prices clearfix">
										<?
										$arCountPricesCanAccess = 0;
										foreach($arSetItem["PRICES"] as $key => $arPrice){
											if($arPrice["CAN_ACCESS"]){
												$arCountPricesCanAccess++;
											}
										}?>
										<?foreach($arSetItem["PRICES"] as $key => $arPrice):?>
											<?if($arPrice["CAN_ACCESS"]):?>
												<?$price = CPrice::GetByID($arPrice["ID"]);?>
												<?if($arCountPricesCanAccess > 1):?>
													<div class="price_name"><?=$price["CATALOG_GROUP_NAME"];?></div>
												<?endif;?>
												<?if($arPrice["VALUE"] > $arPrice["DISCOUNT_VALUE"]  && $arParams["SHOW_OLD_PRICE"]=="Y"):?>
													<div class="price">
														<?=$arPrice["PRINT_DISCOUNT_VALUE"];?>
														<?if(($arParams["SHOW_MEASURE"] == "Y") && $strMeasure):?>
															<small>/<?=$strMeasure?></small>
														<?endif;?>
													</div>
													<div class="price discount">
														<strike><?=$arPrice["PRINT_VALUE"]?></strike>
													</div>
												<?else:?>
													<div class="price">
														<?=$arPrice["PRINT_VALUE"];?>
														<?if(($arParams["SHOW_MEASURE"] == "Y") && $strMeasure):?>
															<small>/<?=$strMeasure?></small>
														<?endif;?>
													</div>
												<?endif;?>
											<?endif;?>
										<?endforeach;?>
									</div>
								<?endif;?>
							</div>
						</div>
					</li>
					<?if($arResult["SET_ITEMS"][$iii + 1]):?>
						<li class="separator"></li>
					<?endif;?>
				<?endforeach;?>
			</ul>
		</div>
	<?endif;?>
	<?if($arResult['OFFERS']):?>
		<?if($arResult['OFFER_GROUP']):?>
			<?foreach($arResult['OFFERS'] as $arOffer):?>
				<?if(!$arOffer['OFFER_GROUP']) continue;?>
				<span id="<?=$arItemIDs['ALL_ITEM_IDS']['OFFER_GROUP'].$arOffer['ID']?>" style="display: none;">
					<?$APPLICATION->IncludeComponent("bitrix:catalog.set.constructor", "",
						array(
							"IBLOCK_ID" => $arResult["OFFERS_IBLOCK"],
							"ELEMENT_ID" => $arOffer['ID'],
							"PRICE_CODE" => $arParams["PRICE_CODE"],
							"BASKET_URL" => $arParams["BASKET_URL"],
							"OFFERS_CART_PROPERTIES" => $arParams["OFFERS_CART_PROPERTIES"],
							"CACHE_TYPE" => $arParams["CACHE_TYPE"],
							"CACHE_TIME" => $arParams["CACHE_TIME"],
							"CACHE_GROUPS" => $arParams["CACHE_GROUPS"],
							"SHOW_OLD_PRICE" => $arParams["SHOW_OLD_PRICE"],
							"SHOW_MEASURE" => $arParams["SHOW_MEASURE"],
							"SHOW_DISCOUNT_PERCENT" => $arParams["SHOW_DISCOUNT_PERCENT"],
							"CONVERT_CURRENCY" => $arParams['CONVERT_CURRENCY'],
							"CURRENCY_ID" => $arParams["CURRENCY_ID"]
						), $component, array("HIDE_ICONS" => "Y")
					);?>
				</span>
			<?endforeach;?>
		<?endif;?>
	<?else:?>
		<?$APPLICATION->IncludeComponent("bitrix:catalog.set.constructor", "",
			array(
				"IBLOCK_ID" => $arParams["IBLOCK_ID"],
				"ELEMENT_ID" => $arResult["ID"],
				"PRICE_CODE" => $arParams["PRICE_CODE"],
				"BASKET_URL" => $arParams["BASKET_URL"],
				"CACHE_TYPE" => $arParams["CACHE_TYPE"],
				"CACHE_TIME" => $arParams["CACHE_TIME"],
				"CACHE_GROUPS" => $arParams["CACHE_GROUPS"],
				"SHOW_OLD_PRICE" => $arParams["SHOW_OLD_PRICE"],
				"SHOW_MEASURE" => $arParams["SHOW_MEASURE"],
				"SHOW_DISCOUNT_PERCENT" => $arParams["SHOW_DISCOUNT_PERCENT"],
				"CONVERT_CURRENCY" => $arParams['CONVERT_CURRENCY'],
				"CURRENCY_ID" => $arParams["CURRENCY_ID"]
			), $component, array("HIDE_ICONS" => "Y")
		);?>
	<?endif;?>
</div>

<div class="tabs_section">
	<ul class="tabs1 main_tabs1 tabs-head">
		<?
		$iTab = 0;
		$showProps = false;
		if($arResult["DISPLAY_PROPERTIES"]){
			foreach($arResult["DISPLAY_PROPERTIES"] as $arProp){
				if(!in_array($arProp["CODE"], array("SERVICES", "BRAND", "HIT", "RECOMMEND", "NEW", "STOCK", "VIDEO", "VIDEO_YOUTUBE", "CML2_ARTICLE"))){
					if(!is_array($arProp["DISPLAY_VALUE"])){
						$arProp["DISPLAY_VALUE"] = array($arProp["DISPLAY_VALUE"]);
					}
				}
				if(is_array($arProp["DISPLAY_VALUE"])){
					foreach($arProp["DISPLAY_VALUE"] as $value){
						if(strlen($value)){
							$showProps = true;
							break;
						}
					}
				}
			}
		}
		?>
		<?if($arResult["OFFERS"] && $arParams["TYPE_SKU"]=="N"):?>
			<li class="prices_tab<?=(!($iTab++) ? ' current' : '')?>">
				<span><?=GetMessage("OFFER_PRICES")?></span>
			</li>
		<?endif;?>
		<?if($arResult["DETAIL_TEXT"] || count($arResult["STOCK"]) || count($arResult["SERVICES"]) || ((count($arResult["PROPERTIES"]["INSTRUCTIONS"]["VALUE"]) && is_array($arResult["PROPERTIES"]["INSTRUCTIONS"]["VALUE"])) || count($arResult["SECTION_FULL"]["UF_FILES"])) || ($showProps && $arParams["PROPERTIES_DISPLAY_LOCATION"] != "TAB")):?>
			<li class="<?=(!($iTab++) ? ' current' : '')?>">
				<span><?=GetMessage("DESCRIPTION_TAB")?></span>
			</li>
		<?endif;?>
		<?if($arParams["PROPERTIES_DISPLAY_LOCATION"] == "TAB" && $showProps):?>
			<li class="<?=(!($iTab++) ? ' current' : '')?>">
				<span><?=GetMessage("PROPERTIES_TAB")?></span>
			</li>
		<?endif;?>
		<?if(strlen($arResult["DISPLAY_PROPERTIES"]["VIDEO"]["VALUE"]) || strlen($arResult["DISPLAY_PROPERTIES"]["VIDEO_YOUTUBE"]["VALUE"]) || $arResult["SECTION_FULL"]["UF_VIDEO"] || $arResult["SECTION_FULL"]["UF_VIDEO_YOUTUBE"]):?>
			<li class="<?=(!($iTab++) ? ' current' : '')?>">
				<span><?=GetMessage("VIDEO_TAB")?></span>
			</li>
		<?endif;?>
		<?if($arParams["USE_REVIEW"] == "Y"):?>
			<li class="<?=(!($iTab++) ? ' current' : '')?>" id="product_reviews_tab">
				<span><?=GetMessage("REVIEW_TAB")?></span><span class="count empty"></span>
			</li>
		<?endif;?>
		<?if(($arParams["SHOW_ASK_BLOCK"] == "Y") && (intVal($arParams["ASK_FORM_ID"]))):?>
			<li class="product_ask_tab <?=(!($iTab++) ? ' current' : '')?>">
				<span><?=GetMessage('ASK_TAB')?></span>
			</li>
		<?endif;?>
		<?if($useStores && ($showCustomOffer || !$arResult["OFFERS"] )):?>
			<li class="stores_tab<?=(!($iTab++) ? ' current' : '')?>">
				<span><?=GetMessage("STORES_TAB");?></span>
			</li>
		<?endif;?>
		<?if($arParams["SHOW_ADDITIONAL_TAB"] == "Y"):?>
			<li class="<?=(!($iTab++) ? ' current' : '')?>">
				<span><?=GetMessage("ADDITIONAL_TAB");?></span>
			</li>
		<?endif;?>
	</ul>
	<ul class="tabs_content tabs-body">
		<?$show_tabs = false;?>
		<?$iTab = 0;?>
		<?
		$showSkUName = ((in_array('NAME', $arParams['OFFERS_FIELD_CODE'])));
		$showSkUImages = false;
		if(((in_array('PREVIEW_PICTURE', $arParams['OFFERS_FIELD_CODE']) || in_array('DETAIL_PICTURE', $arParams['OFFERS_FIELD_CODE'])))){
			foreach ($arResult["OFFERS"] as $key => $arSKU){
				if($arSKU['PREVIEW_PICTURE'] || $arSKU['DETAIL_PICTURE']){
					$showSkUImages = true;
					break;
				}
			}
		}?>
		<?if($arResult["OFFERS"] && $arParams["TYPE_SKU"] !== "TYPE_1"):?>
			<li class="prices_tab<?=(!($iTab++) ? ' current' : '')?>">
				<div class="bx_sku_props" style="display:none;">
					<?$arSkuKeysProp='';
					$propSKU=$arParams["OFFERS_CART_PROPERTIES"];
					if($propSKU){
						$arSkuKeysProp=base64_encode(serialize(array_keys($propSKU)));
					}?>
					<input type="hidden" value="<?=$arSkuKeysProp;?>"></input>
				</div>
				<table class="colored offers_table" cellspacing="0" cellpadding="0" width="100%" border="0">
					<thead>
						<tr>
							<?if($useStores):?>
								<td class="str"></td>
							<?endif;?>
							<?if($showSkUImages):?>
								<td class="property img" width="50"></td>
							<?endif;?>
							<?if($showSkUName):?>
								<td class="property"><?=GetMessage("CATALOG_NAME")?></td>
							<?endif;?>
							<?
							if($arResult["SKU_PROPERTIES"]){
								foreach ($arResult["SKU_PROPERTIES"] as $key => $arProp){?>
									<?if(!$arProp["IS_EMPTY"]):?>
										<td class="property">
											<span <?if($arProp["HINT"] && $arParams["SHOW_HINTS"] == "Y"){?>class="whint"<?}?>><?if($arProp["HINT"] && $arParams["SHOW_HINTS"]=="Y"):?><div class="hint"><span class="icon"><i>?</i></span><div class="tooltip"><?=$arProp["HINT"]?></div></div><?endif;?><?=$arProp["NAME"]?></span>
										</td>
									<?endif;?>
								<?}
							}?>
							<td class="price_th"><?=GetMessage("CATALOG_PRICE")?></td>
							<?if($arQuantityData["RIGHTS"]["SHOW_QUANTITY"]):?>
								<td class="count_th"><?=GetMessage("AVAILABLE")?></td>
							<?endif;?>
							<?if($arParams["DISPLAY_WISH_BUTTONS"] != "N"  || $arParams["DISPLAY_COMPARE"] == "Y"):?>
								<td class="like_icons_th"></td>
							<?endif;?>
							<td colspan="3"></td>
						</tr>
					</thead>
					<tbody>
						<?$numProps = count($arResult["SKU_PROPERTIES"]);
						if($arResult["OFFERS"]){
							foreach ($arResult["OFFERS"] as $key => $arSKU){?>
								<?
								if($arResult["PROPERTIES"]["CML2_BASE_UNIT"]["VALUE"]){
									$sMeasure = $arResult["PROPERTIES"]["CML2_BASE_UNIT"]["VALUE"].".";
								}
								else{
									$sMeasure = GetMessage("MEASURE_DEFAULT").".";
								}
								$skutotalCount = COptimus::CheckTypeCount($arSKU["CATALOG_QUANTITY"]);
								$arskuQuantityData = COptimus::GetQuantityArray($skutotalCount, array('quantity-wrapp', 'quantity-indicators'));
								$arSKU["IBLOCK_ID"]=$arResult["IBLOCK_ID"];
								$arSKU["IS_OFFER"]="Y";
								$arskuAddToBasketData = COptimus::GetAddToBasketArray($arSKU, $skutotalCount, $arParams["DEFAULT_COUNT"], $arParams["BASKET_URL"], false, array(), 'small w_icons', $arParams);
								$arskuAddToBasketData["HTML"] = str_replace('data-item', 'data-props="'.$arOfferProps.'" data-item', $arskuAddToBasketData["HTML"]);
								?>
								<?$collspan = 1;?>
								<tr>
									<?if($useStores):?>
										<td class="opener">
											<?$collspan++;?>
											<span class="opener_icon"><i></i></span>
										</td>
									<?endif;?>
									<?if($showSkUImages):?>
										<?$collspan++;?>
										<td class="property">
											<?
											$srcImgPreview = $srcImgDetail = false;
											$imgPreviewID = ($arResult['OFFERS'][$key]['PREVIEW_PICTURE'] ? (is_array($arResult['OFFERS'][$key]['PREVIEW_PICTURE']) ? $arResult['OFFERS'][$key]['PREVIEW_PICTURE']['ID'] : $arResult['OFFERS'][$key]['PREVIEW_PICTURE']) : false);
											$imgDetailID = ($arResult['OFFERS'][$key]['DETAIL_PICTURE'] ? (is_array($arResult['OFFERS'][$key]['DETAIL_PICTURE']) ? $arResult['OFFERS'][$key]['DETAIL_PICTURE']['ID'] : $arResult['OFFERS'][$key]['DETAIL_PICTURE']) : false);
											if($imgPreviewID || $imgDetailID){
												$arImgPreview = CFile::ResizeImageGet($imgPreviewID ? $imgPreviewID : $imgDetailID, array('width' => 50, 'height' => 50), BX_RESIZE_IMAGE_PROPORTIONAL, true);
												$srcImgPreview = $arImgPreview['src'];
											}
											if($imgDetailID){
												$srcImgDetail = CFile::GetPath($imgDetailID);
											}
											?>
											<?if($srcImgPreview || $srcImgDetail):?>
												<a href="<?=($srcImgDetail ? $srcImgDetail : $srcImgPreview)?>" class="fancy" rel="item_slider"><img src="<?=$srcImgPreview?>" alt="<?=$arSKU['NAME']?>" /></a>
											<?endif;?>
										</td>
									<?endif;?>
									<?if($showSkUName):?>
										<?$collspan++;?>
										<td class="property"><?=$arSKU['NAME']?></td>
									<?endif;?>
									<?foreach( $arResult["SKU_PROPERTIES"] as $arProp ){?>
										<?if(!$arProp["IS_EMPTY"]):?>
											<?$collspan++;?>
											<td class="property">
												<?if($arResult["TMP_OFFERS_PROP"][$arProp["CODE"]]){
													echo $arResult["TMP_OFFERS_PROP"][$arProp["CODE"]]["VALUES"][$arSKU["TREE"]["PROP_".$arProp["ID"]]]["NAME"];?>
												<?}else{
													if (is_array($arSKU["PROPERTIES"][$arProp["CODE"]]["VALUE"])){
														echo implode("/", $arSKU["PROPERTIES"][$arProp["CODE"]]["VALUE"]);
													}else{
														if($arSKU["PROPERTIES"][$arProp["CODE"]]["USER_TYPE"]=="directory" && isset($arSKU["PROPERTIES"][$arProp["CODE"]]["USER_TYPE_SETTINGS"]["TABLE_NAME"])){
															$rsData = \Bitrix\Highloadblock\HighloadBlockTable::getList(array('filter'=>array('=TABLE_NAME'=>$arSKU["PROPERTIES"][$arProp["CODE"]]["USER_TYPE_SETTINGS"]["TABLE_NAME"])));
													        if ($arData = $rsData->fetch()){
													            $entity = \Bitrix\Highloadblock\HighloadBlockTable::compileEntity($arData);
													            $entityDataClass = $entity->getDataClass();
													            $arFilter = array(
													                'limit' => 1,
													                'filter' => array(
													                    '=UF_XML_ID' => $arSKU["PROPERTIES"][$arProp["CODE"]]["VALUE"]
													                )
													            );
													            $arValue = $entityDataClass::getList($arFilter)->fetch();
													            if(isset($arValue["UF_NAME"]) && $arValue["UF_NAME"]){
													            	echo $arValue["UF_NAME"];
													            }else{
													            	echo $arSKU["PROPERTIES"][$arProp["CODE"]]["VALUE"];
													            }
													        }
														}else{
															echo $arSKU["PROPERTIES"][$arProp["CODE"]]["VALUE"];
														}
													}
												}?>
											</td>
										<?endif;?>
									<?}?>
									<td class="price">
										<div class="cost prices clearfix">
											<?
											$collspan++;
											$arCountPricesCanAccess = 0;
											foreach($arSKU["PRICES"] as $key => $arPrice){
												if($arPrice["CAN_ACCESS"]){
													$arCountPricesCanAccess++;
												}
											}?>
											<?foreach($arSKU["PRICES"] as $key => $arPrice){?>
												<?if($arPrice["CAN_ACCESS"]){?>
													<?if($arCountPricesCanAccess > 1):?>
														<?$price = CPrice::GetByID($arPrice["ID"]); ?>
														<div class="many_prices">
														<div class="price_name"><?=$price["CATALOG_GROUP_NAME"];?></div>
													<?endif;?>
													<?if($arPrice["VALUE"] > $arPrice["DISCOUNT_VALUE"]){?>
														<div class="price">
															<?=$arPrice["PRINT_DISCOUNT_VALUE"];?>
															<?if(($arParams["SHOW_MEASURE"]=="Y")&&$arSKU["CATALOG_MEASURE_NAME"]):?><small>/<?=$arSKU["CATALOG_MEASURE_NAME"]?></small><?endif;?>
														</div>
														<div class="price discount">
															<strike><?=$arPrice["PRINT_VALUE"];?></strike>
														</div>
													<?}else{?>
														<div class="price">
															<?=$arPrice["PRINT_VALUE"];?>
															<?if(($arParams["SHOW_MEASURE"]=="Y")&&$arSKU["CATALOG_MEASURE_NAME"]):?><small>/<?=$arSKU["CATALOG_MEASURE_NAME"]?></small><?endif;?>
														</div>
													<?}?>
													<?if($arCountPricesCanAccess > 1){?>
														</div>
													<?}?>
												<?}?>
											<?}?>
										</div>
										<div class="adaptive text">
											<?if(strlen($arskuQuantityData["TEXT"])):?>
												<div class="count ablock">
													<?=$arskuQuantityData["HTML"]?>
												</div>
											<?endif;?>
											<!--noindex-->
												<?if($arParams["DISPLAY_WISH_BUTTONS"] != "N"  || $arParams["DISPLAY_COMPARE"] == "Y"):?>
													<div class="like_icons ablock">
														<?if($arParams["DISPLAY_WISH_BUTTONS"] != "N"):?>
															<?if($arSKU['CAN_BUY']):?>
																<div class="wish_item_button o_<?=$arSKU["ID"];?>">
																	<span title="<?=GetMessage('CATALOG_WISH')?>" class="wish_item text to <?=$arParams["TYPE_SKU"];?>" data-item="<?=$arSKU["ID"]?>" data-iblock="<?=$arResult["IBLOCK_ID"]?>" data-offers="Y" data-props="<?=$arOfferProps?>"><i></i></span>
																	<span title="<?=GetMessage('CATALOG_WISH_OUT')?>" class="wish_item text in added <?=$arParams["TYPE_SKU"];?>" style="display: none;" data-item="<?=$arSKU["ID"]?>" data-iblock="<?=$arSKU["IBLOCK_ID"]?>"><i></i></span>
																</div>
															<?endif;?>
														<?endif;?>
														<?if($arParams["DISPLAY_COMPARE"] == "Y"):?>
															<div class="compare_item_button o_<?=$arSKU["ID"];?>">
																<span title="<?=GetMessage('CATALOG_COMPARE')?>" class="compare_item to text <?=$arParams["TYPE_SKU"];?>" data-iblock="<?=$arParams["IBLOCK_ID"]?>" data-item="<?=$arSKU["ID"]?>" ><i></i></span>
																<span title="<?=GetMessage('CATALOG_COMPARE_OUT')?>" class="compare_item in added text <?=$arParams["TYPE_SKU"];?>" style="display: none;" data-iblock="<?=$arParams["IBLOCK_ID"]?>" data-item="<?=$arSKU["ID"]?>"><i></i></span>
															</div>
														<?endif;?>
													</div>
												<?endif;?>
												<div class="wrap_md">
													<?if($arskuAddToBasketData["ACTION"] == "ADD"):?>
														<?if($arskuAddToBasketData["OPTIONS"]["USE_PRODUCT_QUANTITY_DETAIL"] && !count($arSKU["OFFERS"]) && $arskuAddToBasketData["ACTION"] == "ADD" && $arSKU["CAN_BUY"]):?>
															<div class="counter_block_wr iblock ablock">
																<div class="counter_block" data-item="<?=$arSKU["ID"];?>">
																	<span class="minus">-</span>
																	<input type="text" class="text" name="count_items" value="<?=$arskuAddToBasketData["MIN_QUANTITY_BUY"];?>" />
																	<span class="plus">+</span>
																</div>
															</div>
														<?endif;?>
													<?endif;?>
													<div class="buy iblock ablock">
														<div class="counter_wrapp">
															<?=$arskuAddToBasketData["HTML"]?>
														</div>
													</div>
												</div>
												<?if($arskuAddToBasketData["ACTION"] == "ADD" && $arSKU["CAN_BUY"] && $arParams["SHOW_ONE_CLICK_BUY"]!="N"):?>
													<div class="one_click_buy ablock">
														<span class="button small transparent one_click" data-item="<?=$arSKU["ID"]?>" data-offers="Y" data-iblockID="<?=$arParams["IBLOCK_ID"]?>" data-quantity="<?=$arskuAddToBasketData["MIN_QUANTITY_BUY"];?>" data-props="<?=$arOfferProps?>" onclick="oneClickBuy('<?=$arSKU["ID"]?>', '<?=$arParams["IBLOCK_ID"]?>', this)">
															<span><?=GetMessage('ONE_CLICK_BUY')?></span>
														</span>
													</div>
												<?endif;?>
											<!--/noindex-->
										</div>
									</td>
									<?if(strlen($arskuQuantityData["TEXT"])):?>
										<?$collspan++;?>
										<td class="count">
											<?=$arskuQuantityData["HTML"]?>
										</td>
									<?endif;?>
									<!--noindex-->
										<?if($arParams["DISPLAY_WISH_BUTTONS"] != "N"  || $arParams["DISPLAY_COMPARE"] == "Y"):?>
											<td class="like_icons">
												<?$collspan++;?>
												<?if($arParams["DISPLAY_WISH_BUTTONS"] != "N"):?>
													<?if($arSKU['CAN_BUY']):?>
														<div class="wish_item_button o_<?=$arSKU["ID"];?>">
															<span title="<?=GetMessage('CATALOG_WISH')?>" class="wish_item text to <?=$arParams["TYPE_SKU"];?>" data-item="<?=$arSKU["ID"]?>" data-iblock="<?=$arResult["IBLOCK_ID"]?>" data-offers="Y" data-props="<?=$arOfferProps?>"><i></i></span>
															<span title="<?=GetMessage('CATALOG_WISH_OUT')?>" class="wish_item text in added <?=$arParams["TYPE_SKU"];?>" style="display: none;" data-item="<?=$arSKU["ID"]?>" data-iblock="<?=$arSKU["IBLOCK_ID"]?>"><i></i></span>
														</div>
													<?endif;?>
												<?endif;?>
												<?if($arParams["DISPLAY_COMPARE"] == "Y"):?>
													<div class="compare_item_button o_<?=$arSKU["ID"];?>">
														<span title="<?=GetMessage('CATALOG_COMPARE')?>" class="compare_item to text <?=$arParams["TYPE_SKU"];?>" data-iblock="<?=$arParams["IBLOCK_ID"]?>" data-item="<?=$arSKU["ID"]?>" ><i></i></span>
														<span title="<?=GetMessage('CATALOG_COMPARE_OUT')?>" class="compare_item in added text <?=$arParams["TYPE_SKU"];?>" style="display: none;" data-iblock="<?=$arParams["IBLOCK_ID"]?>" data-item="<?=$arSKU["ID"]?>"><i></i></span>
													</div>
												<?endif;?>
											</td>
										<?endif;?>
										<?if($arskuAddToBasketData["ACTION"] == "ADD"):?>
											<?if($arskuAddToBasketData["OPTIONS"]["USE_PRODUCT_QUANTITY_DETAIL"] && !count($arSKU["OFFERS"]) && $arskuAddToBasketData["ACTION"] == "ADD" && $arSKU["CAN_BUY"]):?>
												<td class="counter_block_wr">
													<div class="counter_block" data-item="<?=$arSKU["ID"];?>">
														<?$collspan++;?>
														<span class="minus">-</span>
														<input type="text" class="text" name="count_items" value="<?=$arskuAddToBasketData["MIN_QUANTITY_BUY"];?>" />
														<span class="plus">+</span>
													</div>
												</td>
											<?endif;?>
										<?endif;?>
										<td class="buy" <?=($arskuAddToBasketData["ACTION"] !== "ADD" || !$arSKU["CAN_BUY"] || $arParams["SHOW_ONE_CLICK_BUY"]=="N" ? 'colspan="3"' : "")?>>
											<?if($arskuAddToBasketData["ACTION"] !== "ADD"  || !$arSKU["CAN_BUY"]):?>
												<?$collspan += 3;?>
											<?else:?>
												<?$collspan++;?>
											<?endif;?>
											<div class="counter_wrapp">
												<?=$arskuAddToBasketData["HTML"]?>
											</div>
										</td>
										<?if($arskuAddToBasketData["ACTION"] == "ADD" && $arSKU["CAN_BUY"] && $arParams["SHOW_ONE_CLICK_BUY"]!="N"):?>
											<td class="one_click_buy">
												<?$collspan++;?>
												<span class="button small transparent one_click" data-item="<?=$arSKU["ID"]?>" data-offers="Y" data-iblockID="<?=$arParams["IBLOCK_ID"]?>" data-quantity="<?=$arskuAddToBasketData["MIN_QUANTITY_BUY"];?>" data-props="<?=$arOfferProps?>" onclick="oneClickBuy('<?=$arSKU["ID"]?>', '<?=$arParams["IBLOCK_ID"]?>', this)">
													<span><?=GetMessage('ONE_CLICK_BUY')?></span>
												</span>
											</td>
										<?endif;?>
									<!--/noindex-->
								</tr>
								<?if($useStores):?>
									<?$collspan--;?>
									<tr class="offer_stores"><td colspan="<?=$collspan?>">
										<?$APPLICATION->IncludeComponent("bitrix:catalog.store.amount", "main", array(
												"PER_PAGE" => "10",
												"USE_STORE_PHONE" => $arParams["USE_STORE_PHONE"],
												"SCHEDULE" => $arParams["SCHEDULE"],
												"USE_MIN_AMOUNT" => $arParams["USE_MIN_AMOUNT"],
												"MIN_AMOUNT" => $arParams["MIN_AMOUNT"],
												"ELEMENT_ID" => $arSKU["ID"],
												"STORE_PATH"  =>  $arParams["STORE_PATH"],
												"MAIN_TITLE"  =>  $arParams["MAIN_TITLE"],
												"MAX_AMOUNT"=>$arParams["MAX_AMOUNT"],
												"SHOW_EMPTY_STORE" => $arParams['SHOW_EMPTY_STORE'],
												"SHOW_GENERAL_STORE_INFORMATION" => $arParams['SHOW_GENERAL_STORE_INFORMATION'],
												"USE_ONLY_MAX_AMOUNT" => $arParams["USE_ONLY_MAX_AMOUNT"],
												"USER_FIELDS" => $arParams['USER_FIELDS'],
												"FIELDS" => $arParams['FIELDS'],
												"STORES" => $arParams['STORES'],
												"CACHE_TYPE" => "A",
											),
											$component
										);?>
									</tr>
								<?endif;?>
							<?}
						}?>
					</tbody>
				</table>
			</li>
		<?endif;?>
		<?if($arResult["DETAIL_TEXT"] || count($arResult["STOCK"]) || count($arResult["SERVICES"]) || ((count($arResult["PROPERTIES"]["INSTRUCTIONS"]["VALUE"]) && is_array($arResult["PROPERTIES"]["INSTRUCTIONS"]["VALUE"])) || count($arResult["SECTION_FULL"]["UF_FILES"])) || ($showProps && $arParams["PROPERTIES_DISPLAY_LOCATION"] != "TAB")):?>
			<li class="<?=(!($iTab++) ? ' current' : '')?>">
				<?if(strlen($arResult["DETAIL_TEXT"])):?>
					<div class="detail_text"><?=$arResult["DETAIL_TEXT"]?></div>
				<?endif;?>
				<?if($arResult["SERVICES"] && $showProps){?>
					<div class="wrap_md descr_div">
				<?}?>
				<?if($showProps && $arParams["PROPERTIES_DISPLAY_LOCATION"] != "TAB"):?>
					<?if($arParams["PROPERTIES_DISPLAY_TYPE"] != "TABLE"):?>
						<div class="props_block">
							<?foreach($arResult["PROPERTIES"] as $propCode => $arProp):?>
								<?if(isset($arResult["DISPLAY_PROPERTIES"][$propCode])):?>
									<?$arProp = $arResult["DISPLAY_PROPERTIES"][$propCode];?>
									<?if(!in_array($arProp["CODE"], array("SERVICES", "BRAND", "HIT", "RECOMMEND", "NEW", "STOCK", "VIDEO", "VIDEO_YOUTUBE", "CML2_ARTICLE"))):?>
										<?if((!is_array($arProp["DISPLAY_VALUE"]) && strlen($arProp["DISPLAY_VALUE"])) || (is_array($arProp["DISPLAY_VALUE"]) && implode('', $arProp["DISPLAY_VALUE"]))):?>
											<div class="char">
												<div class="char_name">
													<span <?if($arProp["HINT"] && $arParams["SHOW_HINTS"] == "Y"){?>class="whint"<?}?>><?if($arProp["HINT"] && $arParams["SHOW_HINTS"] == "Y"):?><div class="hint"><span class="icon"><i>?</i></span><div class="tooltip"><?=$arProp["HINT"]?></div></div><?endif;?><?=$arProp["NAME"]?></span>
												</div>
												<div class="char_value">
													<?if(count($arProp["DISPLAY_VALUE"]) > 1):?>
														<?=implode(', ', $arProp["DISPLAY_VALUE"]);?>
													<?else:?>
														<?=$arProp["DISPLAY_VALUE"];?>
													<?endif;?>
												</div>
											</div>
										<?endif;?>
									<?endif;?>
								<?endif;?>
							<?endforeach;?>
							<?if ($arResult['SHOW_OFFERS_PROPS']){?>
								<table class="props_list offers" id="<? echo $arItemIDs["ALL_ITEM_IDS"]['DISPLAY_PROP_DIV']; ?>" style="display: none;"></table>
							<?}?>
						</div>
					<?else:?>
						<div class="iblock char_block <?=(!$arResult["SERVICES"] ? 'wide' : '')?>">
							<h4><?=GetMessage("PROPERTIES_TAB");?></h4>
							<table class="props_list">
								<?foreach($arResult["DISPLAY_PROPERTIES"] as $arProp):?>
									<?if(!in_array($arProp["CODE"], array("SERVICES", "BRAND", "HIT", "RECOMMEND", "NEW", "STOCK", "VIDEO", "VIDEO_YOUTUBE", "CML2_ARTICLE"))):?>
										<?if((!is_array($arProp["DISPLAY_VALUE"]) && strlen($arProp["DISPLAY_VALUE"])) || (is_array($arProp["DISPLAY_VALUE"]) && implode('', $arProp["DISPLAY_VALUE"]))):?>
											<tr>
												<td class="char_name">
													<span <?if($arProp["HINT"] && $arParams["SHOW_HINTS"] == "Y"){?>class="whint"<?}?>><?if($arProp["HINT"] && $arParams["SHOW_HINTS"] == "Y"):?><div class="hint"><span class="icon"><i>?</i></span><div class="tooltip"><?=$arProp["HINT"]?></div></div><?endif;?><?=$arProp["NAME"]?></span>
												</td>
												<td class="char_value">
													<span>
														<?if(count($arProp["DISPLAY_VALUE"]) > 1):?>
															<?=implode(', ', $arProp["DISPLAY_VALUE"]);?>
														<?else:?>
															<?=$arProp["DISPLAY_VALUE"];?>
														<?endif;?>
													</span>
												</td>
											</tr>
										<?endif;?>
									<?endif;?>
								<?endforeach;?>
							</table>
							<?if ($arResult['SHOW_OFFERS_PROPS']){?>
								<table class="props_list offers" id="<? echo $arItemIDs["ALL_ITEM_IDS"]['DISPLAY_PROP_DIV']; ?>" style="display: none;"></table>
							<?}?>
						</div>
					<?endif;?>
				<?endif;?>
				<?if($arResult["SERVICES"]):?>
					<div class="iblock serv <?=($arParams["PROPERTIES_DISPLAY_TYPE"] != "TABLE" ? "block_view" : "")?>">
						<h4><?=GetMessage("SERVICES_TITLE")?></h4>
						<div class="services_block">
							<?foreach($arResult["SERVICES"] as $arService):?>
								<span class="item">
									<a href="<?=$arService["DETAIL_PAGE_URL"]?>">
										<i class="arrow"><b></b></i>
										<span class="link"><?=$arService["NAME"]?></span>
										<div class="clearfix"></div>
									</a>
								</span>
							<?endforeach;?>
						</div>
					</div>
				<?endif;?>
				<?if($arResult["SERVICES"] && $showProps){?>
					</div>
				<?}?>
				<?
				$arFiles = array();
				if($arResult["PROPERTIES"]["INSTRUCTIONS"]["VALUE"]){
					$arFiles = $arResult["PROPERTIES"]["INSTRUCTIONS"]["VALUE"];
				}
				else{
					$arFiles = $arResult["SECTION_FULL"]["UF_FILES"];
				}
				if(is_array($arFiles)){
					foreach($arFiles as $key => $value){
						if(!intval($value)){
							unset($arFiles[$key]);
						}
					}
				}
				?>
				<?if($arFiles):?>
					<div class="files_block">
						<h4><?=GetMessage("DOCUMENTS_TITLE")?></h4>
						<div class="wrap_md">
							<div class="wrapp_docs iblock">
							<?
							$i=1;
							foreach($arFiles as $arItem):?>
								<?$arFile=COptimus::GetFileInfo($arItem);?>
								<div class="file_type clearfix <?=$arFile["TYPE"];?>">
									<i class="icon"></i>
									<div class="description">
										<a target="_blank" href="<?=$arFile["SRC"];?>"><?=$arFile["DESCRIPTION"];?></a>
										<span class="size"><?=GetMessage('CT_NAME_SIZE')?>:
											<?=$arFile["FILE_SIZE_FORMAT"];?>
										</span>
									</div>
								</div>
								<?if($i%3==0){?>
									</div><div class="wrapp_docs iblock">
								<?}?>
								<?$i++;?>
							<?endforeach;?>
							</div>
						</div>
					</div>
				<?endif;?>
			</li>
		<?endif;?>

		<?if($showProps && $arParams["PROPERTIES_DISPLAY_LOCATION"] == "TAB"):?>
			<li class="<?=(!($iTab++) ? ' current' : '')?>">
				<?if($arParams["PROPERTIES_DISPLAY_TYPE"] != "TABLE"):?>
					<div class="props_block">
						<?foreach($arResult["PROPERTIES"] as $propCode => $arProp):?>
							<?if(isset($arResult["DISPLAY_PROPERTIES"][$propCode])):?>
								<?$arProp = $arResult["DISPLAY_PROPERTIES"][$propCode];?>
								<?if(!in_array($arProp["CODE"], array("SERVICES", "BRAND", "HIT", "RECOMMEND", "NEW", "STOCK", "VIDEO", "VIDEO_YOUTUBE", "CML2_ARTICLE"))):?>
									<?if((!is_array($arProp["DISPLAY_VALUE"]) && strlen($arProp["DISPLAY_VALUE"])) || (is_array($arProp["DISPLAY_VALUE"]) && implode('', $arProp["DISPLAY_VALUE"]))):?>
										<div class="char">
											<div class="char_name">
												<span <?if($arProp["HINT"] && $arParams["SHOW_HINTS"] == "Y"){?>class="whint"<?}?>><?if($arProp["HINT"] && $arParams["SHOW_HINTS"] == "Y"):?><div class="hint"><span class="icon"><i>?</i></span><div class="tooltip"><?=$arProp["HINT"]?></div></div><?endif;?><?=$arProp["NAME"]?></span>
											</div>
											<div class="char_value">
												<?if(count($arProp["DISPLAY_VALUE"]) > 1):?>
													<?=implode(', ', $arProp["DISPLAY_VALUE"]);?>
												<?else:?>
													<?=$arProp["DISPLAY_VALUE"];?>
												<?endif;?>
											</div>
										</div>
									<?endif;?>
								<?endif;?>
							<?endif;?>
						<?endforeach;?>
					</div>
				<?else:?>
					<table class="props_list">
						<?foreach($arResult["DISPLAY_PROPERTIES"] as $arProp):?>
							<?if(!in_array($arProp["CODE"], array("SERVICES", "BRAND", "HIT", "RECOMMEND", "NEW", "STOCK", "VIDEO", "VIDEO_YOUTUBE", "CML2_ARTICLE"))):?>
								<?if((!is_array($arProp["DISPLAY_VALUE"]) && strlen($arProp["DISPLAY_VALUE"])) || (is_array($arProp["DISPLAY_VALUE"]) && implode('', $arProp["DISPLAY_VALUE"]))):?>
									<tr>
										<td class="char_name">
											<span <?if($arProp["HINT"] && $arParams["SHOW_HINTS"] == "Y"){?>class="whint"<?}?>><?if($arProp["HINT"] && $arParams["SHOW_HINTS"] == "Y"):?><div class="hint"><span class="icon"><i>?</i></span><div class="tooltip"><?=$arProp["HINT"]?></div></div><?endif;?><?=$arProp["NAME"]?></span>
										</td>
										<td class="char_value">
											<span>
												<?if(count($arProp["DISPLAY_VALUE"]) > 1):?>
													<?=implode(', ', $arProp["DISPLAY_VALUE"]);?>
												<?else:?>
													<?=$arProp["DISPLAY_VALUE"];?>
												<?endif;?>
											</span>
										</td>
									</tr>
								<?endif;?>
							<?endif;?>
						<?endforeach;?>
					</table>
					<?if ($arResult['SHOW_OFFERS_PROPS']){?>
						<table class="props_list offers" id="<? echo $arItemIDs["ALL_ITEM_IDS"]['DISPLAY_PROP_DIV']; ?>" style="display: none;"></table>
					<?}?>
				<?endif;?>
			</li>
		<?endif;?>

		<?if(strlen($arResult["DISPLAY_PROPERTIES"]["VIDEO"]["VALUE"]) || strlen($arResult["DISPLAY_PROPERTIES"]["VIDEO_YOUTUBE"]["VALUE"]) || $arResult["SECTION_FULL"]["UF_VIDEO"] || $arResult["SECTION_FULL"]["UF_VIDEO_YOUTUBE"]):?>
			<li class="<?=(!($iTab++) ? ' current' : '')?>">
				<div class="video_block">
					<?if (!empty($arResult["DISPLAY_PROPERTIES"]["VIDEO"]["VALUE"])):?>
						<?=$arResult["DISPLAY_PROPERTIES"]["VIDEO"]["~VALUE"];?>
					<?elseif (!empty($arResult["DISPLAY_PROPERTIES"]["VIDEO_YOUTUBE"]["VALUE"])):?>
						<?=$arResult["DISPLAY_PROPERTIES"]["VIDEO_YOUTUBE"]["~VALUE"];?>
					<?elseif (!empty($arResult["SECTION_FULL"]['UF_VIDEO'])):?>
						<?=$arResult["SECTION_FULL"]['~UF_VIDEO'];?>
					<?elseif (!empty($arResult["SECTION_FULL"]['UF_VIDEO_YOUTUBE'])):?>
						<?=$arResult["SECTION_FULL"]['~UF_VIDEO_YOUTUBE'];?>
					<?endif;?>
				</div>
			</li>
		<?endif;?>

		<?if($arParams["USE_REVIEW"] == "Y"):?>
			<li class="<?=(!($iTab++) ? '' : '')?>"></li>
		<?endif;?>

		<?if(($arParams["SHOW_ASK_BLOCK"] == "Y") && (intVal($arParams["ASK_FORM_ID"]))):?>
			<li class="<?=(!($iTab++) ? ' current' : '')?>">
				<div class="wrap_md forms">
					<div class="iblock text_block">
						<?$APPLICATION->IncludeFile(SITE_DIR."include/ask_tab_detail_description.php", array(), array("MODE" => "html", "NAME" => GetMessage('CT_BCE_CATALOG_ASK_DESCRIPTION')));?>
					</div>
					<div class="iblock form_block">
						<div id="ask_block"></div>
					</div>
				</div>
			</li>
		<?endif;?>

		<?if($useStores && ($showCustomOffer || !$arResult["OFFERS"] )):?>
			<li class="stores_tab<?=(!($iTab++) ? ' current' : '')?>">
				<?if($arResult["OFFERS"]){?>
					<span></span>
				<?}else{?>
					<?$APPLICATION->IncludeComponent("bitrix:catalog.store.amount", "main", array(
							"PER_PAGE" => "10",
							"USE_STORE_PHONE" => $arParams["USE_STORE_PHONE"],
							"SCHEDULE" => $arParams["SCHEDULE"],
							"USE_MIN_AMOUNT" => $arParams["USE_MIN_AMOUNT"],
							"MIN_AMOUNT" => $arParams["MIN_AMOUNT"],
							"ELEMENT_ID" => $arResult["ID"],
							"STORE_PATH"  =>  $arParams["STORE_PATH"],
							"MAIN_TITLE"  =>  $arParams["MAIN_TITLE"],
							"MAX_AMOUNT"=>$arParams["MAX_AMOUNT"],
							"USE_ONLY_MAX_AMOUNT" => $arParams["USE_ONLY_MAX_AMOUNT"],
							"SHOW_EMPTY_STORE" => $arParams['SHOW_EMPTY_STORE'],
							"SHOW_GENERAL_STORE_INFORMATION" => $arParams['SHOW_GENERAL_STORE_INFORMATION'],
							"USE_ONLY_MAX_AMOUNT" => $arParams["USE_ONLY_MAX_AMOUNT"],
							"USER_FIELDS" => $arParams['USER_FIELDS'],
							"FIELDS" => $arParams['FIELDS'],
							"STORES" => $arParams['STORES'],
						),
						$component
					);?>
				<?}?>
			</li>
		<?endif;?>

		<?if($arParams["SHOW_ADDITIONAL_TAB"] == "Y"):?>
			<li class="<?=(!($iTab++) ? ' current' : '')?>">
				<?$APPLICATION->IncludeFile(SITE_DIR."include/additional_products_description.php", array(), array("MODE" => "html", "NAME" => GetMessage('CT_BCE_CATALOG_ADDITIONAL_DESCRIPTION')));?>
			</li>
		<?endif;?>
	</ul>
</div>

<div class="gifts">
<?if ($arResult['CATALOG'] && $arParams['USE_GIFTS_DETAIL'] == 'Y' && \Bitrix\Main\ModuleManager::isModuleInstalled("sale"))
{
	$APPLICATION->IncludeComponent("bitrix:sale.gift.product", "main", array(
			'PRODUCT_ID_VARIABLE' => $arParams['PRODUCT_ID_VARIABLE'],
			'ACTION_VARIABLE' => $arParams['ACTION_VARIABLE'],
			'BUY_URL_TEMPLATE' => $arResult['~BUY_URL_TEMPLATE'],
			'ADD_URL_TEMPLATE' => $arResult['~ADD_URL_TEMPLATE'],
			'SUBSCRIBE_URL_TEMPLATE' => $arResult['~SUBSCRIBE_URL_TEMPLATE'],
			'COMPARE_URL_TEMPLATE' => $arResult['~COMPARE_URL_TEMPLATE'],
			"OFFER_HIDE_NAME_PROPS" => $arParams["OFFER_HIDE_NAME_PROPS"],

			"SHOW_DISCOUNT_PERCENT" => $arParams['GIFTS_SHOW_DISCOUNT_PERCENT'],
			"SHOW_OLD_PRICE" => $arParams['GIFTS_SHOW_OLD_PRICE'],
			"PAGE_ELEMENT_COUNT" => $arParams['GIFTS_DETAIL_PAGE_ELEMENT_COUNT'],
			"LINE_ELEMENT_COUNT" => $arParams['GIFTS_DETAIL_PAGE_ELEMENT_COUNT'],
			"HIDE_BLOCK_TITLE" => $arParams['GIFTS_DETAIL_HIDE_BLOCK_TITLE'],
			"BLOCK_TITLE" => $arParams['GIFTS_DETAIL_BLOCK_TITLE'],
			"TEXT_LABEL_GIFT" => $arParams['GIFTS_DETAIL_TEXT_LABEL_GIFT'],
			"SHOW_NAME" => $arParams['GIFTS_SHOW_NAME'],
			"SHOW_IMAGE" => $arParams['GIFTS_SHOW_IMAGE'],
			"MESS_BTN_BUY" => $arParams['GIFTS_MESS_BTN_BUY'],

			"SHOW_PRODUCTS_{$arParams['IBLOCK_ID']}" => "Y",
			"HIDE_NOT_AVAILABLE" => $arParams["HIDE_NOT_AVAILABLE"],
			"PRODUCT_SUBSCRIPTION" => $arParams["PRODUCT_SUBSCRIPTION"],
			"MESS_BTN_DETAIL" => $arParams["MESS_BTN_DETAIL"],
			"MESS_BTN_SUBSCRIBE" => $arParams["MESS_BTN_SUBSCRIBE"],
			"TEMPLATE_THEME" => $arParams["TEMPLATE_THEME"],
			"PRICE_CODE" => $arParams["PRICE_CODE"],
			"SHOW_PRICE_COUNT" => $arParams["SHOW_PRICE_COUNT"],
			"PRICE_VAT_INCLUDE" => $arParams["PRICE_VAT_INCLUDE"],
			"CONVERT_CURRENCY" => $arParams["CONVERT_CURRENCY"],
			"BASKET_URL" => $arParams["BASKET_URL"],
			"ADD_PROPERTIES_TO_BASKET" => $arParams["ADD_PROPERTIES_TO_BASKET"],
			"PRODUCT_PROPS_VARIABLE" => $arParams["PRODUCT_PROPS_VARIABLE"],
			"PARTIAL_PRODUCT_PROPERTIES" => $arParams["PARTIAL_PRODUCT_PROPERTIES"],
			"USE_PRODUCT_QUANTITY" => 'N',
			"OFFER_TREE_PROPS_{$arResult['OFFERS_IBLOCK']}" => $arParams['OFFER_TREE_PROPS'],
			"CART_PROPERTIES_{$arResult['OFFERS_IBLOCK']}" => $arParams['OFFERS_CART_PROPERTIES'],
			"PRODUCT_QUANTITY_VARIABLE" => $arParams["PRODUCT_QUANTITY_VARIABLE"],
			"CACHE_GROUPS" => $arParams["CACHE_GROUPS"],
			"SHOW_DISCOUNT_TIME" => $arParams["SHOW_DISCOUNT_TIME"],
			"SALE_STIKER" => $arParams["SALE_STIKER"],
			"SHOW_OLD_PRICE" => $arParams["SHOW_OLD_PRICE"],
			"SHOW_MEASURE" => $arParams["SHOW_MEASURE"],
			"DISPLAY_TYPE" => "block",
			"SHOW_RATING" => $arParams["SHOW_RATING"],
			"DISPLAY_COMPARE" => $arParams["DISPLAY_COMPARE"],
			"DISPLAY_WISH_BUTTONS" => $arParams["DISPLAY_WISH_BUTTONS"],
			"DEFAULT_COUNT" => $arParams["DEFAULT_COUNT"],
			"TYPE_SKU" => "Y",

			"POTENTIAL_PRODUCT_TO_BUY" => array(
				'ID' => isset($arResult['ID']) ? $arResult['ID'] : null,
				'MODULE' => isset($arResult['MODULE']) ? $arResult['MODULE'] : 'catalog',
				'PRODUCT_PROVIDER_CLASS' => isset($arResult['PRODUCT_PROVIDER_CLASS']) ? $arResult['PRODUCT_PROVIDER_CLASS'] : 'CCatalogProductProvider',
				'QUANTITY' => isset($arResult['QUANTITY']) ? $arResult['QUANTITY'] : null,
				'IBLOCK_ID' => isset($arResult['IBLOCK_ID']) ? $arResult['IBLOCK_ID'] : null,

				'PRIMARY_OFFER_ID' => isset($arResult['OFFERS'][0]['ID']) ? $arResult['OFFERS'][0]['ID'] : null,
				'SECTION' => array(
					'ID' => isset($arResult['SECTION']['ID']) ? $arResult['SECTION']['ID'] : null,
					'IBLOCK_ID' => isset($arResult['SECTION']['IBLOCK_ID']) ? $arResult['SECTION']['IBLOCK_ID'] : null,
					'LEFT_MARGIN' => isset($arResult['SECTION']['LEFT_MARGIN']) ? $arResult['SECTION']['LEFT_MARGIN'] : null,
					'RIGHT_MARGIN' => isset($arResult['SECTION']['RIGHT_MARGIN']) ? $arResult['SECTION']['RIGHT_MARGIN'] : null,
				),
			)
		), $component, array("HIDE_ICONS" => "Y"));
}
if ($arResult['CATALOG'] && $arParams['USE_GIFTS_MAIN_PR_SECTION_LIST'] == 'Y' && \Bitrix\Main\ModuleManager::isModuleInstalled("sale"))
{
	$APPLICATION->IncludeComponent(
			"bitrix:sale.gift.main.products",
			"main",
			array(
				"PAGE_ELEMENT_COUNT" => $arParams['GIFTS_MAIN_PRODUCT_DETAIL_PAGE_ELEMENT_COUNT'],
				"BLOCK_TITLE" => $arParams['GIFTS_MAIN_PRODUCT_DETAIL_BLOCK_TITLE'],

				"OFFERS_FIELD_CODE" => $arParams["OFFERS_FIELD_CODE"],
				"OFFERS_PROPERTY_CODE" => $arParams["OFFERS_PROPERTY_CODE"],

				"AJAX_MODE" => $arParams["AJAX_MODE"],
				"IBLOCK_TYPE" => $arParams["IBLOCK_TYPE"],
				"IBLOCK_ID" => $arParams["IBLOCK_ID"],

				"ELEMENT_SORT_FIELD" => 'ID',
				"ELEMENT_SORT_ORDER" => 'DESC',
				//"ELEMENT_SORT_FIELD2" => $arParams["ELEMENT_SORT_FIELD2"],
				//"ELEMENT_SORT_ORDER2" => $arParams["ELEMENT_SORT_ORDER2"],
				"FILTER_NAME" => 'searchFilter',
				"SECTION_URL" => $arParams["SECTION_URL"],
				"DETAIL_URL" => $arParams["DETAIL_URL"],
				"BASKET_URL" => $arParams["BASKET_URL"],
				"ACTION_VARIABLE" => $arParams["ACTION_VARIABLE"],
				"PRODUCT_ID_VARIABLE" => $arParams["PRODUCT_ID_VARIABLE"],
				"SECTION_ID_VARIABLE" => $arParams["SECTION_ID_VARIABLE"],

				"CACHE_TYPE" => $arParams["CACHE_TYPE"],
				"CACHE_TIME" => $arParams["CACHE_TIME"],

				"CACHE_GROUPS" => $arParams["CACHE_GROUPS"],
				"SET_TITLE" => $arParams["SET_TITLE"],
				"PROPERTY_CODE" => $arParams["PROPERTY_CODE"],
				"PRICE_CODE" => $arParams["PRICE_CODE"],
				"USE_PRICE_COUNT" => $arParams["USE_PRICE_COUNT"],
				"SHOW_PRICE_COUNT" => $arParams["SHOW_PRICE_COUNT"],

				"PRICE_VAT_INCLUDE" => $arParams["PRICE_VAT_INCLUDE"],
				"CONVERT_CURRENCY" => $arParams["CONVERT_CURRENCY"],
				"CURRENCY_ID" => $arParams["CURRENCY_ID"],
				"HIDE_NOT_AVAILABLE" => $arParams["HIDE_NOT_AVAILABLE"],
				"TEMPLATE_THEME" => (isset($arParams["TEMPLATE_THEME"]) ? $arParams["TEMPLATE_THEME"] : ""),

				"ADD_PICT_PROP" => (isset($arParams["ADD_PICT_PROP"]) ? $arParams["ADD_PICT_PROP"] : ""),

				"LABEL_PROP" => (isset($arParams["LABEL_PROP"]) ? $arParams["LABEL_PROP"] : ""),
				"OFFER_ADD_PICT_PROP" => (isset($arParams["OFFER_ADD_PICT_PROP"]) ? $arParams["OFFER_ADD_PICT_PROP"] : ""),
				"OFFER_TREE_PROPS" => (isset($arParams["OFFER_TREE_PROPS"]) ? $arParams["OFFER_TREE_PROPS"] : ""),
				"SHOW_DISCOUNT_PERCENT" => (isset($arParams["SHOW_DISCOUNT_PERCENT"]) ? $arParams["SHOW_DISCOUNT_PERCENT"] : ""),
				"SHOW_OLD_PRICE" => (isset($arParams["SHOW_OLD_PRICE"]) ? $arParams["SHOW_OLD_PRICE"] : ""),
				"MESS_BTN_BUY" => (isset($arParams["MESS_BTN_BUY"]) ? $arParams["MESS_BTN_BUY"] : ""),
				"MESS_BTN_ADD_TO_BASKET" => (isset($arParams["MESS_BTN_ADD_TO_BASKET"]) ? $arParams["MESS_BTN_ADD_TO_BASKET"] : ""),
				"MESS_BTN_DETAIL" => (isset($arParams["MESS_BTN_DETAIL"]) ? $arParams["MESS_BTN_DETAIL"] : ""),
				"MESS_NOT_AVAILABLE" => (isset($arParams["MESS_NOT_AVAILABLE"]) ? $arParams["MESS_NOT_AVAILABLE"] : ""),
				'ADD_TO_BASKET_ACTION' => (isset($arParams["ADD_TO_BASKET_ACTION"]) ? $arParams["ADD_TO_BASKET_ACTION"] : ""),
				'SHOW_CLOSE_POPUP' => (isset($arParams["SHOW_CLOSE_POPUP"]) ? $arParams["SHOW_CLOSE_POPUP"] : ""),
				'DISPLAY_COMPARE' => (isset($arParams['DISPLAY_COMPARE']) ? $arParams['DISPLAY_COMPARE'] : ''),
				'COMPARE_PATH' => (isset($arParams['COMPARE_PATH']) ? $arParams['COMPARE_PATH'] : ''),
				"SHOW_DISCOUNT_TIME" => $arParams["SHOW_DISCOUNT_TIME"],
				"SALE_STIKER" => $arParams["SALE_STIKER"],
				"SHOW_MEASURE" => $arParams["SHOW_MEASURE"],
				"DISPLAY_TYPE" => "block",
				"SHOW_RATING" => $arParams["SHOW_RATING"],
				"DISPLAY_WISH_BUTTONS" => $arParams["DISPLAY_WISH_BUTTONS"],
				"DEFAULT_COUNT" => $arParams["DEFAULT_COUNT"],
			)
			+ array(
				'OFFER_ID' => empty($arResult['OFFERS'][$arResult['OFFERS_SELECTED']]['ID']) ? $arResult['ID'] : $arResult['OFFERS'][$arResult['OFFERS_SELECTED']]['ID'],
				'SECTION_ID' => $arResult['SECTION']['ID'],
				'ELEMENT_ID' => $arResult['ID'],
			),
			$component,
			array("HIDE_ICONS" => "Y")
	);
}
?>
</div>

<script type="text/javascript">
	$(document).on('click', ".item-stock .store_view", function(){
		scroll_block($('.tabs_section'));
	});

	$(".opener").click(function(){
		$(this).find(".opener_icon").toggleClass("opened");
		var showBlock = $(this).parents("tr").toggleClass("nb").next(".offer_stores").find(".stores_block_wrap");
		showBlock.slideToggle(200);
	});

	$(".tabs_section .tabs-head li").live("click", function(){
		if(!$(this).is(".current")){
			$(".tabs_section .tabs-head li").removeClass("current");
			$(this).addClass("current");
			$(".tabs_section ul.tabs_content li").removeClass("current");
			if($(this).attr("id") == "product_reviews_tab"){
				//$(".tabs_section ul.tabs_content > li:eq("+$(this).index()+")").addClass("current");
				$(".shadow.common").hide(); $("#reviews_content").show();
			}
			else{
				$(".shadow.common").show();
				$("#reviews_content").hide();
				$(".tabs_section ul.tabs_content > li:eq("+$(this).index()+")").addClass("current");
			}
		}
	});

	$(".hint .icon").click(function(e){
		var tooltipWrapp = $(this).parents(".hint");
		tooltipWrapp.click(function(e){e.stopPropagation();})
		if(tooltipWrapp.is(".active")){
			tooltipWrapp.removeClass("active").find(".tooltip").slideUp(200);
		}
		else{
			tooltipWrapp.addClass("active").find(".tooltip").slideDown(200);
			tooltipWrapp.find(".tooltip_close").click(function(e){
				e.stopPropagation(); tooltipWrapp.removeClass("active").find(".tooltip").slideUp(100);
			});
			$(document).click(function(){
				tooltipWrapp.removeClass("active").find(".tooltip").slideUp(100);
			});
		}
	});
	$('.set_block').ready(function(){
		$('.set_block ').equalize({children: '.item:not(".r") .cost', reset: true});
		$('.set_block').equalize({children: '.item .item-title', reset: true});
		$('.set_block').equalize({children: '.item .item_info', reset: false});
	});
	BX.message({
		QUANTITY_AVAILIABLE: '<? echo COption::GetOptionString("aspro.optimus", "EXPRESSION_FOR_EXISTS", GetMessage("EXPRESSION_FOR_EXISTS_DEFAULT"), SITE_ID); ?>',
		QUANTITY_NOT_AVAILIABLE: '<? echo COption::GetOptionString("aspro.optimus", "EXPRESSION_FOR_NOTEXISTS", GetMessage("EXPRESSION_FOR_NOTEXISTS"), SITE_ID); ?>',
		ADD_ERROR_BASKET: '<? echo GetMessage("ADD_ERROR_BASKET"); ?>',
		ADD_ERROR_COMPARE: '<? echo GetMessage("ADD_ERROR_COMPARE"); ?>',
		ONE_CLICK_BUY: '<? echo GetMessage("ONE_CLICK_BUY"); ?>',
		SITE_ID: '<? echo SITE_ID; ?>'
	})

	function equalTizerHeight(){
		if($('.tizers_block_detail .item_block').length){
			$('.tizers_block_detail .item_block').each(function() {
				var th=$(this).find('.text'),
					img=$(this).find('.image'),
					h = th.height(),
					p = 26;
				if(img.length){
					if(th.height()<img.height()){
						if((p = Math.floor((img.height() - th.height()) / 2)) < 0){
							p = 0;
						}
						th.css('padding-top', p + 'px');
					}
				}
			});
		}
	}
	equalTizerHeight();
	BX.addCustomEvent('onWindowResize', function(eventdata) {
		try{
			ignoreResize.push(true);
			equalTizerHeight();
		}
		catch(e){}
		finally{
			ignoreResize.pop();
		}
	});
</script>
<!--http://schema.org --->

<div itemscope itemtype="http://schema.org/Product" style="display: none">
	<div itemprop="name"><?=$arResult['NAME']?></div>

	<?if($arResult['MORE_PHOTO']):
		foreach($arResult['MORE_PHOTO'] as $arImage):?>
			<img itemprop="image" src="<?=$arImage['SRC']?>" alt="<?=$arResult['NAME']?>" />
		<?endforeach;
	endif;?>

	<?$count_offers=count($arResult["OFFERS"]);?>
	<?if($count_offers > 0):?>
		<div itemprop="offers" itemscope itemtype="http://schema.org/AggregateOffer">
			<span itemprop="lowPrice"><?=($arResult["MIN_PRICE"]["DISCOUNT_VALUE"] ? $arResult["MIN_PRICE"]["DISCOUNT_VALUE"] : $arResult["MIN_PRICE"]["VALUE"] );?></span>
			<span itemprop="offerCount"><?=$count_offers;?></span>
			<span itemprop="priceCurrency" content="<?=$arResult["MIN_PRICE"]["CURRENCY"];?>"><?=$arResult["MIN_PRICE"]["CURRENCY"];?></span>
			<?foreach($arResult["OFFERS"] as $arOffer){?>
				<div itemprop="offers" itemscope itemtype="http://schema.org/Offer">
					<a itemprop="url" href="<?=$arOffer["DETAIL_PAGE_URL"];?>"><?=$arOffer["NAME"];?></a>
					<span itemprop="price"><?=($arOffer["MIN_PRICE"]["DISCOUNT_VALUE"] ? $arOffer["MIN_PRICE"]["DISCOUNT_VALUE"] : $arOffer["MIN_PRICE"]["VALUE"] );?></span>
					<span itemprop="priceCurrency"><?=$arOffer["MIN_PRICE"]["CURRENCY"];?></span>
				</div>
			<?}?>
		</div>
	<?else:?>
		<div itemprop="offers" itemscope itemtype="http://schema.org/Offer">
		<?foreach($arResult["PRICES"] as $key => $arPrice){?>
			<span itemprop="priceCurrency" content="<?=$arPrice["CURRENCY"];?>"><?=$arPrice["CURRENCY"];?></span>
			<?if($arPrice["CAN_ACCESS"]){?>
				<?if($arPrice["VALUE"] > $arPrice["DISCOUNT_VALUE"]){?>
					<span itemprop="price"><?=$arPrice["DISCOUNT_VALUE"];?></span>
				<?}else{?>
					<span itemprop="price"><?=$arPrice["VALUE"];?></span>
				<?}?>
			<?}?>
		<?}?>
		</div>
	<?endif?>

	<?foreach($arResult["PROPERTIES"] as $propCode => $arProp):?>
		<?if(isset($arResult["DISPLAY_PROPERTIES"][$propCode])):?>
			<?$arProp = $arResult["DISPLAY_PROPERTIES"][$propCode];?>
			<?if(!in_array($arProp["CODE"], array("SERVICES", "BRAND", "HIT", "RECOMMEND", "NEW", "STOCK", "VIDEO", "VIDEO_YOUTUBE", "CML2_ARTICLE"))):?>
				<?if((!is_array($arProp["DISPLAY_VALUE"]) && strlen($arProp["DISPLAY_VALUE"])) || (is_array($arProp["DISPLAY_VALUE"]) && implode('', $arProp["DISPLAY_VALUE"]))):?>
					<div itemprop="additionalProperty" itemscope itemtype="http://schema.org/PropertyValue">
						<div itemprop="name"><?=$arProp["NAME"]?></div>
						<div itemprop="value"><?if(count($arProp["DISPLAY_VALUE"]) > 1):?><?=implode(', ', $arProp["DISPLAY_VALUE"]);?><?else:?><?=$arProp["DISPLAY_VALUE"];?><?endif;?></div>
					</div>
				<?endif;?>
			<?endif;?>
		<?endif;?>
	<?endforeach;?>

	<?if($arResult["DETAIL_TEXT"]):?>
		<div itemprop="description"><?=strip_tags($arResult["DETAIL_TEXT"])?></div>
	<?endif;?>
</div>147  4930|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/components/bitrix/catalog.element/main/component_epilog.php|60af9d64<?
	if(!defined("B_PROLOG_INCLUDED") || B_PROLOG_INCLUDED!==true)die();
	__IncludeLang($_SERVER["DOCUMENT_ROOT"].$templateFolder."/lang/".LANGUAGE_ID."/template.php");
	
use Bitrix\Main\Loader;
use Bitrix\Main\ModuleManager;
?>
<?if($arResult["ID"]):?>
	<?if($arParams["USE_REVIEW"] == "Y" && IsModuleInstalled("forum")):?>
		<div id="reviews_content">
			<?Bitrix\Main\Page\Frame::getInstance()->startDynamicWithID("area");?>
				<?$APPLICATION->IncludeComponent(
					"bitrix:forum.topic.reviews",
					"main",
					Array(
						"CACHE_TYPE" => $arParams["CACHE_TYPE"],
						"CACHE_TIME" => $arParams["CACHE_TIME"],
						"MESSAGES_PER_PAGE" => $arParams["MESSAGES_PER_PAGE"],
						"USE_CAPTCHA" => $arParams["USE_CAPTCHA"],
						"FORUM_ID" => $arParams["FORUM_ID"],
						"ELEMENT_ID" => $arResult["ID"],
						"IBLOCK_ID" => $arParams["IBLOCK_ID"],
						"AJAX_POST" => $arParams["REVIEW_AJAX_POST"],
						"SHOW_RATING" => "N",
						"SHOW_MINIMIZED" => "Y",
						"SECTION_REVIEW" => "Y",
						"POST_FIRST_MESSAGE" => "Y",
						"MINIMIZED_MINIMIZE_TEXT" => GetMessage("HIDE_FORM"),
						"MINIMIZED_EXPAND_TEXT" => GetMessage("ADD_REVIEW"),
						"SHOW_AVATAR" => "N",
						"SHOW_LINK_TO_FORUM" => "N",
						"PATH_TO_SMILE" => "/bitrix/images/forum/smile/",
					),	false
				);?>
			<?Bitrix\Main\Page\Frame::getInstance()->finishDynamicWithID("area", "");?>
		</div>
	<?endif;?>
	<?if(($arParams["SHOW_ASK_BLOCK"] == "Y") && (intVal($arParams["ASK_FORM_ID"]))):?>
		<div id="ask_block_content">
			<?$APPLICATION->IncludeComponent(
				"bitrix:form.result.new",
				"inline",
				Array(
					"WEB_FORM_ID" => $arParams["ASK_FORM_ID"],
					"IGNORE_CUSTOM_TEMPLATE" => "N",
					"USE_EXTENDED_ERRORS" => "N",
					"SEF_MODE" => "N",
					"CACHE_TYPE" => "A",
					"CACHE_TIME" => "3600000",
					"LIST_URL" => "",
					"EDIT_URL" => "",
					"SUCCESS_URL" => "?send=ok",
					"CHAIN_ITEM_TEXT" => "",
					"CHAIN_ITEM_LINK" => "",
					"VARIABLE_ALIASES" => Array("WEB_FORM_ID" => "WEB_FORM_ID", "RESULT_ID" => "RESULT_ID"),
					"AJAX_MODE" => "Y",
					"AJAX_OPTION_JUMP" => "N",
					"AJAX_OPTION_STYLE" => "Y",
					"AJAX_OPTION_HISTORY" => "N",
				)
			);?>
		</div>
	<?endif;?>
	<script type="text/javascript">
		if($(".specials_tabs_section.specials_slider_wrapp").length && $("#reviews_content").length){
			$("#reviews_content").after($(".specials_tabs_section.specials_slider_wrapp"));
		}
		if($("#ask_block_content").length && $("#ask_block").length){
			$("#ask_block_content").appendTo($("#ask_block"));
		}
		if($(".gifts").length && $("#reviews_content").length){
			$(".gifts").insertAfter($("#reviews_content"));
		}
		if($("#reviews_content").length && !$(".tabs_section ul.tabs_content li.current").length){
			$(".shadow.common").hide();
			$("#reviews_content").show();
		}
		if(!$(".stores_tab").length){
			$('.item-stock .store_view').removeClass('store_view');
		}
		viewItemCounter('<?=$arResult["ID"];?>','<?=current($arParams["PRICE_CODE"]);?>');
	</script>
<?endif;?>
<?if (isset($templateData['TEMPLATE_LIBRARY']) && !empty($templateData['TEMPLATE_LIBRARY'])){
	$loadCurrency = false;
	if (!empty($templateData['CURRENCIES']))
		$loadCurrency = Loader::includeModule('currency');
	CJSCore::Init($templateData['TEMPLATE_LIBRARY']);
	if ($loadCurrency){?>
		<script type="text/javascript">
			BX.Currency.setCurrencies(<? echo $templateData['CURRENCIES']; ?>);
		</script>
	<?}
}?>
<script type="text/javascript">
	var viewedCounter = {
		path: '/bitrix/components/bitrix/catalog.element/ajax.php',
		params: {
			AJAX: 'Y',
			SITE_ID: "<?= SITE_ID ?>",
			PRODUCT_ID: "<?= $arResult['ID'] ?>",
			PARENT_ID: "<?= $arResult['ID'] ?>"
		}
	};
	BX.ready(
		BX.defer(function(){
			$('body').addClass('detail_page');
			<?//if(!isset($templateData['JS_OBJ'])){?>
				BX.ajax.post(
					viewedCounter.path,
					viewedCounter.params
				);
			<?//}?>
			if( $('.stores_tab').length ){
				$.ajax({
					type:"POST",
					url:arOptimusOptions['SITE_DIR']+"ajax/productStoreAmount.php?clear_cache=Y",
					data:<?=CUtil::PhpToJSObject($templateData["STORES"], false, true, true)?>,
					success: function(data){
						var arSearch=parseUrlQuery();
						$('.tabs_content .stores_tab').html(data);
						$('.stores_tab .sku_stores_'+arSearch.oid).show();
					}
				});
			}
		})
		
	);
</script>
<?if($_REQUEST && isset($_REQUEST['formresult'])):?>
	<script>
	$(document).ready(function() {
		if($('#ask_block .form_result').length){
			$('.product_ask_tab').trigger('click');
		}
	});
	</script>
<?endif;?>
<?if(isset($_GET["RID"])){?>
	<?if($_GET["RID"]){?>
		<script>
			$(document).ready(function() {
				$("<div class='rid_item' data-rid='<?=htmlspecialcharsbx($_GET["RID"]);?>'></div>").appendTo($('body'));
			});
		</script>
	<?}?>
<?}?>127  3538|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/components/bitrix/news/shops/detail.php|4722d01f<?if(!defined("B_PROLOG_INCLUDED") || B_PROLOG_INCLUDED!==true)die();?>
<?$this->setFrameMode(true);?>
<?$APPLICATION->ShowViewContent('map_content');?>
<?$APPLICATION->IncludeComponent(
	"bitrix:news.detail",
	"shops",
	Array(
		"IBLOCK_CATALOG_TYPE" => $arParams["IBLOCK_CATALOG_TYPE"],
		"IBLOCK_CATALOG_ID" => $arParams["IBLOCK_CATALOG_ID"],
		"DISPLAY_DATE" => $arParams["DISPLAY_DATE"],
		"DISPLAY_NAME" => $arParams["DISPLAY_NAME"],
		"DISPLAY_PICTURE" => $arParams["DISPLAY_PICTURE"],
		"DISPLAY_PREVIEW_TEXT" => $arParams["DISPLAY_PREVIEW_TEXT"],
		"IBLOCK_TYPE" => $arParams["IBLOCK_TYPE"],
		"IBLOCK_ID" => $arParams["IBLOCK_ID"],
		"FIELD_CODE" => $arParams["DETAIL_FIELD_CODE"],
		"PROPERTY_CODE" => $arParams["DETAIL_PROPERTY_CODE"],
		"DETAIL_URL"	=>	$arResult["FOLDER"].$arResult["URL_TEMPLATES"]["detail"],
		"SECTION_URL"	=>	$arResult["FOLDER"].$arResult["URL_TEMPLATES"]["section"],
		"META_KEYWORDS" => $arParams["META_KEYWORDS"],
		"META_DESCRIPTION" => $arParams["META_DESCRIPTION"],
		"BROWSER_TITLE" => $arParams["BROWSER_TITLE"],
		"DISPLAY_PANEL" => $arParams["DISPLAY_PANEL"],
		"SET_TITLE" => 'N',
		"SET_STATUS_404" => $arParams["SET_STATUS_404"],
		"INCLUDE_IBLOCK_INTO_CHAIN" => $arParams["INCLUDE_IBLOCK_INTO_CHAIN"],
		"ADD_SECTIONS_CHAIN" => $arParams["ADD_SECTIONS_CHAIN"],
		"ADD_ELEMENT_CHAIN" => 'N',
		"ACTIVE_DATE_FORMAT" => $arParams["DETAIL_ACTIVE_DATE_FORMAT"],
		"CACHE_TYPE" => 'A', // for map!
		"CACHE_TIME" => $arParams["CACHE_TIME"],
		"CACHE_GROUPS" => $arParams["CACHE_GROUPS"],
		"USE_PERMISSIONS" => $arParams["USE_PERMISSIONS"],
		"GROUP_PERMISSIONS" => $arParams["GROUP_PERMISSIONS"],
		"DISPLAY_TOP_PAGER" => $arParams["DETAIL_DISPLAY_TOP_PAGER"],
		"DISPLAY_BOTTOM_PAGER" => $arParams["DETAIL_DISPLAY_BOTTOM_PAGER"],
		"PAGER_TITLE" => $arParams["DETAIL_PAGER_TITLE"],
		"PAGER_SHOW_ALWAYS" => "N",
		"PAGER_TEMPLATE" => $arParams["DETAIL_PAGER_TEMPLATE"],
		"PAGER_SHOW_ALL" => $arParams["DETAIL_PAGER_SHOW_ALL"],
		"CHECK_DATES" => $arParams["CHECK_DATES"],
		"ELEMENT_ID" => $arResult["VARIABLES"]["ELEMENT_ID"],
		"ELEMENT_CODE" => $arResult["VARIABLES"]["ELEMENT_CODE"],
		"IBLOCK_URL" => $arResult["FOLDER"].$arResult["URL_TEMPLATES"]["news"],
		"USE_SHARE" 			=> $arParams["USE_SHARE"],
		"SHARE_HIDE" 			=> $arParams["SHARE_HIDE"],
		"SHARE_TEMPLATE" 		=> $arParams["SHARE_TEMPLATE"],
		"SHARE_HANDLERS" 		=> $arParams["SHARE_HANDLERS"],
		"SHARE_SHORTEN_URL_LOGIN"	=> $arParams["SHARE_SHORTEN_URL_LOGIN"],
		"SHARE_SHORTEN_URL_KEY" => $arParams["SHARE_SHORTEN_URL_KEY"],
		"CATALOG_FILTER_NAME" => $arParams["CATALOG_FILTER_NAME"],
		"IBLOCK_CATALOG_TYPE" => $arParams["IBLOCK_CATALOG_TYPE"],
		"CATALOG_IBLOCK_ID1" => $arParams["CATALOG_IBLOCK_ID1"],
		"CATALOG_IBLOCK_ID2" => $arParams["CATALOG_IBLOCK_ID2"],
		"CATALOG_IBLOCK_ID3"  => $arParams["CATALOG_IBLOCK_ID3"],
		"SHOW_BACK_LINK"  => $arParams["SHOW_BACK_LINK"],
		"GALLERY_PROPERTY" => $arParams["GALLERY_PROPERTY"],
		"SHOW_GALLERY"  => $arParams["SHOW_GALLERY"],
		"LINKED_PRODUCTS_PROPERTY"  => $arParams["LINKED_PRODUCTS_PROPERTY"],
		"SHOW_LINKED_PRODUCTS" => $arParams["SHOW_LINKED_PRODUCTS"],
		"GOOGLE_API_KEY" => $arParams["GOOGLE_API_KEY"],
	),
	$component
);?>

<?
if ($arParams['SET_TITLE'] == 'Y') {
	$APPLICATION->SetTitle($_SESSION['SHOP_TITLE']);
	$APPLICATION->SetPageProperty("title", $_SESSION['SHOP_TITLE']);
}
if ($arParams['ADD_ELEMENT_CHAIN'] == 'Y') {
	$APPLICATION->AddChainItem($_SESSION['SHOP_TITLE'], "");
}
?>130  449|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/components/bitrix/news/shops/.parameters.php|949e358<?
if (!defined("B_PROLOG_INCLUDED") || B_PROLOG_INCLUDED!==true) die();
/** @var array $arCurrentValues */
/** @global CUserTypeManager $USER_FIELD_MANAGER */
global $USER_FIELD_MANAGER;
use Bitrix\Main\Loader;
use Bitrix\Main\ModuleManager;
Loader::includeModule('iblock');


$arTemplateParameters = array(
	"GOOGLE_API_KEY" => Array(
		"NAME" => GetMessage("GOOGLE_API_KEY"),
		"TYPE" => "STRING",
		"DEFAULT" => "",
	),	
);

?>125  2516|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/components/bitrix/news/shops/news.php|8fb6d06d<?if(!defined("B_PROLOG_INCLUDED") || B_PROLOG_INCLUDED!==true)die();?>
<?$this->setFrameMode(true);?>
<?$APPLICATION->ShowViewContent('map_content');?>
<?$APPLICATION->IncludeComponent(
	"bitrix:news.list",
	"shops",
	Array(
		"IBLOCK_TYPE"	=>	$arParams["IBLOCK_TYPE"],
		"IBLOCK_ID"	=>	$arParams["IBLOCK_ID"],
		"NEWS_COUNT"	=>	$arParams["NEWS_COUNT"],
		"SORT_BY1"	=>	$arParams["SORT_BY1"],
		"SORT_ORDER1"	=>	$arParams["SORT_ORDER1"],
		"SORT_BY2"	=>	$arParams["SORT_BY2"],
		"SORT_ORDER2"	=>	$arParams["SORT_ORDER2"],
		"FIELD_CODE"	=>	$arParams["LIST_FIELD_CODE"],
		"PROPERTY_CODE"	=>	$arParams["LIST_PROPERTY_CODE"],
		"DETAIL_URL"	=>	$arResult["FOLDER"].$arResult["URL_TEMPLATES"]["detail"],
		"SECTION_URL"	=>	$arResult["FOLDER"].$arResult["URL_TEMPLATES"]["section"],
		"IBLOCK_URL"	=>	$arResult["FOLDER"].$arResult["URL_TEMPLATES"]["news"],
		"DISPLAY_PANEL"	=>	$arParams["DISPLAY_PANEL"],
		"SET_TITLE"	=>	"N",
		"SET_STATUS_404" => $arParams["SET_STATUS_404"],
		"INCLUDE_IBLOCK_INTO_CHAIN"	=>	$arParams["INCLUDE_IBLOCK_INTO_CHAIN"],
		"ADD_SECTIONS_CHAIN" => $arParams["ADD_SECTIONS_CHAIN"],
		"ADD_ELEMENT_CHAIN" => $arParams["ADD_ELEMENT_CHAIN"],
		"CACHE_TYPE"	=>	'A', // for map!
		"CACHE_TIME"	=>	$arParams["CACHE_TIME"],
		"CACHE_FILTER"	=>	$arParams["CACHE_FILTER"],
		"CACHE_GROUPS" => $arParams["CACHE_GROUPS"],
		"DISPLAY_TOP_PAGER"	=>	$arParams["DISPLAY_TOP_PAGER"],
		"DISPLAY_BOTTOM_PAGER"	=>	$arParams["DISPLAY_BOTTOM_PAGER"],
		"PAGER_TITLE"	=>	$arParams["PAGER_TITLE"],
		"PAGER_TEMPLATE"	=>	$arParams["PAGER_TEMPLATE"],
		"PAGER_SHOW_ALWAYS"	=>	$arParams["PAGER_SHOW_ALWAYS"],
		"PAGER_DESC_NUMBERING"	=>	$arParams["PAGER_DESC_NUMBERING"],
		"PAGER_DESC_NUMBERING_CACHE_TIME"	=>	$arParams["PAGER_DESC_NUMBERING_CACHE_TIME"],
		"PAGER_SHOW_ALL" => $arParams["PAGER_SHOW_ALL"],
		"DISPLAY_DATE"	=>	$arParams["DISPLAY_DATE"],
		"DISPLAY_NAME"	=>	"Y",
		"DISPLAY_PICTURE"	=>	$arParams["DISPLAY_PICTURE"],
		"DISPLAY_PREVIEW_TEXT"	=>	$arParams["DISPLAY_PREVIEW_TEXT"],
		"PREVIEW_TRUNCATE_LEN"	=>	$arParams["PREVIEW_TRUNCATE_LEN"],
		"ACTIVE_DATE_FORMAT"	=>	$arParams["LIST_ACTIVE_DATE_FORMAT"],
		"USE_PERMISSIONS"	=>	$arParams["USE_PERMISSIONS"],
		"GROUP_PERMISSIONS"	=>	$arParams["GROUP_PERMISSIONS"],
		"FILTER_NAME"	=>	$arParams["FILTER_NAME"],
		"HIDE_LINK_WHEN_NO_DETAIL"	=>	$arParams["HIDE_LINK_WHEN_NO_DETAIL"],
		"CHECK_DATES"	=>	$arParams["CHECK_DATES"],
		"GOOGLE_API_KEY" => $arParams["GOOGLE_API_KEY"],
	),
	$component
);?>138  65|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/components/bitrix/news/shops/lang/ru/.parameters.php|7ba2ebcf<?
$MESS["GOOGLE_API_KEY"] = "API ключ google карт";
?>138  65|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/components/bitrix/news/shops/lang/en/.parameters.php|7ba2ebcf<?
$MESS["GOOGLE_API_KEY"] = "API ключ google карт";
?>149  29536|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/components/bitrix/catalog.section/catalog_list/script.min.js|9eebac1e!function(t){t.JCCatalogSection||(t.JCCatalogSection=function(t){if(this.skuVisualParams={SELECT:{TAG_BIND:"select",TAG:"option",ACTIVE_CLASS:"active",HIDE_CLASS:"hidden",EVENT:"change"},LI:{TAG_BIND:"li",TAG:"li",ACTIVE_CLASS:"active",HIDE_CLASS:"missing",EVENT:"click"}},this.productType=0,this.showQuantity=!0,this.showAbsent=!0,this.secondPict=!1,this.showOldPrice=!1,this.showPercent=!1,this.showSkuProps=!1,this.basketAction="ADD",this.basketLinkURL="",this.showClosePopup=!1,this.useCompare=!1,this.visual={ID:"",PICT_ID:"",SECOND_PICT_ID:"",QUANTITY_ID:"",QUANTITY_UP_ID:"",QUANTITY_DOWN_ID:"",STORE_QUANTITY:"",PRICE_ID:"",PRICE_OLD_ID:"",DSC_PERC:"",SECOND_DSC_PERC:"",DISPLAY_PROP_DIV:"",BASKET_PROP_DIV:""},this.product={checkQuantity:!1,maxQuantity:0,stepQuantity:1,isDblQuantity:!1,canBuy:!0,canSubscription:!0,name:"",pict:{},id:0,addUrl:"",buyUrl:""},this.basketMode="",this.basketData={useProps:!1,emptyProps:!1,quantity:"quantity",props:"prop",basketUrl:"",sku_props:"",sku_props_var:"basket_props",add_url:"",buy_url:""},this.compareData={compareUrl:"",comparePath:""},this.defaultPict={pict:null,secondPict:null},this.checkQuantity=!1,this.maxQuantity=0,this.stepQuantity=1,this.defaultCount=1,this.isDblQuantity=!1,this.canBuy=!0,this.currentBasisPrice={},this.canSubscription=!0,this.precision=6,this.precisionFactor=Math.pow(10,this.precision),this.offers=[],this.offerNum=0,this.treeProps=[],this.obTreeRows=[],this.showCount=[],this.showStart=[],this.selectedValues={},this.obProduct=null,this.obQuantity=null,this.obQuantityUp=null,this.obQuantityDown=null,this.obPict=null,this.obSecondPict=null,this.obPrice=null,this.obTree=null,this.obBuyBtn=null,this.obBasketBtn=null,this.obBasketActions=null,this.obNotAvail=null,this.obDscPerc=null,this.obSecondDscPerc=null,this.obSkuProps=null,this.obMeasure=null,this.obCompare=null,this.obPopupWin=null,this.basketUrl="",this.basketParams={},this.treeRowShowSize=5,this.treeEnableArrow={display:"",cursor:"pointer",opacity:1},this.treeDisableArrow={display:"",cursor:"default",opacity:.2},this.lastElement=!1,this.containerHeight=0,this.errorCode=0,"object"==typeof t){switch(this.productType=parseInt(t.PRODUCT_TYPE,10),this.showQuantity=t.SHOW_QUANTITY,this.showAbsent=t.SHOW_ABSENT,this.secondPict=!!t.SECOND_PICT,this.showOldPrice=!!t.SHOW_OLD_PRICE,this.showPercent=!!t.SHOW_DISCOUNT_PERCENT,this.showSkuProps=!!t.SHOW_SKU_PROPS,t.ADD_TO_BASKET_ACTION&&(this.basketAction=t.ADD_TO_BASKET_ACTION),this.showClosePopup=!!t.SHOW_CLOSE_POPUP,this.useCompare=!!t.DISPLAY_COMPARE,this.visual=t.VISUAL,this.defaultCount=t.DEFAULT_COUNT,this.basketLinkURL=t.BASKET_URL,this.productType){case 1:case 2:t.PRODUCT&&"object"==typeof t.PRODUCT?(this.showQuantity&&(this.product.checkQuantity=t.PRODUCT.CHECK_QUANTITY,this.product.isDblQuantity=t.PRODUCT.QUANTITY_FLOAT,this.product.checkQuantity&&(this.product.maxQuantity=this.product.isDblQuantity?parseFloat(t.PRODUCT.MAX_QUANTITY):parseInt(t.PRODUCT.MAX_QUANTITY,10)),this.product.stepQuantity=this.product.isDblQuantity?parseFloat(t.PRODUCT.STEP_QUANTITY):parseInt(t.PRODUCT.STEP_QUANTITY,10),this.checkQuantity=this.product.checkQuantity,this.isDblQuantity=this.product.isDblQuantity,this.maxQuantity=this.product.maxQuantity,this.stepQuantity=this.product.stepQuantity,this.isDblQuantity&&(this.stepQuantity=Math.round(this.stepQuantity*this.precisionFactor)/this.precisionFactor)),this.product.canBuy=t.PRODUCT.CAN_BUY,this.product.canSubscription=t.PRODUCT.SUBSCRIPTION,t.PRODUCT.BASIS_PRICE&&(this.currentBasisPrice=t.PRODUCT.BASIS_PRICE),this.canBuy=this.product.canBuy,this.canSubscription=this.product.canSubscription,this.product.name=t.PRODUCT.NAME,this.product.pict=t.PRODUCT.PICT,this.product.id=t.PRODUCT.ID,t.PRODUCT.ADD_URL&&(this.product.addUrl=t.PRODUCT.ADD_URL),t.PRODUCT.BUY_URL&&(this.product.buyUrl=t.PRODUCT.BUY_URL),t.BASKET&&"object"==typeof t.BASKET&&(this.basketData.useProps=!!t.BASKET.ADD_PROPS,this.basketData.emptyProps=!!t.BASKET.EMPTY_PROPS)):this.errorCode=-1;break;case 3:t.OFFERS&&BX.type.isArray(t.OFFERS)?(t.PRODUCT&&"object"==typeof t.PRODUCT&&(this.product.name=t.PRODUCT.NAME,this.product.id=t.PRODUCT.ID),this.offers=t.OFFERS,this.offerNum=0,t.OFFER_SELECTED&&(this.offerNum=parseInt(t.OFFER_SELECTED,10)),isNaN(this.offerNum)&&(this.offerNum=0),t.TREE_PROPS&&(this.treeProps=t.TREE_PROPS),t.DEFAULT_PICTURE&&(this.defaultPict.pict=t.DEFAULT_PICTURE.PICTURE,this.defaultPict.secondPict=t.DEFAULT_PICTURE.PICTURE_SECOND)):this.errorCode=-1;break;default:this.errorCode=-1}t.BASKET&&"object"==typeof t.BASKET&&(t.BASKET.QUANTITY&&(this.basketData.quantity=t.BASKET.QUANTITY),t.BASKET.PROPS&&(this.basketData.props=t.BASKET.PROPS),t.BASKET.BASKET_URL&&(this.basketData.basketUrl=t.BASKET.BASKET_URL),3===this.productType&&t.BASKET.SKU_PROPS&&(this.basketData.sku_props=t.BASKET.SKU_PROPS),t.BASKET.ADD_URL_TEMPLATE&&(this.basketData.add_url=t.BASKET.ADD_URL_TEMPLATE),t.BASKET.BUY_URL_TEMPLATE&&(this.basketData.buy_url=t.BASKET.BUY_URL_TEMPLATE),""===this.basketData.add_url&&""===this.basketData.buy_url&&(this.errorCode=-1024)),this.useCompare&&(t.COMPARE&&"object"==typeof t.COMPARE?(t.COMPARE.COMPARE_PATH&&(this.compareData.comparePath=t.COMPARE.COMPARE_PATH),t.COMPARE.COMPARE_URL_TEMPLATE_DEL&&(this.compareData.compareUrlDel=t.COMPARE.COMPARE_URL_TEMPLATE_DEL),t.COMPARE.COMPARE_URL_TEMPLATE?this.compareData.compareUrl=t.COMPARE.COMPARE_URL_TEMPLATE:this.useCompare=!1):this.useCompare=!1),this.lastElement=!!t.LAST_ELEMENT&&"Y"===t.LAST_ELEMENT}0===this.errorCode&&BX.ready(BX.delegate(this.Init,this))},t.JCCatalogSection.prototype.Init=function(){var t=0,s="",i=null;if(this.obProduct=BX(this.visual.ID),this.obProduct||(this.errorCode=-1),this.obPict=BX(this.visual.PICT_ID),this.obPict||(this.errorCode=-2),this.secondPict&&this.visual.SECOND_PICT_ID&&(this.obSecondPict=BX(this.visual.SECOND_PICT_ID)),this.storeQuanity=BX(this.visual.STORE_QUANTITY),this.obPrice=BX(this.visual.PRICE_ID),this.obPriceOld=BX(this.visual.PRICE_OLD_ID),this.obPrice||(this.errorCode=-16),this.showQuantity&&this.visual.QUANTITY_ID&&(this.obQuantity=BX(this.visual.QUANTITY_ID),this.visual.QUANTITY_UP_ID&&(this.obQuantityUp=BX(this.visual.QUANTITY_UP_ID)),this.visual.QUANTITY_DOWN_ID&&(this.obQuantityDown=BX(this.visual.QUANTITY_DOWN_ID))),3===this.productType){if(this.visual.TREE_ID)for(this.obTree=BX(this.visual.TREE_ID),this.obTree||(this.errorCode=-256),s=this.visual.TREE_ITEM_ID,t=0;t<this.treeProps.length;t++)if(this.obTreeRows[t]={LIST:BX(s+this.treeProps[t].ID+"_list"),CONT:BX(s+this.treeProps[t].ID+"_cont")},!this.obTreeRows[t].LIST||!this.obTreeRows[t].CONT){this.errorCode=-512;break}this.visual.QUANTITY_MEASURE&&(this.obMeasure=BX(this.visual.QUANTITY_MEASURE))}if(this.obBasketActions=BX(this.visual.BASKET_ACTIONS_ID),this.obBasketActions&&(this.visual.BUY_ID&&(this.obBuyBtn=BX(this.visual.BUY_ID)),this.visual.BASKET_LINK&&(this.obBasketBtn=BX(this.visual.BASKET_LINK))),this.obNotAvail=BX(this.visual.NOT_AVAILABLE_MESS),this.showPercent&&(this.visual.DSC_PERC&&(this.obDscPerc=BX(this.visual.DSC_PERC)),this.secondPict&&this.visual.SECOND_DSC_PERC&&(this.obSecondDscPerc=BX(this.visual.SECOND_DSC_PERC))),this.showSkuProps&&this.visual.DISPLAY_PROP_DIV&&(this.obSkuProps=BX(this.visual.DISPLAY_PROP_DIV)),0===this.errorCode){switch(this.showQuantity&&(this.obQuantityUp&&BX.bind(this.obQuantityUp,"click",BX.delegate(this.QuantityUp,this)),this.obQuantityDown&&BX.bind(this.obQuantityDown,"click",BX.delegate(this.QuantityDown,this)),this.obQuantity&&BX.bind(this.obQuantity,"change",BX.delegate(this.QuantityChange,this))),this.productType){case 1:break;case 3:for(var e in this.skuVisualParams){var i=BX.findChildren(this.obTree,{tagName:this.skuVisualParams[e].TAG_BIND},!0);if(i&&0<i.length)for(t=0;t<i.length;t++)$(i[t]).on(this.skuVisualParams[e].EVENT,BX.delegate(this.SelectOfferProp,this))}this.SetCurrent()}$(this.obProduct).find(".read_more.to-cart").on("click",BX.delegate(this.Add2Basket,this)),this.obBuyBtn&&("ADD"===this.basketAction||BX.bind(this.obBuyBtn,"click",BX.delegate(this.BuyBasket,this))),this.useCompare&&(this.obCompare=BX(this.visual.COMPARE_LINK_ID))}},t.JCCatalogSection.prototype.checkHeight=function(){this.containerHeight=parseInt(this.obProduct.parentNode.offsetHeight,10),isNaN(this.containerHeight)&&(this.containerHeight=0)},t.JCCatalogSection.prototype.setHeight=function(){0<this.containerHeight&&BX.adjust(this.obProduct.parentNode,{style:{height:this.containerHeight+"px"}})},t.JCCatalogSection.prototype.clearHeight=function(){BX.adjust(this.obProduct.parentNode,{style:{height:"auto"}})},t.JCCatalogSection.prototype.QuantityUp=function(){var t=0,s=!0;0===this.errorCode&&this.showQuantity&&this.canBuy&&(t=this.isDblQuantity?parseFloat(this.obQuantity.value):parseInt(this.obQuantity.value,10),isNaN(t)||(t+=this.stepQuantity,this.checkQuantity&&t>this.maxQuantity&&(s=!1),s&&(this.isDblQuantity&&(t=Math.round(t*this.precisionFactor)/this.precisionFactor),this.obQuantity.value=t)))},t.JCCatalogSection.prototype.QuantityDown=function(){var t=0,s=!0;0===this.errorCode&&this.showQuantity&&this.canBuy&&(t=this.isDblQuantity?parseFloat(this.obQuantity.value):parseInt(this.obQuantity.value,10),isNaN(t)||(t-=this.stepQuantity,t<this.stepQuantity&&(s=!1),s&&(this.isDblQuantity&&(t=Math.round(t*this.precisionFactor)/this.precisionFactor),this.obQuantity.value=t)))},t.JCCatalogSection.prototype.QuantityChange=function(){var t,s,i=0;0===this.errorCode&&this.showQuantity&&(this.canBuy?(i=this.isDblQuantity?parseFloat(this.obQuantity.value):parseInt(this.obQuantity.value,10),isNaN(i)?this.obQuantity.value=this.stepQuantity:(this.checkQuantity&&i>this.maxQuantity&&(i=this.maxQuantity),i<this.stepQuantity?i=this.stepQuantity:(s=i/this.stepQuantity,t=parseInt(s,10),isNaN(t)&&(t=1,s=1.1),s>t&&(i=1>=t?this.stepQuantity:t*this.stepQuantity,i=Math.round(i*this.precisionFactor)/this.precisionFactor)),this.obQuantity.value=i)):this.obQuantity.value=this.stepQuantity)},t.JCCatalogSection.prototype.QuantitySet=function(t){0===this.errorCode&&(this.canBuy=this.offers[t].CAN_BUY,this.canBuy?(this.obBasketActions&&BX.style(this.obBasketActions,"display",""),this.obNotAvail&&BX.style(this.obNotAvail,"display","none")):(this.obBasketActions&&(BX.style(this.obBasketActions,"opacity","0"),BX.style(BX.findParent(BX(this.obQuantity),{"class":"counter_block"}),"display","none")),this.obNotAvail&&BX.style(this.obNotAvail,"display","")),this.showQuantity&&(this.isDblQuantity=this.offers[t].QUANTITY_FLOAT,this.checkQuantity=this.offers[t].CHECK_QUANTITY,this.isDblQuantity?(this.maxQuantity=parseFloat(this.offers[t].MAX_QUANTITY),this.stepQuantity=Math.round(parseFloat(this.offers[t].STEP_QUANTITY)*this.precisionFactor)/this.precisionFactor):(this.maxQuantity=parseInt(this.offers[t].MAX_QUANTITY,10),this.stepQuantity=parseInt(this.offers[t].STEP_QUANTITY,10)),this.obQuantity&&(this.obQuantity.value=this.defaultCount,this.obQuantity.disabled=!this.canBuy),this.obMeasure&&(this.offers[t].MEASURE?BX.adjust(this.obMeasure,{html:this.offers[t].MEASURE}):BX.adjust(this.obMeasure,{html:""}))),this.currentBasisPrice=this.offers[t].BASIS_PRICE)},t.JCCatalogSection.prototype.SelectOfferProp=function(){var t=0,s="",i="",e=[],o=null,a=BX.proxy_context;if("undefined"!=typeof a.options&&"undefined"!=typeof a.options[a.selectedIndex]&&(a=a.options[a.selectedIndex]),a&&a.hasAttribute("data-treevalue")&&(i=a.getAttribute("data-treevalue"),propModes=a.getAttribute("data-showtype"),e=i.split("_"),this.SearchOfferPropIndex(e[0],e[1])&&(o=BX.findChildren(a.parentNode,{tagName:this.skuVisualParams[propModes.toUpperCase()].TAG},!1),o&&0<o.length)))for(t=0;t<o.length;t++)s=o[t].getAttribute("data-onevalue"),"TEXT"==propModes?s===e[1]?o[t].setAttribute("selected","selected"):o[t].removeAttribute("selected"):s===e[1]?$(o[t]).addClass(this.skuVisualParams[propModes.toUpperCase()].ACTIVE_CLASS):$(o[t]).removeClass(this.skuVisualParams[propModes.toUpperCase()].ACTIVE_CLASS)},t.JCCatalogSection.prototype.SearchOfferPropIndex=function(t,s){var i,e,o="",a=!1,r=[],h=-1,n={},c=[];for(i=0;i<this.treeProps.length;i++)if(this.treeProps[i].ID===t){h=i;break}if(h>-1){for(i=0;h>i;i++)o="PROP_"+this.treeProps[i].ID,n[o]=this.selectedValues[o];if(o="PROP_"+this.treeProps[h].ID,a=this.GetRowValues(n,o),!a)return!1;if(!BX.util.in_array(s,a))return!1;for(n[o]=s,i=h+1;i<this.treeProps.length;i++){if(o="PROP_"+this.treeProps[i].ID,a=this.GetRowValues(n,o),!a)return!1;if(this.showAbsent)for(r=[],c=[],c=BX.clone(n,!0),e=0;e<a.length;e++)c[o]=a[e],r[r.length]=a[e];else r=a;this.selectedValues[o]&&BX.util.in_array(this.selectedValues[o],r)?n[o]=this.selectedValues[o]:n[o]=r[0],this.UpdateRow(i,n[o],a,r)}this.selectedValues=n,this.ChangeInfo()}return!0},t.JCCatalogSection.prototype.UpdateRow=function(t,s,i,e){var o=0,a=0,r="",h=0,n={},c=!1,u=0,l=(this.treeEnableArrow,this.treeEnableArrow,0),p=null;if(t>-1&&t<this.obTreeRows.length&&(propMode=this.treeProps[t].DISPLAY_TYPE,p=BX.findChildren(this.obTreeRows[t].LIST,{tagName:this.skuVisualParams[propMode].TAG},!1),p&&0<p.length)){for(selectMode="SELECT"===this.treeProps[t].DISPLAY_TYPE,h=i.length,n={style:{},props:{disabled:"",selected:""}},o=0;o<p.length;o++)r=p[o].getAttribute("data-onevalue"),c=r===s&&0!=r,n.props.className=c?this.skuVisualParams[propMode].ACTIVE_CLASS:"",selectMode?(n.props.disabled="disabled",n.props.selected=c?"selected":""):n.style.display="none",BX.util.in_array(r,i)&&(selectMode?n.props.disabled="":n.style.display="",c&&(u=a),a++),BX.adjust(p[o],n);selectMode&&$(this.obTreeRows[t].LIST).parent().hasClass("ik_select")&&$(this.obTreeRows[t].LIST).ikSelect("reset"),this.showCount[t]=h,this.showStart[t]=l}},t.JCCatalogSection.prototype.GetRowValues=function(t,s){var i,e=0,o=[],a=!1,r=!0;if(0===t.length){for(e=0;e<this.offers.length;e++)BX.util.in_array(this.offers[e].TREE[s],o)||(o[o.length]=this.offers[e].TREE[s]);a=!0}else for(e=0;e<this.offers.length;e++){r=!0;for(i in t)if(t[i]!==this.offers[e].TREE[i]){r=!1;break}r&&(BX.util.in_array(this.offers[e].TREE[s],o)||(o[o.length]=this.offers[e].TREE[s]),a=!0)}return a?o:!1},t.JCCatalogSection.prototype.GetCanBuy=function(t){var s,i=0,e=!1,o=!0;for(i=0;i<this.offers.length;i++){o=!0;for(s in t)if(t[s]!==this.offers[i].TREE[s]){o=!1;break}if(o&&this.offers[i].CAN_BUY){e=!0;break}}return e},t.JCCatalogSection.prototype.SetCurrent=function(){var t=0,s=0,i=[],e="",o=!1,a={},r=[],h=this.offers[this.offerNum].TREE;for(t=0;t<this.treeProps.length&&(e="PROP_"+this.treeProps[t].ID,o=this.GetRowValues(a,e),o);t++){if(BX.util.in_array(h[e],o)?a[e]=h[e]:(a[e]=o[0],this.offerNum=0),this.showAbsent)for(i=[],r=[],r=BX.clone(a,!0),s=0;s<o.length;s++)r[e]=o[s],this.GetCanBuy(r)&&(i[i.length]=o[s]);else i=o;this.UpdateRow(t,a[e],o,i)}this.selectedValues=a,this.ChangeInfo()},t.JCCatalogSection.prototype.ChangeInfo=function(){var s,i=0,e=-1,o=!0;for(i=0;i<this.offers.length;i++){o=!0;for(s in this.selectedValues)if(this.selectedValues[s]!==this.offers[i].TREE[s]){o=!1;break}if(o){e=i;break}}if(e>-1){if(this.obPict){var a={attrs:{}};this.offers[e].PREVIEW_PICTURE?a.attrs.src=this.offers[e].PREVIEW_PICTURE.SRC:a.attrs.src=this.defaultPict.pict.SRC,BX.adjust(BX.findChild(this.obPict,{tag:"img"}),a)}this.secondPict&&this.obSecondPict&&(this.offers[e].PREVIEW_PICTURE_SECOND?BX.adjust(this.obSecondPict,{style:{backgroundImage:"url("+this.offers[e].PREVIEW_PICTURE_SECOND.SRC+")"}}):this.offers[e].PREVIEW_PICTURE.SRC?BX.adjust(this.obSecondPict,{style:{backgroundImage:"url("+this.offers[e].PREVIEW_PICTURE.SRC+")"}}):this.defaultPict.secondPict?BX.adjust(this.obSecondPict,{style:{backgroundImage:"url("+this.defaultPict.secondPict.SRC+")"}}):BX.adjust(this.obSecondPict,{style:{backgroundImage:"url("+this.defaultPict.pict.SRC+")"}})),this.showSkuProps&&this.obSkuProps&&(0===this.offers[e].DISPLAY_PROPERTIES.length?BX.adjust(this.obSkuProps,{style:{display:"none"},html:""}):BX.adjust(this.obSkuProps,{style:{display:""},html:this.offers[e].DISPLAY_PROPERTIES})),$(this.obBuyBtn).data("item",this.offers[e].ID),$(this.obBasketBtn).data("item",this.offers[e].ID),$(this.obBasketActions).closest(".counter_wrapp").css("opacity",0);var r=this.offers[e].MEASURE&&"Y"==this.offers[e].SHOW_MEASURE?this.offers[e].MEASURE:"";this.setPrice(this.offers[e].PRICE,r),this.setQuantityStore(this.offers[e].MAX_QUANTITY,this.offers[e].AVAILIABLE.TEXT),this.offerNum=e,this.QuantitySet(this.offerNum),$(this.obProduct).find(".item-title a").attr("href",this.offers[this.offerNum].URL),$(this.obProduct).find(".image_wrapper_block > a").attr("href",this.offers[this.offerNum].URL),$(this.obProduct).find(".quantity_block .values").length&&$(this.obProduct).find(".quantity_block .values .item span").text(this.offers[e].MAX_QUANTITY).css({opacity:"1"});var h=this.offers[e],n=$(this.obProduct);this.setArticle(n.find(".article_block"),h),"undefined"!=typeof arBasketAspro?this.setActualDataBlock(n,h):"undefined"!=typeof t.frameCacheVars&&BX.addCustomEvent("onFrameDataReceived",function(){t.JCCatalogSection.prototype.setActualDataBlock(n,h)})}},t.JCCatalogSection.prototype.setArticle=function(t,s){s.ARTICLE&&t.html(s.ARTICLE)},t.JCCatalogSection.prototype.setActualDataBlock=function(t,s){this.setLikeBlock(t,".like_icons .wish_item_button",s,"DELAY"),this.setLikeBlock(t,".like_icons .compare_item_button",s,"COMPARE"),this.setBuyBlock(t,s)},t.JCCatalogSection.prototype.setLikeBlock=function(t,s,i,e){var o=t;"DELAY"==e&&(i.CAN_BUY?o.find(s).css("display","inline-block"):o.find(s).hide()),o.find(s).attr("data-item",i.ID),o.find(s).find("span").attr("data-item",i.ID),arBasketAspro[e]&&(o.find(s).find(".to").removeClass("added").css("display","block"),o.find(s).find(".in").hide(),void 0!==arBasketAspro[e][i.ID]&&(o.find(s).find(".to").hide(),o.find(s).find(".in").addClass("added").css("display","block")))},t.JCCatalogSection.prototype.setBuyBlock=function(t,s){var i=t.find(".offer_buy_block");if(i.find(".counter_wrapp .counter_block").length&&i.find(".counter_wrapp .counter_block").attr("data-item",s.ID),s.CONFIG.OPTIONS.USE_PRODUCT_QUANTITY_DETAIL&&"ADD"==s.CONFIG.ACTION&&s.CAN_BUY){var e=s.CONFIG.MAX_QUANTITY_BUY>0?"data-max='"+s.CONFIG.MAX_QUANTITY_BUY+"'":"",o='<span class="minus">-</span><input type="text" class="text" name="'+s.PRODUCT_QUANTITY_VARIABLE+'" value="'+s.CONFIG.MIN_QUANTITY_BUY+'" /><span class="plus" '+e+">+</span>";arBasketAspro.BASKET&&void 0!==arBasketAspro.BASKET[s.ID]?i.find(".counter_wrapp .counter_block").length?i.find(".counter_wrapp .counter_block").hide():(i.find(".counter_wrapp").prepend('<div class="counter_block" data-item="'+s.ID+'"></div>'),i.find(".counter_wrapp .counter_block").html(o).hide()):i.find(".counter_wrapp .counter_block").length?i.find(".counter_wrapp .counter_block").html(o).show():(i.find(".counter_wrapp").prepend('<div class="counter_block" data-item="'+s.ID+'"></div>'),i.find(".counter_wrapp .counter_block").html(o))}else i.find(".counter_wrapp .counter_block").length&&i.find(".counter_wrapp .counter_block").hide();var a="ORDER"==s.CONFIG.ACTION||!s.CAN_BUY||!s.CONFIG.OPTIONS.USE_PRODUCT_QUANTITY_DETAIL||"SUBSCRIBE"==s.CONFIG.ACTION&&"Y"==s.CATALOG_SUBSCRIBE?"wide":"";$('<div class="button_block"></div>');if(i.find(".counter_wrapp").find(".button_block").length?arBasketAspro.BASKET&&void 0!==arBasketAspro.BASKET[s.ID]?(i.find(".counter_wrapp").find(".button_block").addClass("wide").html(s.HTML),markProductAddBasket(s.ID)):a?(i.find(".counter_wrapp").find(".button_block").addClass("wide").html(s.HTML),arBasketAspro.SUBSCRIBE&&void 0!==arBasketAspro.SUBSCRIBE[s.ID]&&markProductSubscribe(s.ID)):i.find(".counter_wrapp").find(".button_block").removeClass("wide").html(s.HTML):(i.find(".counter_wrapp").append('<div class="button_block '+a+'">'+s.HTML+"</div>"),arBasketAspro.BASKET&&void 0!==arBasketAspro.BASKET[s.ID]&&markProductAddBasket(s.ID),arBasketAspro.SUBSCRIBE&&void 0!==arBasketAspro.SUBSCRIBE[s.ID]&&markProductSubscribe(s.ID)),"NOTHING"!==s.CONFIG.ACTION)if("ADD"==s.CONFIG.ACTION&&s.CAN_BUY&&"N"!=s.SHOW_ONE_CLICK_BUY){var r='<span class="transparent big_btn type_block button one_click" data-offers="Y" data-item="'+s.ID+'" data-iblockID="'+s.IBLOCK_ID+'" data-quantity="'+s.CONFIG.MIN_QUANTITY_BUY+'" data-props="'+s.OFFER_PROPS+'" onclick="oneClickBuy('+s.ID+", "+s.IBLOCK_ID+', this)"><span>'+s.ONE_CLICK_BUY+"</span></span>";i.find(".wrapp_one_click").length?i.find(".wrapp_one_click").html(r):i.append('<div class="wrapp_one_click">'+r+"</div>")}else i.find(".wrapp_one_click").length&&i.find(".wrapp_one_click").remove();else i.find(".wrapp_one_click").length&&i.find(".wrapp_one_click").remove();i.fadeIn()},t.JCCatalogSection.prototype.CompareCountResult=function(t){if(t.COMPARE_COUNT){for(var s in t.ITEMS){if(t.ITEMS[s]==this.offers[this.offerNum].ID){this.offers[this.offerNum].COMPARE_ACTIVE=!0;break}this.offers[this.offerNum].COMPARE_ACTIVE=!1}this.offers[this.offerNum].COMPARE_ACTIVE?($(this.obCompare).find(".compare_item.to").hide(),$(this.obCompare).find(".compare_item.added").show()):($(this.obCompare).find(".compare_item.added").hide(),$(this.obCompare).find(".compare_item.to").show())}},t.JCCatalogSection.prototype.ItemInfoResult=function(t){t.HTML&&($(this.obBasketActions).html(t.HTML),$(this.obBasketActions).show(),this.obBuyBtn=BX(this.visual.BUY_ID),this.obBasketBtn=BX(this.visual.BASKET_LINK),this.obSubscribeBtn=BX(this.visual.SUBSCRIBE_ID),this.obSubscribedBtn=BX(this.visual.SUBSCRIBED_ID),BX.bind(this.obBuyBtn,"click",BX.delegate(this.Add2Basket,this)),$(this.obBasketActions).removeClass("wide"),this.ajax_type_item=t.BUYMISSINGGOODS,"ADD"==t.BUYMISSINGGOODS||this.canBuy?$(this.obQuantity).css("display",""):$(this.obBasketActions).addClass("wide")),basketParams={ajax_action:"Y"},BX.ajax.loadJSON(arOptimusOptions.SITE_DIR+"ajax/get_basket_count.php",basketParams,BX.delegate(this.BasketCountResult,this))},t.JCCatalogSection.prototype.BasketCountResult=function(t){for(var s in t.ITEMS){if(t.ITEMS[s].PRODUCT_ID==this.offers[this.offerNum].ID){this.offers[this.offerNum].BASKET_ACTIVE=!0;break}this.offers[this.offerNum].BASKET_ACTIVE=!1}for(var s in t.SUBSCRIBE_ITEMS){if(t.SUBSCRIBE_ITEMS[s].PRODUCT_ID==this.offers[this.offerNum].ID){this.offers[this.offerNum].SUBSCRIBE_ACTIVE=!0;break}this.offers[this.offerNum].SUBSCRIBE_ACTIVE=!1}this.BasketStateRefresh()},t.JCCatalogSection.prototype.BasketStateRefresh=function(s){this.offers[this.offerNum].SUBSCRIBE_ACTIVE?($(this.obProduct).find(".hover_block .o_"+this.offers[this.offerNum].ID+" .to-subscribe").hide(),$(this.obProduct).find(".hover_block .o_"+this.offers[this.offerNum].ID+" .in-subscribe").show()):($(this.obProduct).find(".hover_block .o_"+this.offers[this.offerNum].ID+" .to-subscribe").show(),$(this.obProduct).find(".hover_block .o_"+this.offers[this.offerNum].ID+" .in-subscribe").hide()),this.offers[this.offerNum].BASKET_ACTIVE?($(this.obProduct).find(".information_wrapp .o_"+this.offers[this.offerNum].ID).addClass("wide"),$(this.obProduct).find(".information_wrapp .o_"+this.offers[this.offerNum].ID+" .button_block").addClass("wide"),$(this.obProduct).find(".information_wrapp .o_"+this.offers[this.offerNum].ID+" .to-cart").hide(),$(this.obProduct).find(".information_wrapp .o_"+this.offers[this.offerNum].ID+" .in-cart").show(),$(this.obProduct).find(".information_wrapp .o_"+this.offers[this.offerNum].ID+" .counter_block").hide()):($(this.obProduct).find(".information_wrapp .o_"+this.offers[this.offerNum].ID).removeClass("wide"),$(this.obProduct).find(".information_wrapp .o_"+this.offers[this.offerNum].ID+" .button_block").removeClass("wide"),$(this.obProduct).find(".information_wrapp .o_"+this.offers[this.offerNum].ID+" .to-cart").show(),$(this.obProduct).find(".information_wrapp .o_"+this.offers[this.offerNum].ID+" .in-cart").hide(),$(this.obProduct).find(".information_wrapp .o_"+this.offers[this.offerNum].ID+" .counter_block").show()),BX.style(this.obBasketActions,"opacity","1"),$(this.obBasketActions).closest(".counter_wrapp").css("opacity",1),"undefined"!==s&&"Y"==s&&($("#basket_line .basket_fly").length&&$(t).outerWidth()>768?basketFly("open"):$("#basket_line .cart").length&&($("#basket_line .cart").is(".empty_cart")&&($("#basket_line .cart").removeClass("empty_cart").find(".cart_wrapp a.basket_link").removeAttr("href").addClass("cart-call"),touchBasket(".cart:not(.empty_cart) .basket_block .link")),reloadTopBasket("add",$("#basket_line"),200,2e3,"Y")),animateBasketLine(200))},t.JCCatalogSection.prototype.setPrice=function(t,s){var i;this.obPrice&&(i=BX.Currency.currencyFormat(t.DISCOUNT_VALUE,t.CURRENCY,!0),s&&(i=i?i+"/"+s:"&nbsp;"),BX.adjust(this.obPrice,{html:i}),t.DISCOUNT_VALUE!==t.VALUE&&this.showOldPrice?($(this.obPriceOld).find("strike").show().html(BX.Currency.currencyFormat(t.VALUE,t.CURRENCY,!0)),this.showPercent&&($(this.obPriceOld).closest(".cost").find(".sale_block").show(),$(this.obPriceOld).closest(".cost").find(".value").html(t.DISCOUNT_DIFF_PERCENT_RAW),$(this.obPriceOld).closest(".cost").find(".text span").html(BX.Currency.currencyFormat(t.DISCOUNT_DIFF,t.CURRENCY,!0)))):($(this.obPriceOld).find("strike").hide().html(""),this.showPercent&&$(this.obPriceOld).closest(".cost").find(".sale_block").hide()))},t.JCCatalogSection.prototype.setQuantityStore=function(t,s){parseFloat(t)>0?$(this.storeQuanity).find(".icon").removeClass("order").addClass("stock"):$(this.storeQuanity).find(".icon").removeClass("stock").addClass("order"),$(this.storeQuanity).find(".icon + span").html(s)},t.JCCatalogSection.prototype.Compare=function(){var t,s;if($(this.obProduct).find(".like_icons .o_"+this.offers[this.offerNum].ID).data("changed","Y"),$(this.obProduct).find(".like_icons .o_"+this.offers[this.offerNum].ID).find(".compare_item.added").is(":visible")?(s=this.compareData.compareUrlDel,this.compareData.Added=!1):(s=this.compareData.compareUrl,this.compareData.Added=!0),s){switch(this.productType){case 1:case 2:s=s.replace("#ID#",this.product.id.toString());break;case 3:s=s.replace("#ID#",this.offers[this.offerNum].ID)}t={ajax_action:"Y"},BX.ajax.loadJSON(s,t,BX.proxy(this.CompareResult,this))}},t.JCCatalogSection.prototype.CompareResult=function(t){return"object"!=typeof t?!1:("OK"===t.STATUS?(BX.onCustomEvent("OnCompareChange"),this.compareData.Added?($(this.obProduct).find(".like_icons .o_"+this.offers[this.offerNum].ID).find(".to").hide(),$(this.obProduct).find(".like_icons .o_"+this.offers[this.offerNum].ID).find(".in").show()):($(this.obProduct).find(".like_icons .o_"+this.offers[this.offerNum].ID).find(".in").hide(),$(this.obProduct).find(".like_icons .o_"+this.offers[this.offerNum].ID).find(".to").show()),jsAjaxUtil.InsertDataToNode(arOptimusOptions.SITE_DIR+"ajax/show_compare_preview_top.php","compare_line",!1)):console.log(BX.message("ADD_ERROR_COMPARE")),!1)},t.JCCatalogSection.prototype.CompareRedirect=function(){this.compareData.comparePath?location.href=this.compareData.comparePath:this.obPopupWin.close()},t.JCCatalogSection.prototype.InitBasketUrl=function(){switch(this.basketUrl="ADD"===this.basketMode?this.basketData.add_url:this.basketData.buy_url,this.productType){case 1:case 2:this.basketUrl=this.basketUrl.replace("#ID#",this.product.id.toString());break;case 3:this.basketUrl=this.basketUrl.replace("#ID#",this.offers[this.offerNum].ID)}this.basketParams={ajax_basket:"Y"},this.showQuantity&&(this.basketParams[this.basketData.quantity]=$(this.obProduct).find(".counter_wrapp.o_"+this.offers[this.offerNum].ID).find(".counter_block .text").val()),this.basketData.sku_props&&(this.basketParams[this.basketData.sku_props_var]=this.basketData.sku_props)},t.JCCatalogSection.prototype.FillBasketProps=function(){if(this.visual.BASKET_PROP_DIV){var t=0,s=null,i=!1,e=null;if(this.basketData.useProps&&!this.basketData.emptyProps?this.obPopupWin&&this.obPopupWin.contentContainer&&(e=this.obPopupWin.contentContainer):e=BX(this.visual.BASKET_PROP_DIV),e){if(s=e.getElementsByTagName("select"),s&&s.length)for(t=0;t<s.length;t++)if(!s[t].disabled)switch(s[t].type.toLowerCase()){case"select-one":this.basketParams[s[t].name]=s[t].value,i=!0}if(s=e.getElementsByTagName("input"),s&&s.length)for(t=0;t<s.length;t++)if(!s[t].disabled)switch(s[t].type.toLowerCase()){case"hidden":this.basketParams[s[t].name]=s[t].value,i=!0;break;case"radio":s[t].checked&&(this.basketParams[s[t].name]=s[t].value,i=!0)}}i||(this.basketParams[this.basketData.props]=[],this.basketParams[this.basketData.props][0]=0)}},t.JCCatalogSection.prototype.Add2Basket=function(){this.basketMode="ADD",this.Basket()},t.JCCatalogSection.prototype.BuyBasket=function(){this.basketMode="BUY",this.Basket()},t.JCCatalogSection.prototype.SendToBasket=function(){this.canBuy&&(this.InitBasketUrl(),this.FillBasketProps(),BX.ajax.loadJSON(this.basketUrl,this.basketParams,BX.delegate(this.BasketResult,this)))},t.JCCatalogSection.prototype.Basket=function(){this.canBuy&&this.SendToBasket()},t.JCCatalogSection.prototype.BasketResult=function(t){var s;return this.obPopupWin&&this.obPopupWin.close(),"object"!=typeof t?!1:(s="OK"===t.STATUS,void(s&&"BUY"===this.basketAction?this.BasketRedirect():s?(BX.onCustomEvent("OnBasketChange"),this.offers[this.offerNum].BASKET_ACTIVE=!0,this.BasketStateRefresh("Y"),$(this.obProduct).find(".hover_block .o_"+this.offers[this.offerNum].ID).data("changed","Y")):console.log(BX.message("ADD_ERROR_BASKET"))))},t.JCCatalogSection.prototype.BasketRedirect=function(){location.href=this.basketData.basketUrl?this.basketData.basketUrl:BX.message("BASKET_URL")})}(window);155  18217|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/components/bitrix/catalog.section/catalog_list/result_modifier.php|e5afa67a<?
use Bitrix\Main\Type\Collection;
use Bitrix\Currency\CurrencyTable;

if (!defined('B_PROLOG_INCLUDED') || B_PROLOG_INCLUDED!==true) die();
/** @var CBitrixComponentTemplate $this */
/** @var array $arParams */
/** @var array $arResult */
$arDefaultParams = array(
	'TYPE_SKU' => 'Y',
	'ADD_PICT_PROP' => '-',
	'OFFER_ADD_PICT_PROP' => '-',
	'OFFER_TREE_PROPS' => array('-'),
	'ADD_TO_BASKET_ACTION' => 'ADD',
	'DEFAULT_COUNT' => '1',
);
$arParams = array_merge($arDefaultParams, $arParams);

if ('TYPE_1' != $arParams['TYPE_SKU'] )
	$arParams['TYPE_SKU'] = 'N';

if ('TYPE_1' == $arParams['TYPE_SKU'] && $arParams['DISPLAY_TYPE'] !='table' ){
	if (!is_array($arParams['OFFER_TREE_PROPS']))
		$arParams['OFFER_TREE_PROPS'] = array($arParams['OFFER_TREE_PROPS']);
	foreach ($arParams['OFFER_TREE_PROPS'] as $key => $value)
	{
		$value = (string)$value;
		if ('' == $value || '-' == $value)
			unset($arParams['OFFER_TREE_PROPS'][$key]);
	}
	if (empty($arParams['OFFER_TREE_PROPS']) && isset($arParams['OFFERS_CART_PROPERTIES']) && is_array($arParams['OFFERS_CART_PROPERTIES']))
	{
		$arParams['OFFER_TREE_PROPS'] = $arParams['OFFERS_CART_PROPERTIES'];
		foreach ($arParams['OFFER_TREE_PROPS'] as $key => $value)
		{
			$value = (string)$value;
			if ('' == $value || '-' == $value)
				unset($arParams['OFFER_TREE_PROPS'][$key]);
		}
	}
}else{
	$arParams['OFFER_TREE_PROPS'] = array();
}


if (!empty($arResult['ITEMS'])){
	$arEmptyPreview = false;
	$strEmptyPreview = SITE_TEMPLATE_PATH.'/images/no_photo_medium.png';
	if (file_exists($_SERVER['DOCUMENT_ROOT'].$strEmptyPreview))
	{
		$arSizes = getimagesize($_SERVER['DOCUMENT_ROOT'].$strEmptyPreview);
		if (!empty($arSizes))
		{
			$arEmptyPreview = array(
				'SRC' => $strEmptyPreview,
				'WIDTH' => intval($arSizes[0]),
				'HEIGHT' => intval($arSizes[1])
			);
		}
		unset($arSizes);
	}
	unset($strEmptyPreview);

	$arSKUPropList = array();
	$arSKUPropIDs = array();
	$arSKUPropKeys = array();
	$boolSKU = false;
	$strBaseCurrency = '';
	$boolConvert = isset($arResult['CONVERT_CURRENCY']['CURRENCY_ID']);
	$arOfferProps = implode(';', $arParams['OFFERS_CART_PROPERTIES']);

	if ($arResult['MODULES']['catalog'])
	{
		if (!$boolConvert)
			$strBaseCurrency = CCurrency::GetBaseCurrency();

		$arSKU = CCatalogSKU::GetInfoByProductIBlock($arParams['IBLOCK_ID']);
		$boolSKU = !empty($arSKU) && is_array($arSKU);
		if ($boolSKU && !empty($arParams['OFFER_TREE_PROPS']) && 'TYPE_1' == $arParams['TYPE_SKU'] && $arParams['DISPLAY_TYPE'] !='table')
		{
			$arSKUPropList = CIBlockPriceTools::getTreeProperties(
				$arSKU,
				$arParams['OFFER_TREE_PROPS'],
				array(
					//'PICT' => $arEmptyPreview,
					'NAME' => '-'
				)
			);
			$arResult["SKU_IBLOCK_ID"]=$arSKU["IBLOCK_ID"];
			$arNeedValues = array();
			CIBlockPriceTools::getTreePropertyValues($arSKUPropList, $arNeedValues);
			$arSKUPropIDs = array_keys($arSKUPropList);


			if (empty($arSKUPropIDs))
				$arParams['TYPE_SKU'] = 'N';
			else
				$arSKUPropKeys = array_fill_keys($arSKUPropIDs, false);
		}
	}
	$arNewItemsList = array();
	foreach ($arResult['ITEMS'] as $key => $arItem)
	{
		$arItem['CHECK_QUANTITY'] = false;
		if (!isset($arItem['CATALOG_MEASURE_RATIO']))
			$arItem['CATALOG_MEASURE_RATIO'] = 1;
		if (!isset($arItem['CATALOG_QUANTITY']))
			$arItem['CATALOG_QUANTITY'] = 0;
		$arItem['CATALOG_QUANTITY'] = (
			0 < $arItem['CATALOG_QUANTITY'] && is_float($arItem['CATALOG_MEASURE_RATIO'])
			? floatval($arItem['CATALOG_QUANTITY'])
			: intval($arItem['CATALOG_QUANTITY'])
		);
		$arItem['CATALOG'] = false;
		if (!isset($arItem['CATALOG_SUBSCRIPTION']) || 'Y' != $arItem['CATALOG_SUBSCRIPTION'])
			$arItem['CATALOG_SUBSCRIPTION'] = 'N';

		$productPictures = CIBlockPriceTools::getDoublePicturesForItem($arItem, $arParams['ADD_PICT_PROP']);
		if (empty($productPictures['PICT']))
			$productPictures['PICT'] = $arEmptyPreview;
		if (empty($productPictures['SECOND_PICT']))
			$productPictures['SECOND_PICT'] = $productPictures['PICT'];

		$arItem['PREVIEW_PICTURE'] = $productPictures['PICT'];
		$arItem['PREVIEW_PICTURE_SECOND'] = $productPictures['SECOND_PICT'];
		$arItem['SECOND_PICT'] = true;
		$arItem['PRODUCT_PREVIEW'] = $productPictures['PICT'];
		$arItem['PRODUCT_PREVIEW_SECOND'] = $productPictures['SECOND_PICT'];

		if ($arResult['MODULES']['catalog'])
		{
			$arItem['CATALOG'] = true;
			if (!isset($arItem['CATALOG_TYPE']))
				$arItem['CATALOG_TYPE'] = CCatalogProduct::TYPE_PRODUCT;
			if (
				(CCatalogProduct::TYPE_PRODUCT == $arItem['CATALOG_TYPE'] || CCatalogProduct::TYPE_SKU == $arItem['CATALOG_TYPE'])
				&& !empty($arItem['OFFERS'])
			)
			{
				$arItem['CATALOG_TYPE'] = CCatalogProduct::TYPE_SKU;
			}
			switch ($arItem['CATALOG_TYPE'])
			{
				case CCatalogProduct::TYPE_SET:
					$arItem['OFFERS'] = array();
					$arItem['CHECK_QUANTITY'] = ('Y' == $arItem['CATALOG_QUANTITY_TRACE'] && 'N' == $arItem['CATALOG_CAN_BUY_ZERO']);
					break;
				case CCatalogProduct::TYPE_SKU:
					break;
				case CCatalogProduct::TYPE_PRODUCT:
				default:
					$arItem['CHECK_QUANTITY'] = ('Y' == $arItem['CATALOG_QUANTITY_TRACE'] && 'N' == $arItem['CATALOG_CAN_BUY_ZERO']);
					break;
			}
		}
		else
		{
			$arItem['CATALOG_TYPE'] = 0;
			$arItem['OFFERS'] = array();
		}

		if ($arItem['CATALOG'] && isset($arItem['OFFERS']) && !empty($arItem['OFFERS']))
		{
			if ('TYPE_1' == $arParams['TYPE_SKU'] && $arParams['DISPLAY_TYPE'] !='table')
			{
				$arMatrixFields = $arSKUPropKeys;
				$arMatrix = array();

				$arNewOffers = array();
				$boolSKUDisplayProperties = false;
				$arItem['OFFERS_PROP'] = false;

				$arDouble = array();
				foreach ($arItem['OFFERS'] as $keyOffer => $arOffer)
				{
					$arOffer['ID'] = intval($arOffer['ID']);
					if (isset($arDouble[$arOffer['ID']]))
						continue;
					$arRow = array();
					foreach ($arSKUPropIDs as $propkey => $strOneCode)
					{
						$arCell = array(
							'VALUE' => 0,
							'SORT' => PHP_INT_MAX,
							'NA' => true
						);
						if (isset($arOffer['DISPLAY_PROPERTIES'][$strOneCode]))
						{
							$arMatrixFields[$strOneCode] = true;
							$arCell['NA'] = false;
							if ('directory' == $arSKUPropList[$strOneCode]['USER_TYPE'])
							{
								$intValue = $arSKUPropList[$strOneCode]['XML_MAP'][$arOffer['DISPLAY_PROPERTIES'][$strOneCode]['VALUE']];
								$arCell['VALUE'] = $intValue;
							}
							elseif ('L' == $arSKUPropList[$strOneCode]['PROPERTY_TYPE'])
							{
								$arCell['VALUE'] = intval($arOffer['DISPLAY_PROPERTIES'][$strOneCode]['VALUE_ENUM_ID']);
							}
							elseif ('E' == $arSKUPropList[$strOneCode]['PROPERTY_TYPE'])
							{
								$arCell['VALUE'] = intval($arOffer['DISPLAY_PROPERTIES'][$strOneCode]['VALUE']);
							}
							$arCell['SORT'] = $arSKUPropList[$strOneCode]['VALUES'][$arCell['VALUE']]['SORT'];
						}
						$arRow[$strOneCode] = $arCell;
					}
					$arMatrix[$keyOffer] = $arRow;

					CIBlockPriceTools::clearProperties($arOffer['DISPLAY_PROPERTIES'], $arParams['OFFER_TREE_PROPS']);

					CIBlockPriceTools::setRatioMinPrice($arOffer, false);

					$offerPictures = CIBlockPriceTools::getDoublePicturesForItem($arOffer, $arParams['OFFER_ADD_PICT_PROP']);
					$arOffer['OWNER_PICT'] = empty($offerPictures['PICT']);
					$arOffer['PREVIEW_PICTURE'] = false;
					$arOffer['PREVIEW_PICTURE_SECOND'] = false;
					$arOffer['SECOND_PICT'] = true;
					if (!$arOffer['OWNER_PICT'])
					{
						if (empty($offerPictures['SECOND_PICT']))
							$offerPictures['SECOND_PICT'] = $offerPictures['PICT'];
						$arOffer['PREVIEW_PICTURE'] = $offerPictures['PICT'];
						$arOffer['PREVIEW_PICTURE_SECOND'] = $offerPictures['SECOND_PICT'];
					}

					if ('' != $arParams['OFFER_ADD_PICT_PROP'] && isset($arOffer['DISPLAY_PROPERTIES'][$arParams['OFFER_ADD_PICT_PROP']]))
						unset($arOffer['DISPLAY_PROPERTIES'][$arParams['OFFER_ADD_PICT_PROP']]);

					$arDouble[$arOffer['ID']] = true;
					$arNewOffers[$keyOffer] = $arOffer;

				}


				$arItem['OFFERS'] = $arNewOffers;

				$arUsedFields = array();
				$arSortFields = array();

				$arPropSKU = $arItem['OFFERS_PROPS_JS'] = array();

				foreach ($arSKUPropIDs as $propkey => $strOneCode)
				{
					$boolExist = $arMatrixFields[$strOneCode];
					foreach ($arMatrix as $keyOffer => $arRow)
					{
						if ($boolExist)
						{
							if (!isset($arItem['OFFERS'][$keyOffer]['TREE']))
								$arItem['OFFERS'][$keyOffer]['TREE'] = array();
							$arItem['OFFERS'][$keyOffer]['TREE']['PROP_'.$arSKUPropList[$strOneCode]['ID']] = $arMatrix[$keyOffer][$strOneCode]['VALUE'];
							$arItem['OFFERS'][$keyOffer]['SKU_SORT_'.$strOneCode] = $arMatrix[$keyOffer][$strOneCode]['SORT'];
							$arUsedFields[$strOneCode] = true;
							$arSortFields['SKU_SORT_'.$strOneCode] = SORT_NUMERIC;

							$arPropSKU[$strOneCode][$arMatrix[$keyOffer][$strOneCode]["VALUE"]] = $arSKUPropList[$strOneCode]["VALUES"][$arMatrix[$keyOffer][$strOneCode]["VALUE"]];
						}
						else
						{
							unset($arMatrix[$keyOffer][$strOneCode]);
						}
					}
					if($arPropSKU[$strOneCode])
					{
						$arItem['OFFERS_PROPS_JS'][$strOneCode] = array(
							"ID" => $arSKUPropList[$strOneCode]["ID"],
							"CODE" => $arSKUPropList[$strOneCode]["CODE"],
							"NAME" => $arSKUPropList[$strOneCode]["NAME"],
							"SORT" => $arSKUPropList[$strOneCode]["SORT"],
							"PROPERTY_TYPE" => $arSKUPropList[$strOneCode]["PROPERTY_TYPE"],
							"USER_TYPE" => $arSKUPropList[$strOneCode]["USER_TYPE"],
							"LINK_IBLOCK_ID" => $arSKUPropList[$strOneCode]["LINK_IBLOCK_ID"],
							"SHOW_MODE" => $arSKUPropList[$strOneCode]["SHOW_MODE"],
							"VALUES" => $arPropSKU[$strOneCode]
						);
					}
				}
				$arItem['OFFERS_PROP'] = $arUsedFields;
				// $arItem['OFFERS_PROP_CODES'] = (!empty($arUsedFields) ? base64_encode(serialize(array_keys($arUsedFields))) : '');
				$arItem['OFFERS_PROP_CODES'] = (!empty($arParams["OFFERS_CART_PROPERTIES"]) ? base64_encode(serialize(array_keys($arParams["OFFERS_CART_PROPERTIES"]))) : '');

				Collection::sortByColumn($arItem['OFFERS'], $arSortFields);

				$arMatrix = array();
				$intSelected = -1;
				$arItem['MIN_PRICE'] = false;
				$arItem['MIN_BASIS_PRICE'] = false;
				foreach ($arItem['OFFERS'] as $keyOffer => $arOffer)
				{
					if (empty($arItem['MIN_PRICE']) /*&& $arOffer['CAN_BUY']*/)
					{
						$intSelected = $keyOffer;
						$arItem['MIN_PRICE'] = $arOffer['MIN_PRICE'];
						$arItem['MIN_BASIS_PRICE'] = $arOffer['MIN_PRICE'];
					}
					$arSKUProps =$arSKUArticle = false;
					if (!empty($arOffer['DISPLAY_PROPERTIES']))
					{
						$boolSKUDisplayProperties = true;
						$arSKUProps = array();
						foreach ($arOffer['DISPLAY_PROPERTIES'] as &$arOneProp)
						{
							if ('F' == $arOneProp['PROPERTY_TYPE'])
								continue;
							$arSKUProps[] = array(
								'NAME' => $arOneProp['NAME'],
								'VALUE' => $arOneProp['DISPLAY_VALUE'],
								'CODE' => $arOneProp['CODE'],
							);
						}
						unset($arOneProp);
					}

					$totalCount = COptimus::GetTotalCount($arOffer);
					$arOffer['IS_OFFER'] = 'Y';
					$arOffer['IBLOCK_ID'] = $arResult['IBLOCK_ID'];
					$arAddToBasketData = COptimus::GetAddToBasketArray($arOffer, $totalCount, $arParams["DEFAULT_COUNT"], $arParams["BASKET_URL"], false, $arItemIDs["ALL_ITEM_IDS"], 'small read_more1', $arParams);
					$arAddToBasketData["HTML"] = str_replace('data-item', 'data-props="'.$arOfferProps.'" data-item', $arAddToBasketData["HTML"]);

					$arOneRow = array(
						'ID' => $arOffer['ID'],
						'NAME' => $arOffer['~NAME'],
						'TREE' => $arOffer['TREE'],
						'DISPLAY_PROPERTIES' => $arSKUProps,
						'ARTICLE' => $arSKUArticle,
						// 'PRICE' => (isset($arOffer['RATIO_PRICE']) ? $arOffer['RATIO_PRICE'] : $arOffer['MIN_PRICE']),
						'PRICE' => $arOffer['MIN_PRICE'],
						'BASIS_PRICE' => $arOffer['MIN_PRICE'],
						'OWNER_PICT' => $arOffer['OWNER_PICT'],
						'PREVIEW_PICTURE' => $arOffer['PREVIEW_PICTURE'],
						'PREVIEW_PICTURE_SECOND' => $arOffer['PREVIEW_PICTURE_SECOND'],
						'CHECK_QUANTITY' => $arOffer['CHECK_QUANTITY'],
						'MAX_QUANTITY' => $arOffer['CATALOG_QUANTITY'],
						'STEP_QUANTITY' => $arOffer['CATALOG_MEASURE_RATIO'],
						'QUANTITY_FLOAT' => is_double($arOffer['CATALOG_MEASURE_RATIO']),
						'MEASURE' => $arOffer['~CATALOG_MEASURE_NAME'],
						'CAN_BUY' => $arOffer['CAN_BUY'],
						'CATALOG_SUBSCRIBE' => $arOffer['CATALOG_SUBSCRIBE'],
						'AVAILIABLE' => COptimus::GetQuantityArray($arOffer['CATALOG_QUANTITY']),
						'URL' => $arOffer['DETAIL_PAGE_URL'],
						'SHOW_MEASURE' => ($arParams["SHOW_MEASURE"]=="Y" ? "Y" : "N"),
						'SHOW_ONE_CLICK_BUY' => "N",
						'ONE_CLICK_BUY' => GetMessage("ONE_CLICK_BUY"),
						'OFFER_PROPS' => $arOfferProps,
						'NO_PHOTO' => $arEmptyPreview,
						'CONFIG' => $arAddToBasketData,
						'HTML' => $arAddToBasketData["HTML"],
						'PRODUCT_QUANTITY_VARIABLE' => $arParams["PRODUCT_QUANTITY_VARIABLE"],
					);
					if($arOneRow["PRICE"]["DISCOUNT_DIFF"]){
						$percent=round(($arOneRow["PRICE"]["DISCOUNT_DIFF"]/$arOneRow["PRICE"]["VALUE"])*100, 2);
						$arOneRow["PRICE"]["DISCOUNT_DIFF_PERCENT_RAW"]="-".$percent."%";
					}
					$arMatrix[$keyOffer] = $arOneRow;
				}
				if (-1 == $intSelected)
					$intSelected = 0;
				if (!$arMatrix[$intSelected]['OWNER_PICT'])
				{
					$arItem['PREVIEW_PICTURE'] = $arMatrix[$intSelected]['PREVIEW_PICTURE'];
					$arItem['PREVIEW_PICTURE_SECOND'] = $arMatrix[$intSelected]['PREVIEW_PICTURE_SECOND'];
				}
				$arItem['JS_OFFERS'] = $arMatrix;
				$arItem['OFFERS_SELECTED'] = $intSelected;
				$arItem['OFFERS_PROPS_DISPLAY'] = $boolSKUDisplayProperties;
			}
			else
			{
				$arItem['MIN_PRICE'] = COptimus::getMinPriceFromOffersExt(
					$arItem['OFFERS'],
					$boolConvert ? $arResult['CONVERT_CURRENCY']['CURRENCY_ID'] : $strBaseCurrency
				);

				/*set min_price_id*/
				$minItemPriceID = 0;
				$minItemPrice = 0;
				$minItemPriceFormat = "";
				foreach ($arItem['OFFERS'] as $keyOffer => $arOffer){

					if($arOffer["MIN_PRICE"]["CAN_ACCESS"]){
						if($arOffer["MIN_PRICE"]["DISCOUNT_VALUE"] < $arOffer["MIN_PRICE"]["VALUE"]){
							$minOfferPrice = $arOffer["MIN_PRICE"]["DISCOUNT_VALUE"];
							$minOfferPriceFormat = $arOffer["MIN_PRICE"]["PRINT_DISCOUNT_VALUE"];
							$minOfferPriceID = $arOffer["MIN_PRICE"]["PRICE_ID"];
						}
						else{
							$minOfferPrice = $arOffer["MIN_PRICE"]["VALUE"];
							$minOfferPriceFormat = $arOffer["MIN_PRICE"]["PRINT_VALUE"];
							$minOfferPriceID = $arOffer["MIN_PRICE"]["PRICE_ID"];
						}

						if($minItemPrice > 0 && $minOfferPrice < $minItemPrice){
							$minItemPrice = $minOfferPrice;
							$minItemPriceFormat = $minOfferPriceFormat;
							$minItemPriceID = $minOfferPriceID;
							$minItemID = $arOffer["ID"];
						}
						elseif($minItemPrice == 0){
							$minItemPrice = $minOfferPrice;
							$minItemPriceFormat = $minOfferPriceFormat;
							$minItemPriceID = $minOfferPriceID;
							$minItemID = $arOffer["ID"];
						}
					}
				}
				$arItem['MIN_PRICE']["MIN_PRICE_ID"]=$minItemPriceID;
				$arItem['MIN_PRICE']["MIN_ITEM_ID"]=$minItemID;
			}
		}

		if (
			$arResult['MODULES']['catalog']
			&& $arItem['CATALOG']
			&&
				($arItem['CATALOG_TYPE'] == CCatalogProduct::TYPE_PRODUCT
				|| $arItem['CATALOG_TYPE'] == CCatalogProduct::TYPE_SET)
		)
		{
			CIBlockPriceTools::setRatioMinPrice($arItem, false);
			$arItem['MIN_BASIS_PRICE'] = $arItem['MIN_PRICE'];
		}
		$arItem['ARTICLE']=false;
		if (!empty($arItem['DISPLAY_PROPERTIES']))
		{
			foreach ($arItem['DISPLAY_PROPERTIES'] as $propKey => $arDispProp)
			{
				if($propKey=="CML2_ARTICLE"){
					$arItem['ARTICLE']=$arDispProp;
				}
				if ('F' == $arDispProp['PROPERTY_TYPE'] || $propKey=="CML2_ARTICLE")
					unset($arItem['DISPLAY_PROPERTIES'][$propKey]);
			}
		}
		$arItem['LAST_ELEMENT'] = 'N';
		$arNewItemsList[$key] = $arItem;
	}
	$arNewItemsList[$key]['LAST_ELEMENT'] = 'Y';
	$arResult['ITEMS'] = $arNewItemsList;

	if($arSKUPropList)
	{
		foreach($arSKUPropList as $prop => $arProps)
		{
			unset($arSKUPropList[$prop]["USER_TYPE_SETTINGS"]);
			unset($arSKUPropList[$prop]["VALUES"]);
		}

	}

	$arResult['SKU_PROPS'] = $arSKUPropList;

	unset($arSKUPropList);

	$arResult['DEFAULT_PICTURE'] = $arEmptyPreview;

	$arResult['CURRENCIES'] = array();
	if ($arResult['MODULES']['currency'])
	{
		if ($boolConvert)
		{
			$currencyFormat = CCurrencyLang::GetFormatDescription($arResult['CONVERT_CURRENCY']['CURRENCY_ID']);
			$arResult['CURRENCIES'] = array(
				array(
					'CURRENCY' => $arResult['CONVERT_CURRENCY']['CURRENCY_ID'],
					'FORMAT' => array(
						'FORMAT_STRING' => $currencyFormat['FORMAT_STRING'],
						'DEC_POINT' => $currencyFormat['DEC_POINT'],
						'THOUSANDS_SEP' => $currencyFormat['THOUSANDS_SEP'],
						'DECIMALS' => $currencyFormat['DECIMALS'],
						'THOUSANDS_VARIANT' => $currencyFormat['THOUSANDS_VARIANT'],
						'HIDE_ZERO' => $currencyFormat['HIDE_ZERO']
					)
				)
			);
			unset($currencyFormat);
		}
		else
		{
			$currencyIterator = CurrencyTable::getList(array(
				'select' => array('CURRENCY')
			));
			while ($currency = $currencyIterator->fetch())
			{
				$currencyFormat = CCurrencyLang::GetFormatDescription($currency['CURRENCY']);
				$arResult['CURRENCIES'][] = array(
					'CURRENCY' => $currency['CURRENCY'],
					'FORMAT' => array(
						'FORMAT_STRING' => $currencyFormat['FORMAT_STRING'],
						'DEC_POINT' => $currencyFormat['DEC_POINT'],
						'THOUSANDS_SEP' => $currencyFormat['THOUSANDS_SEP'],
						'DECIMALS' => $currencyFormat['DECIMALS'],
						'THOUSANDS_VARIANT' => $currencyFormat['THOUSANDS_VARIANT'],
						'HIDE_ZERO' => $currencyFormat['HIDE_ZERO']
					)
				);
			}
			unset($currencyFormat, $currency, $currencyIterator);
		}
	}
}
?>144  47440|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/components/bitrix/catalog.section/catalog_list/script.js|a7735ca(function (window) {

if (!!window.JCCatalogSection)
{
	return;
}

window.JCCatalogSection = function (arParams)
{
	this.skuVisualParams = {
		SELECT:
		{
			TAG_BIND: 'select',
			TAG: 'option',
			ACTIVE_CLASS: 'active',
			HIDE_CLASS: 'hidden',
			EVENT: 'change',
		},
		LI:
		{
			TAG_BIND: 'li',
			TAG: 'li',
			ACTIVE_CLASS: 'active',
			HIDE_CLASS: 'missing',
			EVENT: 'click',
		}
	};
	this.productType = 0;
	this.showQuantity = true;
	this.showAbsent = true;
	this.secondPict = false;
	this.showOldPrice = false;
	this.showPercent = false;
	this.showSkuProps = false;
	this.basketAction = 'ADD';
	this.basketLinkURL = '';
	this.showClosePopup = false;
	this.useCompare = false;
	this.visual = {
		ID: '',
		PICT_ID: '',
		SECOND_PICT_ID: '',
		QUANTITY_ID: '',
		QUANTITY_UP_ID: '',
		QUANTITY_DOWN_ID: '',
		STORE_QUANTITY: '',
		PRICE_ID: '',
		PRICE_OLD_ID: '',
		DSC_PERC: '',
		SECOND_DSC_PERC: '',
		DISPLAY_PROP_DIV: '',
		BASKET_PROP_DIV: ''
	};
	this.product = {
		checkQuantity: false,
		maxQuantity: 0,
		stepQuantity: 1,
		isDblQuantity: false,
		canBuy: true,
		canSubscription: true,
		name: '',
		pict: {},
		id: 0,
		addUrl: '',
		buyUrl: ''
	};

	this.basketMode = '';
	this.basketData = {
		useProps: false,
		emptyProps: false,
		quantity: 'quantity',
		props: 'prop',
		basketUrl: '',
		sku_props: '',
		sku_props_var: 'basket_props',
		add_url: '',
		buy_url: ''
	};

	this.compareData = {
		compareUrl: '',
		comparePath: ''
	};

	this.defaultPict = {
		pict: null,
		secondPict: null
	};

	this.checkQuantity = false;
	this.maxQuantity = 0;
	this.stepQuantity = 1;
	this.defaultCount = 1;
	this.isDblQuantity = false;
	this.canBuy = true;
	this.currentBasisPrice = {};
	this.canSubscription = true;
	this.precision = 6;
	this.precisionFactor = Math.pow(10,this.precision);

	this.offers = [];
	this.offerNum = 0;
	this.treeProps = [];
	this.obTreeRows = [];
	this.showCount = [];
	this.showStart = [];
	this.selectedValues = {};

	this.obProduct = null;
	this.obQuantity = null;
	this.obQuantityUp = null;
	this.obQuantityDown = null;
	this.obPict = null;
	this.obSecondPict = null;
	this.obPrice = null;
	this.obTree = null;
	this.obBuyBtn = null;
	this.obBasketBtn = null;
	this.obBasketActions = null;
	this.obNotAvail = null;
	this.obDscPerc = null;
	this.obSecondDscPerc = null;
	this.obSkuProps = null;
	this.obMeasure = null;
	this.obCompare = null;

	this.obPopupWin = null;
	this.basketUrl = '';
	this.basketParams = {};

	this.treeRowShowSize = 5;
	this.treeEnableArrow = { display: '', cursor: 'pointer', opacity: 1 };
	this.treeDisableArrow = { display: '', cursor: 'default', opacity:0.2 };

	this.lastElement = false;
	this.containerHeight = 0;

	this.errorCode = 0;

	if ('object' === typeof arParams)
	{
		this.productType = parseInt(arParams.PRODUCT_TYPE, 10);
		this.showQuantity = arParams.SHOW_QUANTITY;
		this.showAbsent = arParams.SHOW_ABSENT;
		this.secondPict = !!arParams.SECOND_PICT;
		this.showOldPrice = !!arParams.SHOW_OLD_PRICE;
		this.showPercent = !!arParams.SHOW_DISCOUNT_PERCENT;
		this.showSkuProps = !!arParams.SHOW_SKU_PROPS;
		if (!!arParams.ADD_TO_BASKET_ACTION)
		{
			this.basketAction = arParams.ADD_TO_BASKET_ACTION;
		}
		this.showClosePopup = !!arParams.SHOW_CLOSE_POPUP;
		this.useCompare = !!arParams.DISPLAY_COMPARE;

		this.visual = arParams.VISUAL;
		this.defaultCount = arParams.DEFAULT_COUNT;
		this.basketLinkURL = arParams.BASKET_URL;
		switch (this.productType)
		{
			case 1://product
			case 2://set
				if (!!arParams.PRODUCT && 'object' === typeof(arParams.PRODUCT))
				{
					if (this.showQuantity)
					{
						this.product.checkQuantity = arParams.PRODUCT.CHECK_QUANTITY;
						this.product.isDblQuantity = arParams.PRODUCT.QUANTITY_FLOAT;
						if (this.product.checkQuantity)
						{
							this.product.maxQuantity = (this.product.isDblQuantity ? parseFloat(arParams.PRODUCT.MAX_QUANTITY) : parseInt(arParams.PRODUCT.MAX_QUANTITY, 10));
						}
						this.product.stepQuantity = (this.product.isDblQuantity ? parseFloat(arParams.PRODUCT.STEP_QUANTITY) : parseInt(arParams.PRODUCT.STEP_QUANTITY, 10));

						this.checkQuantity = this.product.checkQuantity;
						this.isDblQuantity = this.product.isDblQuantity;
						this.maxQuantity = this.product.maxQuantity;
						this.stepQuantity = this.product.stepQuantity;
						if (this.isDblQuantity)
						{
							this.stepQuantity = Math.round(this.stepQuantity*this.precisionFactor)/this.precisionFactor;
						}
					}
					this.product.canBuy = arParams.PRODUCT.CAN_BUY;
					this.product.canSubscription = arParams.PRODUCT.SUBSCRIPTION;
					if (!!arParams.PRODUCT.BASIS_PRICE)
					{
						this.currentBasisPrice = arParams.PRODUCT.BASIS_PRICE;
					}

					this.canBuy = this.product.canBuy;
					this.canSubscription = this.product.canSubscription;

					this.product.name = arParams.PRODUCT.NAME;
					this.product.pict = arParams.PRODUCT.PICT;
					this.product.id = arParams.PRODUCT.ID;
					if (!!arParams.PRODUCT.ADD_URL)
					{
						this.product.addUrl = arParams.PRODUCT.ADD_URL;
					}
					if (!!arParams.PRODUCT.BUY_URL)
					{
						this.product.buyUrl = arParams.PRODUCT.BUY_URL;
					}
					if (!!arParams.BASKET && 'object' === typeof(arParams.BASKET))
					{
						this.basketData.useProps = !!arParams.BASKET.ADD_PROPS;
						this.basketData.emptyProps = !!arParams.BASKET.EMPTY_PROPS;
					}
				}
				else
				{
					this.errorCode = -1;
				}
				break;
			case 3://sku
				if (!!arParams.OFFERS && BX.type.isArray(arParams.OFFERS))
				{
					if (!!arParams.PRODUCT && 'object' === typeof(arParams.PRODUCT))
					{
						this.product.name = arParams.PRODUCT.NAME;
						this.product.id = arParams.PRODUCT.ID;
					}
					this.offers = arParams.OFFERS;
					this.offerNum = 0;
					if (!!arParams.OFFER_SELECTED)
					{
						this.offerNum = parseInt(arParams.OFFER_SELECTED, 10);
					}
					if (isNaN(this.offerNum))
					{
						this.offerNum = 0;
					}
					if (!!arParams.TREE_PROPS)
					{
						this.treeProps = arParams.TREE_PROPS;
					}
					if (!!arParams.DEFAULT_PICTURE)
					{
						this.defaultPict.pict = arParams.DEFAULT_PICTURE.PICTURE;
						this.defaultPict.secondPict = arParams.DEFAULT_PICTURE.PICTURE_SECOND;
					}
				}
				else
				{
					this.errorCode = -1;
				}
				break;
			default:
				this.errorCode = -1;
		}
		if (!!arParams.BASKET && 'object' === typeof(arParams.BASKET))
		{
			if (!!arParams.BASKET.QUANTITY)
			{
				this.basketData.quantity = arParams.BASKET.QUANTITY;
			}
			if (!!arParams.BASKET.PROPS)
			{
				this.basketData.props = arParams.BASKET.PROPS;
			}
			if (!!arParams.BASKET.BASKET_URL)
			{
				this.basketData.basketUrl = arParams.BASKET.BASKET_URL;
			}
			if (3 === this.productType)
			{
				if (!!arParams.BASKET.SKU_PROPS)
				{
					this.basketData.sku_props = arParams.BASKET.SKU_PROPS;
				}
			}
			if (!!arParams.BASKET.ADD_URL_TEMPLATE)
			{
				this.basketData.add_url = arParams.BASKET.ADD_URL_TEMPLATE;
			}
			if (!!arParams.BASKET.BUY_URL_TEMPLATE)
			{
				this.basketData.buy_url = arParams.BASKET.BUY_URL_TEMPLATE;
			}
			if (this.basketData.add_url === '' && this.basketData.buy_url === '')
			{
				this.errorCode = -1024;
			}
		}
		if (this.useCompare)
		{
			if (!!arParams.COMPARE && typeof(arParams.COMPARE) === 'object')
			{
				if (!!arParams.COMPARE.COMPARE_PATH)
				{
					this.compareData.comparePath = arParams.COMPARE.COMPARE_PATH;
				}
				if (!!arParams.COMPARE.COMPARE_URL_TEMPLATE_DEL)
				{
					this.compareData.compareUrlDel = arParams.COMPARE.COMPARE_URL_TEMPLATE_DEL;
				}
				if (!!arParams.COMPARE.COMPARE_URL_TEMPLATE)
				{
					this.compareData.compareUrl = arParams.COMPARE.COMPARE_URL_TEMPLATE;
				}
				else
				{
					this.useCompare = false;
				}
			}
			else
			{
				this.useCompare = false;
			}
		}

		this.lastElement = (!!arParams.LAST_ELEMENT && 'Y' === arParams.LAST_ELEMENT);
	}
	if (0 === this.errorCode)
	{
		BX.ready(BX.delegate(this.Init,this));
	}
};

window.JCCatalogSection.prototype.Init = function()
{
	var i = 0,
		strPrefix = '',
		TreeItems = null;

	this.obProduct = BX(this.visual.ID);
	if (!this.obProduct)
	{
		this.errorCode = -1;
	}
	this.obPict = BX(this.visual.PICT_ID);
	if (!this.obPict)
	{
		this.errorCode = -2;
	}
	if (this.secondPict && !!this.visual.SECOND_PICT_ID)
	{
		this.obSecondPict = BX(this.visual.SECOND_PICT_ID);
	}
	this.storeQuanity = BX(this.visual.STORE_QUANTITY);
	this.obPrice = BX(this.visual.PRICE_ID);
	this.obPriceOld = BX(this.visual.PRICE_OLD_ID);
	if (!this.obPrice)
	{
		this.errorCode = -16;
	}
	if (this.showQuantity && !!this.visual.QUANTITY_ID)
	{
		this.obQuantity = BX(this.visual.QUANTITY_ID);
		if (!!this.visual.QUANTITY_UP_ID)
		{
			this.obQuantityUp = BX(this.visual.QUANTITY_UP_ID);
		}
		if (!!this.visual.QUANTITY_DOWN_ID)
		{
			this.obQuantityDown = BX(this.visual.QUANTITY_DOWN_ID);
		}
	}
	if (3 === this.productType)
	{
		if (!!this.visual.TREE_ID)
		{
			this.obTree = BX(this.visual.TREE_ID);
			if (!this.obTree)
			{
				this.errorCode = -256;
			}
			strPrefix = this.visual.TREE_ITEM_ID;
			for (i = 0; i < this.treeProps.length; i++)
			{
				this.obTreeRows[i] = {
					LIST: BX(strPrefix+this.treeProps[i].ID+'_list'),
					CONT: BX(strPrefix+this.treeProps[i].ID+'_cont')
				};
				if (!this.obTreeRows[i].LIST || !this.obTreeRows[i].CONT)
				{
					this.errorCode = -512;
					break;
				}
			}
		}
		if (!!this.visual.QUANTITY_MEASURE)
		{
			this.obMeasure = BX(this.visual.QUANTITY_MEASURE);
		}
	}

	this.obBasketActions = BX(this.visual.BASKET_ACTIONS_ID);
	if (!!this.obBasketActions)
	{
		if (!!this.visual.BUY_ID)
		{
			this.obBuyBtn = BX(this.visual.BUY_ID);
		}
		if (!!this.visual.BASKET_LINK)
		{
			this.obBasketBtn = BX(this.visual.BASKET_LINK);
		}
	}
	this.obNotAvail = BX(this.visual.NOT_AVAILABLE_MESS);

	if (this.showPercent)
	{
		if (!!this.visual.DSC_PERC)
		{
			this.obDscPerc = BX(this.visual.DSC_PERC);
		}
		if (this.secondPict && !!this.visual.SECOND_DSC_PERC)
		{
			this.obSecondDscPerc = BX(this.visual.SECOND_DSC_PERC);
		}
	}

	if (this.showSkuProps)
	{
		if (!!this.visual.DISPLAY_PROP_DIV)
		{
			this.obSkuProps = BX(this.visual.DISPLAY_PROP_DIV);
		}
	}

	if (0 === this.errorCode)
	{
		if (this.showQuantity)
		{
			if (!!this.obQuantityUp)
			{
				BX.bind(this.obQuantityUp, 'click', BX.delegate(this.QuantityUp, this));
			}
			if (!!this.obQuantityDown)
			{
				BX.bind(this.obQuantityDown, 'click', BX.delegate(this.QuantityDown, this));
			}
			if (!!this.obQuantity)
			{
				BX.bind(this.obQuantity, 'change', BX.delegate(this.QuantityChange, this));
			}
		}
		switch (this.productType)
		{
			case 1://product
				break;
			case 3://sku
				for(var key in this.skuVisualParams){
					var TreeItems = BX.findChildren(this.obTree, {tagName: this.skuVisualParams[key].TAG_BIND}, true);
					if (!!TreeItems && 0 < TreeItems.length){
						for (i = 0; i < TreeItems.length; i++){
							$(TreeItems[i]).on(this.skuVisualParams[key].EVENT, BX.delegate(this.SelectOfferProp, this));
							//BX.bind(TreeItems[i], this.skuVisualParams[key].EVENT, BX.delegate(this.SelectOfferProp, this));
						}
					}
				}
				this.SetCurrent();
				break;
		}
		$(this.obProduct).find(".read_more.to-cart").on('click', BX.delegate(this.Add2Basket, this));
		if (!!this.obBuyBtn)
		{
			if (this.basketAction === 'ADD')
			{
				// BX.bind(this.obBuyBtn, 'click', BX.delegate(this.Add2Basket, this));


			}
			else
			{
				BX.bind(this.obBuyBtn, 'click', BX.delegate(this.BuyBasket, this));
			}
		}
		if (this.useCompare){
			this.obCompare = BX(this.visual.COMPARE_LINK_ID);
			//if (!!this.obCompare){
				/*BX.bind(BX.findChild(this.obCompare, {"class": "compare_item to"}), 'click', BX.proxy(this.Compare, this));
				BX.bind(BX.findChild(this.obCompare, {"class": "compare_item in"}), 'click', BX.proxy(this.Compare, this));*/
				//$(this.obProduct).find(".compare_item.to").on('click', BX.proxy(this.Compare, this));
				//$(this.obProduct).find(".compare_item.in").on('click', BX.proxy(this.Compare, this));
			//}
		}
	}
};

window.JCCatalogSection.prototype.checkHeight = function()
{
	this.containerHeight = parseInt(this.obProduct.parentNode.offsetHeight, 10);
	if (isNaN(this.containerHeight)){
		this.containerHeight = 0;
	}
};

window.JCCatalogSection.prototype.setHeight = function()
{
	if (0 < this.containerHeight){
		BX.adjust(this.obProduct.parentNode, {style: { height: this.containerHeight+'px'}});
	}
};

window.JCCatalogSection.prototype.clearHeight = function()
{
	BX.adjust(this.obProduct.parentNode, {style: { height: 'auto'}});
};

window.JCCatalogSection.prototype.QuantityUp = function()
{
	var curValue = 0,
		boolSet = true,
		calcPrice;

	if (0 === this.errorCode && this.showQuantity && this.canBuy)
	{
		curValue = (this.isDblQuantity ? parseFloat(this.obQuantity.value) : parseInt(this.obQuantity.value, 10));
		if (!isNaN(curValue))
		{
			curValue += this.stepQuantity;
			if (this.checkQuantity)
			{
				if (curValue > this.maxQuantity)
				{
					boolSet = false;
				}
			}
			if (boolSet)
			{
				if (this.isDblQuantity)
				{
					curValue = Math.round(curValue*this.precisionFactor)/this.precisionFactor;
				}
				this.obQuantity.value = curValue;
			}
		}
	}
};

window.JCCatalogSection.prototype.QuantityDown = function()
{
	var curValue = 0,
		boolSet = true,
		calcPrice;

	if (0 === this.errorCode && this.showQuantity && this.canBuy)
	{
		curValue = (this.isDblQuantity ? parseFloat(this.obQuantity.value): parseInt(this.obQuantity.value, 10));
		if (!isNaN(curValue))
		{
			curValue -= this.stepQuantity;
			if (curValue < this.stepQuantity)
			{
				boolSet = false;
			}
			if (boolSet)
			{
				if (this.isDblQuantity)
				{
					curValue = Math.round(curValue*this.precisionFactor)/this.precisionFactor;
				}
				this.obQuantity.value = curValue;
			}
		}
	}
};

window.JCCatalogSection.prototype.QuantityChange = function()
{
	var curValue = 0,
		calcPrice,
		intCount,
		count;

	if (0 === this.errorCode && this.showQuantity)
	{
		if (this.canBuy)
		{
			curValue = (this.isDblQuantity ? parseFloat(this.obQuantity.value) : parseInt(this.obQuantity.value, 10));
			if (!isNaN(curValue))
			{
				if (this.checkQuantity)
				{
					if (curValue > this.maxQuantity)
					{
						curValue = this.maxQuantity;
					}
				}
				if (curValue < this.stepQuantity)
				{
					curValue = this.stepQuantity;
				}
				else
				{
					count = curValue/this.stepQuantity;
					intCount = parseInt(count, 10);
					if (isNaN(intCount))
					{
						intCount = 1;
						count = 1.1;
					}
					if (count > intCount)
					{
						curValue = (intCount <= 1 ? this.stepQuantity : intCount*this.stepQuantity);
						curValue = Math.round(curValue*this.precisionFactor)/this.precisionFactor;
					}
				}
				this.obQuantity.value = curValue;
			}
			else
			{
				this.obQuantity.value = this.stepQuantity;
			}
		}
		else
		{
			this.obQuantity.value = this.stepQuantity;
		}
	}
};

window.JCCatalogSection.prototype.QuantitySet = function(index)
{
	if (0 === this.errorCode)
	{
		this.canBuy = this.offers[index].CAN_BUY;
		if (this.canBuy)
		{
			if (!!this.obBasketActions)
			{
				BX.style(this.obBasketActions, 'display', '');
			}
			if (!!this.obNotAvail)
			{
				BX.style(this.obNotAvail, 'display', 'none');
			}
		}
		else
		{
			if (!!this.obBasketActions)
			{
				//BX.style(this.obBasketActions, 'display', 'none');
				BX.style(this.obBasketActions, 'opacity', '0');
				BX.style(BX.findParent(BX(this.obQuantity), { 'class':'counter_block' }), 'display', 'none');
			}
			if (!!this.obNotAvail)
			{
				BX.style(this.obNotAvail, 'display', '');
			}
		}
		if (this.showQuantity)
		{
			this.isDblQuantity = this.offers[index].QUANTITY_FLOAT;
			this.checkQuantity = this.offers[index].CHECK_QUANTITY;
			if (this.isDblQuantity)
			{
				this.maxQuantity = parseFloat(this.offers[index].MAX_QUANTITY);
				this.stepQuantity = Math.round(parseFloat(this.offers[index].STEP_QUANTITY)*this.precisionFactor)/this.precisionFactor;
			}
			else
			{
				this.maxQuantity = parseInt(this.offers[index].MAX_QUANTITY, 10);
				this.stepQuantity = parseInt(this.offers[index].STEP_QUANTITY, 10);
			}
			if(!!this.obQuantity){
				this.obQuantity.value = this.defaultCount;
				this.obQuantity.disabled = !this.canBuy;
			}
			if (!!this.obMeasure)
			{
				if (!!this.offers[index].MEASURE)
				{
					BX.adjust(this.obMeasure, { html : this.offers[index].MEASURE});
				}
				else
				{
					BX.adjust(this.obMeasure, { html : ''});
				}
			}
		}
		this.currentBasisPrice = this.offers[index].BASIS_PRICE;
	}
};

window.JCCatalogSection.prototype.SelectOfferProp = function()
{
	var i = 0,
		value = '',
		strTreeValue = '',
		arTreeItem = [],
		RowItems = null,
		target = BX.proxy_context;
	if(typeof target.options !== 'undefined' && typeof target.options[target.selectedIndex] !== 'undefined')
		target = target.options[target.selectedIndex];

	if (!!target && target.hasAttribute('data-treevalue'))
	{
		strTreeValue = target.getAttribute('data-treevalue');
		propModes = target.getAttribute('data-showtype');
		arTreeItem = strTreeValue.split('_');
		if (this.SearchOfferPropIndex(arTreeItem[0], arTreeItem[1]))
		{
			RowItems = BX.findChildren(target.parentNode, {tagName: this.skuVisualParams[propModes.toUpperCase()].TAG}, false);

			if (!!RowItems && 0 < RowItems.length)
			{
				for (i = 0; i < RowItems.length; i++)
				{
					value = RowItems[i].getAttribute('data-onevalue');

					// for SELECTBOXES
					if(propModes == 'TEXT'){
						if (value === arTreeItem[1]){
							RowItems[i].setAttribute('selected', 'selected');
						}else{
							RowItems[i].removeAttribute('selected');
						}
					}else{
						if (value === arTreeItem[1]){
							$(RowItems[i]).addClass(this.skuVisualParams[propModes.toUpperCase()].ACTIVE_CLASS);
						}else{
							$(RowItems[i]).removeClass(this.skuVisualParams[propModes.toUpperCase()].ACTIVE_CLASS);
						}
					}
				}
			}
		}
	}
};

window.JCCatalogSection.prototype.SearchOfferPropIndex = function(strPropID, strPropValue)
{
	var strName = '',
		arShowValues = false,
		i, j,
		arCanBuyValues = [],
		index = -1,
		arFilter = {},
		tmpFilter = [];

	for (i = 0; i < this.treeProps.length; i++)
	{
		if (this.treeProps[i].ID === strPropID)
		{
			index = i;
			break;
		}
	}

	if (-1 < index)
	{
		for (i = 0; i < index; i++)
		{
			strName = 'PROP_'+this.treeProps[i].ID;
			arFilter[strName] = this.selectedValues[strName];
		}
		strName = 'PROP_'+this.treeProps[index].ID;
		arShowValues = this.GetRowValues(arFilter, strName);
		if (!arShowValues)
		{
			return false;
		}
		if (!BX.util.in_array(strPropValue, arShowValues))
		{
			return false;
		}
		arFilter[strName] = strPropValue;
		for (i = index+1; i < this.treeProps.length; i++)
		{
			strName = 'PROP_'+this.treeProps[i].ID;
			arShowValues = this.GetRowValues(arFilter, strName);
			if (!arShowValues)
			{
				return false;
			}
			if (this.showAbsent)
			{
				arCanBuyValues = [];
				tmpFilter = [];
				tmpFilter = BX.clone(arFilter, true);
				for (j = 0; j < arShowValues.length; j++)
				{
					tmpFilter[strName] = arShowValues[j];
					/*if (this.GetCanBuy(tmpFilter))
					{*/
						arCanBuyValues[arCanBuyValues.length] = arShowValues[j];
					//}
				}
			}
			else
			{
				arCanBuyValues = arShowValues;
			}
			if (!!this.selectedValues[strName] && BX.util.in_array(this.selectedValues[strName], arCanBuyValues))
			{
				arFilter[strName] = this.selectedValues[strName];
			}
			else
			{
				arFilter[strName] = arCanBuyValues[0];
			}
			this.UpdateRow(i, arFilter[strName], arShowValues, arCanBuyValues);
		}
		this.selectedValues = arFilter;
		this.ChangeInfo();
	}
	return true;
};

window.JCCatalogSection.prototype.UpdateRow = function(intNumber, activeID, showID, canBuyID)
{
	var i = 0,
		showI = 0,
		value = '',
		countShow = 0,
		strNewLen = '',
		obData = {},
		pictMode = false,
		extShowMode = false,
		isCurrent = false,
		selectIndex = 0,
		obLeft = this.treeEnableArrow,
		obRight = this.treeEnableArrow,
		currentShowStart = 0,
		RowItems = null;

	if (-1 < intNumber && intNumber < this.obTreeRows.length){
		propMode = this.treeProps[intNumber].DISPLAY_TYPE;
		RowItems = BX.findChildren(this.obTreeRows[intNumber].LIST, {tagName: this.skuVisualParams[propMode].TAG}, false);
		if (!!RowItems && 0 < RowItems.length){
			selectMode = ('SELECT' === this.treeProps[intNumber].DISPLAY_TYPE);
			countShow = showID.length;
			obData = {
				style: {},
				props: {
					disabled: '',
					selected: '',
				},
			};

			for (i = 0; i < RowItems.length; i++){
				value = RowItems[i].getAttribute('data-onevalue');
				isCurrent = (value === activeID && value !=0);
				/*if (BX.util.in_array(value, canBuyID)){
					obData.props.className = (isCurrent ? this.skuVisualParams[propMode].ACTIVE_CLASS : '');
				}else{
					obData.props.className = (isCurrent ? this.skuVisualParams[propMode].ACTIVE_CLASS+' '+this.skuVisualParams[propMode].HIDE_CLASS : this.skuVisualParams[propMode].HIDE_CLASS);
				}*/
				obData.props.className = (isCurrent ? this.skuVisualParams[propMode].ACTIVE_CLASS : '');

				if(selectMode){
					obData.props.disabled = 'disabled';
					obData.props.selected = (isCurrent ? 'selected' : '');
				}else{
					obData.style.display = 'none';
				}

				if (BX.util.in_array(value, showID)){
					if(selectMode){
						obData.props.disabled = '';
					}else{
						obData.style.display = '';
					}
					if (isCurrent){
						selectIndex = showI;
					}
					showI++;
				}
				BX.adjust(RowItems[i], obData);
			}

			if(selectMode){
				if($(this.obTreeRows[intNumber].LIST).parent().hasClass('ik_select'))
					$(this.obTreeRows[intNumber].LIST).ikSelect('reset');
			}

			this.showCount[intNumber] = countShow;
			this.showStart[intNumber] = currentShowStart;
		}
	}
};

window.JCCatalogSection.prototype.GetRowValues = function(arFilter, index)
{
	var i = 0,
		j,
		arValues = [],
		boolSearch = false,
		boolOneSearch = true;

	if (0 === arFilter.length)
	{
		for (i = 0; i < this.offers.length; i++)
		{
			if (!BX.util.in_array(this.offers[i].TREE[index], arValues))
			{
				arValues[arValues.length] = this.offers[i].TREE[index];
			}
		}
		boolSearch = true;
	}
	else
	{
		for (i = 0; i < this.offers.length; i++)
		{
			boolOneSearch = true;
			for (j in arFilter)
			{
				if (arFilter[j] !== this.offers[i].TREE[j])
				{
					boolOneSearch = false;
					break;
				}
			}
			if (boolOneSearch)
			{
				if (!BX.util.in_array(this.offers[i].TREE[index], arValues))
				{
					arValues[arValues.length] = this.offers[i].TREE[index];
				}
				boolSearch = true;
			}
		}
	}
	return (boolSearch ? arValues : false);
};

window.JCCatalogSection.prototype.GetCanBuy = function(arFilter)
{
	var i = 0,
		j,
		boolSearch = false,
		boolOneSearch = true;

	for (i = 0; i < this.offers.length; i++)
	{
		boolOneSearch = true;
		for (j in arFilter)
		{
			if (arFilter[j] !== this.offers[i].TREE[j])
			{
				boolOneSearch = false;
				break;
			}
		}
		if (boolOneSearch)
		{
			if (this.offers[i].CAN_BUY)
			{
				boolSearch = true;
				break;
			}
		}
	}
	return boolSearch;
};

window.JCCatalogSection.prototype.SetCurrent = function()
{
	var i = 0,
		j = 0,
		arCanBuyValues = [],
		strName = '',
		arShowValues = false,
		arFilter = {},
		tmpFilter = [],
		current = this.offers[this.offerNum].TREE;
	for (i = 0; i < this.treeProps.length; i++)
	{
		strName = 'PROP_'+this.treeProps[i].ID;
		arShowValues = this.GetRowValues(arFilter, strName);
		if (!arShowValues)
		{
			break;
		}
		if (BX.util.in_array(current[strName], arShowValues))
		{
			arFilter[strName] = current[strName];
		}
		else
		{
			arFilter[strName] = arShowValues[0];
			this.offerNum = 0;
		}
		if (this.showAbsent)
		{
			arCanBuyValues = [];
			tmpFilter = [];
			tmpFilter = BX.clone(arFilter, true);
			for (j = 0; j < arShowValues.length; j++)
			{
				tmpFilter[strName] = arShowValues[j];
				if (this.GetCanBuy(tmpFilter))
				{
					arCanBuyValues[arCanBuyValues.length] = arShowValues[j];
				}
			}
		}
		else
		{
			arCanBuyValues = arShowValues;
		}
		this.UpdateRow(i, arFilter[strName], arShowValues, arCanBuyValues);
	}
	this.selectedValues = arFilter;
	this.ChangeInfo();
};

window.JCCatalogSection.prototype.ChangeInfo = function()
{
	var i = 0,
		j,
		index = -1,
		compareParams,
		boolOneSearch = true;

	for (i = 0; i < this.offers.length; i++)
	{
		boolOneSearch = true;
		for (j in this.selectedValues)
		{
			if (this.selectedValues[j] !== this.offers[i].TREE[j])
			{
				boolOneSearch = false;
				break;
			}
		}
		if (boolOneSearch)
		{
			index = i;
			break;
		}
	}
	if (-1 < index){
		if (!!this.obPict){
			var obData = {
				attrs: {}
			};

			if (!!this.offers[index].PREVIEW_PICTURE){
				obData.attrs.src = this.offers[index].PREVIEW_PICTURE.SRC;
			}else{
				obData.attrs.src = this.defaultPict.pict.SRC;
			}
			BX.adjust(BX.findChild(this.obPict, {"tag": "img"}), obData);
		}
		if (this.secondPict && !!this.obSecondPict)
		{
			if (!!this.offers[index].PREVIEW_PICTURE_SECOND)
			{
				BX.adjust(this.obSecondPict, {style: {backgroundImage: 'url('+this.offers[index].PREVIEW_PICTURE_SECOND.SRC+')'}});
			}
			else if (!!this.offers[index].PREVIEW_PICTURE.SRC)
			{
				BX.adjust(this.obSecondPict, {style: {backgroundImage: 'url('+this.offers[index].PREVIEW_PICTURE.SRC+')'}});
			}
			else if (!!this.defaultPict.secondPict)
			{
				BX.adjust(this.obSecondPict, {style: {backgroundImage: 'url('+this.defaultPict.secondPict.SRC+')'}});
			}
			else
			{
				BX.adjust(this.obSecondPict, {style: {backgroundImage: 'url('+this.defaultPict.pict.SRC+')'}});
			}
		}
		if (this.showSkuProps && !!this.obSkuProps)
		{
			if (0 === this.offers[index].DISPLAY_PROPERTIES.length)
			{
				BX.adjust(this.obSkuProps, {style: {display: 'none'}, html: ''});
			}
			else
			{
				BX.adjust(this.obSkuProps, {style: {display: ''}, html: this.offers[index].DISPLAY_PROPERTIES});
			}
		}


		$(this.obBuyBtn).data("item", this.offers[index].ID);
		$(this.obBasketBtn).data("item", this.offers[index].ID);

		$(this.obBasketActions).closest('.counter_wrapp').css('opacity', 0);

		var measure = this.offers[index].MEASURE && this.offers[index].SHOW_MEASURE=="Y" ? this.offers[index].MEASURE : '';
		this.setPrice(this.offers[index].PRICE, measure);
		this.setQuantityStore(this.offers[index].MAX_QUANTITY, this.offers[index].AVAILIABLE.TEXT);
		this.offerNum = index;
		this.QuantitySet(this.offerNum);

		$(this.obProduct).find('.item-title a').attr('href', this.offers[this.offerNum].URL);
		$(this.obProduct).find('.image_wrapper_block > a').attr('href', this.offers[this.offerNum].URL);


		/*quantity discount start*/
		if($(this.obProduct).find('.quantity_block .values').length){
			$(this.obProduct).find('.quantity_block .values .item span').text(this.offers[index].MAX_QUANTITY).css({'opacity':'1'});
		}
		/*quantity discount end*/

		var obj=this.offers[index],
			th=$(this.obProduct);

		/*set article start*/
		this.setArticle(th.find('.article_block'), obj);
		/*set article end*/

		if(typeof arBasketAspro !=="undefined"){
			this.setActualDataBlock(th, obj);
		}else{
			if(typeof window.frameCacheVars !== "undefined"){
				BX.addCustomEvent("onFrameDataReceived", function(){
					window.JCCatalogSection.prototype.setActualDataBlock(th, obj);
				});
			}
		}
	}
};

/*set article start*/
window.JCCatalogSection.prototype.setArticle = function(th, obj)
{
	if(obj.ARTICLE)
		th.html(obj.ARTICLE);
}
/*set article end*/

/*set blocks start*/
window.JCCatalogSection.prototype.setActualDataBlock = function(th, obj)
{
	/*like block start*/
	this.setLikeBlock(th, '.like_icons .wish_item_button', obj, 'DELAY');
	this.setLikeBlock(th, '.like_icons .compare_item_button',obj, 'COMPARE');
	/*like block end*/

	/*buy block start*/
	this.setBuyBlock(th, obj);
	/*buy block end*/
}
/*set blocks end*/

/*set compare/wish*/
window.JCCatalogSection.prototype.setLikeBlock = function(th, className, obj, type)
{
	var block=th;
	if(type=="DELAY"){
		if(obj.CAN_BUY){
			block.find(className).css('display','inline-block');
		}else{
			block.find(className).hide();
		}
	}
	block.find(className).attr('data-item', obj.ID);
	block.find(className).find('span').attr('data-item', obj.ID);
	if(arBasketAspro[type]){
		block.find(className).find('.to').removeClass('added').css('display','block');
		block.find(className).find('.in').hide();

		if(arBasketAspro[type][obj.ID]!==undefined){
			block.find(className).find('.to').hide();
			block.find(className).find('.in').addClass('added').css('display','block');
		}
	}
}

/*set buy*/
window.JCCatalogSection.prototype.setBuyBlock = function(th, obj)
{
	var buyBlock=th.find('.offer_buy_block');

	if(buyBlock.find('.counter_wrapp .counter_block').length){
		buyBlock.find('.counter_wrapp .counter_block').attr('data-item', obj.ID);
	}
	if((obj.CONFIG.OPTIONS.USE_PRODUCT_QUANTITY_DETAIL && obj.CONFIG.ACTION == "ADD") && obj.CAN_BUY){
		var max=(obj.CONFIG.MAX_QUANTITY_BUY>0 ? "data-max='"+obj.CONFIG.MAX_QUANTITY_BUY+"'" : ""),
			counterHtml='<span class="minus">-</span>'+
				'<input type="text" class="text" name="'+obj.PRODUCT_QUANTITY_VARIABLE+'" value="'+obj.CONFIG.MIN_QUANTITY_BUY+'" />'+
				'<span class="plus" '+max+'>+</span>';
		if(arBasketAspro["BASKET"] && arBasketAspro["BASKET"][obj.ID]!==undefined){
			if(buyBlock.find('.counter_wrapp .counter_block').length){
				buyBlock.find('.counter_wrapp .counter_block').hide();
			}else{
				buyBlock.find('.counter_wrapp').prepend('<div class="counter_block" data-item="'+obj.ID+'"></div>');
				buyBlock.find('.counter_wrapp .counter_block').html(counterHtml).hide();
			}
		}else{
			if(buyBlock.find('.counter_wrapp .counter_block').length){
				buyBlock.find('.counter_wrapp .counter_block').html(counterHtml).show();
			}else{
				buyBlock.find('.counter_wrapp').prepend('<div class="counter_block" data-item="'+obj.ID+'"></div>');
				buyBlock.find('.counter_wrapp .counter_block').html(counterHtml);
			}
		}
	}else{
		if(buyBlock.find('.counter_wrapp .counter_block').length){
			buyBlock.find('.counter_wrapp .counter_block').hide();
		}
	}
	var className=((obj.CONFIG.ACTION == "ORDER") || !obj.CAN_BUY || !obj.CONFIG.OPTIONS.USE_PRODUCT_QUANTITY_DETAIL || (obj.CONFIG.ACTION == "SUBSCRIBE" && obj.CATALOG_SUBSCRIBE == "Y") ? "wide" : "" ),
		buyBlockBtn=$('<div class="button_block"></div>');

	if(buyBlock.find('.counter_wrapp').find('.button_block').length){
		if(arBasketAspro["BASKET"] && arBasketAspro["BASKET"][obj.ID]!==undefined){
			buyBlock.find('.counter_wrapp').find('.button_block').addClass('wide').html(obj.HTML);
			markProductAddBasket(obj.ID);
		}else{
			if(className){
				buyBlock.find('.counter_wrapp').find('.button_block').addClass('wide').html(obj.HTML);
				if(arBasketAspro["SUBSCRIBE"] && arBasketAspro["SUBSCRIBE"][obj.ID]!==undefined){
					markProductSubscribe(obj.ID);
				}
			}else{
				buyBlock.find('.counter_wrapp').find('.button_block').removeClass('wide').html(obj.HTML);
			}
		}
	}else{
		buyBlock.find('.counter_wrapp').append('<div class="button_block '+className+'">'+obj.HTML+'</div>');
		if(arBasketAspro["BASKET"] && arBasketAspro["BASKET"][obj.ID]!==undefined)
			markProductAddBasket(obj.ID);
		if(arBasketAspro["SUBSCRIBE"] && arBasketAspro["SUBSCRIBE"][obj.ID]!==undefined)
			markProductSubscribe(obj.ID);
	}

	if(obj.CONFIG.ACTION !== "NOTHING"){
		if(obj.CONFIG.ACTION == "ADD" && obj.CAN_BUY && obj.SHOW_ONE_CLICK_BUY!="N"){
			var ocb='<span class="transparent big_btn type_block button one_click" data-offers="Y" data-item="'+obj.ID+'" data-iblockID="'+obj.IBLOCK_ID+'" data-quantity="'+obj.CONFIG.MIN_QUANTITY_BUY+'" data-props="'+obj.OFFER_PROPS+'" onclick="oneClickBuy('+obj.ID+', '+obj.IBLOCK_ID+', this)">'+
				'<span>'+obj.ONE_CLICK_BUY+'</span>'+
				'</span>';
			if(buyBlock.find('.wrapp_one_click').length){
				buyBlock.find('.wrapp_one_click').html(ocb);
			}else{
				buyBlock.append('<div class="wrapp_one_click">'+ocb+'</div>');
			}
		}else{
			if(buyBlock.find('.wrapp_one_click').length){
				buyBlock.find('.wrapp_one_click').remove();
			}
		}
	}else{
		if(buyBlock.find('.wrapp_one_click').length){
			buyBlock.find('.wrapp_one_click').remove();
		}
	}

	buyBlock.fadeIn();
}

/*get compare sku*/
window.JCCatalogSection.prototype.CompareCountResult = function(result)
{
	if(result.COMPARE_COUNT){
		for(var i in result.ITEMS){
			if(result.ITEMS[i]==this.offers[this.offerNum].ID){
				this.offers[this.offerNum].COMPARE_ACTIVE=true;
				break;
			}else{
				this.offers[this.offerNum].COMPARE_ACTIVE=false;
			}
		}
		if(this.offers[this.offerNum].COMPARE_ACTIVE){
			$(this.obCompare).find('.compare_item.to').hide();
			$(this.obCompare).find('.compare_item.added').show();
		}else{
			$(this.obCompare).find('.compare_item.added').hide();
			$(this.obCompare).find('.compare_item.to').show();
		}
	}
}

/*get item info*/
window.JCCatalogSection.prototype.ItemInfoResult = function(result)
{
	if(result.HTML){
		$(this.obBasketActions).html(result.HTML);
		$(this.obBasketActions).show();
		this.obBuyBtn = BX(this.visual.BUY_ID);
		this.obBasketBtn = BX(this.visual.BASKET_LINK);
		this.obSubscribeBtn = BX(this.visual.SUBSCRIBE_ID);
		this.obSubscribedBtn = BX(this.visual.SUBSCRIBED_ID);
		BX.bind(this.obBuyBtn, 'click', BX.delegate(this.Add2Basket, this));
		$(this.obBasketActions).removeClass('wide');
		this.ajax_type_item=result.BUYMISSINGGOODS;
		if(result.BUYMISSINGGOODS!="ADD" && !this.canBuy){
			$(this.obBasketActions).addClass('wide');
		}else{
			$(this.obQuantity).css('display','');
		}
	}
	//if(this.canBuy){
		basketParams = {
			ajax_action: 'Y'
		};
		BX.ajax.loadJSON(
			arOptimusOptions['SITE_DIR']+'ajax/get_basket_count.php',
			basketParams,
			BX.delegate(this.BasketCountResult, this)
		);
	//}
}

/*get basket items*/
window.JCCatalogSection.prototype.BasketCountResult = function(result)
{
	//if(result.TOTAL_COUNT){
		for(var i in result.ITEMS){
			if(result.ITEMS[i].PRODUCT_ID==this.offers[this.offerNum].ID){
				this.offers[this.offerNum].BASKET_ACTIVE=true;
				break;
			}else{
				this.offers[this.offerNum].BASKET_ACTIVE=false;
			}
		}
		for(var i in result.SUBSCRIBE_ITEMS){
			if(result.SUBSCRIBE_ITEMS[i].PRODUCT_ID==this.offers[this.offerNum].ID){
				this.offers[this.offerNum].SUBSCRIBE_ACTIVE=true;
				break;
			}else{
				this.offers[this.offerNum].SUBSCRIBE_ACTIVE=false;
			}
		}

		this.BasketStateRefresh();
	//}
}

window.JCCatalogSection.prototype.BasketStateRefresh = function(buy_basket)
{
	/*if(this.offers[this.offerNum].SUBSCRIBE_ACTIVE){
		$(this.obBasketActions).addClass('wide');
		$(this.obSubscribeBtn).hide();
		$(this.obSubscribedBtn).show();
	}else{
		$(this.obBasketActions).addClass('wide');
		$(this.obSubscribedBtn).hide();
		$(this.obSubscribeBtn).show();
	}
	if(this.offers[this.offerNum].BASKET_ACTIVE){
		$(this.obBuyBtn).hide();
		$(this.obBasketBtn).show();
		$(this.obQuantity).closest('.counter_wrapp').find('.counter_block').hide();
		$(this.obBasketActions).addClass('wide');
	}else{
		$(this.obBasketActions).removeClass('wide');
		$(this.obBasketBtn).hide();
		$(this.obBuyBtn).show();
		if(this.ajax_type_item=="ADD" || this.canBuy)
			$(this.obQuantity).closest('.counter_wrapp').find('.counter_block').show();

	}
	if(!this.canBuy){
		$(this.obBasketActions).addClass('wide');
	}*/
	if(this.offers[this.offerNum].SUBSCRIBE_ACTIVE){
		$(this.obProduct).find('.hover_block .o_'+this.offers[this.offerNum].ID+' .to-subscribe').hide();
		$(this.obProduct).find('.hover_block .o_'+this.offers[this.offerNum].ID+' .in-subscribe').show();
	}else{
		$(this.obProduct).find('.hover_block .o_'+this.offers[this.offerNum].ID+' .to-subscribe').show();
		$(this.obProduct).find('.hover_block .o_'+this.offers[this.offerNum].ID+' .in-subscribe').hide();
	}
	if(this.offers[this.offerNum].BASKET_ACTIVE){
		$(this.obProduct).find('.information_wrapp .o_'+this.offers[this.offerNum].ID).addClass('wide');
		$(this.obProduct).find('.information_wrapp .o_'+this.offers[this.offerNum].ID+' .button_block').addClass('wide');
		$(this.obProduct).find('.information_wrapp .o_'+this.offers[this.offerNum].ID+' .to-cart').hide();
		$(this.obProduct).find('.information_wrapp .o_'+this.offers[this.offerNum].ID+' .in-cart').show();
		$(this.obProduct).find('.information_wrapp .o_'+this.offers[this.offerNum].ID+' .counter_block').hide();
	}else{
		$(this.obProduct).find('.information_wrapp .o_'+this.offers[this.offerNum].ID).removeClass('wide');
		$(this.obProduct).find('.information_wrapp .o_'+this.offers[this.offerNum].ID+' .button_block').removeClass('wide');
		$(this.obProduct).find('.information_wrapp .o_'+this.offers[this.offerNum].ID+' .to-cart').show();
		$(this.obProduct).find('.information_wrapp .o_'+this.offers[this.offerNum].ID+' .in-cart').hide();
		$(this.obProduct).find('.information_wrapp .o_'+this.offers[this.offerNum].ID+' .counter_block').show();

	}
	BX.style(this.obBasketActions, 'opacity', '1');
	$(this.obBasketActions).closest('.counter_wrapp').css('opacity', 1);
	if(buy_basket!== 'undefined' && buy_basket=="Y"){
		if($("#basket_line .basket_fly").length && $(window).outerWidth()>768)
		{
			// preAnimateBasketFly($("#basket_line .basket_fly"), 200, 333);
			basketFly('open');
		}
		else if($("#basket_line .cart").length)
		{
			if($("#basket_line .cart").is(".empty_cart"))
			{
				$("#basket_line .cart").removeClass("empty_cart").find(".cart_wrapp a.basket_link").removeAttr("href").addClass("cart-call");
				touchBasket('.cart:not(.empty_cart) .basket_block .link');
			}
			reloadTopBasket('add', $('#basket_line'), 200, 2000, 'Y');
			/*if($(window).outerWidth() > 520){
				//if(arOptimusOptions['THEME']['SHOW_BASKET_ONADDTOCART'] !== 'N'){
					preAnimateBasketPopup('', $('.card_popup_frame'), 0, 200);
				//}
			};*/
		}
		animateBasketLine(200);
	}
}

window.JCCatalogSection.prototype.setPrice = function(price, measure)
{
	var strPrice,
		obData;

	if (!!this.obPrice){
		strPrice = BX.Currency.currencyFormat(price.DISCOUNT_VALUE, price.CURRENCY, true);
		if(measure){
			strPrice=(strPrice ? strPrice +'/'+measure : "&nbsp;");
		}
		BX.adjust(this.obPrice, {html: strPrice});
		if (price.DISCOUNT_VALUE !== price.VALUE && this.showOldPrice)
		{
			$(this.obPriceOld).find('strike').show().html(BX.Currency.currencyFormat(price.VALUE, price.CURRENCY, true));
			if(this.showPercent){
				$(this.obPriceOld).closest('.cost').find('.sale_block').show();
				$(this.obPriceOld).closest('.cost').find('.value').html(price.DISCOUNT_DIFF_PERCENT_RAW);
				$(this.obPriceOld).closest('.cost').find('.text span').html(BX.Currency.currencyFormat(price.DISCOUNT_DIFF, price.CURRENCY, true));
			}
		}
		else{
			$(this.obPriceOld).find('strike').hide().html('');
			if(this.showPercent){
				$(this.obPriceOld).closest('.cost').find('.sale_block').hide();
			}
		}
	}
};

/*set store quantity*/
window.JCCatalogSection.prototype.setQuantityStore = function(quantity, text)
{
	if(parseFloat(quantity)>0){
		$(this.storeQuanity).find('.icon').removeClass('order').addClass('stock');
		//$(this.storeQuanity).find('.icon + span').html(BX.message('QUANTITY_AVAILIABLE')+' ('+quantity+')');
	}else{
		$(this.storeQuanity).find('.icon').removeClass('stock').addClass('order');
		//$(this.storeQuanity).find('.icon + span').html(BX.message('QUANTITY_NOT_AVAILIABLE'));
	}
	$(this.storeQuanity).find('.icon + span').html(text);
}

window.JCCatalogSection.prototype.Compare = function()
{
	var compareParams, compareLink;
	$(this.obProduct).find('.like_icons .o_'+this.offers[this.offerNum].ID).data('changed','Y');
	// if($(this.obCompare).find('.compare_item.added').is(':visible')){
	if($(this.obProduct).find('.like_icons .o_'+this.offers[this.offerNum].ID).find('.compare_item.added').is(':visible')){
		compareLink = this.compareData.compareUrlDel;
		this.compareData.Added = false;
	}else{
		compareLink = this.compareData.compareUrl;
		this.compareData.Added = true;
	}
	if (!!compareLink){
		switch (this.productType){
			case 1://product
			case 2://set
				compareLink = compareLink.replace('#ID#', this.product.id.toString());
				break;
			case 3://sku
				compareLink = compareLink.replace('#ID#', this.offers[this.offerNum].ID);
				break;
		}
		compareParams = {
			ajax_action: 'Y'
		};
		BX.ajax.loadJSON(
			compareLink,
			compareParams,
			BX.proxy(this.CompareResult, this)
		);
	}
};

window.JCCatalogSection.prototype.CompareResult = function(result)
{
	var popupContent, popupButtons, popupTitle;

	if (typeof result !== 'object'){
		return false;
	}

	if (result.STATUS === 'OK'){
		BX.onCustomEvent('OnCompareChange');
		/*if(!this.compareData.Added){
			$(this.obCompare).find('.in').hide();
			$(this.obCompare).find('.to').show();
		}
		else{
			$(this.obCompare).find('.to').hide();
			$(this.obCompare).find('.in').show();
		}*/
		if(!this.compareData.Added){
			$(this.obProduct).find('.like_icons .o_'+this.offers[this.offerNum].ID).find('.in').hide();
			$(this.obProduct).find('.like_icons .o_'+this.offers[this.offerNum].ID).find('.to').show();
		}
		else{
			$(this.obProduct).find('.like_icons .o_'+this.offers[this.offerNum].ID).find('.to').hide();
			$(this.obProduct).find('.like_icons .o_'+this.offers[this.offerNum].ID).find('.in').show();
		}
		jsAjaxUtil.InsertDataToNode(arOptimusOptions['SITE_DIR'] + 'ajax/show_compare_preview_top.php', 'compare_line', false);
	}else{
		console.log(BX.message('ADD_ERROR_COMPARE'));
	}
	return false;
};

window.JCCatalogSection.prototype.CompareRedirect = function()
{
	if (!!this.compareData.comparePath){
		location.href = this.compareData.comparePath;
	}else{
		this.obPopupWin.close();
	}
};

window.JCCatalogSection.prototype.InitBasketUrl = function()
{
	this.basketUrl = (this.basketMode === 'ADD' ? this.basketData.add_url : this.basketData.buy_url);
	switch (this.productType)
	{
		case 1://product
		case 2://set
			this.basketUrl = this.basketUrl.replace('#ID#', this.product.id.toString());
			break;
		case 3://sku
			this.basketUrl = this.basketUrl.replace('#ID#', this.offers[this.offerNum].ID);
			break;
	}
	this.basketParams = {
		'ajax_basket': 'Y'
	};
	if (this.showQuantity)
	{
		// this.basketParams[this.basketData.quantity] = this.obQuantity.value;
		this.basketParams[this.basketData.quantity] = $(this.obProduct).find('.counter_wrapp.o_'+this.offers[this.offerNum].ID).find('.counter_block .text').val();
	}
	if (!!this.basketData.sku_props)
	{
		this.basketParams[this.basketData.sku_props_var] = this.basketData.sku_props;
	}
};

window.JCCatalogSection.prototype.FillBasketProps = function()
{
	if (!this.visual.BASKET_PROP_DIV)
	{
		return;
	}
	var
		i = 0,
		propCollection = null,
		foundValues = false,
		obBasketProps = null;

	if (this.basketData.useProps && !this.basketData.emptyProps)
	{
		if (!!this.obPopupWin && !!this.obPopupWin.contentContainer)
		{
			obBasketProps = this.obPopupWin.contentContainer;
		}
	}
	else
	{
		obBasketProps = BX(this.visual.BASKET_PROP_DIV);
	}
	if (!!obBasketProps)
	{
		propCollection = obBasketProps.getElementsByTagName('select');
		if (!!propCollection && !!propCollection.length)
		{
			for (i = 0; i < propCollection.length; i++)
			{
				if (!propCollection[i].disabled)
				{
					switch(propCollection[i].type.toLowerCase())
					{
						case 'select-one':
							this.basketParams[propCollection[i].name] = propCollection[i].value;
							foundValues = true;
							break;
						default:
							break;
					}
				}
			}
		}
		propCollection = obBasketProps.getElementsByTagName('input');
		if (!!propCollection && !!propCollection.length)
		{
			for (i = 0; i < propCollection.length; i++)
			{
				if (!propCollection[i].disabled)
				{
					switch(propCollection[i].type.toLowerCase())
					{
						case 'hidden':
							this.basketParams[propCollection[i].name] = propCollection[i].value;
							foundValues = true;
							break;
						case 'radio':
							if (propCollection[i].checked)
							{
								this.basketParams[propCollection[i].name] = propCollection[i].value;
								foundValues = true;
							}
							break;
						default:
							break;
					}
				}
			}
		}
	}
	if (!foundValues)
	{
		this.basketParams[this.basketData.props] = [];
		this.basketParams[this.basketData.props][0] = 0;
	}
};

window.JCCatalogSection.prototype.Add2Basket = function()
{
	this.basketMode = 'ADD';
	this.Basket();
};

window.JCCatalogSection.prototype.BuyBasket = function()
{
	this.basketMode = 'BUY';
	this.Basket();
};

window.JCCatalogSection.prototype.SendToBasket = function()
{
	if (!this.canBuy){
		return;
	}

	this.InitBasketUrl();
	this.FillBasketProps();

	BX.ajax.loadJSON(
		this.basketUrl,
		this.basketParams,
		BX.delegate(this.BasketResult, this)
	);
};

window.JCCatalogSection.prototype.Basket = function()
{
	var contentBasketProps = '';
	if (!this.canBuy){
		return;
	}

	this.SendToBasket();
};

window.JCCatalogSection.prototype.BasketResult = function(arResult)
{
	var strContent = '',
		strPict = '',
		successful,
		buttons = [];

	if (!!this.obPopupWin){
		this.obPopupWin.close();
	}
	if ('object' !== typeof arResult){
		return false;
	}
	successful = (arResult.STATUS === 'OK');
	if (successful && this.basketAction === 'BUY'){
		this.BasketRedirect();
	}else{
		if (successful){
			BX.onCustomEvent('OnBasketChange');
			this.offers[this.offerNum].BASKET_ACTIVE=true;
			this.BasketStateRefresh("Y");
			$(this.obProduct).find('.hover_block .o_'+this.offers[this.offerNum].ID).data('changed','Y');

		}else{
			console.log(BX.message('ADD_ERROR_BASKET'));
		}
	}
};

window.JCCatalogSection.prototype.BasketRedirect = function()
{
	location.href = (!!this.basketData.basketUrl ? this.basketData.basketUrl : BX.message('BASKET_URL'));
};

})(window);148  23263|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/components/bitrix/catalog.section/catalog_list/template.php|ca0e1136<?if(!defined("B_PROLOG_INCLUDED") || B_PROLOG_INCLUDED!==true)die();?>
<?$this->setFrameMode(true);?>
<?if( count( $arResult["ITEMS"] ) >= 1 ){?>
	<?if($arParams["AJAX_REQUEST"]=="N"){?>
		<div class="display_list">
	<?}?>
		<?
		$currencyList = '';
		if (!empty($arResult['CURRENCIES'])){
			$templateLibrary[] = 'currency';
			$currencyList = CUtil::PhpToJSObject($arResult['CURRENCIES'], false, true, true);
		}
		$templateData = array(
			'TEMPLATE_LIBRARY' => $templateLibrary,
			'CURRENCIES' => $currencyList
		);
		unset($currencyList, $templateLibrary);

		$arParams["BASKET_ITEMS"] = ($arParams["BASKET_ITEMS"] ? $arParams["BASKET_ITEMS"] : array());

		$arOfferProps = implode(';', $arParams['OFFERS_CART_PROPERTIES']);
		?>
		<?foreach($arResult["ITEMS"] as $arItem){?>

			<?$this->AddEditAction($arItem['ID'], $arItem['EDIT_LINK'], CIBlock::GetArrayByID($arParams["IBLOCK_ID"], "ELEMENT_EDIT"));
			$this->AddDeleteAction($arItem['ID'], $arItem['DELETE_LINK'], CIBlock::GetArrayByID($arParams["IBLOCK_ID"], "ELEMENT_DELETE"), array("CONFIRM" => GetMessage('CT_BCS_ELEMENT_DELETE_CONFIRM')));

			$arItem["strMainID"] = $this->GetEditAreaId($arItem['ID']);
			$arItemIDs=COptimus::GetItemsIDs($arItem);

			$totalCount = COptimus::GetTotalCount($arItem);
			$arQuantityData = COptimus::GetQuantityArray($totalCount, $arItemIDs["ALL_ITEM_IDS"]);

			$item_id = $arItem["ID"];
			$strMeasure = '';
			if(!$arItem["OFFERS"] || $arParams['TYPE_SKU'] !== 'TYPE_1'){
				if($arParams["SHOW_MEASURE"] == "Y" && $arItem["CATALOG_MEASURE"]){
					$arMeasure = CCatalogMeasure::getList(array(), array("ID" => $arItem["CATALOG_MEASURE"]), false, false, array())->GetNext();
					$strMeasure = $arMeasure["SYMBOL_RUS"];
				}
			}
			elseif($arItem["OFFERS"]){
				$strMeasure = $arItem["MIN_PRICE"]["CATALOG_MEASURE_NAME"];
			}
			?>
			<div class="list_item_wrapp item_wrap item">
				<table class="list_item" id="<?=$arItemIDs["strMainID"];?>" cellspacing="0" cellpadding="0" border="0" width="100%">
					<tr class="adaptive_name">
						<td colspan="2">
							<div class="desc_name"><a href="<?=$arItem["DETAIL_PAGE_URL"]?>"><span><?=$arItem["NAME"]?></span></a></div>
						</td>
					</tr>
					<tr>
					<td class="image_block">
						<div class="image_wrapper_block">
							<div class="stickers">
								<?if (is_array($arItem["PROPERTIES"]["HIT"]["VALUE_XML_ID"])):?>
									<?foreach($arItem["PROPERTIES"]["HIT"]["VALUE_XML_ID"] as $key=>$class){?>
										<div><div class="sticker_<?=strtolower($class);?>"><?=$arItem["PROPERTIES"]["HIT"]["VALUE"][$key]?></div></div>
									<?}?>
								<?endif;?>
								<?if($arParams["SALE_STIKER"] && $arItem["PROPERTIES"][$arParams["SALE_STIKER"]]["VALUE"]){?>
									<div><div class="sticker_sale_text"><?=$arItem["PROPERTIES"][$arParams["SALE_STIKER"]]["VALUE"];?></div></div>
								<?}?>
							</div>
							<a href="<?=$arItem["DETAIL_PAGE_URL"]?>" class="thumb" id="<? echo $arItemIDs["ALL_ITEM_IDS"]['PICT']; ?>">
								<?
								$a_alt=($arItem["PREVIEW_PICTURE"]["DESCRIPTION"] ? $arItem["PREVIEW_PICTURE"]["DESCRIPTION"] : ($arItem["IPROPERTY_VALUES"]["ELEMENT_PREVIEW_PICTURE_FILE_ALT"] ? $arItem["IPROPERTY_VALUES"]["ELEMENT_PREVIEW_PICTURE_FILE_ALT"] : $arItem["NAME"] ));
								$a_title=($arItem["PREVIEW_PICTURE"]["DESCRIPTION"] ? $arItem["PREVIEW_PICTURE"]["DESCRIPTION"] : ($arItem["IPROPERTY_VALUES"]["ELEMENT_PREVIEW_PICTURE_FILE_TITLE"] ? $arItem["IPROPERTY_VALUES"]["ELEMENT_PREVIEW_PICTURE_FILE_TITLE"] : $arItem["NAME"] ));
								?>
								<?if( !empty($arItem["PREVIEW_PICTURE"]) ):?>
									<img border="0" src="<?=$arItem["PREVIEW_PICTURE"]["SRC"]?>" alt="<?=$a_alt;?>" title="<?=$a_title;?>" />
								<?elseif( !empty($arItem["DETAIL_PICTURE"])):?>
									<?$img = CFile::ResizeImageGet($arItem["DETAIL_PICTURE"], array( "width" => 170, "height" => 170 ), BX_RESIZE_IMAGE_PROPORTIONAL,true );?>
									<img border="0" src="<?=$img["src"]?>" alt="<?=$a_alt;?>" title="<?=$a_title;?>" />
								<?else:?>
									<img border="0" src="<?=SITE_TEMPLATE_PATH?>/images/no_photo_medium.png" alt="<?=$a_alt;?>" title="<?=$a_title;?>" />
								<?endif;?>
							</a>
						</div>
					</td>

					<td class="description_wrapp">
						<div class="description">
							<div class="item-title">
								<a href="<?=$arItem["DETAIL_PAGE_URL"]?>"><span><?=$arItem["NAME"]?></span></a>
							</div>
							<div class="wrapp_stockers">
								<?if($arParams["SHOW_RATING"] == "Y"):?>
									<div class="rating">
										<?$APPLICATION->IncludeComponent(
										   "bitrix:iblock.vote",
										   "element_rating_front",
										   Array(
											  "IBLOCK_TYPE" => $arParams["IBLOCK_TYPE"],
											  "IBLOCK_ID" => $arItem["IBLOCK_ID"],
											  "ELEMENT_ID" =>$arItem["ID"],
											  "MAX_VOTE" => 5,
											  "VOTE_NAMES" => array(),
											  "CACHE_TYPE" => $arParams["CACHE_TYPE"],
											  "CACHE_TIME" => $arParams["CACHE_TIME"],
											  "DISPLAY_AS_RATING" => 'vote_avg'
										   ),
										   $component, array("HIDE_ICONS" =>"Y")
										);?>
									</div>
								<?endif;?>
								<?=$arQuantityData["HTML"];?>
								<div class="article_block">
									<?if(isset($arItem['ARTICLE']) && $arItem['ARTICLE']['VALUE']){?>
										<?=$arItem['ARTICLE']['NAME'];?>: <?=$arItem['ARTICLE']['VALUE'];?>
									<?}?>
								</div>
							</div>
							<?if ($arItem["PREVIEW_TEXT"]):?> <div class="preview_text"><?=$arItem["PREVIEW_TEXT"]?></div> <?endif;?>
							<?$boolShowOfferProps = ($arItem['OFFERS_PROPS_DISPLAY']);
							$boolShowProductProps = (isset($arItem['DISPLAY_PROPERTIES']) && !empty($arItem['DISPLAY_PROPERTIES']));?>
							<?if($boolShowProductProps || $boolShowOfferProps):?>
								<div class="props_list_wrapp">
									<table class="props_list prod">
										<?if ($boolShowProductProps){
											foreach( $arItem["DISPLAY_PROPERTIES"] as $arProp ){?>
												<?if( !empty( $arProp["VALUE"] ) ){?>
													<tr>
														<td><span><?=$arProp["NAME"]?></span></td>
														<td>
															<span>
															<?
															if(count($arProp["DISPLAY_VALUE"])>1) { foreach($arProp["DISPLAY_VALUE"] as $key => $value) { if ($arProp["DISPLAY_VALUE"][$key+1]) {echo $value.", ";} else {echo $value;} }}
															else { echo $arProp["DISPLAY_VALUE"]; }
															?>
															</span>
														</td>
													</tr>
												<?}?>
											<?}
										}?>
									</table>
									<?if ($boolShowOfferProps){?>
										<table class="props_list offers" id="<? echo $arItemIDs["ALL_ITEM_IDS"]['DISPLAY_PROP_DIV']; ?>" style="display: none;"></table>
									<?}?>
								</div>
								<div class="show_props dark_link">
									<span class="icons_fa char_title"><span><?=GetMessage('PROPERTIES')?></span></span>
								</div>
							<?endif;?>
						</div>
						<?if((!$arItem["OFFERS"] && $arParams["DISPLAY_WISH_BUTTONS"] != "N" ) || ($arParams["DISPLAY_COMPARE"] == "Y")):?>
							<div class="like_icons">
								<?if($arParams["DISPLAY_WISH_BUTTONS"] != "N"):?>
									<?if(!$arItem["OFFERS"]):?>
										<div class="wish_item_button">
											<span class="wish_item to" data-item="<?=$arItem["ID"]?>" data-iblock="<?=$arItem["IBLOCK_ID"]?>"><i></i><div><?=GetMessage('CATALOG_WISH')?></div></span>
											<span class="wish_item in added" style="display: none;" data-item="<?=$arItem["ID"]?>" data-iblock="<?=$arItem["IBLOCK_ID"]?>"><i></i><div><?=GetMessage('CATALOG_WISH_OUT')?></div></span>
										</div>
									<?elseif($arItem["OFFERS"] && !empty($arItem['OFFERS_PROP'])):?>
										<div class="wish_item_button" style="display: none;">
											<span class="wish_item to <?=$arParams["TYPE_SKU"];?>" data-item="" data-iblock="<?=$arItem["IBLOCK_ID"]?>" data-offers="Y" data-props="<?=$arOfferProps?>"><i></i><div><?=GetMessage('CATALOG_WISH')?></div></span>
											<span class="wish_item in added <?=$arParams["TYPE_SKU"];?>" style="display: none;" data-item="" data-iblock="<?=$arItem["IBLOCK_ID"]?>"><i></i><div><?=GetMessage('CATALOG_WISH_OUT')?></div></span>
										</div>
									<?endif;?>
								<?endif;?>
								<?if($arParams["DISPLAY_COMPARE"] == "Y"):?>
									<?if(!$arItem["OFFERS"] || $arParams["TYPE_SKU"] !== 'TYPE_1'):?>
										<div class="compare_item_button">
											<span class="compare_item to" data-iblock="<?=$arParams["IBLOCK_ID"]?>" data-item="<?=$arItem["ID"]?>" ><i></i><div><?=GetMessage('CATALOG_COMPARE')?></div></span>
											<span class="compare_item in added" style="display: none;" data-iblock="<?=$arParams["IBLOCK_ID"]?>" data-item="<?=$arItem["ID"]?>"><i></i><div><?=GetMessage('CATALOG_COMPARE_OUT')?></div></span>
										</div>
									<?elseif($arItem["OFFERS"]):?>
										<div class="compare_item_button">
											<span class="compare_item to <?=$arParams["TYPE_SKU"];?>" data-iblock="<?=$arParams["IBLOCK_ID"]?>" data-item="" ><i></i><div><?=GetMessage('CATALOG_COMPARE')?></div></span>
											<span class="compare_item in added <?=$arParams["TYPE_SKU"];?>" style="display: none;" data-iblock="<?=$arParams["IBLOCK_ID"]?>" data-item=""><i></i><div><?=GetMessage('CATALOG_COMPARE_OUT')?></div></span>
										</div>
									<?endif;?>
								<?endif;?>
							</div>
						<?endif;?>
					</td>
					<td class="information_wrapp">
						<div class="information">
							<div class="cost prices clearfix">
								<?if( count( $arItem["OFFERS"] ) > 0 ){
									$minPrice = false;
									$min_price_id=0;
									if (isset($arItem['MIN_PRICE']) || isset($arItem['RATIO_PRICE'])){
										// $minPrice = (isset($arItem['RATIO_PRICE']) ? $arItem['RATIO_PRICE'] : $arItem['MIN_PRICE']);
										$minPrice = $arItem['MIN_PRICE'];
									}
									$offer_id=0;
									if($arParams["TYPE_SKU"]=="N"){
										$offer_id=$minPrice["MIN_ITEM_ID"];
									}
									$min_price_id=$minPrice["MIN_PRICE_ID"];
									if(!$min_price_id)
										$min_price_id=$minPrice["PRICE_ID"];
									if($minPrice["MIN_ITEM_ID"])
										$item_id=$minPrice["MIN_ITEM_ID"];
									$prefix='';
									if('N' == $arParams['TYPE_SKU'] || $arParams['DISPLAY_TYPE'] =='table' || empty($arItem['OFFERS_PROP'])){
										$prefix=GetMessage("CATALOG_FROM");
									}
									if($arParams["SHOW_OLD_PRICE"]=="Y"){?>
										<div class="price" id="<? echo $arItemIDs["ALL_ITEM_IDS"]['PRICE']; ?>">
											<?if(strlen($minPrice["PRINT_DISCOUNT_VALUE"])):?>
												<?=$prefix;?> <?=$minPrice["PRINT_DISCOUNT_VALUE"];?>
												<?if (($arParams["SHOW_MEASURE"]=="Y") && $strMeasure){?>
													/<?=$strMeasure?>
												<?}?>
											<?endif;?>
										</div>
										<div class="price discount" id="<? echo $arItemIDs["ALL_ITEM_IDS"]['PRICE_OLD']; ?>" <?=(!$minPrice["DISCOUNT_DIFF"] ? 'style="display:none;"' : '')?>>
											<strike <?=(!$minPrice["DISCOUNT_DIFF"] ? 'style="display:none;"' : '')?>><?=$minPrice["PRINT_VALUE"];?></strike>
										</div>
										<?/*if($arParams["SHOW_DISCOUNT_PERCENT"]=="Y"){?>
											<div class="sale_block" <?=(!$minPrice["DISCOUNT_DIFF"] ? 'style="display:none;"' : '')?>>
												<?$percent=round(($minPrice["DISCOUNT_DIFF"]/$minPrice["VALUE"])*100, 2);?>
												<div class="value">-<?=$percent;?>%</div>
												<div class="text"><?=GetMessage("CATALOG_ECONOMY");?> <span><?=$minPrice["PRINT_DISCOUNT_DIFF"];?></span></div>
												<div class="clearfix"></div>
											</div>
										<?}*/?>
									<?}else{?>
										<div class="price" id="<? echo $arItemIDs["ALL_ITEM_IDS"]['PRICE']; ?>">
											<?if(strlen($minPrice["PRINT_DISCOUNT_VALUE"])):?>
												<?=$prefix;?> <?=$minPrice['PRINT_DISCOUNT_VALUE'];?>
												<?if (($arParams["SHOW_MEASURE"]=="Y") && $strMeasure){?>
													/<?=$strMeasure?>
												<?}?>
											<?endif;?>
										</div>
									<?}?>
								<?}else{?>
									<?
									$arCountPricesCanAccess = 0;
									$min_price_id=0;
									foreach( $arItem["PRICES"] as $key => $arPrice ) { if($arPrice["CAN_ACCESS"]){$arCountPricesCanAccess++;} }
									?>
									<?foreach($arItem["PRICES"] as $key => $arPrice){?>
										<?if($arPrice["CAN_ACCESS"]){
											$percent=0;
											if($arPrice["MIN_PRICE"]=="Y"){
												$min_price_id=$arPrice["PRICE_ID"];
											}?>
											<?$price = CPrice::GetByID($arPrice["ID"]);?>
											<?if($arCountPricesCanAccess > 1):?>
												<div class="price_name"><?=$price["CATALOG_GROUP_NAME"];?></div>
											<?endif;?>
											<?if($arPrice["VALUE"] > $arPrice["DISCOUNT_VALUE"] && $arParams["SHOW_OLD_PRICE"]=="Y"){?>
												<div class="price" id="<? echo $arItemIDs["ALL_ITEM_IDS"]['PRICE']; ?>">
													<?if(strlen($arPrice["PRINT_DISCOUNT_VALUE"])):?>
														<?=$arPrice["PRINT_DISCOUNT_VALUE"];?>
														<?if (($arParams["SHOW_MEASURE"]=="Y") && $strMeasure){?>
															/<?=$strMeasure?>
														<?}?>
													<?endif;?>
												</div>
												<div class="price discount">
													<strike><?=$arPrice["PRINT_VALUE"];?></strike>
												</div>
												<?/*if($arParams["SHOW_DISCOUNT_PERCENT"]=="Y"){?>
													<div class="sale_block">
														<?$percent=round(($arPrice["DISCOUNT_DIFF"]/$arPrice["VALUE"])*100, 2);?>
														<?if($percent && $percent<100){?>
															<div class="value">-<?=$percent;?>%</div>
														<?}?>
														<div class="text"><?=GetMessage("CATALOG_ECONOMY");?> <span><?=$arPrice["PRINT_DISCOUNT_DIFF"];?></span></div>
														<div class="clearfix"></div>
													</div>
												<?}*/?>
											<?}else{?>
												<div class="price" id="<? echo $arItemIDs["ALL_ITEM_IDS"]['PRICE']; ?>">
													<?if(strlen($arPrice["PRINT_VALUE"])):?>
														<?=$arPrice["PRINT_VALUE"];?>
														<?if (($arParams["SHOW_MEASURE"]=="Y") && $strMeasure){?>
															/<?=$strMeasure?>
														<?}?>
													<?endif;?>
												</div>
											<?}?>
										<?}?>
									<?}?>
								<?}?>
							</div>
							<?if($arParams["SHOW_DISCOUNT_TIME"]=="Y"){?>
								<?$arDiscounts = CCatalogDiscount::GetDiscountByProduct( $item_id, $USER->GetUserGroupArray(), "N", $min_price_id, SITE_ID );
								$arDiscount=array();
								if($arDiscounts)
									$arDiscount=current($arDiscounts);
								if($arDiscount["ACTIVE_TO"]){?>
									<div class="view_sale_block">
										<div class="count_d_block">
											<span class="active_to hidden"><?=$arDiscount["ACTIVE_TO"];?></span>
											<div class="title"><?=GetMessage("UNTIL_AKC");?></div>
											<span class="countdown values"></span>
										</div>
										<div class="quantity_block">
											<div class="title"><?=GetMessage("TITLE_QUANTITY_BLOCK");?></div>
											<div class="values">
												<span class="item">
													<span><?=$totalCount;?></span>
													<div class="text"><?=GetMessage("TITLE_QUANTITY");?></div>
												</span>
											</div>
										</div>
									</div>
								<?}?>
							<?}?>
							<?if($arItem["OFFERS"]){?>
								<?if(!empty($arItem['OFFERS_PROP'])){?>
									<div class="sku_props">
										<div class="bx_catalog_item_scu wrapper_sku" id="<? echo $arItemIDs["ALL_ITEM_IDS"]['PROP_DIV']; ?>">
											<?$arSkuTemplate = array();?>
											<?$arSkuTemplate=COptimus::GetSKUPropsArray($arItem['OFFERS_PROPS_JS'], $arResult["SKU_IBLOCK_ID"], $arParams["DISPLAY_TYPE"], $arParams["OFFER_HIDE_NAME_PROPS"]);?>
											<?foreach ($arSkuTemplate as $code => $strTemplate){
												if (!isset($arItem['OFFERS_PROP'][$code]))
													continue;
												echo '<div>', str_replace('#ITEM#_prop_', $arItemIDs["ALL_ITEM_IDS"]['PROP'], $strTemplate), '</div>';
											}?>
										</div>
										<?$arItemJSParams=COptimus::GetSKUJSParams($arResult, $arParams, $arItem);?>
										<script type="text/javascript">
											var <? echo $arItemIDs["strObName"]; ?> = new JCCatalogSection(<? echo CUtil::PhpToJSObject($arItemJSParams, false, true); ?>);
										</script>
									</div>
								<?}?>
							<?}?>

							<div class="basket_props_block" id="bx_basket_div_<?=$arItem["ID"];?>" style="display: none;">
								<?if (!empty($arItem['PRODUCT_PROPERTIES_FILL'])){
									foreach ($arItem['PRODUCT_PROPERTIES_FILL'] as $propID => $propInfo){?>
										<input type="hidden" name="<? echo $arParams['PRODUCT_PROPS_VARIABLE']; ?>[<? echo $propID; ?>]" value="<? echo htmlspecialcharsbx($propInfo['ID']); ?>">
										<?if (isset($arItem['PRODUCT_PROPERTIES'][$propID]))
											unset($arItem['PRODUCT_PROPERTIES'][$propID]);
									}
								}
								$arItem["EMPTY_PROPS_JS"]="Y";
								$emptyProductProperties = empty($arItem['PRODUCT_PROPERTIES']);
								if (!$emptyProductProperties){
									$arItem["EMPTY_PROPS_JS"]="N";?>
									<div class="wrapper">
										<table>
											<?foreach ($arItem['PRODUCT_PROPERTIES'] as $propID => $propInfo){?>
												<tr>
													<td><? echo $arItem['PROPERTIES'][$propID]['NAME']; ?></td>
													<td>
														<?if('L' == $arItem['PROPERTIES'][$propID]['PROPERTY_TYPE']	&& 'C' == $arItem['PROPERTIES'][$propID]['LIST_TYPE']){
															foreach($propInfo['VALUES'] as $valueID => $value){?>
																<label>
																	<input type="radio" name="<? echo $arParams['PRODUCT_PROPS_VARIABLE']; ?>[<? echo $propID; ?>]" value="<? echo $valueID; ?>" <? echo ($valueID == $propInfo['SELECTED'] ? '"checked"' : ''); ?>><? echo $value; ?>
																</label>
															<?}
														}else{?>
															<select name="<? echo $arParams['PRODUCT_PROPS_VARIABLE']; ?>[<? echo $propID; ?>]"><?
																foreach($propInfo['VALUES'] as $valueID => $value){?>
																	<option value="<? echo $valueID; ?>" <? echo ($valueID == $propInfo['SELECTED'] ? '"selected"' : ''); ?>><? echo $value; ?></option>
																<?}?>
															</select>
														<?}?>
													</td>
												</tr>
											<?}?>
										</table>
									</div>
									<?
								}?>
							</div>

							<?if(!$arItem["OFFERS"] || $arParams['TYPE_SKU'] !== 'TYPE_1'):?>
								<?$arAddToBasketData = COptimus::GetAddToBasketArray($arItem, $totalCount, $arParams["DEFAULT_COUNT"], $arParams["BASKET_URL"], false, $arItemIDs["ALL_ITEM_IDS"], 'small', $arParams);?>
								<div class="counter_wrapp <?=($arItem["OFFERS"] && $arParams["TYPE_SKU"] == "TYPE_1" ? 'woffers' : '')?>">
									<?if(($arAddToBasketData["OPTIONS"]["USE_PRODUCT_QUANTITY_LIST"] && $arAddToBasketData["ACTION"] == "ADD") && $arItem["CAN_BUY"]):?>
										<div class="counter_block" data-offers="<?=($arItem["OFFERS"] ? "Y" : "N");?>" data-item="<?=$arItem["ID"];?>">
											<span class="minus" id="<? echo $arItemIDs["ALL_ITEM_IDS"]['QUANTITY_DOWN']; ?>">-</span>
											<input type="text" class="text" id="<? echo $arItemIDs["ALL_ITEM_IDS"]['QUANTITY']; ?>" name="<? echo $arParams["PRODUCT_QUANTITY_VARIABLE"]; ?>" value="<?=$arAddToBasketData["MIN_QUANTITY_BUY"]?>" />
											<span class="plus" id="<? echo $arItemIDs["ALL_ITEM_IDS"]['QUANTITY_UP']; ?>" <?=($arAddToBasketData["MAX_QUANTITY_BUY"] ? "data-max='".$arAddToBasketData["MAX_QUANTITY_BUY"]."'" : "")?>>+</span>
										</div>
									<?endif;?>
									<div id="<?=$arItemIDs["ALL_ITEM_IDS"]['BASKET_ACTIONS']; ?>" class="button_block <?=(($arAddToBasketData["ACTION"] == "ORDER"/*&& !$arItem["CAN_BUY"]*/) || !$arItem["CAN_BUY"] || !$arAddToBasketData["OPTIONS"]["USE_PRODUCT_QUANTITY_LIST"] || $arAddToBasketData["ACTION"] == "SUBSCRIBE" ? "wide" : "");?>">
										<!--noindex-->
											<?=$arAddToBasketData["HTML"]?>
										<!--/noindex-->
									</div>
								</div>
							<?elseif($arItem["OFFERS"]):?>
								<?if(empty($arItem['OFFERS_PROP'])){?>
									<div class="offer_buy_block buys_wrapp woffers">
										<div class="counter_wrapp">
										<?
										$arItem["OFFERS_MORE"] = "Y";
										$arAddToBasketData = COptimus::GetAddToBasketArray($arItem, $totalCount, $arParams["DEFAULT_COUNT"], $arParams["BASKET_URL"], false, $arItemIDs["ALL_ITEM_IDS"], 'small read_more1', $arParams);?>
										<!--noindex-->
											<?=$arAddToBasketData["HTML"]?>
										<!--/noindex-->
										</div>
									</div>
								<?}else{?>
									<div class="offer_buy_block buys_wrapp woffers" style="display:none;">
										<div class="counter_wrapp"></div>
									</div>
								<?}?>
							<?endif;?>
						</div>
					</td></tr>
				</table>
			</div>
		<?}?>
	<?if($arParams["AJAX_REQUEST"]=="N"){?>
		</div>
		<script>
			$(document).ready(function(){
				$('.sort_header').fadeIn();
			})
		</script>
	<?}?>
	<?if($arParams["AJAX_REQUEST"]=="Y"){?>
		<div class="wrap_nav">
	<?}?>
	<div class="bottom_nav <?=$arParams["DISPLAY_TYPE"];?>" <?=($arParams["AJAX_REQUEST"]=="Y" ? "style='display: none; '" : "");?>>
		<?if( $arParams["DISPLAY_BOTTOM_PAGER"] == "Y" ){?><?=$arResult["NAV_STRING"]?><?}?>
	</div>
	<?if($arParams["AJAX_REQUEST"]=="Y"){?>
		</div>
	<?}?>
<?}else{?>
	<div class="no_goods">
		<div class="no_products">
			<div class="wrap_text_empty">
				<?if($_REQUEST["set_filter"]){?>
					<?$APPLICATION->IncludeFile(SITE_DIR."include/section_no_products_filter.php", Array(), Array("MODE" => "html",  "NAME" => GetMessage('EMPTY_CATALOG_DESCR')));?>
				<?}else{?>
					<?$APPLICATION->IncludeFile(SITE_DIR."include/section_no_products.php", Array(), Array("MODE" => "html",  "NAME" => GetMessage('EMPTY_CATALOG_DESCR')));?>
				<?}?>
			</div>
		</div>
		<?if($_REQUEST["set_filter"]){?>
			<span class="button wide"><?=GetMessage('RESET_FILTERS');?></span>
		<?}?>
	</div>
<?}?>
<script>
	function realWidth(obj){
		var clone = obj.clone();
		clone.css("visibility","hidden");
		$('body').append(clone);
		var width = clone.width()+0;
		clone.remove();
		return width;
	}
	function setPropWidth(){
		if($('table.props_list.offers').length){
			$('table.props_list.offers').each(function(){
				$(this).width(realWidth($(this).closest('.props_list_wrapp').find("table.props_list.prod")));
			});
		}
	}
	setPropWidth();
	BX.message({
		QUANTITY_AVAILIABLE: '<? echo COption::GetOptionString("aspro.optimus", "EXPRESSION_FOR_EXISTS", GetMessage("EXPRESSION_FOR_EXISTS_DEFAULT"), SITE_ID); ?>',
		QUANTITY_NOT_AVAILIABLE: '<? echo COption::GetOptionString("aspro.optimus", "EXPRESSION_FOR_NOTEXISTS", GetMessage("EXPRESSION_FOR_NOTEXISTS"), SITE_ID); ?>',
		ADD_ERROR_BASKET: '<? echo GetMessage("ADD_ERROR_BASKET"); ?>',
		ADD_ERROR_COMPARE: '<? echo GetMessage("ADD_ERROR_COMPARE"); ?>',
	})
</script>
150  29300|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/components/bitrix/catalog.section/catalog_block/script.min.js|608252ed!function(t){t.JCCatalogSection||(t.JCCatalogSection=function(t){if(this.skuVisualParams={SELECT:{TAG_BIND:"select",TAG:"option",ACTIVE_CLASS:"active",HIDE_CLASS:"hidden",EVENT:"change"},LI:{TAG_BIND:"li",TAG:"li",ACTIVE_CLASS:"active",HIDE_CLASS:"missing",EVENT:"click"}},this.productType=0,this.showQuantity=!0,this.showAbsent=!0,this.secondPict=!1,this.showOldPrice=!1,this.showPercent=!1,this.showSkuProps=!1,this.basketAction="ADD",this.basketLinkURL="",this.showClosePopup=!1,this.useCompare=!1,this.visual={ID:"",PICT_ID:"",SECOND_PICT_ID:"",QUANTITY_ID:"",QUANTITY_UP_ID:"",QUANTITY_DOWN_ID:"",STORE_QUANTITY:"",PRICE_ID:"",PRICE_OLD_ID:"",DSC_PERC:"",SECOND_DSC_PERC:"",DISPLAY_PROP_DIV:"",BASKET_PROP_DIV:""},this.product={checkQuantity:!1,maxQuantity:0,stepQuantity:1,isDblQuantity:!1,canBuy:!0,canSubscription:!0,name:"",pict:{},id:0,addUrl:"",buyUrl:""},this.basketMode="",this.basketData={useProps:!1,emptyProps:!1,quantity:"quantity",props:"prop",basketUrl:"",sku_props:"",sku_props_var:"basket_props",add_url:"",buy_url:""},this.compareData={compareUrl:"",comparePath:""},this.defaultPict={pict:null,secondPict:null},this.checkQuantity=!1,this.maxQuantity=0,this.stepQuantity=1,this.defaultCount=1,this.isDblQuantity=!1,this.canBuy=!0,this.currentBasisPrice={},this.canSubscription=!0,this.precision=6,this.precisionFactor=Math.pow(10,this.precision),this.offers=[],this.offerNum=0,this.treeProps=[],this.obTreeRows=[],this.showCount=[],this.showStart=[],this.selectedValues={},this.obProduct=null,this.obQuantity=null,this.obQuantityUp=null,this.obQuantityDown=null,this.obPict=null,this.obSecondPict=null,this.obPrice=null,this.obTree=null,this.obBuyBtn=null,this.obBasketBtn=null,this.obBasketActions=null,this.obNotAvail=null,this.obDscPerc=null,this.obSecondDscPerc=null,this.obSkuProps=null,this.obMeasure=null,this.obCompare=null,this.obPopupWin=null,this.basketUrl="",this.basketParams={},this.treeRowShowSize=5,this.treeEnableArrow={display:"",cursor:"pointer",opacity:1},this.treeDisableArrow={display:"",cursor:"default",opacity:.2},this.lastElement=!1,this.containerHeight=0,this.errorCode=0,"object"==typeof t){switch(this.productType=parseInt(t.PRODUCT_TYPE,10),this.showQuantity=t.SHOW_QUANTITY,this.showAbsent=t.SHOW_ABSENT,this.secondPict=!!t.SECOND_PICT,this.showOldPrice=!!t.SHOW_OLD_PRICE,this.showPercent=!!t.SHOW_DISCOUNT_PERCENT,this.showSkuProps=!!t.SHOW_SKU_PROPS,t.ADD_TO_BASKET_ACTION&&(this.basketAction=t.ADD_TO_BASKET_ACTION),this.showClosePopup=!!t.SHOW_CLOSE_POPUP,this.useCompare=!!t.DISPLAY_COMPARE,this.visual=t.VISUAL,this.defaultCount=t.DEFAULT_COUNT,this.basketLinkURL=t.BASKET_URL,this.productType){case 1:case 2:t.PRODUCT&&"object"==typeof t.PRODUCT?(this.showQuantity&&(this.product.checkQuantity=t.PRODUCT.CHECK_QUANTITY,this.product.isDblQuantity=t.PRODUCT.QUANTITY_FLOAT,this.product.checkQuantity&&(this.product.maxQuantity=this.product.isDblQuantity?parseFloat(t.PRODUCT.MAX_QUANTITY):parseInt(t.PRODUCT.MAX_QUANTITY,10)),this.product.stepQuantity=this.product.isDblQuantity?parseFloat(t.PRODUCT.STEP_QUANTITY):parseInt(t.PRODUCT.STEP_QUANTITY,10),this.checkQuantity=this.product.checkQuantity,this.isDblQuantity=this.product.isDblQuantity,this.maxQuantity=this.product.maxQuantity,this.stepQuantity=this.product.stepQuantity,this.isDblQuantity&&(this.stepQuantity=Math.round(this.stepQuantity*this.precisionFactor)/this.precisionFactor)),this.product.canBuy=t.PRODUCT.CAN_BUY,this.product.canSubscription=t.PRODUCT.SUBSCRIPTION,t.PRODUCT.BASIS_PRICE&&(this.currentBasisPrice=t.PRODUCT.BASIS_PRICE),this.canBuy=this.product.canBuy,this.canSubscription=this.product.canSubscription,this.product.name=t.PRODUCT.NAME,this.product.pict=t.PRODUCT.PICT,this.product.id=t.PRODUCT.ID,t.PRODUCT.ADD_URL&&(this.product.addUrl=t.PRODUCT.ADD_URL),t.PRODUCT.BUY_URL&&(this.product.buyUrl=t.PRODUCT.BUY_URL),t.BASKET&&"object"==typeof t.BASKET&&(this.basketData.useProps=!!t.BASKET.ADD_PROPS,this.basketData.emptyProps=!!t.BASKET.EMPTY_PROPS)):this.errorCode=-1;break;case 3:t.OFFERS&&BX.type.isArray(t.OFFERS)?(t.PRODUCT&&"object"==typeof t.PRODUCT&&(this.product.name=t.PRODUCT.NAME,this.product.id=t.PRODUCT.ID),this.offers=t.OFFERS,this.offerNum=0,t.OFFER_SELECTED&&(this.offerNum=parseInt(t.OFFER_SELECTED,10)),isNaN(this.offerNum)&&(this.offerNum=0),t.TREE_PROPS&&(this.treeProps=t.TREE_PROPS),t.DEFAULT_PICTURE&&(this.defaultPict.pict=t.DEFAULT_PICTURE.PICTURE,this.defaultPict.secondPict=t.DEFAULT_PICTURE.PICTURE_SECOND)):this.errorCode=-1;break;default:this.errorCode=-1}t.BASKET&&"object"==typeof t.BASKET&&(t.BASKET.QUANTITY&&(this.basketData.quantity=t.BASKET.QUANTITY),t.BASKET.PROPS&&(this.basketData.props=t.BASKET.PROPS),t.BASKET.BASKET_URL&&(this.basketData.basketUrl=t.BASKET.BASKET_URL),3===this.productType&&t.BASKET.SKU_PROPS&&(this.basketData.sku_props=t.BASKET.SKU_PROPS),t.BASKET.ADD_URL_TEMPLATE&&(this.basketData.add_url=t.BASKET.ADD_URL_TEMPLATE),t.BASKET.BUY_URL_TEMPLATE&&(this.basketData.buy_url=t.BASKET.BUY_URL_TEMPLATE),""===this.basketData.add_url&&""===this.basketData.buy_url&&(this.errorCode=-1024)),this.useCompare&&(t.COMPARE&&"object"==typeof t.COMPARE?(t.COMPARE.COMPARE_PATH&&(this.compareData.comparePath=t.COMPARE.COMPARE_PATH),t.COMPARE.COMPARE_URL_TEMPLATE_DEL&&(this.compareData.compareUrlDel=t.COMPARE.COMPARE_URL_TEMPLATE_DEL),t.COMPARE.COMPARE_URL_TEMPLATE?this.compareData.compareUrl=t.COMPARE.COMPARE_URL_TEMPLATE:this.useCompare=!1):this.useCompare=!1),this.lastElement=!!t.LAST_ELEMENT&&"Y"===t.LAST_ELEMENT}0===this.errorCode&&BX.ready(BX.delegate(this.Init,this))},t.JCCatalogSection.prototype.Init=function(){var t=0,s="",i=null;if(this.obProduct=BX(this.visual.ID),this.obProduct||(this.errorCode=-1),this.obPict=BX(this.visual.PICT_ID),this.obPict||(this.errorCode=-2),this.secondPict&&this.visual.SECOND_PICT_ID&&(this.obSecondPict=BX(this.visual.SECOND_PICT_ID)),this.storeQuanity=BX(this.visual.STORE_QUANTITY),this.obPrice=BX(this.visual.PRICE_ID),this.obPriceOld=BX(this.visual.PRICE_OLD_ID),this.obPrice||(this.errorCode=-16),this.showQuantity&&this.visual.QUANTITY_ID&&(this.obQuantity=BX(this.visual.QUANTITY_ID),this.visual.QUANTITY_UP_ID&&(this.obQuantityUp=BX(this.visual.QUANTITY_UP_ID)),this.visual.QUANTITY_DOWN_ID&&(this.obQuantityDown=BX(this.visual.QUANTITY_DOWN_ID))),3===this.productType){if(this.visual.TREE_ID)for(this.obTree=BX(this.visual.TREE_ID),this.obTree||(this.errorCode=-256),s=this.visual.TREE_ITEM_ID,t=0;t<this.treeProps.length;t++)if(this.obTreeRows[t]={LIST:BX(s+this.treeProps[t].ID+"_list"),CONT:BX(s+this.treeProps[t].ID+"_cont")},!this.obTreeRows[t].LIST||!this.obTreeRows[t].CONT){this.errorCode=-512;break}this.visual.QUANTITY_MEASURE&&(this.obMeasure=BX(this.visual.QUANTITY_MEASURE))}if(this.obBasketActions=BX(this.visual.BASKET_ACTIONS_ID),this.obBasketActions&&(this.visual.BUY_ID&&(this.obBuyBtn=BX(this.visual.BUY_ID)),this.visual.BASKET_LINK&&(this.obBasketBtn=BX(this.visual.BASKET_LINK))),this.obNotAvail=BX(this.visual.NOT_AVAILABLE_MESS),this.showPercent&&(this.visual.DSC_PERC&&(this.obDscPerc=BX(this.visual.DSC_PERC)),this.secondPict&&this.visual.SECOND_DSC_PERC&&(this.obSecondDscPerc=BX(this.visual.SECOND_DSC_PERC))),this.showSkuProps&&this.visual.DISPLAY_PROP_DIV&&(this.obSkuProps=BX(this.visual.DISPLAY_PROP_DIV)),0===this.errorCode){switch(this.showQuantity&&(this.obQuantityUp&&BX.bind(this.obQuantityUp,"click",BX.delegate(this.QuantityUp,this)),this.obQuantityDown&&BX.bind(this.obQuantityDown,"click",BX.delegate(this.QuantityDown,this)),this.obQuantity&&BX.bind(this.obQuantity,"change",BX.delegate(this.QuantityChange,this))),this.productType){case 1:break;case 3:for(var e in this.skuVisualParams){var i=BX.findChildren(this.obTree,{tagName:this.skuVisualParams[e].TAG_BIND},!0);if(i&&0<i.length)for(t=0;t<i.length;t++)$(i[t]).on(this.skuVisualParams[e].EVENT,BX.delegate(this.SelectOfferProp,this))}this.SetCurrent()}this.obBuyBtn&&("ADD"===this.basketAction||BX.bind(this.obBuyBtn,"click",BX.delegate(this.BuyBasket,this))),this.useCompare&&(this.obCompare=BX(this.visual.COMPARE_LINK_ID))}},t.JCCatalogSection.prototype.checkHeight=function(){this.containerHeight=parseInt(this.obProduct.parentNode.offsetHeight,10),isNaN(this.containerHeight)&&(this.containerHeight=0)},t.JCCatalogSection.prototype.setHeight=function(){0<this.containerHeight&&BX.adjust(this.obProduct.parentNode,{style:{height:this.containerHeight+"px"}})},t.JCCatalogSection.prototype.clearHeight=function(){BX.adjust(this.obProduct.parentNode,{style:{height:"auto"}})},t.JCCatalogSection.prototype.QuantityUp=function(){var t=0,s=!0;0===this.errorCode&&this.showQuantity&&this.canBuy&&(t=this.isDblQuantity?parseFloat(this.obQuantity.value):parseInt(this.obQuantity.value,10),isNaN(t)||(t+=this.stepQuantity,this.checkQuantity&&t>this.maxQuantity&&(s=!1),s&&(this.isDblQuantity&&(t=Math.round(t*this.precisionFactor)/this.precisionFactor),this.obQuantity.value=t)))},t.JCCatalogSection.prototype.QuantityDown=function(){var t=0,s=!0;0===this.errorCode&&this.showQuantity&&this.canBuy&&(t=this.isDblQuantity?parseFloat(this.obQuantity.value):parseInt(this.obQuantity.value,10),isNaN(t)||(t-=this.stepQuantity,t<this.stepQuantity&&(s=!1),s&&(this.isDblQuantity&&(t=Math.round(t*this.precisionFactor)/this.precisionFactor),this.obQuantity.value=t)))},t.JCCatalogSection.prototype.QuantityChange=function(){var t,s,i=0;0===this.errorCode&&this.showQuantity&&(this.canBuy?(i=this.isDblQuantity?parseFloat(this.obQuantity.value):parseInt(this.obQuantity.value,10),isNaN(i)?this.obQuantity.value=this.stepQuantity:(this.checkQuantity&&i>this.maxQuantity&&(i=this.maxQuantity),i<this.stepQuantity?i=this.stepQuantity:(s=i/this.stepQuantity,t=parseInt(s,10),isNaN(t)&&(t=1,s=1.1),s>t&&(i=1>=t?this.stepQuantity:t*this.stepQuantity,i=Math.round(i*this.precisionFactor)/this.precisionFactor)),this.obQuantity.value=i)):this.obQuantity.value=this.stepQuantity)},t.JCCatalogSection.prototype.QuantitySet=function(t){0===this.errorCode&&(this.canBuy=this.offers[t].CAN_BUY,this.canBuy?(this.obBasketActions&&BX.style(this.obBasketActions,"display",""),this.obNotAvail&&BX.style(this.obNotAvail,"display","none")):(this.obBasketActions&&(BX.style(this.obBasketActions,"opacity","0"),BX.style(BX.findParent(BX(this.obQuantity),{"class":"counter_block"}),"display","none")),this.obNotAvail&&BX.style(this.obNotAvail,"display","")),this.showQuantity&&(this.isDblQuantity=this.offers[t].QUANTITY_FLOAT,this.checkQuantity=this.offers[t].CHECK_QUANTITY,this.isDblQuantity?(this.maxQuantity=parseFloat(this.offers[t].MAX_QUANTITY),this.stepQuantity=Math.round(parseFloat(this.offers[t].STEP_QUANTITY)*this.precisionFactor)/this.precisionFactor):(this.maxQuantity=parseInt(this.offers[t].MAX_QUANTITY,10),this.stepQuantity=parseInt(this.offers[t].STEP_QUANTITY,10)),this.obQuantity&&(this.obQuantity.value=this.defaultCount,this.obQuantity.disabled=!this.canBuy),this.obMeasure&&(this.offers[t].MEASURE?BX.adjust(this.obMeasure,{html:this.offers[t].MEASURE}):BX.adjust(this.obMeasure,{html:""}))),this.currentBasisPrice=this.offers[t].BASIS_PRICE)},t.JCCatalogSection.prototype.SelectOfferProp=function(){var t=0,s="",i="",e=[],o=null,a=BX.proxy_context;if("undefined"!=typeof a.options&&"undefined"!=typeof a.options[a.selectedIndex]&&(a=a.options[a.selectedIndex]),a&&a.hasAttribute("data-treevalue")&&(i=a.getAttribute("data-treevalue"),propModes=a.getAttribute("data-showtype"),e=i.split("_"),this.SearchOfferPropIndex(e[0],e[1])&&(o=BX.findChildren(a.parentNode,{tagName:this.skuVisualParams[propModes.toUpperCase()].TAG},!1),o&&0<o.length)))for(t=0;t<o.length;t++)s=o[t].getAttribute("data-onevalue"),"TEXT"==propModes?s===e[1]?o[t].setAttribute("selected","selected"):o[t].removeAttribute("selected"):s===e[1]?$(o[t]).addClass(this.skuVisualParams[propModes.toUpperCase()].ACTIVE_CLASS):$(o[t]).removeClass(this.skuVisualParams[propModes.toUpperCase()].ACTIVE_CLASS)},t.JCCatalogSection.prototype.SearchOfferPropIndex=function(t,s){var i,e,o="",a=!1,r=[],h=-1,n={},c=[];for(i=0;i<this.treeProps.length;i++)if(this.treeProps[i].ID===t){h=i;break}if(h>-1){for(i=0;h>i;i++)o="PROP_"+this.treeProps[i].ID,n[o]=this.selectedValues[o];if(o="PROP_"+this.treeProps[h].ID,a=this.GetRowValues(n,o),!a)return!1;if(!BX.util.in_array(s,a))return!1;for(n[o]=s,i=h+1;i<this.treeProps.length;i++){if(o="PROP_"+this.treeProps[i].ID,a=this.GetRowValues(n,o),!a)return!1;if(this.showAbsent)for(r=[],c=[],c=BX.clone(n,!0),e=0;e<a.length;e++)c[o]=a[e],r[r.length]=a[e];else r=a;this.selectedValues[o]&&BX.util.in_array(this.selectedValues[o],r)?n[o]=this.selectedValues[o]:n[o]=r[0],this.UpdateRow(i,n[o],a,r)}this.selectedValues=n,this.ChangeInfo()}return!0},t.JCCatalogSection.prototype.UpdateRow=function(t,s,i,e){var o=0,a=0,r="",h=0,n={},c=!1,u=0,l=(this.treeEnableArrow,this.treeEnableArrow,0),p=null;if(t>-1&&t<this.obTreeRows.length&&(propMode=this.treeProps[t].DISPLAY_TYPE,p=BX.findChildren(this.obTreeRows[t].LIST,{tagName:this.skuVisualParams[propMode].TAG},!1),p&&0<p.length)){for(selectMode="SELECT"===this.treeProps[t].DISPLAY_TYPE,h=i.length,n={style:{},props:{disabled:"",selected:""}},o=0;o<p.length;o++)r=p[o].getAttribute("data-onevalue"),c=r===s&&0!=r,n.props.className=c?this.skuVisualParams[propMode].ACTIVE_CLASS:"",selectMode?(n.props.disabled="disabled",n.props.selected=c?"selected":""):n.style.display="none",BX.util.in_array(r,i)&&(selectMode?n.props.disabled="":n.style.display="",c&&(u=a),a++),BX.adjust(p[o],n);selectMode&&$(this.obTreeRows[t].LIST).parent().hasClass("ik_select")&&$(this.obTreeRows[t].LIST).ikSelect("reset"),this.showCount[t]=h,this.showStart[t]=l}},t.JCCatalogSection.prototype.GetRowValues=function(t,s){var i,e=0,o=[],a=!1,r=!0;if(0===t.length){for(e=0;e<this.offers.length;e++)BX.util.in_array(this.offers[e].TREE[s],o)||(o[o.length]=this.offers[e].TREE[s]);a=!0}else for(e=0;e<this.offers.length;e++){r=!0;for(i in t)if(t[i]!==this.offers[e].TREE[i]){r=!1;break}r&&(BX.util.in_array(this.offers[e].TREE[s],o)||(o[o.length]=this.offers[e].TREE[s]),a=!0)}return a?o:!1},t.JCCatalogSection.prototype.GetCanBuy=function(t){var s,i=0,e=!1,o=!0;for(i=0;i<this.offers.length;i++){o=!0;for(s in t)if(t[s]!==this.offers[i].TREE[s]){o=!1;break}if(o&&this.offers[i].CAN_BUY){e=!0;break}}return e},t.JCCatalogSection.prototype.SetCurrent=function(){var t=0,s=0,i=[],e="",o=!1,a={},r=[],h=this.offers[this.offerNum].TREE;for(t=0;t<this.treeProps.length&&(e="PROP_"+this.treeProps[t].ID,o=this.GetRowValues(a,e),o);t++){if(BX.util.in_array(h[e],o)?a[e]=h[e]:(a[e]=o[0],this.offerNum=0),this.showAbsent)for(i=[],r=[],r=BX.clone(a,!0),s=0;s<o.length;s++)r[e]=o[s],this.GetCanBuy(r)&&(i[i.length]=o[s]);else i=o;this.UpdateRow(t,a[e],o,i)}this.selectedValues=a,this.ChangeInfo()},t.JCCatalogSection.prototype.ChangeInfo=function(){var s,i=0,e=-1,o=!0;for(i=0;i<this.offers.length;i++){o=!0;for(s in this.selectedValues)if(this.selectedValues[s]!==this.offers[i].TREE[s]){o=!1;break}if(o){e=i;break}}if(e>-1){if(this.obPict){var a={attrs:{}};this.offers[e].PREVIEW_PICTURE?a.attrs.src=this.offers[e].PREVIEW_PICTURE.SRC:a.attrs.src=this.defaultPict.pict.SRC,BX.adjust(BX.findChild(this.obPict,{tag:"img"}),a)}this.secondPict&&this.obSecondPict&&(this.offers[e].PREVIEW_PICTURE_SECOND?BX.adjust(this.obSecondPict,{style:{backgroundImage:"url("+this.offers[e].PREVIEW_PICTURE_SECOND.SRC+")"}}):this.offers[e].PREVIEW_PICTURE.SRC?BX.adjust(this.obSecondPict,{style:{backgroundImage:"url("+this.offers[e].PREVIEW_PICTURE.SRC+")"}}):this.defaultPict.secondPict?BX.adjust(this.obSecondPict,{style:{backgroundImage:"url("+this.defaultPict.secondPict.SRC+")"}}):BX.adjust(this.obSecondPict,{style:{backgroundImage:"url("+this.defaultPict.pict.SRC+")"}})),this.showSkuProps&&this.obSkuProps&&(0===this.offers[e].DISPLAY_PROPERTIES.length?BX.adjust(this.obSkuProps,{style:{display:"none"},html:""}):BX.adjust(this.obSkuProps,{style:{display:""},html:this.offers[e].DISPLAY_PROPERTIES})),$(this.obBuyBtn).data("item",this.offers[e].ID),$(this.obBasketBtn).data("item",this.offers[e].ID),$(this.obBasketActions).closest(".counter_wrapp").css("opacity",0);var r=this.offers[e].MEASURE&&"Y"==this.offers[e].SHOW_MEASURE?this.offers[e].MEASURE:"";this.setPrice(this.offers[e].PRICE,r),this.setQuantityStore(this.offers[e].MAX_QUANTITY,this.offers[e].AVAILIABLE.TEXT),this.offerNum=e,this.QuantitySet(this.offerNum),$(this.obProduct).find(".item-title a").attr("href",this.offers[this.offerNum].URL),$(this.obProduct).find(".image_wrapper_block > a").attr("href",this.offers[this.offerNum].URL),$(this.obProduct).find(".quantity_block .values").length&&$(this.obProduct).find(".quantity_block .values .item span").text(this.offers[e].MAX_QUANTITY).css({opacity:"1"});var h=this.offers[e],n=$(this.obProduct).closest(".catalog_item_wrapp");"undefined"!=typeof arBasketAspro?this.setActualDataBlock(n,h):"undefined"!=typeof t.frameCacheVars&&BX.addCustomEvent("onFrameDataReceived",function(){t.JCCatalogSection.prototype.setActualDataBlock(n,h)})}},t.JCCatalogSection.prototype.setActualDataBlock=function(t,s){this.setLikeBlock(t,".like_icons .wish_item_button",s,"DELAY"),this.setLikeBlock(t,".like_icons .compare_item_button",s,"COMPARE"),this.setBuyBlock(t,s)},t.JCCatalogSection.prototype.setLikeBlock=function(t,s,i,e){var o=t;"DELAY"==e&&(i.CAN_BUY?o.find(s).css("display","block"):o.find(s).hide()),o.find(s).attr("data-item",i.ID),o.find(s).find("span").attr("data-item",i.ID),arBasketAspro[e]&&(o.find(s).find(".to").removeClass("added").css("display","block"),o.find(s).find(".in").hide(),void 0!==arBasketAspro[e][i.ID]&&(o.find(s).find(".to").hide(),o.find(s).find(".in").css("display","block")))},t.JCCatalogSection.prototype.setBuyBlock=function(t,s){var i=t.find(".offer_buy_block");if(i.find(".counter_wrapp .counter_block").length&&i.find(".counter_wrapp .counter_block").attr("data-item",s.ID),s.CONFIG.OPTIONS.USE_PRODUCT_QUANTITY_DETAIL&&"ADD"==s.CONFIG.ACTION&&s.CAN_BUY){var e=s.CONFIG.MAX_QUANTITY_BUY>0?"data-max='"+s.CONFIG.MAX_QUANTITY_BUY+"'":"",o='<span class="minus">-</span><input type="text" class="text" name="'+s.PRODUCT_QUANTITY_VARIABLE+'" value="'+s.CONFIG.MIN_QUANTITY_BUY+'" /><span class="plus" '+e+">+</span>";arBasketAspro.BASKET&&void 0!==arBasketAspro.BASKET[s.ID]?i.find(".counter_wrapp .counter_block").length?i.find(".counter_wrapp .counter_block").hide():(i.find(".counter_wrapp").prepend('<div class="counter_block" data-item="'+s.ID+'"></div>'),i.find(".counter_wrapp .counter_block").html(o).hide()):i.find(".counter_wrapp .counter_block").length?i.find(".counter_wrapp .counter_block").html(o).show():(i.find(".counter_wrapp").prepend('<div class="counter_block" data-item="'+s.ID+'"></div>'),i.find(".counter_wrapp .counter_block").html(o))}else i.find(".counter_wrapp .counter_block").length&&i.find(".counter_wrapp .counter_block").hide();var a="ORDER"==s.CONFIG.ACTION||!s.CAN_BUY||!s.CONFIG.OPTIONS.USE_PRODUCT_QUANTITY_DETAIL||"SUBSCRIBE"==s.CONFIG.ACTION&&"Y"==s.CATALOG_SUBSCRIBE?"wide":"";$('<div class="button_block"></div>');if(i.find(".counter_wrapp").find(".button_block").length?arBasketAspro.BASKET&&void 0!==arBasketAspro.BASKET[s.ID]?(i.find(".counter_wrapp").find(".button_block").addClass("wide").html(s.HTML),markProductAddBasket(s.ID)):a?(i.find(".counter_wrapp").find(".button_block").addClass("wide").html(s.HTML),arBasketAspro.SUBSCRIBE&&void 0!==arBasketAspro.SUBSCRIBE[s.ID]&&markProductSubscribe(s.ID)):i.find(".counter_wrapp").find(".button_block").removeClass("wide").html(s.HTML):(i.find(".counter_wrapp").append('<div class="button_block '+a+'">'+s.HTML+"</div>"),arBasketAspro.BASKET&&void 0!==arBasketAspro.BASKET[s.ID]&&markProductAddBasket(s.ID),arBasketAspro.SUBSCRIBE&&void 0!==arBasketAspro.SUBSCRIBE[s.ID]&&markProductSubscribe(s.ID)),"NOTHING"!==s.CONFIG.ACTION)if("ADD"==s.CONFIG.ACTION&&s.CAN_BUY&&"N"!=s.SHOW_ONE_CLICK_BUY){var r='<span class="transparent big_btn type_block button one_click" data-offers="Y" data-item="'+s.ID+'" data-iblockID="'+s.IBLOCK_ID+'" data-quantity="'+s.CONFIG.MIN_QUANTITY_BUY+'" data-props="'+s.OFFER_PROPS+'" onclick="oneClickBuy('+s.ID+", "+s.IBLOCK_ID+', this)"><span>'+s.ONE_CLICK_BUY+"</span></span>";i.find(".wrapp_one_click").length?i.find(".wrapp_one_click").html(r):i.append('<div class="wrapp_one_click">'+r+"</div>")}else i.find(".wrapp_one_click").length&&i.find(".wrapp_one_click").remove();else i.find(".wrapp_one_click").length&&i.find(".wrapp_one_click").remove();i.fadeIn()},t.JCCatalogSection.prototype.CompareCountResult=function(t){if(t.COMPARE_COUNT){for(var s in t.ITEMS){if(t.ITEMS[s]==this.offers[this.offerNum].ID){this.offers[this.offerNum].COMPARE_ACTIVE=!0;break}this.offers[this.offerNum].COMPARE_ACTIVE=!1}this.offers[this.offerNum].COMPARE_ACTIVE?($(this.obCompare).find(".compare_item.to").hide(),$(this.obCompare).find(".compare_item.added").show()):($(this.obCompare).find(".compare_item.added").hide(),$(this.obCompare).find(".compare_item.to").show())}},t.JCCatalogSection.prototype.ItemInfoResult=function(t){t.HTML&&($(this.obBasketActions).html(t.HTML),$(this.obBasketActions).show(),this.obBuyBtn=BX(this.visual.BUY_ID),this.obBasketBtn=BX(this.visual.BASKET_LINK),this.obSubscribeBtn=BX(this.visual.SUBSCRIBE_ID),this.obSubscribedBtn=BX(this.visual.SUBSCRIBED_ID),BX.bind(this.obBuyBtn,"click",BX.delegate(this.Add2Basket,this)),$(this.obBasketActions).removeClass("wide"),this.ajax_type_item=t.BUYMISSINGGOODS,"ADD"==t.BUYMISSINGGOODS||this.canBuy?$(this.obQuantity).css("display",""):$(this.obBasketActions).addClass("wide")),basketParams={ajax_action:"Y"},BX.ajax.loadJSON(arOptimusOptions.SITE_DIR+"ajax/get_basket_count.php",basketParams,BX.delegate(this.BasketCountResult,this))},t.JCCatalogSection.prototype.BasketCountResult=function(t){for(var s in t.ITEMS){if(t.ITEMS[s].PRODUCT_ID==this.offers[this.offerNum].ID){this.offers[this.offerNum].BASKET_ACTIVE=!0;break}this.offers[this.offerNum].BASKET_ACTIVE=!1}for(var s in t.SUBSCRIBE_ITEMS){if(t.SUBSCRIBE_ITEMS[s].PRODUCT_ID==this.offers[this.offerNum].ID){this.offers[this.offerNum].SUBSCRIBE_ACTIVE=!0;break}this.offers[this.offerNum].SUBSCRIBE_ACTIVE=!1}this.BasketStateRefresh()},t.JCCatalogSection.prototype.BasketStateRefresh=function(s){this.offers[this.offerNum].SUBSCRIBE_ACTIVE?($(this.obProduct).find(".hover_block .o_"+this.offers[this.offerNum].ID+" .to-subscribe").hide(),$(this.obProduct).find(".hover_block .o_"+this.offers[this.offerNum].ID+" .in-subscribe").show()):($(this.obProduct).find(".hover_block .o_"+this.offers[this.offerNum].ID+" .to-subscribe").show(),$(this.obProduct).find(".hover_block .o_"+this.offers[this.offerNum].ID+" .in-subscribe").hide()),this.offers[this.offerNum].BASKET_ACTIVE?($(this.obProduct).find(".hover_block .o_"+this.offers[this.offerNum].ID).addClass("wide"),$(this.obProduct).find(".hover_block .o_"+this.offers[this.offerNum].ID+" .button_block").addClass("wide"),$(this.obProduct).find(".hover_block .o_"+this.offers[this.offerNum].ID+" .to-cart").hide(),$(this.obProduct).find(".hover_block .o_"+this.offers[this.offerNum].ID+" .in-cart").show(),$(this.obProduct).find(".hover_block .o_"+this.offers[this.offerNum].ID+" .counter_block").hide()):($(this.obProduct).find(".hover_block .o_"+this.offers[this.offerNum].ID).removeClass("wide"),$(this.obProduct).find(".hover_block .o_"+this.offers[this.offerNum].ID+" .button_block").removeClass("wide"),$(this.obProduct).find(".hover_block .o_"+this.offers[this.offerNum].ID+" .to-cart").show(),$(this.obProduct).find(".hover_block .o_"+this.offers[this.offerNum].ID+" .in-cart").hide(),$(this.obProduct).find(".hover_block .o_"+this.offers[this.offerNum].ID+" .counter_block").show()),BX.style(this.obBasketActions,"opacity","1"),$(this.obBasketActions).closest(".counter_wrapp").css("opacity",1),"undefined"!==s&&"Y"==s&&($("#basket_line .basket_fly").length&&$(t).outerWidth()>768?basketFly("open"):$("#basket_line .cart").length&&($("#basket_line .cart").is(".empty_cart")&&($("#basket_line .cart").removeClass("empty_cart").find(".cart_wrapp a.basket_link").removeAttr("href").addClass("cart-call"),touchBasket(".cart:not(.empty_cart) .basket_block .link")),reloadTopBasket("add",$("#basket_line"),200,2e3,"Y")),animateBasketLine(200))},t.JCCatalogSection.prototype.setPrice=function(t,s){var i;this.obPrice&&(i=BX.Currency.currencyFormat(t.DISCOUNT_VALUE,t.CURRENCY,!0),s&&(i=i?i+"/"+s:"&nbsp;"),BX.adjust(this.obPrice,{html:i}),t.DISCOUNT_VALUE!==t.VALUE&&this.showOldPrice?($(this.obPriceOld).find("strike").show().html(BX.Currency.currencyFormat(t.VALUE,t.CURRENCY,!0)),this.showPercent&&($(this.obPriceOld).closest(".cost").find(".sale_block").show(),$(this.obPriceOld).closest(".cost").find(".value").html(t.DISCOUNT_DIFF_PERCENT_RAW),$(this.obPriceOld).closest(".cost").find(".text span").html(BX.Currency.currencyFormat(t.DISCOUNT_DIFF,t.CURRENCY,!0)))):($(this.obPriceOld).find("strike").hide().html(""),this.showPercent&&$(this.obPriceOld).closest(".cost").find(".sale_block").hide()))},t.JCCatalogSection.prototype.setQuantityStore=function(t,s){parseFloat(t)>0?$(this.storeQuanity).find(".icon").removeClass("order").addClass("stock"):$(this.storeQuanity).find(".icon").removeClass("stock").addClass("order"),$(this.storeQuanity).find(".icon + span").html(s)},t.JCCatalogSection.prototype.Compare=function(){var t,s;if($(this.obProduct).find(".like_icons .o_"+this.offers[this.offerNum].ID).data("changed","Y"),$(this.obProduct).find(".like_icons .o_"+this.offers[this.offerNum].ID).find(".compare_item.added").is(":visible")?(s=this.compareData.compareUrlDel,this.compareData.Added=!1):(s=this.compareData.compareUrl,this.compareData.Added=!0),s){switch(this.productType){case 1:case 2:s=s.replace("#ID#",this.product.id.toString());break;case 3:s=s.replace("#ID#",this.offers[this.offerNum].ID)}t={ajax_action:"Y"},BX.ajax.loadJSON(s,t,BX.proxy(this.CompareResult,this))}},t.JCCatalogSection.prototype.CompareResult=function(t){return"object"!=typeof t?!1:("OK"===t.STATUS?(BX.onCustomEvent("OnCompareChange"),this.compareData.Added?($(this.obProduct).find(".like_icons .o_"+this.offers[this.offerNum].ID).find(".to").hide(),$(this.obProduct).find(".like_icons .o_"+this.offers[this.offerNum].ID).find(".in").show()):($(this.obProduct).find(".like_icons .o_"+this.offers[this.offerNum].ID).find(".in").hide(),$(this.obProduct).find(".like_icons .o_"+this.offers[this.offerNum].ID).find(".to").show()),jsAjaxUtil.InsertDataToNode(arOptimusOptions.SITE_DIR+"ajax/show_compare_preview_top.php","compare_line",!1)):console.log(BX.message("ADD_ERROR_COMPARE")),!1)},t.JCCatalogSection.prototype.CompareRedirect=function(){this.compareData.comparePath?location.href=this.compareData.comparePath:this.obPopupWin.close()},t.JCCatalogSection.prototype.InitBasketUrl=function(){switch(this.basketUrl="ADD"===this.basketMode?this.basketData.add_url:this.basketData.buy_url,this.productType){case 1:case 2:this.basketUrl=this.basketUrl.replace("#ID#",this.product.id.toString());break;case 3:this.basketUrl=this.basketUrl.replace("#ID#",this.offers[this.offerNum].ID)}this.basketParams={ajax_basket:"Y"},this.showQuantity&&(this.basketParams[this.basketData.quantity]=$(this.obProduct).find(".counter_wrapp").find(".counter_block .text").val()),this.basketData.sku_props&&(this.basketParams[this.basketData.sku_props_var]=this.basketData.sku_props)},t.JCCatalogSection.prototype.FillBasketProps=function(){if(this.visual.BASKET_PROP_DIV){var t=0,s=null,i=!1,e=null;if(this.basketData.useProps&&!this.basketData.emptyProps?this.obPopupWin&&this.obPopupWin.contentContainer&&(e=this.obPopupWin.contentContainer):e=BX(this.visual.BASKET_PROP_DIV),e){if(s=e.getElementsByTagName("select"),s&&s.length)for(t=0;t<s.length;t++)if(!s[t].disabled)switch(s[t].type.toLowerCase()){case"select-one":this.basketParams[s[t].name]=s[t].value,i=!0}if(s=e.getElementsByTagName("input"),s&&s.length)for(t=0;t<s.length;t++)if(!s[t].disabled)switch(s[t].type.toLowerCase()){case"hidden":this.basketParams[s[t].name]=s[t].value,i=!0;break;case"radio":s[t].checked&&(this.basketParams[s[t].name]=s[t].value,i=!0)}}i||(this.basketParams[this.basketData.props]=[],this.basketParams[this.basketData.props][0]=0)}},t.JCCatalogSection.prototype.Add2Basket=function(){this.basketMode="ADD",this.Basket()},t.JCCatalogSection.prototype.BuyBasket=function(){this.basketMode="BUY",this.Basket()},t.JCCatalogSection.prototype.SendToBasket=function(){this.canBuy&&(this.InitBasketUrl(),this.FillBasketProps(),BX.ajax.loadJSON(this.basketUrl,this.basketParams,BX.delegate(this.BasketResult,this)))},t.JCCatalogSection.prototype.Basket=function(){this.canBuy&&this.SendToBasket()},t.JCCatalogSection.prototype.BasketResult=function(t){var s;return this.obPopupWin&&this.obPopupWin.close(),"object"!=typeof t?!1:(s="OK"===t.STATUS,void(s&&"BUY"===this.basketAction?this.BasketRedirect():s?(getActualBasket(),markProductAddBasket(this.offers[this.offerNum].ID),BX.onCustomEvent("OnBasketChange"),this.offers[this.offerNum].BASKET_ACTIVE=!0,this.BasketStateRefresh("Y"),$(this.obProduct).find(".hover_block .o_"+this.offers[this.offerNum].ID).data("changed","Y")):console.log(BX.message("ADD_ERROR_BASKET"))))},t.JCCatalogSection.prototype.BasketRedirect=function(){location.href=this.basketData.basketUrl?this.basketData.basketUrl:BX.message("BASKET_URL")})}(window);156  18189|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/components/bitrix/catalog.section/catalog_block/result_modifier.php|259621aa<?
use Bitrix\Main\Type\Collection;
use Bitrix\Currency\CurrencyTable;

if (!defined('B_PROLOG_INCLUDED') || B_PROLOG_INCLUDED!==true) die();
/** @var CBitrixComponentTemplate $this */
/** @var array $arParams */
/** @var array $arResult */
$arDefaultParams = array(
	'TYPE_SKU' => 'Y',
	'ADD_PICT_PROP' => '-',
	'OFFER_ADD_PICT_PROP' => '-',
	'OFFER_TREE_PROPS' => array('-'),
	'ADD_TO_BASKET_ACTION' => 'ADD',
	'DEFAULT_COUNT' => '1',
);
$arParams = array_merge($arDefaultParams, $arParams);

if ('TYPE_1' != $arParams['TYPE_SKU'] )
	$arParams['TYPE_SKU'] = 'N';

if ('TYPE_1' == $arParams['TYPE_SKU'] && $arParams['DISPLAY_TYPE'] !='table' ){
	if (!is_array($arParams['OFFER_TREE_PROPS']))
		$arParams['OFFER_TREE_PROPS'] = array($arParams['OFFER_TREE_PROPS']);
	foreach ($arParams['OFFER_TREE_PROPS'] as $key => $value)
	{
		$value = (string)$value;
		if ('' == $value || '-' == $value)
			unset($arParams['OFFER_TREE_PROPS'][$key]);
	}
	if (empty($arParams['OFFER_TREE_PROPS']) && isset($arParams['OFFERS_CART_PROPERTIES']) && is_array($arParams['OFFERS_CART_PROPERTIES']))
	{
		$arParams['OFFER_TREE_PROPS'] = $arParams['OFFERS_CART_PROPERTIES'];
		foreach ($arParams['OFFER_TREE_PROPS'] as $key => $value)
		{
			$value = (string)$value;
			if ('' == $value || '-' == $value)
				unset($arParams['OFFER_TREE_PROPS'][$key]);
		}
	}
}else{
	$arParams['OFFER_TREE_PROPS'] = array();
}


if (!empty($arResult['ITEMS'])){
	$arEmptyPreview = false;
	$strEmptyPreview = SITE_TEMPLATE_PATH.'/images/no_photo_medium.png';
	if (file_exists($_SERVER['DOCUMENT_ROOT'].$strEmptyPreview))
	{
		$arSizes = getimagesize($_SERVER['DOCUMENT_ROOT'].$strEmptyPreview);
		if (!empty($arSizes))
		{
			$arEmptyPreview = array(
				'SRC' => $strEmptyPreview,
				'WIDTH' => intval($arSizes[0]),
				'HEIGHT' => intval($arSizes[1])
			);
		}
		unset($arSizes);
	}
	unset($strEmptyPreview);

	$arSKUPropList = array();
	$arSKUPropIDs = array();
	$arSKUPropKeys = array();
	$boolSKU = false;
	$strBaseCurrency = '';
	$boolConvert = isset($arResult['CONVERT_CURRENCY']['CURRENCY_ID']);
	$arOfferProps = implode(';', $arParams['OFFERS_CART_PROPERTIES']);

	if ($arResult['MODULES']['catalog'])
	{
		if (!$boolConvert)
			$strBaseCurrency = CCurrency::GetBaseCurrency();

		$arSKU = CCatalogSKU::GetInfoByProductIBlock($arParams['IBLOCK_ID']);
		$boolSKU = !empty($arSKU) && is_array($arSKU);
		if ($boolSKU && !empty($arParams['OFFER_TREE_PROPS']) && 'TYPE_1' == $arParams['TYPE_SKU'] && $arParams['DISPLAY_TYPE'] !='table')
		{
			$arSKUPropList = CIBlockPriceTools::getTreeProperties(
				$arSKU,
				$arParams['OFFER_TREE_PROPS'],
				array(
					//'PICT' => $arEmptyPreview,
					'NAME' => '-'
				)
			);
			$arResult["SKU_IBLOCK_ID"]=$arSKU["IBLOCK_ID"];
			$arNeedValues = array();
			CIBlockPriceTools::getTreePropertyValues($arSKUPropList, $arNeedValues);
			$arSKUPropIDs = array_keys($arSKUPropList);


			if (empty($arSKUPropIDs))
				$arParams['TYPE_SKU'] = 'N';
			else
				$arSKUPropKeys = array_fill_keys($arSKUPropIDs, false);
		}
	}
	$arNewItemsList = array();
	foreach ($arResult['ITEMS'] as $key => $arItem)
	{
		$arItem['CHECK_QUANTITY'] = false;
		if (!isset($arItem['CATALOG_MEASURE_RATIO']))
			$arItem['CATALOG_MEASURE_RATIO'] = 1;
		if (!isset($arItem['CATALOG_QUANTITY']))
			$arItem['CATALOG_QUANTITY'] = 0;
		$arItem['CATALOG_QUANTITY'] = (
			0 < $arItem['CATALOG_QUANTITY'] && is_float($arItem['CATALOG_MEASURE_RATIO'])
			? floatval($arItem['CATALOG_QUANTITY'])
			: intval($arItem['CATALOG_QUANTITY'])
		);
		$arItem['CATALOG'] = false;
		if (!isset($arItem['CATALOG_SUBSCRIPTION']) || 'Y' != $arItem['CATALOG_SUBSCRIPTION'])
			$arItem['CATALOG_SUBSCRIPTION'] = 'N';

		$productPictures = CIBlockPriceTools::getDoublePicturesForItem($arItem, $arParams['ADD_PICT_PROP']);
		if (empty($productPictures['PICT']))
			$productPictures['PICT'] = $arEmptyPreview;
		if (empty($productPictures['SECOND_PICT']))
			$productPictures['SECOND_PICT'] = $productPictures['PICT'];

		$arItem['PREVIEW_PICTURE'] = $productPictures['PICT'];
		$arItem['PREVIEW_PICTURE_SECOND'] = $productPictures['SECOND_PICT'];
		$arItem['SECOND_PICT'] = true;
		$arItem['PRODUCT_PREVIEW'] = $productPictures['PICT'];
		$arItem['PRODUCT_PREVIEW_SECOND'] = $productPictures['SECOND_PICT'];

		if ($arResult['MODULES']['catalog'])
		{
			$arItem['CATALOG'] = true;
			if (!isset($arItem['CATALOG_TYPE']))
				$arItem['CATALOG_TYPE'] = CCatalogProduct::TYPE_PRODUCT;
			if (
				(CCatalogProduct::TYPE_PRODUCT == $arItem['CATALOG_TYPE'] || CCatalogProduct::TYPE_SKU == $arItem['CATALOG_TYPE'])
				&& !empty($arItem['OFFERS'])
			)
			{
				$arItem['CATALOG_TYPE'] = CCatalogProduct::TYPE_SKU;
			}
			switch ($arItem['CATALOG_TYPE'])
			{
				case CCatalogProduct::TYPE_SET:
					$arItem['OFFERS'] = array();
					$arItem['CHECK_QUANTITY'] = ('Y' == $arItem['CATALOG_QUANTITY_TRACE'] && 'N' == $arItem['CATALOG_CAN_BUY_ZERO']);
					break;
				case CCatalogProduct::TYPE_SKU:
					break;
				case CCatalogProduct::TYPE_PRODUCT:
				default:
					$arItem['CHECK_QUANTITY'] = ('Y' == $arItem['CATALOG_QUANTITY_TRACE'] && 'N' == $arItem['CATALOG_CAN_BUY_ZERO']);
					break;
			}
		}
		else
		{
			$arItem['CATALOG_TYPE'] = 0;
			$arItem['OFFERS'] = array();
		}

		if ($arItem['CATALOG'] && isset($arItem['OFFERS']) && !empty($arItem['OFFERS']))
		{
			if ('TYPE_1' == $arParams['TYPE_SKU'] && $arParams['DISPLAY_TYPE'] !='table')
			{
				$arMatrixFields = $arSKUPropKeys;
				$arMatrix = array();

				$arNewOffers = array();
				$boolSKUDisplayProperties = false;
				$arItem['OFFERS_PROP'] = false;

				$arDouble = array();
				foreach ($arItem['OFFERS'] as $keyOffer => $arOffer)
				{
					$arOffer['ID'] = intval($arOffer['ID']);
					if (isset($arDouble[$arOffer['ID']]))
						continue;
					$arRow = array();
					foreach ($arSKUPropIDs as $propkey => $strOneCode)
					{
						$arCell = array(
							'VALUE' => 0,
							'SORT' => PHP_INT_MAX,
							'NA' => true
						);
						if (isset($arOffer['DISPLAY_PROPERTIES'][$strOneCode]))
						{
							$arMatrixFields[$strOneCode] = true;
							$arCell['NA'] = false;
							if ('directory' == $arSKUPropList[$strOneCode]['USER_TYPE'])
							{
								$intValue = $arSKUPropList[$strOneCode]['XML_MAP'][$arOffer['DISPLAY_PROPERTIES'][$strOneCode]['VALUE']];
								$arCell['VALUE'] = $intValue;
							}
							elseif ('L' == $arSKUPropList[$strOneCode]['PROPERTY_TYPE'])
							{
								$arCell['VALUE'] = intval($arOffer['DISPLAY_PROPERTIES'][$strOneCode]['VALUE_ENUM_ID']);
							}
							elseif ('E' == $arSKUPropList[$strOneCode]['PROPERTY_TYPE'])
							{
								$arCell['VALUE'] = intval($arOffer['DISPLAY_PROPERTIES'][$strOneCode]['VALUE']);
							}
							$arCell['SORT'] = $arSKUPropList[$strOneCode]['VALUES'][$arCell['VALUE']]['SORT'];
						}
						$arRow[$strOneCode] = $arCell;
					}
					$arMatrix[$keyOffer] = $arRow;

					CIBlockPriceTools::clearProperties($arOffer['DISPLAY_PROPERTIES'], $arParams['OFFER_TREE_PROPS']);

					CIBlockPriceTools::setRatioMinPrice($arOffer, false);

					$offerPictures = CIBlockPriceTools::getDoublePicturesForItem($arOffer, $arParams['OFFER_ADD_PICT_PROP']);
					$arOffer['OWNER_PICT'] = empty($offerPictures['PICT']);
					$arOffer['PREVIEW_PICTURE'] = false;
					$arOffer['PREVIEW_PICTURE_SECOND'] = false;
					$arOffer['SECOND_PICT'] = true;
					if (!$arOffer['OWNER_PICT'])
					{
						if (empty($offerPictures['SECOND_PICT']))
							$offerPictures['SECOND_PICT'] = $offerPictures['PICT'];
						$arOffer['PREVIEW_PICTURE'] = $offerPictures['PICT'];
						$arOffer['PREVIEW_PICTURE_SECOND'] = $offerPictures['SECOND_PICT'];
					}

					if ('' != $arParams['OFFER_ADD_PICT_PROP'] && isset($arOffer['DISPLAY_PROPERTIES'][$arParams['OFFER_ADD_PICT_PROP']]))
						unset($arOffer['DISPLAY_PROPERTIES'][$arParams['OFFER_ADD_PICT_PROP']]);

					$arDouble[$arOffer['ID']] = true;
					$arNewOffers[$keyOffer] = $arOffer;

				}


				$arItem['OFFERS'] = $arNewOffers;

				$arUsedFields = array();
				$arSortFields = array();

				$arPropSKU = $arItem['OFFERS_PROPS_JS'] = array();

				foreach ($arSKUPropIDs as $propkey => $strOneCode)
				{
					$boolExist = $arMatrixFields[$strOneCode];
					foreach ($arMatrix as $keyOffer => $arRow)
					{
						if ($boolExist)
						{
							if (!isset($arItem['OFFERS'][$keyOffer]['TREE']))
								$arItem['OFFERS'][$keyOffer]['TREE'] = array();
							$arItem['OFFERS'][$keyOffer]['TREE']['PROP_'.$arSKUPropList[$strOneCode]['ID']] = $arMatrix[$keyOffer][$strOneCode]['VALUE'];
							$arItem['OFFERS'][$keyOffer]['SKU_SORT_'.$strOneCode] = $arMatrix[$keyOffer][$strOneCode]['SORT'];
							$arUsedFields[$strOneCode] = true;
							$arSortFields['SKU_SORT_'.$strOneCode] = SORT_NUMERIC;

							$arPropSKU[$strOneCode][$arMatrix[$keyOffer][$strOneCode]["VALUE"]] = $arSKUPropList[$strOneCode]["VALUES"][$arMatrix[$keyOffer][$strOneCode]["VALUE"]];
						}
						else
						{
							unset($arMatrix[$keyOffer][$strOneCode]);
						}
					}
					if($arPropSKU[$strOneCode])
					{
						$arItem['OFFERS_PROPS_JS'][$strOneCode] = array(
							"ID" => $arSKUPropList[$strOneCode]["ID"],
							"CODE" => $arSKUPropList[$strOneCode]["CODE"],
							"NAME" => $arSKUPropList[$strOneCode]["NAME"],
							"SORT" => $arSKUPropList[$strOneCode]["SORT"],
							"PROPERTY_TYPE" => $arSKUPropList[$strOneCode]["PROPERTY_TYPE"],
							"USER_TYPE" => $arSKUPropList[$strOneCode]["USER_TYPE"],
							"LINK_IBLOCK_ID" => $arSKUPropList[$strOneCode]["LINK_IBLOCK_ID"],
							"SHOW_MODE" => $arSKUPropList[$strOneCode]["SHOW_MODE"],
							"VALUES" => $arPropSKU[$strOneCode]
						);
					}
				}
				$arItem['OFFERS_PROP'] = $arUsedFields;
				// $arItem['OFFERS_PROP_CODES'] = (!empty($arUsedFields) ? base64_encode(serialize(array_keys($arUsedFields))) : '');
				$arItem['OFFERS_PROP_CODES'] = (!empty($arParams["OFFERS_CART_PROPERTIES"]) ? base64_encode(serialize(array_keys($arParams["OFFERS_CART_PROPERTIES"]))) : '');

				Collection::sortByColumn($arItem['OFFERS'], $arSortFields);

				$arMatrix = array();
				$intSelected = -1;
				$arItem['MIN_PRICE'] = false;
				$arItem['MIN_BASIS_PRICE'] = false;
				foreach ($arItem['OFFERS'] as $keyOffer => $arOffer)
				{
					if (empty($arItem['MIN_PRICE']) /*&& $arOffer['CAN_BUY']*/)
					{
						$intSelected = $keyOffer;
						$arItem['MIN_PRICE'] = $arOffer['MIN_PRICE'];
						$arItem['MIN_BASIS_PRICE'] = $arOffer['MIN_PRICE'];
					}
					$arSKUProps =$arSKUArticle = false;
					if (!empty($arOffer['DISPLAY_PROPERTIES']))
					{
						$boolSKUDisplayProperties = true;
						$arSKUProps = array();
						foreach ($arOffer['DISPLAY_PROPERTIES'] as &$arOneProp)
						{
							if ('F' == $arOneProp['PROPERTY_TYPE'])
								continue;
							$arSKUProps[] = array(
								'NAME' => $arOneProp['NAME'],
								'VALUE' => $arOneProp['DISPLAY_VALUE'],
								'CODE' => $arOneProp['CODE'],
							);
						}
						unset($arOneProp);
					}

					$totalCount = COptimus::GetTotalCount($arOffer);
					$arOffer['IS_OFFER'] = 'Y';
					$arOffer['IBLOCK_ID'] = $arResult['IBLOCK_ID'];
					$arAddToBasketData = COptimus::GetAddToBasketArray($arOffer, $totalCount, $arParams["DEFAULT_COUNT"], $arParams["BASKET_URL"], false, $arItemIDs["ALL_ITEM_IDS"], 'small read_more1', $arParams);
					$arAddToBasketData["HTML"] = str_replace('data-item', 'data-props="'.$arOfferProps.'" data-item', $arAddToBasketData["HTML"]);

					$arOneRow = array(
						'ID' => $arOffer['ID'],
						'NAME' => $arOffer['~NAME'],
						'TREE' => $arOffer['TREE'],
						'DISPLAY_PROPERTIES' => $arSKUProps,
						'ARTICLE' => $arSKUArticle,
						// 'PRICE' => (isset($arOffer['RATIO_PRICE']) ? $arOffer['RATIO_PRICE'] : $arOffer['MIN_PRICE']),
						'PRICE' => $arOffer['MIN_PRICE'],
						'BASIS_PRICE' => $arOffer['MIN_PRICE'],
						'OWNER_PICT' => $arOffer['OWNER_PICT'],
						'PREVIEW_PICTURE' => $arOffer['PREVIEW_PICTURE'],
						'PREVIEW_PICTURE_SECOND' => $arOffer['PREVIEW_PICTURE_SECOND'],
						'CHECK_QUANTITY' => $arOffer['CHECK_QUANTITY'],
						'MAX_QUANTITY' => $arOffer['CATALOG_QUANTITY'],
						'STEP_QUANTITY' => $arOffer['CATALOG_MEASURE_RATIO'],
						'QUANTITY_FLOAT' => is_double($arOffer['CATALOG_MEASURE_RATIO']),
						'MEASURE' => $arOffer['~CATALOG_MEASURE_NAME'],
						'CAN_BUY' => $arOffer['CAN_BUY'],
						'CATALOG_SUBSCRIBE' => $arOffer['CATALOG_SUBSCRIBE'],
						'AVAILIABLE' => COptimus::GetQuantityArray($arOffer['CATALOG_QUANTITY']),
						'URL' => $arOffer['DETAIL_PAGE_URL'],
						'SHOW_MEASURE' => ($arParams["SHOW_MEASURE"]=="Y" ? "Y" : "N"),
						'SHOW_ONE_CLICK_BUY' => "N",
						'ONE_CLICK_BUY' => GetMessage("ONE_CLICK_BUY"),
						'OFFER_PROPS' => $arOfferProps,
						'NO_PHOTO' => $arEmptyPreview,
						'CONFIG' => $arAddToBasketData,
						'HTML' => $arAddToBasketData["HTML"],
						'PRODUCT_QUANTITY_VARIABLE' => $arParams["PRODUCT_QUANTITY_VARIABLE"],
					);
					if($arOneRow["PRICE"]["DISCOUNT_DIFF"]){
						$percent=round(($arOneRow["PRICE"]["DISCOUNT_DIFF"]/$arOneRow["PRICE"]["VALUE"])*100, 2);
						$arOneRow["PRICE"]["DISCOUNT_DIFF_PERCENT_RAW"]="-".$percent."%";
					}
					$arMatrix[$keyOffer] = $arOneRow;
				}
				if (-1 == $intSelected)
					$intSelected = 0;
				if (!$arMatrix[$intSelected]['OWNER_PICT'])
				{
					$arItem['PREVIEW_PICTURE'] = $arMatrix[$intSelected]['PREVIEW_PICTURE'];
					$arItem['PREVIEW_PICTURE_SECOND'] = $arMatrix[$intSelected]['PREVIEW_PICTURE_SECOND'];
				}
				$arItem['JS_OFFERS'] = $arMatrix;
				$arItem['OFFERS_SELECTED'] = $intSelected;
				$arItem['OFFERS_PROPS_DISPLAY'] = $boolSKUDisplayProperties;
			}
			else
			{
				$arItem['MIN_PRICE'] = COptimus::getMinPriceFromOffersExt(
					$arItem['OFFERS'],
					$boolConvert ? $arResult['CONVERT_CURRENCY']['CURRENCY_ID'] : $strBaseCurrency
				);

				/*set min_price_id*/
				$minItemPriceID = 0;
				$minItemPrice = 0;
				$minItemPriceFormat = "";
				foreach ($arItem['OFFERS'] as $keyOffer => $arOffer){

					if($arOffer["MIN_PRICE"]["CAN_ACCESS"]){
						if($arOffer["MIN_PRICE"]["DISCOUNT_VALUE"] < $arOffer["MIN_PRICE"]["VALUE"]){
							$minOfferPrice = $arOffer["MIN_PRICE"]["DISCOUNT_VALUE"];
							$minOfferPriceFormat = $arOffer["MIN_PRICE"]["PRINT_DISCOUNT_VALUE"];
							$minOfferPriceID = $arOffer["MIN_PRICE"]["PRICE_ID"];
						}
						else{
							$minOfferPrice = $arOffer["MIN_PRICE"]["VALUE"];
							$minOfferPriceFormat = $arOffer["MIN_PRICE"]["PRINT_VALUE"];
							$minOfferPriceID = $arOffer["MIN_PRICE"]["PRICE_ID"];
						}

						if($minItemPrice > 0 && $minOfferPrice < $minItemPrice){
							$minItemPrice = $minOfferPrice;
							$minItemPriceFormat = $minOfferPriceFormat;
							$minItemPriceID = $minOfferPriceID;
							$minItemID = $arOffer["ID"];
						}
						elseif($minItemPrice == 0){
							$minItemPrice = $minOfferPrice;
							$minItemPriceFormat = $minOfferPriceFormat;
							$minItemPriceID = $minOfferPriceID;
							$minItemID = $arOffer["ID"];
						}
					}
				}
				$arItem['MIN_PRICE']["MIN_PRICE_ID"]=$minItemPriceID;
				$arItem['MIN_PRICE']["MIN_ITEM_ID"]=$minItemID;
			}
		}

		if (
			$arResult['MODULES']['catalog']
			&& $arItem['CATALOG']
			&&
				($arItem['CATALOG_TYPE'] == CCatalogProduct::TYPE_PRODUCT
				|| $arItem['CATALOG_TYPE'] == CCatalogProduct::TYPE_SET)
		)
		{
			CIBlockPriceTools::setRatioMinPrice($arItem, false);
			$arItem['MIN_BASIS_PRICE'] = $arItem['MIN_PRICE'];
		}
		$arItem['ARTICLE']=false;
		if (!empty($arItem['DISPLAY_PROPERTIES']))
		{
			foreach ($arItem['DISPLAY_PROPERTIES'] as $propKey => $arDispProp)
			{
				if($propKey=="CML2_ARTICLE"){
					$arItem['ARTICLE']=$arDispProp;
				}
				if ('F' == $arDispProp['PROPERTY_TYPE'])
					unset($arItem['DISPLAY_PROPERTIES'][$propKey]);
			}
		}
		$arItem['LAST_ELEMENT'] = 'N';
		$arNewItemsList[$key] = $arItem;
	}
	$arNewItemsList[$key]['LAST_ELEMENT'] = 'Y';
	$arResult['ITEMS'] = $arNewItemsList;

	if($arSKUPropList)
	{
		foreach($arSKUPropList as $prop => $arProps)
		{
			unset($arSKUPropList[$prop]["USER_TYPE_SETTINGS"]);
			unset($arSKUPropList[$prop]["VALUES"]);
		}

	}

	$arResult['SKU_PROPS'] = $arSKUPropList;

	unset($arSKUPropList);

	$arResult['DEFAULT_PICTURE'] = $arEmptyPreview;

	$arResult['CURRENCIES'] = array();
	if ($arResult['MODULES']['currency'])
	{
		if ($boolConvert)
		{
			$currencyFormat = CCurrencyLang::GetFormatDescription($arResult['CONVERT_CURRENCY']['CURRENCY_ID']);
			$arResult['CURRENCIES'] = array(
				array(
					'CURRENCY' => $arResult['CONVERT_CURRENCY']['CURRENCY_ID'],
					'FORMAT' => array(
						'FORMAT_STRING' => $currencyFormat['FORMAT_STRING'],
						'DEC_POINT' => $currencyFormat['DEC_POINT'],
						'THOUSANDS_SEP' => $currencyFormat['THOUSANDS_SEP'],
						'DECIMALS' => $currencyFormat['DECIMALS'],
						'THOUSANDS_VARIANT' => $currencyFormat['THOUSANDS_VARIANT'],
						'HIDE_ZERO' => $currencyFormat['HIDE_ZERO']
					)
				)
			);
			unset($currencyFormat);
		}
		else
		{
			$currencyIterator = CurrencyTable::getList(array(
				'select' => array('CURRENCY')
			));
			while ($currency = $currencyIterator->fetch())
			{
				$currencyFormat = CCurrencyLang::GetFormatDescription($currency['CURRENCY']);
				$arResult['CURRENCIES'][] = array(
					'CURRENCY' => $currency['CURRENCY'],
					'FORMAT' => array(
						'FORMAT_STRING' => $currencyFormat['FORMAT_STRING'],
						'DEC_POINT' => $currencyFormat['DEC_POINT'],
						'THOUSANDS_SEP' => $currencyFormat['THOUSANDS_SEP'],
						'DECIMALS' => $currencyFormat['DECIMALS'],
						'THOUSANDS_VARIANT' => $currencyFormat['THOUSANDS_VARIANT'],
						'HIDE_ZERO' => $currencyFormat['HIDE_ZERO']
					)
				);
			}
			unset($currencyFormat, $currency, $currencyIterator);
		}
	}
}
?>146  46520|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/components/bitrix/catalog.section/catalog_block/script.js|75b47e3f(function (window) {

if (!!window.JCCatalogSection)
{
	return;
}

window.JCCatalogSection = function (arParams)
{
	this.skuVisualParams = {
		SELECT:
		{
			TAG_BIND: 'select',
			TAG: 'option',
			ACTIVE_CLASS: 'active',
			HIDE_CLASS: 'hidden',
			EVENT: 'change',
		},
		LI:
		{
			TAG_BIND: 'li',
			TAG: 'li',
			ACTIVE_CLASS: 'active',
			HIDE_CLASS: 'missing',
			EVENT: 'click',
		}
	};
	this.productType = 0;
	this.showQuantity = true;
	this.showAbsent = true;
	this.secondPict = false;
	this.showOldPrice = false;
	this.showPercent = false;
	this.showSkuProps = false;
	this.basketAction = 'ADD';
	this.basketLinkURL = '';
	this.showClosePopup = false;
	this.useCompare = false;
	this.visual = {
		ID: '',
		PICT_ID: '',
		SECOND_PICT_ID: '',
		QUANTITY_ID: '',
		QUANTITY_UP_ID: '',
		QUANTITY_DOWN_ID: '',
		STORE_QUANTITY: '',
		PRICE_ID: '',
		PRICE_OLD_ID: '',
		DSC_PERC: '',
		SECOND_DSC_PERC: '',
		DISPLAY_PROP_DIV: '',
		BASKET_PROP_DIV: ''
	};
	this.product = {
		checkQuantity: false,
		maxQuantity: 0,
		stepQuantity: 1,
		isDblQuantity: false,
		canBuy: true,
		canSubscription: true,
		name: '',
		pict: {},
		id: 0,
		addUrl: '',
		buyUrl: ''
	};

	this.basketMode = '';
	this.basketData = {
		useProps: false,
		emptyProps: false,
		quantity: 'quantity',
		props: 'prop',
		basketUrl: '',
		sku_props: '',
		sku_props_var: 'basket_props',
		add_url: '',
		buy_url: ''
	};

	this.compareData = {
		compareUrl: '',
		comparePath: ''
	};

	this.defaultPict = {
		pict: null,
		secondPict: null
	};

	this.checkQuantity = false;
	this.maxQuantity = 0;
	this.stepQuantity = 1;
	this.defaultCount = 1;
	this.isDblQuantity = false;
	this.canBuy = true;
	this.currentBasisPrice = {};
	this.canSubscription = true;
	this.precision = 6;
	this.precisionFactor = Math.pow(10,this.precision);

	this.offers = [];
	this.offerNum = 0;
	this.treeProps = [];
	this.obTreeRows = [];
	this.showCount = [];
	this.showStart = [];
	this.selectedValues = {};

	this.obProduct = null;
	this.obQuantity = null;
	this.obQuantityUp = null;
	this.obQuantityDown = null;
	this.obPict = null;
	this.obSecondPict = null;
	this.obPrice = null;
	this.obTree = null;
	this.obBuyBtn = null;
	this.obBasketBtn = null;
	this.obBasketActions = null;
	this.obNotAvail = null;
	this.obDscPerc = null;
	this.obSecondDscPerc = null;
	this.obSkuProps = null;
	this.obMeasure = null;
	this.obCompare = null;

	this.obPopupWin = null;
	this.basketUrl = '';
	this.basketParams = {};

	this.treeRowShowSize = 5;
	this.treeEnableArrow = { display: '', cursor: 'pointer', opacity: 1 };
	this.treeDisableArrow = { display: '', cursor: 'default', opacity:0.2 };

	this.lastElement = false;
	this.containerHeight = 0;

	this.errorCode = 0;

	if ('object' === typeof arParams)
	{
		this.productType = parseInt(arParams.PRODUCT_TYPE, 10);
		this.showQuantity = arParams.SHOW_QUANTITY;
		this.showAbsent = arParams.SHOW_ABSENT;
		this.secondPict = !!arParams.SECOND_PICT;
		this.showOldPrice = !!arParams.SHOW_OLD_PRICE;
		this.showPercent = !!arParams.SHOW_DISCOUNT_PERCENT;
		this.showSkuProps = !!arParams.SHOW_SKU_PROPS;
		if (!!arParams.ADD_TO_BASKET_ACTION)
		{
			this.basketAction = arParams.ADD_TO_BASKET_ACTION;
		}
		this.showClosePopup = !!arParams.SHOW_CLOSE_POPUP;
		this.useCompare = !!arParams.DISPLAY_COMPARE;

		this.visual = arParams.VISUAL;
		this.defaultCount = arParams.DEFAULT_COUNT;
		this.basketLinkURL = arParams.BASKET_URL;
		switch (this.productType)
		{
			case 1://product
			case 2://set
				if (!!arParams.PRODUCT && 'object' === typeof(arParams.PRODUCT))
				{
					if (this.showQuantity)
					{
						this.product.checkQuantity = arParams.PRODUCT.CHECK_QUANTITY;
						this.product.isDblQuantity = arParams.PRODUCT.QUANTITY_FLOAT;
						if (this.product.checkQuantity)
						{
							this.product.maxQuantity = (this.product.isDblQuantity ? parseFloat(arParams.PRODUCT.MAX_QUANTITY) : parseInt(arParams.PRODUCT.MAX_QUANTITY, 10));
						}
						this.product.stepQuantity = (this.product.isDblQuantity ? parseFloat(arParams.PRODUCT.STEP_QUANTITY) : parseInt(arParams.PRODUCT.STEP_QUANTITY, 10));

						this.checkQuantity = this.product.checkQuantity;
						this.isDblQuantity = this.product.isDblQuantity;
						this.maxQuantity = this.product.maxQuantity;
						this.stepQuantity = this.product.stepQuantity;
						if (this.isDblQuantity)
						{
							this.stepQuantity = Math.round(this.stepQuantity*this.precisionFactor)/this.precisionFactor;
						}
					}
					this.product.canBuy = arParams.PRODUCT.CAN_BUY;
					this.product.canSubscription = arParams.PRODUCT.SUBSCRIPTION;
					if (!!arParams.PRODUCT.BASIS_PRICE)
					{
						this.currentBasisPrice = arParams.PRODUCT.BASIS_PRICE;
					}

					this.canBuy = this.product.canBuy;
					this.canSubscription = this.product.canSubscription;

					this.product.name = arParams.PRODUCT.NAME;
					this.product.pict = arParams.PRODUCT.PICT;
					this.product.id = arParams.PRODUCT.ID;
					if (!!arParams.PRODUCT.ADD_URL)
					{
						this.product.addUrl = arParams.PRODUCT.ADD_URL;
					}
					if (!!arParams.PRODUCT.BUY_URL)
					{
						this.product.buyUrl = arParams.PRODUCT.BUY_URL;
					}
					if (!!arParams.BASKET && 'object' === typeof(arParams.BASKET))
					{
						this.basketData.useProps = !!arParams.BASKET.ADD_PROPS;
						this.basketData.emptyProps = !!arParams.BASKET.EMPTY_PROPS;
					}
				}
				else
				{
					this.errorCode = -1;
				}
				break;
			case 3://sku
				if (!!arParams.OFFERS && BX.type.isArray(arParams.OFFERS))
				{
					if (!!arParams.PRODUCT && 'object' === typeof(arParams.PRODUCT))
					{
						this.product.name = arParams.PRODUCT.NAME;
						this.product.id = arParams.PRODUCT.ID;
					}
					this.offers = arParams.OFFERS;
					this.offerNum = 0;
					if (!!arParams.OFFER_SELECTED)
					{
						this.offerNum = parseInt(arParams.OFFER_SELECTED, 10);
					}
					if (isNaN(this.offerNum))
					{
						this.offerNum = 0;
					}
					if (!!arParams.TREE_PROPS)
					{
						this.treeProps = arParams.TREE_PROPS;
					}
					if (!!arParams.DEFAULT_PICTURE)
					{
						this.defaultPict.pict = arParams.DEFAULT_PICTURE.PICTURE;
						this.defaultPict.secondPict = arParams.DEFAULT_PICTURE.PICTURE_SECOND;
					}
				}
				else
				{
					this.errorCode = -1;
				}
				break;
			default:
				this.errorCode = -1;
		}
		if (!!arParams.BASKET && 'object' === typeof(arParams.BASKET))
		{
			if (!!arParams.BASKET.QUANTITY)
			{
				this.basketData.quantity = arParams.BASKET.QUANTITY;
			}
			if (!!arParams.BASKET.PROPS)
			{
				this.basketData.props = arParams.BASKET.PROPS;
			}
			if (!!arParams.BASKET.BASKET_URL)
			{
				this.basketData.basketUrl = arParams.BASKET.BASKET_URL;
			}
			if (3 === this.productType)
			{
				if (!!arParams.BASKET.SKU_PROPS)
				{
					this.basketData.sku_props = arParams.BASKET.SKU_PROPS;
				}
			}
			if (!!arParams.BASKET.ADD_URL_TEMPLATE)
			{
				this.basketData.add_url = arParams.BASKET.ADD_URL_TEMPLATE;
			}
			if (!!arParams.BASKET.BUY_URL_TEMPLATE)
			{
				this.basketData.buy_url = arParams.BASKET.BUY_URL_TEMPLATE;
			}
			if (this.basketData.add_url === '' && this.basketData.buy_url === '')
			{
				this.errorCode = -1024;
			}
		}
		if (this.useCompare)
		{
			if (!!arParams.COMPARE && typeof(arParams.COMPARE) === 'object')
			{
				if (!!arParams.COMPARE.COMPARE_PATH)
				{
					this.compareData.comparePath = arParams.COMPARE.COMPARE_PATH;
				}
				if (!!arParams.COMPARE.COMPARE_URL_TEMPLATE_DEL)
				{
					this.compareData.compareUrlDel = arParams.COMPARE.COMPARE_URL_TEMPLATE_DEL;
				}
				if (!!arParams.COMPARE.COMPARE_URL_TEMPLATE)
				{
					this.compareData.compareUrl = arParams.COMPARE.COMPARE_URL_TEMPLATE;
				}
				else
				{
					this.useCompare = false;
				}
			}
			else
			{
				this.useCompare = false;
			}
		}

		this.lastElement = (!!arParams.LAST_ELEMENT && 'Y' === arParams.LAST_ELEMENT);
	}
	if (0 === this.errorCode)
	{
		BX.ready(BX.delegate(this.Init,this));
	}
};

window.JCCatalogSection.prototype.Init = function()
{
	var i = 0,
		strPrefix = '',
		TreeItems = null;

	this.obProduct = BX(this.visual.ID);
	if (!this.obProduct)
	{
		this.errorCode = -1;
	}
	this.obPict = BX(this.visual.PICT_ID);
	if (!this.obPict)
	{
		this.errorCode = -2;
	}
	if (this.secondPict && !!this.visual.SECOND_PICT_ID)
	{
		this.obSecondPict = BX(this.visual.SECOND_PICT_ID);
	}
	this.storeQuanity = BX(this.visual.STORE_QUANTITY);
	this.obPrice = BX(this.visual.PRICE_ID);
	this.obPriceOld = BX(this.visual.PRICE_OLD_ID);
	if (!this.obPrice)
	{
		this.errorCode = -16;
	}
	if (this.showQuantity && !!this.visual.QUANTITY_ID)
	{
		this.obQuantity = BX(this.visual.QUANTITY_ID);
		if (!!this.visual.QUANTITY_UP_ID)
		{
			this.obQuantityUp = BX(this.visual.QUANTITY_UP_ID);
		}
		if (!!this.visual.QUANTITY_DOWN_ID)
		{
			this.obQuantityDown = BX(this.visual.QUANTITY_DOWN_ID);
		}
	}
	if (3 === this.productType)
	{
		if (!!this.visual.TREE_ID)
		{
			this.obTree = BX(this.visual.TREE_ID);
			if (!this.obTree)
			{
				this.errorCode = -256;
			}
			strPrefix = this.visual.TREE_ITEM_ID;
			for (i = 0; i < this.treeProps.length; i++)
			{
				this.obTreeRows[i] = {
					LIST: BX(strPrefix+this.treeProps[i].ID+'_list'),
					CONT: BX(strPrefix+this.treeProps[i].ID+'_cont')
				};
				if (!this.obTreeRows[i].LIST || !this.obTreeRows[i].CONT)
				{
					this.errorCode = -512;
					break;
				}
			}
		}
		if (!!this.visual.QUANTITY_MEASURE)
		{
			this.obMeasure = BX(this.visual.QUANTITY_MEASURE);
		}
	}

	this.obBasketActions = BX(this.visual.BASKET_ACTIONS_ID);
	if (!!this.obBasketActions)
	{
		if (!!this.visual.BUY_ID)
		{
			this.obBuyBtn = BX(this.visual.BUY_ID);
		}
		if (!!this.visual.BASKET_LINK)
		{
			this.obBasketBtn = BX(this.visual.BASKET_LINK);
		}
	}
	this.obNotAvail = BX(this.visual.NOT_AVAILABLE_MESS);

	if (this.showPercent)
	{
		if (!!this.visual.DSC_PERC)
		{
			this.obDscPerc = BX(this.visual.DSC_PERC);
		}
		if (this.secondPict && !!this.visual.SECOND_DSC_PERC)
		{
			this.obSecondDscPerc = BX(this.visual.SECOND_DSC_PERC);
		}
	}

	if (this.showSkuProps)
	{
		if (!!this.visual.DISPLAY_PROP_DIV)
		{
			this.obSkuProps = BX(this.visual.DISPLAY_PROP_DIV);
		}
	}

	if (0 === this.errorCode)
	{
		if (this.showQuantity)
		{
			if (!!this.obQuantityUp)
			{
				BX.bind(this.obQuantityUp, 'click', BX.delegate(this.QuantityUp, this));
			}
			if (!!this.obQuantityDown)
			{
				BX.bind(this.obQuantityDown, 'click', BX.delegate(this.QuantityDown, this));
			}
			if (!!this.obQuantity)
			{
				BX.bind(this.obQuantity, 'change', BX.delegate(this.QuantityChange, this));
			}
		}
		switch (this.productType)
		{
			case 1://product
				break;
			case 3://sku
				for(var key in this.skuVisualParams){
					var TreeItems = BX.findChildren(this.obTree, {tagName: this.skuVisualParams[key].TAG_BIND}, true);
					if (!!TreeItems && 0 < TreeItems.length){
						for (i = 0; i < TreeItems.length; i++){
							$(TreeItems[i]).on(this.skuVisualParams[key].EVENT, BX.delegate(this.SelectOfferProp, this));
							//BX.bind(TreeItems[i], this.skuVisualParams[key].EVENT, BX.delegate(this.SelectOfferProp, this));
						}
					}
				}
				this.SetCurrent();
				break;
		}
		// $(this.obProduct).find(".read_more.to-cart").on('click', BX.delegate(this.Add2Basket, this));
		if (!!this.obBuyBtn)
		{
			if (this.basketAction === 'ADD')
			{
				// BX.bind(this.obBuyBtn, 'click', BX.delegate(this.Add2Basket, this));


			}
			else
			{
				BX.bind(this.obBuyBtn, 'click', BX.delegate(this.BuyBasket, this));
			}
		}
		if (this.useCompare){
			this.obCompare = BX(this.visual.COMPARE_LINK_ID);
		}
	}
};

window.JCCatalogSection.prototype.checkHeight = function()
{
	this.containerHeight = parseInt(this.obProduct.parentNode.offsetHeight, 10);
	if (isNaN(this.containerHeight)){
		this.containerHeight = 0;
	}
};

window.JCCatalogSection.prototype.setHeight = function()
{
	if (0 < this.containerHeight){
		BX.adjust(this.obProduct.parentNode, {style: { height: this.containerHeight+'px'}});
	}
};

window.JCCatalogSection.prototype.clearHeight = function()
{
	BX.adjust(this.obProduct.parentNode, {style: { height: 'auto'}});
};

window.JCCatalogSection.prototype.QuantityUp = function()
{
	var curValue = 0,
		boolSet = true,
		calcPrice;

	if (0 === this.errorCode && this.showQuantity && this.canBuy)
	{
		curValue = (this.isDblQuantity ? parseFloat(this.obQuantity.value) : parseInt(this.obQuantity.value, 10));
		if (!isNaN(curValue))
		{
			curValue += this.stepQuantity;
			if (this.checkQuantity)
			{
				if (curValue > this.maxQuantity)
				{
					boolSet = false;
				}
			}
			if (boolSet)
			{
				if (this.isDblQuantity)
				{
					curValue = Math.round(curValue*this.precisionFactor)/this.precisionFactor;
				}
				this.obQuantity.value = curValue;
			}
		}
	}
};

window.JCCatalogSection.prototype.QuantityDown = function()
{
	var curValue = 0,
		boolSet = true,
		calcPrice;

	if (0 === this.errorCode && this.showQuantity && this.canBuy)
	{
		curValue = (this.isDblQuantity ? parseFloat(this.obQuantity.value): parseInt(this.obQuantity.value, 10));
		if (!isNaN(curValue))
		{
			curValue -= this.stepQuantity;
			if (curValue < this.stepQuantity)
			{
				boolSet = false;
			}
			if (boolSet)
			{
				if (this.isDblQuantity)
				{
					curValue = Math.round(curValue*this.precisionFactor)/this.precisionFactor;
				}
				this.obQuantity.value = curValue;
			}
		}
	}
};

window.JCCatalogSection.prototype.QuantityChange = function()
{
	var curValue = 0,
		calcPrice,
		intCount,
		count;

	if (0 === this.errorCode && this.showQuantity)
	{
		if (this.canBuy)
		{
			curValue = (this.isDblQuantity ? parseFloat(this.obQuantity.value) : parseInt(this.obQuantity.value, 10));
			if (!isNaN(curValue))
			{
				if (this.checkQuantity)
				{
					if (curValue > this.maxQuantity)
					{
						curValue = this.maxQuantity;
					}
				}
				if (curValue < this.stepQuantity)
				{
					curValue = this.stepQuantity;
				}
				else
				{
					count = curValue/this.stepQuantity;
					intCount = parseInt(count, 10);
					if (isNaN(intCount))
					{
						intCount = 1;
						count = 1.1;
					}
					if (count > intCount)
					{
						curValue = (intCount <= 1 ? this.stepQuantity : intCount*this.stepQuantity);
						curValue = Math.round(curValue*this.precisionFactor)/this.precisionFactor;
					}
				}
				this.obQuantity.value = curValue;
			}
			else
			{
				this.obQuantity.value = this.stepQuantity;
			}
		}
		else
		{
			this.obQuantity.value = this.stepQuantity;
		}
	}
};

window.JCCatalogSection.prototype.QuantitySet = function(index)
{
	if (0 === this.errorCode)
	{
		this.canBuy = this.offers[index].CAN_BUY;
		if (this.canBuy)
		{
			if (!!this.obBasketActions)
			{
				BX.style(this.obBasketActions, 'display', '');
			}
			if (!!this.obNotAvail)
			{
				BX.style(this.obNotAvail, 'display', 'none');
			}
		}
		else
		{
			if (!!this.obBasketActions)
			{
				//BX.style(this.obBasketActions, 'display', 'none');
				BX.style(this.obBasketActions, 'opacity', '0');
				BX.style(BX.findParent(BX(this.obQuantity), { 'class':'counter_block' }), 'display', 'none');
			}
			if (!!this.obNotAvail)
			{
				BX.style(this.obNotAvail, 'display', '');
			}
		}
		if (this.showQuantity)
		{
			this.isDblQuantity = this.offers[index].QUANTITY_FLOAT;
			this.checkQuantity = this.offers[index].CHECK_QUANTITY;
			if (this.isDblQuantity)
			{
				this.maxQuantity = parseFloat(this.offers[index].MAX_QUANTITY);
				this.stepQuantity = Math.round(parseFloat(this.offers[index].STEP_QUANTITY)*this.precisionFactor)/this.precisionFactor;
			}
			else
			{
				this.maxQuantity = parseInt(this.offers[index].MAX_QUANTITY, 10);
				this.stepQuantity = parseInt(this.offers[index].STEP_QUANTITY, 10);
			}
			if(!!this.obQuantity){
				this.obQuantity.value = this.defaultCount;
				this.obQuantity.disabled = !this.canBuy;
			}
			if (!!this.obMeasure)
			{
				if (!!this.offers[index].MEASURE)
				{
					BX.adjust(this.obMeasure, { html : this.offers[index].MEASURE});
				}
				else
				{
					BX.adjust(this.obMeasure, { html : ''});
				}
			}
		}
		this.currentBasisPrice = this.offers[index].BASIS_PRICE;
	}
};

window.JCCatalogSection.prototype.SelectOfferProp = function()
{
	var i = 0,
		value = '',
		strTreeValue = '',
		arTreeItem = [],
		RowItems = null,
		target = BX.proxy_context;
	if(typeof target.options !== 'undefined' && typeof target.options[target.selectedIndex] !== 'undefined')
		target = target.options[target.selectedIndex];

	if (!!target && target.hasAttribute('data-treevalue'))
	{
		strTreeValue = target.getAttribute('data-treevalue');
		propModes = target.getAttribute('data-showtype');
		arTreeItem = strTreeValue.split('_');
		if (this.SearchOfferPropIndex(arTreeItem[0], arTreeItem[1]))
		{
			RowItems = BX.findChildren(target.parentNode, {tagName: this.skuVisualParams[propModes.toUpperCase()].TAG}, false);

			if (!!RowItems && 0 < RowItems.length)
			{
				for (i = 0; i < RowItems.length; i++)
				{
					value = RowItems[i].getAttribute('data-onevalue');

					// for SELECTBOXES
					if(propModes == 'TEXT'){
						if (value === arTreeItem[1]){
							RowItems[i].setAttribute('selected', 'selected');
						}else{
							RowItems[i].removeAttribute('selected');
						}
					}else{
						if (value === arTreeItem[1]){
							$(RowItems[i]).addClass(this.skuVisualParams[propModes.toUpperCase()].ACTIVE_CLASS);
						}else{
							$(RowItems[i]).removeClass(this.skuVisualParams[propModes.toUpperCase()].ACTIVE_CLASS);
						}
					}
				}
			}
		}
	}
};

window.JCCatalogSection.prototype.SearchOfferPropIndex = function(strPropID, strPropValue)
{
	var strName = '',
		arShowValues = false,
		i, j,
		arCanBuyValues = [],
		index = -1,
		arFilter = {},
		tmpFilter = [];

	for (i = 0; i < this.treeProps.length; i++)
	{
		if (this.treeProps[i].ID === strPropID)
		{
			index = i;
			break;
		}
	}

	if (-1 < index)
	{
		for (i = 0; i < index; i++)
		{
			strName = 'PROP_'+this.treeProps[i].ID;
			arFilter[strName] = this.selectedValues[strName];
		}
		strName = 'PROP_'+this.treeProps[index].ID;
		arShowValues = this.GetRowValues(arFilter, strName);
		if (!arShowValues)
		{
			return false;
		}
		if (!BX.util.in_array(strPropValue, arShowValues))
		{
			return false;
		}
		arFilter[strName] = strPropValue;
		for (i = index+1; i < this.treeProps.length; i++)
		{
			strName = 'PROP_'+this.treeProps[i].ID;
			arShowValues = this.GetRowValues(arFilter, strName);
			if (!arShowValues)
			{
				return false;
			}
			if (this.showAbsent)
			{
				arCanBuyValues = [];
				tmpFilter = [];
				tmpFilter = BX.clone(arFilter, true);
				for (j = 0; j < arShowValues.length; j++)
				{
					tmpFilter[strName] = arShowValues[j];
					/*if (this.GetCanBuy(tmpFilter))
					{*/
						arCanBuyValues[arCanBuyValues.length] = arShowValues[j];
					//}
				}
			}
			else
			{
				arCanBuyValues = arShowValues;
			}
			if (!!this.selectedValues[strName] && BX.util.in_array(this.selectedValues[strName], arCanBuyValues))
			{
				arFilter[strName] = this.selectedValues[strName];
			}
			else
			{
				arFilter[strName] = arCanBuyValues[0];
			}
			this.UpdateRow(i, arFilter[strName], arShowValues, arCanBuyValues);
		}
		this.selectedValues = arFilter;
		this.ChangeInfo();
	}
	return true;
};

window.JCCatalogSection.prototype.UpdateRow = function(intNumber, activeID, showID, canBuyID)
{
	var i = 0,
		showI = 0,
		value = '',
		countShow = 0,
		strNewLen = '',
		obData = {},
		pictMode = false,
		extShowMode = false,
		isCurrent = false,
		selectIndex = 0,
		obLeft = this.treeEnableArrow,
		obRight = this.treeEnableArrow,
		currentShowStart = 0,
		RowItems = null;

	if (-1 < intNumber && intNumber < this.obTreeRows.length){
		propMode = this.treeProps[intNumber].DISPLAY_TYPE;
		RowItems = BX.findChildren(this.obTreeRows[intNumber].LIST, {tagName: this.skuVisualParams[propMode].TAG}, false);
		if (!!RowItems && 0 < RowItems.length){
			selectMode = ('SELECT' === this.treeProps[intNumber].DISPLAY_TYPE);
			countShow = showID.length;
			obData = {
				style: {},
				props: {
					disabled: '',
					selected: '',
				},
			};

			for (i = 0; i < RowItems.length; i++){
				value = RowItems[i].getAttribute('data-onevalue');
				isCurrent = (value === activeID && value !=0);
				/*if (BX.util.in_array(value, canBuyID)){
					obData.props.className = (isCurrent ? this.skuVisualParams[propMode].ACTIVE_CLASS : '');
				}else{
					obData.props.className = (isCurrent ? this.skuVisualParams[propMode].ACTIVE_CLASS+' '+this.skuVisualParams[propMode].HIDE_CLASS : this.skuVisualParams[propMode].HIDE_CLASS);
				}*/
				obData.props.className = (isCurrent ? this.skuVisualParams[propMode].ACTIVE_CLASS : '');

				if(selectMode){
					obData.props.disabled = 'disabled';
					obData.props.selected = (isCurrent ? 'selected' : '');
				}else{
					obData.style.display = 'none';
				}

				if (BX.util.in_array(value, showID)){
					if(selectMode){
						obData.props.disabled = '';
					}else{
						obData.style.display = '';
					}
					if (isCurrent){
						selectIndex = showI;
					}
					showI++;
				}
				BX.adjust(RowItems[i], obData);
			}

			if(selectMode){
				if($(this.obTreeRows[intNumber].LIST).parent().hasClass('ik_select'))
					$(this.obTreeRows[intNumber].LIST).ikSelect('reset');
			}

			this.showCount[intNumber] = countShow;
			this.showStart[intNumber] = currentShowStart;
		}
	}
};

window.JCCatalogSection.prototype.GetRowValues = function(arFilter, index)
{
	var i = 0,
		j,
		arValues = [],
		boolSearch = false,
		boolOneSearch = true;

	if (0 === arFilter.length)
	{
		for (i = 0; i < this.offers.length; i++)
		{
			if (!BX.util.in_array(this.offers[i].TREE[index], arValues))
			{
				arValues[arValues.length] = this.offers[i].TREE[index];
			}
		}
		boolSearch = true;
	}
	else
	{
		for (i = 0; i < this.offers.length; i++)
		{
			boolOneSearch = true;
			for (j in arFilter)
			{
				if (arFilter[j] !== this.offers[i].TREE[j])
				{
					boolOneSearch = false;
					break;
				}
			}
			if (boolOneSearch)
			{
				if (!BX.util.in_array(this.offers[i].TREE[index], arValues))
				{
					arValues[arValues.length] = this.offers[i].TREE[index];
				}
				boolSearch = true;
			}
		}
	}
	return (boolSearch ? arValues : false);
};

window.JCCatalogSection.prototype.GetCanBuy = function(arFilter)
{
	var i = 0,
		j,
		boolSearch = false,
		boolOneSearch = true;

	for (i = 0; i < this.offers.length; i++)
	{
		boolOneSearch = true;
		for (j in arFilter)
		{
			if (arFilter[j] !== this.offers[i].TREE[j])
			{
				boolOneSearch = false;
				break;
			}
		}
		if (boolOneSearch)
		{
			if (this.offers[i].CAN_BUY)
			{
				boolSearch = true;
				break;
			}
		}
	}
	return boolSearch;
};

window.JCCatalogSection.prototype.SetCurrent = function()
{
	var i = 0,
		j = 0,
		arCanBuyValues = [],
		strName = '',
		arShowValues = false,
		arFilter = {},
		tmpFilter = [],
		current = this.offers[this.offerNum].TREE;
	for (i = 0; i < this.treeProps.length; i++)
	{
		strName = 'PROP_'+this.treeProps[i].ID;
		arShowValues = this.GetRowValues(arFilter, strName);
		if (!arShowValues)
		{
			break;
		}
		if (BX.util.in_array(current[strName], arShowValues))
		{
			arFilter[strName] = current[strName];
		}
		else
		{
			arFilter[strName] = arShowValues[0];
			this.offerNum = 0;
		}
		if (this.showAbsent)
		{
			arCanBuyValues = [];
			tmpFilter = [];
			tmpFilter = BX.clone(arFilter, true);
			for (j = 0; j < arShowValues.length; j++)
			{
				tmpFilter[strName] = arShowValues[j];
				if (this.GetCanBuy(tmpFilter))
				{
					arCanBuyValues[arCanBuyValues.length] = arShowValues[j];
				}
			}
		}
		else
		{
			arCanBuyValues = arShowValues;
		}
		this.UpdateRow(i, arFilter[strName], arShowValues, arCanBuyValues);
	}
	this.selectedValues = arFilter;
	this.ChangeInfo();
};

window.JCCatalogSection.prototype.ChangeInfo = function()
{
	var i = 0,
		j,
		index = -1,
		compareParams,
		boolOneSearch = true;

	for (i = 0; i < this.offers.length; i++)
	{
		boolOneSearch = true;
		for (j in this.selectedValues)
		{
			if (this.selectedValues[j] !== this.offers[i].TREE[j])
			{
				boolOneSearch = false;
				break;
			}
		}
		if (boolOneSearch)
		{
			index = i;
			break;
		}
	}
	if (-1 < index){
		if (!!this.obPict){
			var obData = {
				attrs: {}
			};

			if (!!this.offers[index].PREVIEW_PICTURE){
				obData.attrs.src = this.offers[index].PREVIEW_PICTURE.SRC;
			}else{
				obData.attrs.src = this.defaultPict.pict.SRC;
			}
			BX.adjust(BX.findChild(this.obPict, {"tag": "img"}), obData);
		}
		if (this.secondPict && !!this.obSecondPict)
		{
			if (!!this.offers[index].PREVIEW_PICTURE_SECOND)
			{
				BX.adjust(this.obSecondPict, {style: {backgroundImage: 'url('+this.offers[index].PREVIEW_PICTURE_SECOND.SRC+')'}});
			}
			else if (!!this.offers[index].PREVIEW_PICTURE.SRC)
			{
				BX.adjust(this.obSecondPict, {style: {backgroundImage: 'url('+this.offers[index].PREVIEW_PICTURE.SRC+')'}});
			}
			else if (!!this.defaultPict.secondPict)
			{
				BX.adjust(this.obSecondPict, {style: {backgroundImage: 'url('+this.defaultPict.secondPict.SRC+')'}});
			}
			else
			{
				BX.adjust(this.obSecondPict, {style: {backgroundImage: 'url('+this.defaultPict.pict.SRC+')'}});
			}
		}
		if (this.showSkuProps && !!this.obSkuProps)
		{
			if (0 === this.offers[index].DISPLAY_PROPERTIES.length)
			{
				BX.adjust(this.obSkuProps, {style: {display: 'none'}, html: ''});
			}
			else
			{
				BX.adjust(this.obSkuProps, {style: {display: ''}, html: this.offers[index].DISPLAY_PROPERTIES});
			}
		}


		$(this.obBuyBtn).data("item", this.offers[index].ID);
		$(this.obBasketBtn).data("item", this.offers[index].ID);

		$(this.obBasketActions).closest('.counter_wrapp').css('opacity', 0);

		var measure = this.offers[index].MEASURE && this.offers[index].SHOW_MEASURE=="Y" ? this.offers[index].MEASURE : '';
		this.setPrice(this.offers[index].PRICE, measure);
		this.setQuantityStore(this.offers[index].MAX_QUANTITY, this.offers[index].AVAILIABLE.TEXT);
		this.offerNum = index;
		this.QuantitySet(this.offerNum);

		$(this.obProduct).find('.item-title a').attr('href', this.offers[this.offerNum].URL);
		$(this.obProduct).find('.image_wrapper_block > a').attr('href', this.offers[this.offerNum].URL);

		/*quantity discount start*/
		if($(this.obProduct).find('.quantity_block .values').length){
			$(this.obProduct).find('.quantity_block .values .item span').text(this.offers[index].MAX_QUANTITY).css({'opacity':'1'});
		}
		/*quantity discount end*/

		var obj=this.offers[index],
			th=$(this.obProduct).closest('.catalog_item_wrapp');

		if(typeof arBasketAspro !=="undefined"){
			this.setActualDataBlock(th, obj);
		}else{
			if(typeof window.frameCacheVars !== "undefined"){
				BX.addCustomEvent("onFrameDataReceived", function(){
					window.JCCatalogSection.prototype.setActualDataBlock(th, obj);
				});
			}
		}
	}
};

/*set blocks start*/
window.JCCatalogSection.prototype.setActualDataBlock = function(th, obj)
{
	/*like block start*/
	this.setLikeBlock(th, '.like_icons .wish_item_button', obj, 'DELAY');
	this.setLikeBlock(th, '.like_icons .compare_item_button',obj, 'COMPARE');
	/*like block end*/

	/*buy block start*/
	this.setBuyBlock(th, obj);
	/*buy block end*/
}
/*set blocks end*/

/*set compare/wish*/
window.JCCatalogSection.prototype.setLikeBlock = function(th, className, obj, type)
{
	var block=th;
	if(type=="DELAY"){
		if(obj.CAN_BUY){
			block.find(className).css('display','block');
		}else{
			block.find(className).hide();
		}
	}
	block.find(className).attr('data-item', obj.ID);
	block.find(className).find('span').attr('data-item', obj.ID);
	if(arBasketAspro[type]){
		block.find(className).find('.to').removeClass('added').css('display','block');
		block.find(className).find('.in').hide();

		if(arBasketAspro[type][obj.ID]!==undefined){
			block.find(className).find('.to').hide();
			block.find(className).find('.in').css('display','block');
		}
	}
}

/*set buy*/
window.JCCatalogSection.prototype.setBuyBlock = function(th, obj)
{
	var buyBlock=th.find('.offer_buy_block');

	if(buyBlock.find('.counter_wrapp .counter_block').length){
		buyBlock.find('.counter_wrapp .counter_block').attr('data-item', obj.ID);
	}
	if((obj.CONFIG.OPTIONS.USE_PRODUCT_QUANTITY_DETAIL && obj.CONFIG.ACTION == "ADD") && obj.CAN_BUY){
		var max=(obj.CONFIG.MAX_QUANTITY_BUY>0 ? "data-max='"+obj.CONFIG.MAX_QUANTITY_BUY+"'" : ""),
			counterHtml='<span class="minus">-</span>'+
				'<input type="text" class="text" name="'+obj.PRODUCT_QUANTITY_VARIABLE+'" value="'+obj.CONFIG.MIN_QUANTITY_BUY+'" />'+
				'<span class="plus" '+max+'>+</span>';
		if(arBasketAspro["BASKET"] && arBasketAspro["BASKET"][obj.ID]!==undefined){
			if(buyBlock.find('.counter_wrapp .counter_block').length){
				buyBlock.find('.counter_wrapp .counter_block').hide();
			}else{
				buyBlock.find('.counter_wrapp').prepend('<div class="counter_block" data-item="'+obj.ID+'"></div>');
				buyBlock.find('.counter_wrapp .counter_block').html(counterHtml).hide();
			}
		}else{
			if(buyBlock.find('.counter_wrapp .counter_block').length){
				buyBlock.find('.counter_wrapp .counter_block').html(counterHtml).show();
			}else{
				buyBlock.find('.counter_wrapp').prepend('<div class="counter_block" data-item="'+obj.ID+'"></div>');
				buyBlock.find('.counter_wrapp .counter_block').html(counterHtml);
			}
		}
	}else{
		if(buyBlock.find('.counter_wrapp .counter_block').length){
			buyBlock.find('.counter_wrapp .counter_block').hide();
		}
	}
	var className=((obj.CONFIG.ACTION == "ORDER") || !obj.CAN_BUY || !obj.CONFIG.OPTIONS.USE_PRODUCT_QUANTITY_DETAIL || (obj.CONFIG.ACTION == "SUBSCRIBE" && obj.CATALOG_SUBSCRIBE == "Y") ? "wide" : "" ),
		buyBlockBtn=$('<div class="button_block"></div>');

	if(buyBlock.find('.counter_wrapp').find('.button_block').length){
		if(arBasketAspro["BASKET"] && arBasketAspro["BASKET"][obj.ID]!==undefined){
			buyBlock.find('.counter_wrapp').find('.button_block').addClass('wide').html(obj.HTML);
			markProductAddBasket(obj.ID);
		}else{
			if(className){
				buyBlock.find('.counter_wrapp').find('.button_block').addClass('wide').html(obj.HTML);
				if(arBasketAspro["SUBSCRIBE"] && arBasketAspro["SUBSCRIBE"][obj.ID]!==undefined){
					markProductSubscribe(obj.ID);
				}
			}else{
				buyBlock.find('.counter_wrapp').find('.button_block').removeClass('wide').html(obj.HTML);
			}
		}
	}else{
		buyBlock.find('.counter_wrapp').append('<div class="button_block '+className+'">'+obj.HTML+'</div>');
		if(arBasketAspro["BASKET"] && arBasketAspro["BASKET"][obj.ID]!==undefined)
			markProductAddBasket(obj.ID);
		if(arBasketAspro["SUBSCRIBE"] && arBasketAspro["SUBSCRIBE"][obj.ID]!==undefined)
			markProductSubscribe(obj.ID);
	}

	if(obj.CONFIG.ACTION !== "NOTHING"){
		if(obj.CONFIG.ACTION == "ADD" && obj.CAN_BUY && obj.SHOW_ONE_CLICK_BUY!="N"){
			var ocb='<span class="transparent big_btn type_block button one_click" data-offers="Y" data-item="'+obj.ID+'" data-iblockID="'+obj.IBLOCK_ID+'" data-quantity="'+obj.CONFIG.MIN_QUANTITY_BUY+'" data-props="'+obj.OFFER_PROPS+'" onclick="oneClickBuy('+obj.ID+', '+obj.IBLOCK_ID+', this)">'+
				'<span>'+obj.ONE_CLICK_BUY+'</span>'+
				'</span>';
			if(buyBlock.find('.wrapp_one_click').length){
				buyBlock.find('.wrapp_one_click').html(ocb);
			}else{
				buyBlock.append('<div class="wrapp_one_click">'+ocb+'</div>');
			}
		}else{
			if(buyBlock.find('.wrapp_one_click').length){
				buyBlock.find('.wrapp_one_click').remove();
			}
		}
	}else{
		if(buyBlock.find('.wrapp_one_click').length){
			buyBlock.find('.wrapp_one_click').remove();
		}
	}

	buyBlock.fadeIn();
}

/*get compare sku*/
window.JCCatalogSection.prototype.CompareCountResult = function(result)
{
	if(result.COMPARE_COUNT){
		for(var i in result.ITEMS){
			if(result.ITEMS[i]==this.offers[this.offerNum].ID){
				this.offers[this.offerNum].COMPARE_ACTIVE=true;
				break;
			}else{
				this.offers[this.offerNum].COMPARE_ACTIVE=false;
			}
		}
		if(this.offers[this.offerNum].COMPARE_ACTIVE){
			$(this.obCompare).find('.compare_item.to').hide();
			$(this.obCompare).find('.compare_item.added').show();
		}else{
			$(this.obCompare).find('.compare_item.added').hide();
			$(this.obCompare).find('.compare_item.to').show();
		}
	}
}

/*get item info*/
window.JCCatalogSection.prototype.ItemInfoResult = function(result)
{
	if(result.HTML){
		$(this.obBasketActions).html(result.HTML);
		$(this.obBasketActions).show();
		this.obBuyBtn = BX(this.visual.BUY_ID);
		this.obBasketBtn = BX(this.visual.BASKET_LINK);
		this.obSubscribeBtn = BX(this.visual.SUBSCRIBE_ID);
		this.obSubscribedBtn = BX(this.visual.SUBSCRIBED_ID);
		BX.bind(this.obBuyBtn, 'click', BX.delegate(this.Add2Basket, this));
		$(this.obBasketActions).removeClass('wide');
		this.ajax_type_item=result.BUYMISSINGGOODS;
		if(result.BUYMISSINGGOODS!="ADD" && !this.canBuy){
			$(this.obBasketActions).addClass('wide');
		}else{
			$(this.obQuantity).css('display','');
		}
	}
	//if(this.canBuy){
		basketParams = {
			ajax_action: 'Y'
		};
		BX.ajax.loadJSON(
			arOptimusOptions['SITE_DIR']+'ajax/get_basket_count.php',
			basketParams,
			BX.delegate(this.BasketCountResult, this)
		);
	//}
}

/*get basket items*/
window.JCCatalogSection.prototype.BasketCountResult = function(result)
{
	//if(result.TOTAL_COUNT){
		for(var i in result.ITEMS){
			if(result.ITEMS[i].PRODUCT_ID==this.offers[this.offerNum].ID){
				this.offers[this.offerNum].BASKET_ACTIVE=true;
				break;
			}else{
				this.offers[this.offerNum].BASKET_ACTIVE=false;
			}
		}
		for(var i in result.SUBSCRIBE_ITEMS){
			if(result.SUBSCRIBE_ITEMS[i].PRODUCT_ID==this.offers[this.offerNum].ID){
				this.offers[this.offerNum].SUBSCRIBE_ACTIVE=true;
				break;
			}else{
				this.offers[this.offerNum].SUBSCRIBE_ACTIVE=false;
			}
		}

		this.BasketStateRefresh();
	//}
}

window.JCCatalogSection.prototype.BasketStateRefresh = function(buy_basket)
{
	/*if(this.offers[this.offerNum].SUBSCRIBE_ACTIVE){
		$(this.obBasketActions).addClass('wide');
		$(this.obSubscribeBtn).hide();
		$(this.obSubscribedBtn).show();
	}else{
		$(this.obBasketActions).addClass('wide');
		$(this.obSubscribedBtn).hide();
		$(this.obSubscribeBtn).show();
	}
	if(this.offers[this.offerNum].BASKET_ACTIVE){
		$(this.obBuyBtn).hide();
		$(this.obBasketBtn).show();
		$(this.obQuantity).closest('.counter_wrapp').find('.counter_block').hide();
		$(this.obBasketActions).addClass('wide');
	}else{
		$(this.obBasketActions).removeClass('wide');
		$(this.obBasketBtn).hide();
		$(this.obBuyBtn).show();
		if(this.ajax_type_item=="ADD" || this.canBuy)
			$(this.obQuantity).closest('.counter_wrapp').find('.counter_block').show();

	}
	if(!this.canBuy){
		$(this.obBasketActions).addClass('wide');
	}*/
	if(this.offers[this.offerNum].SUBSCRIBE_ACTIVE){
		$(this.obProduct).find('.hover_block .o_'+this.offers[this.offerNum].ID+' .to-subscribe').hide();
		$(this.obProduct).find('.hover_block .o_'+this.offers[this.offerNum].ID+' .in-subscribe').show();
	}else{
		$(this.obProduct).find('.hover_block .o_'+this.offers[this.offerNum].ID+' .to-subscribe').show();
		$(this.obProduct).find('.hover_block .o_'+this.offers[this.offerNum].ID+' .in-subscribe').hide();
	}
	if(this.offers[this.offerNum].BASKET_ACTIVE){
		$(this.obProduct).find('.hover_block .o_'+this.offers[this.offerNum].ID).addClass('wide');
		$(this.obProduct).find('.hover_block .o_'+this.offers[this.offerNum].ID+' .button_block').addClass('wide');
		$(this.obProduct).find('.hover_block .o_'+this.offers[this.offerNum].ID+' .to-cart').hide();
		$(this.obProduct).find('.hover_block .o_'+this.offers[this.offerNum].ID+' .in-cart').show();
		$(this.obProduct).find('.hover_block .o_'+this.offers[this.offerNum].ID+' .counter_block').hide();
	}else{
		$(this.obProduct).find('.hover_block .o_'+this.offers[this.offerNum].ID).removeClass('wide');
		$(this.obProduct).find('.hover_block .o_'+this.offers[this.offerNum].ID+' .button_block').removeClass('wide');
		$(this.obProduct).find('.hover_block .o_'+this.offers[this.offerNum].ID+' .to-cart').show();
		$(this.obProduct).find('.hover_block .o_'+this.offers[this.offerNum].ID+' .in-cart').hide();
		$(this.obProduct).find('.hover_block .o_'+this.offers[this.offerNum].ID+' .counter_block').show();

	}
	BX.style(this.obBasketActions, 'opacity', '1');
	$(this.obBasketActions).closest('.counter_wrapp').css('opacity', 1);
	if(buy_basket!== 'undefined' && buy_basket=="Y"){
		if($("#basket_line .basket_fly").length && $(window).outerWidth()>768)
		{
			// preAnimateBasketFly($("#basket_line .basket_fly"), 200, 333);
			basketFly('open');
		}
		else if($("#basket_line .cart").length)
		{
			if($("#basket_line .cart").is(".empty_cart"))
			{
				$("#basket_line .cart").removeClass("empty_cart").find(".cart_wrapp a.basket_link").removeAttr("href").addClass("cart-call");
				touchBasket('.cart:not(.empty_cart) .basket_block .link');
			}
			reloadTopBasket('add', $('#basket_line'), 200, 2000, 'Y');
			/*if($(window).outerWidth() > 520){
				//if(arOptimusOptions['THEME']['SHOW_BASKET_ONADDTOCART'] !== 'N'){
					preAnimateBasketPopup('', $('.card_popup_frame'), 0, 200);
				//}
			};*/
		}
		animateBasketLine(200);
	}
}

window.JCCatalogSection.prototype.setPrice = function(price, measure)
{
	var strPrice,
		obData;

	if (!!this.obPrice){
		strPrice = BX.Currency.currencyFormat(price.DISCOUNT_VALUE, price.CURRENCY, true);
		if(measure){
			strPrice=(strPrice ? strPrice +'/'+measure : "&nbsp;");
		}
		BX.adjust(this.obPrice, {html: strPrice});
		if (price.DISCOUNT_VALUE !== price.VALUE && this.showOldPrice)
		{
			$(this.obPriceOld).find('strike').show().html(BX.Currency.currencyFormat(price.VALUE, price.CURRENCY, true));
			if(this.showPercent){
				$(this.obPriceOld).closest('.cost').find('.sale_block').show();
				$(this.obPriceOld).closest('.cost').find('.value').html(price.DISCOUNT_DIFF_PERCENT_RAW);
				$(this.obPriceOld).closest('.cost').find('.text span').html(BX.Currency.currencyFormat(price.DISCOUNT_DIFF, price.CURRENCY, true));
			}
		}
		else{
			$(this.obPriceOld).find('strike').hide().html('');
			if(this.showPercent){
				$(this.obPriceOld).closest('.cost').find('.sale_block').hide();
			}
		}
	}
};

/*set store quantity*/
window.JCCatalogSection.prototype.setQuantityStore = function(quantity, text)
{
	if(parseFloat(quantity)>0){
		$(this.storeQuanity).find('.icon').removeClass('order').addClass('stock');
	}else{
		$(this.storeQuanity).find('.icon').removeClass('stock').addClass('order');
	}
	$(this.storeQuanity).find('.icon + span').html(text);
}

window.JCCatalogSection.prototype.Compare = function()
{
	var compareParams, compareLink;
	$(this.obProduct).find('.like_icons .o_'+this.offers[this.offerNum].ID).data('changed','Y');
	// if($(this.obCompare).find('.compare_item.added').is(':visible')){
	if($(this.obProduct).find('.like_icons .o_'+this.offers[this.offerNum].ID).find('.compare_item.added').is(':visible')){
		compareLink = this.compareData.compareUrlDel;
		this.compareData.Added = false;
	}else{
		compareLink = this.compareData.compareUrl;
		this.compareData.Added = true;
	}
	if (!!compareLink){
		switch (this.productType){
			case 1://product
			case 2://set
				compareLink = compareLink.replace('#ID#', this.product.id.toString());
				break;
			case 3://sku
				compareLink = compareLink.replace('#ID#', this.offers[this.offerNum].ID);
				break;
		}
		compareParams = {
			ajax_action: 'Y'
		};
		BX.ajax.loadJSON(
			compareLink,
			compareParams,
			BX.proxy(this.CompareResult, this)
		);
	}
};

window.JCCatalogSection.prototype.CompareResult = function(result)
{
	var popupContent, popupButtons, popupTitle;

	if (typeof result !== 'object'){
		return false;
	}

	if (result.STATUS === 'OK'){
		BX.onCustomEvent('OnCompareChange');
		/*if(!this.compareData.Added){
			$(this.obCompare).find('.in').hide();
			$(this.obCompare).find('.to').show();
		}
		else{
			$(this.obCompare).find('.to').hide();
			$(this.obCompare).find('.in').show();
		}*/
		if(!this.compareData.Added){
			$(this.obProduct).find('.like_icons .o_'+this.offers[this.offerNum].ID).find('.in').hide();
			$(this.obProduct).find('.like_icons .o_'+this.offers[this.offerNum].ID).find('.to').show();
		}
		else{
			$(this.obProduct).find('.like_icons .o_'+this.offers[this.offerNum].ID).find('.to').hide();
			$(this.obProduct).find('.like_icons .o_'+this.offers[this.offerNum].ID).find('.in').show();
		}
		jsAjaxUtil.InsertDataToNode(arOptimusOptions['SITE_DIR'] + 'ajax/show_compare_preview_top.php', 'compare_line', false);
	}else{
		console.log(BX.message('ADD_ERROR_COMPARE'));
	}
	return false;
};

window.JCCatalogSection.prototype.CompareRedirect = function()
{
	if (!!this.compareData.comparePath){
		location.href = this.compareData.comparePath;
	}else{
		this.obPopupWin.close();
	}
};

window.JCCatalogSection.prototype.InitBasketUrl = function()
{
	this.basketUrl = (this.basketMode === 'ADD' ? this.basketData.add_url : this.basketData.buy_url);
	switch (this.productType)
	{
		case 1://product
		case 2://set
			this.basketUrl = this.basketUrl.replace('#ID#', this.product.id.toString());
			break;
		case 3://sku
			this.basketUrl = this.basketUrl.replace('#ID#', this.offers[this.offerNum].ID);
			break;
	}
	this.basketParams = {
		'ajax_basket': 'Y'
	};
	if (this.showQuantity)
	{
		// this.basketParams[this.basketData.quantity] = this.obQuantity.value;
		this.basketParams[this.basketData.quantity] = $(this.obProduct).find('.counter_wrapp').find('.counter_block .text').val();
	}
	if (!!this.basketData.sku_props)
	{
		this.basketParams[this.basketData.sku_props_var] = this.basketData.sku_props;
	}
};

window.JCCatalogSection.prototype.FillBasketProps = function()
{
	if (!this.visual.BASKET_PROP_DIV)
	{
		return;
	}
	var
		i = 0,
		propCollection = null,
		foundValues = false,
		obBasketProps = null;

	if (this.basketData.useProps && !this.basketData.emptyProps)
	{
		if (!!this.obPopupWin && !!this.obPopupWin.contentContainer)
		{
			obBasketProps = this.obPopupWin.contentContainer;
		}
	}
	else
	{
		obBasketProps = BX(this.visual.BASKET_PROP_DIV);
	}
	if (!!obBasketProps)
	{
		propCollection = obBasketProps.getElementsByTagName('select');
		if (!!propCollection && !!propCollection.length)
		{
			for (i = 0; i < propCollection.length; i++)
			{
				if (!propCollection[i].disabled)
				{
					switch(propCollection[i].type.toLowerCase())
					{
						case 'select-one':
							this.basketParams[propCollection[i].name] = propCollection[i].value;
							foundValues = true;
							break;
						default:
							break;
					}
				}
			}
		}
		propCollection = obBasketProps.getElementsByTagName('input');
		if (!!propCollection && !!propCollection.length)
		{
			for (i = 0; i < propCollection.length; i++)
			{
				if (!propCollection[i].disabled)
				{
					switch(propCollection[i].type.toLowerCase())
					{
						case 'hidden':
							this.basketParams[propCollection[i].name] = propCollection[i].value;
							foundValues = true;
							break;
						case 'radio':
							if (propCollection[i].checked)
							{
								this.basketParams[propCollection[i].name] = propCollection[i].value;
								foundValues = true;
							}
							break;
						default:
							break;
					}
				}
			}
		}
	}
	if (!foundValues)
	{
		this.basketParams[this.basketData.props] = [];
		this.basketParams[this.basketData.props][0] = 0;
	}
};

window.JCCatalogSection.prototype.Add2Basket = function()
{
	this.basketMode = 'ADD';
	this.Basket();
};

window.JCCatalogSection.prototype.BuyBasket = function()
{
	this.basketMode = 'BUY';
	this.Basket();
};

window.JCCatalogSection.prototype.SendToBasket = function()
{
	if (!this.canBuy){
		return;
	}

	this.InitBasketUrl();
	this.FillBasketProps();

	BX.ajax.loadJSON(
		this.basketUrl,
		this.basketParams,
		BX.delegate(this.BasketResult, this)
	);
};

window.JCCatalogSection.prototype.Basket = function()
{
	var contentBasketProps = '';
	if (!this.canBuy){
		return;
	}

	this.SendToBasket();
};

window.JCCatalogSection.prototype.BasketResult = function(arResult)
{
	var strContent = '',
		strPict = '',
		successful,
		buttons = [];

	if (!!this.obPopupWin){
		this.obPopupWin.close();
	}
	if ('object' !== typeof arResult){
		return false;
	}
	successful = (arResult.STATUS === 'OK');
	if (successful && this.basketAction === 'BUY'){
		this.BasketRedirect();
	}else{
		if (successful){
			getActualBasket();
			markProductAddBasket(this.offers[this.offerNum].ID);
			BX.onCustomEvent('OnBasketChange');
			this.offers[this.offerNum].BASKET_ACTIVE=true;
			this.BasketStateRefresh("Y");
			$(this.obProduct).find('.hover_block .o_'+this.offers[this.offerNum].ID).data('changed','Y');

		}else{
			console.log(BX.message('ADD_ERROR_BASKET'));
		}
	}
};

window.JCCatalogSection.prototype.BasketRedirect = function()
{
	location.href = (!!this.basketData.basketUrl ? this.basketData.basketUrl : BX.message('BASKET_URL'));
};

})(window);149  21374|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/components/bitrix/catalog.section/catalog_block/template.php|e82fb914<?if(!defined("B_PROLOG_INCLUDED") || B_PROLOG_INCLUDED!==true)die();?>
<?$this->setFrameMode(true);?>
<?if( count( $arResult["ITEMS"] ) >= 1 ){?>
	<?if(($arParams["AJAX_REQUEST"]=="N") || !isset($arParams["AJAX_REQUEST"])){?>
		<div class="top_wrapper rows_block">
			<div class="catalog_block items block_list">
	<?}?>
		<?
		$currencyList = '';
		if (!empty($arResult['CURRENCIES'])){
			$templateLibrary[] = 'currency';
			$currencyList = CUtil::PhpToJSObject($arResult['CURRENCIES'], false, true, true);
		}
		$templateData = array(
			'TEMPLATE_LIBRARY' => $templateLibrary,
			'CURRENCIES' => $currencyList
		);
		unset($currencyList, $templateLibrary);

		$arParams["BASKET_ITEMS"]=($arParams["BASKET_ITEMS"] ? $arParams["BASKET_ITEMS"] : array());
		$arOfferProps = implode(';', $arParams['OFFERS_CART_PROPERTIES']);


		switch ($arParams["LINE_ELEMENT_COUNT"]){
			case '2':
				$col=2;
				break;
			case '3':
				$col=3;
				break;
			default:
				$col=4;
				break;
		}?>
		<?foreach($arResult["ITEMS"] as $arItem){?>
			<div class="item_block col-<?=$col;?>">
				<div class="catalog_item_wrapp item">
					<div class="basket_props_block" id="bx_basket_div_<?=$arItem["ID"];?>" style="display: none;">
						<?if (!empty($arItem['PRODUCT_PROPERTIES_FILL'])){
							foreach ($arItem['PRODUCT_PROPERTIES_FILL'] as $propID => $propInfo){?>
								<input type="hidden" name="<? echo $arParams['PRODUCT_PROPS_VARIABLE']; ?>[<? echo $propID; ?>]" value="<? echo htmlspecialcharsbx($propInfo['ID']); ?>">
								<?if (isset($arItem['PRODUCT_PROPERTIES'][$propID]))
									unset($arItem['PRODUCT_PROPERTIES'][$propID]);
							}
						}
						$arItem["EMPTY_PROPS_JS"]="Y";
						$emptyProductProperties = empty($arItem['PRODUCT_PROPERTIES']);
						if (!$emptyProductProperties){
							$arItem["EMPTY_PROPS_JS"]="N";?>
							<div class="wrapper">
								<table>
									<?foreach ($arItem['PRODUCT_PROPERTIES'] as $propID => $propInfo){?>
										<tr>
											<td><? echo $arItem['PROPERTIES'][$propID]['NAME']; ?></td>
											<td>
												<?if('L' == $arItem['PROPERTIES'][$propID]['PROPERTY_TYPE']	&& 'C' == $arItem['PROPERTIES'][$propID]['LIST_TYPE']){
													foreach($propInfo['VALUES'] as $valueID => $value){?>
														<label>
															<input type="radio" name="<? echo $arParams['PRODUCT_PROPS_VARIABLE']; ?>[<? echo $propID; ?>]" value="<? echo $valueID; ?>" <? echo ($valueID == $propInfo['SELECTED'] ? '"checked"' : ''); ?>><? echo $value; ?>
														</label>
													<?}
												}else{?>
													<select name="<? echo $arParams['PRODUCT_PROPS_VARIABLE']; ?>[<? echo $propID; ?>]"><?
														foreach($propInfo['VALUES'] as $valueID => $value){?>
															<option value="<? echo $valueID; ?>" <? echo ($valueID == $propInfo['SELECTED'] ? '"selected"' : ''); ?>><? echo $value; ?></option>
														<?}?>
													</select>
												<?}?>
											</td>
										</tr>
									<?}?>
								</table>
							</div>
							<?
						}?>
					</div>
					<?$this->AddEditAction($arItem['ID'], $arItem['EDIT_LINK'], CIBlock::GetArrayByID($arParams["IBLOCK_ID"], "ELEMENT_EDIT"));
					$this->AddDeleteAction($arItem['ID'], $arItem['DELETE_LINK'], CIBlock::GetArrayByID($arParams["IBLOCK_ID"], "ELEMENT_DELETE"), array("CONFIRM" => GetMessage('CT_BCS_ELEMENT_DELETE_CONFIRM')));

					$arItem["strMainID"] = $this->GetEditAreaId($arItem['ID']);
					$arItemIDs=COptimus::GetItemsIDs($arItem);

					$totalCount = COptimus::GetTotalCount($arItem);
					$arQuantityData = COptimus::GetQuantityArray($totalCount, $arItemIDs["ALL_ITEM_IDS"]);

					$item_id = $arItem["ID"];
					$strMeasure = '';
					if(!$arItem["OFFERS"] || $arParams['TYPE_SKU'] !== 'TYPE_1'){
						if($arParams["SHOW_MEASURE"] == "Y" && $arItem["CATALOG_MEASURE"]){
							$arMeasure = CCatalogMeasure::getList(array(), array("ID" => $arItem["CATALOG_MEASURE"]), false, false, array())->GetNext();
							$strMeasure = $arMeasure["SYMBOL_RUS"];
						}
						$arAddToBasketData = COptimus::GetAddToBasketArray($arItem, $totalCount, $arParams["DEFAULT_COUNT"], $arParams["BASKET_URL"], false, $arItemIDs["ALL_ITEM_IDS"], 'small', $arParams);
					}
					elseif($arItem["OFFERS"]){
						$strMeasure = $arItem["MIN_PRICE"]["CATALOG_MEASURE_NAME"];
					}
					?>
					<div class="catalog_item item_wrap <?=(($_GET['q'])) ? 's' : ''?>" id="<?=$arItemIDs["strMainID"];?>">
						<div>
							<div class="image_wrapper_block">
								<div class="stickers">
									<?if (is_array($arItem["PROPERTIES"]["HIT"]["VALUE_XML_ID"])):?>
										<?foreach($arItem["PROPERTIES"]["HIT"]["VALUE_XML_ID"] as $key=>$class){?>
											<div><div class="sticker_<?=strtolower($class);?>"><?=$arItem["PROPERTIES"]["HIT"]["VALUE"][$key]?></div></div>
										<?}?>
									<?endif;?>
									<?if($arParams["SALE_STIKER"] && $arItem["PROPERTIES"][$arParams["SALE_STIKER"]]["VALUE"]){?>
										<div><div class="sticker_sale_text"><?=$arItem["PROPERTIES"][$arParams["SALE_STIKER"]]["VALUE"];?></div></div>
									<?}?>
								</div>
								<?if((!$arItem["OFFERS"] && $arParams["DISPLAY_WISH_BUTTONS"] != "N" ) || ($arParams["DISPLAY_COMPARE"] == "Y")):?>
									<div class="like_icons">
										<?if($arParams["DISPLAY_WISH_BUTTONS"] != "N"):?>
											<?if(!$arItem["OFFERS"]):?>
												<div class="wish_item_button">
													<span title="<?=GetMessage('CATALOG_WISH')?>" class="wish_item to" data-item="<?=$arItem["ID"]?>" data-iblock="<?=$arItem["IBLOCK_ID"]?>"><i></i></span>
													<span title="<?=GetMessage('CATALOG_WISH_OUT')?>" class="wish_item in added" style="display: none;" data-item="<?=$arItem["ID"]?>" data-iblock="<?=$arItem["IBLOCK_ID"]?>"><i></i></span>
												</div>
											<?elseif($arItem["OFFERS"] && !empty($arItem['OFFERS_PROP'])):?>
												<div class="wish_item_button" style="display: none;">
													<span title="<?=GetMessage('CATALOG_WISH')?>" class="wish_item to <?=$arParams["TYPE_SKU"];?>" data-item="" data-iblock="<?=$arItem["IBLOCK_ID"]?>" data-offers="Y" data-props="<?=$arOfferProps?>"><i></i></span>
													<span title="<?=GetMessage('CATALOG_WISH_OUT')?>" class="wish_item in added <?=$arParams["TYPE_SKU"];?>" style="display: none;" data-item="" data-iblock="<?=$arOffer["IBLOCK_ID"]?>"><i></i></span>
												</div>
											<?endif;?>
										<?endif;?>
										<?if($arParams["DISPLAY_COMPARE"] == "Y"):?>
											<?if(!$arItem["OFFERS"] || $arParams["TYPE_SKU"] !== 'TYPE_1'):?>
												<div class="compare_item_button">
													<span title="<?=GetMessage('CATALOG_COMPARE')?>" class="compare_item to" data-iblock="<?=$arParams["IBLOCK_ID"]?>" data-item="<?=$arItem["ID"]?>" ><i></i></span>
													<span title="<?=GetMessage('CATALOG_COMPARE_OUT')?>" class="compare_item in added" style="display: none;" data-iblock="<?=$arParams["IBLOCK_ID"]?>" data-item="<?=$arItem["ID"]?>"><i></i></span>
												</div>
											<?elseif($arItem["OFFERS"]):?>
												<div class="compare_item_button">
													<span title="<?=GetMessage('CATALOG_COMPARE')?>" class="compare_item to <?=$arParams["TYPE_SKU"];?>" data-iblock="<?=$arParams["IBLOCK_ID"]?>" data-item="" ><i></i></span>
													<span title="<?=GetMessage('CATALOG_COMPARE_OUT')?>" class="compare_item in added <?=$arParams["TYPE_SKU"];?>" style="display: none;" data-iblock="<?=$arParams["IBLOCK_ID"]?>" data-item=""><i></i></span>
												</div>
											<?endif;?>
										<?endif;?>
									</div>
								<?endif;?>
								<a href="<?=$arItem["DETAIL_PAGE_URL"]?>" class="thumb" id="<? echo $arItemIDs["ALL_ITEM_IDS"]['PICT']; ?>">
									<?
									$a_alt=($arItem["IPROPERTY_VALUES"]["ELEMENT_PREVIEW_PICTURE_FILE_ALT"] ? $arItem["IPROPERTY_VALUES"]["ELEMENT_PREVIEW_PICTURE_FILE_ALT"] : $arItem["NAME"] );
									$a_title=($arItem["IPROPERTY_VALUES"]["ELEMENT_PREVIEW_PICTURE_FILE_TITLE"] ? $arItem["IPROPERTY_VALUES"]["ELEMENT_PREVIEW_PICTURE_FILE_TITLE"] : $arItem["NAME"] );
									?>
									<?if( !empty($arItem["PREVIEW_PICTURE"]) ):?>
										<img border="0" src="<?=$arItem["PREVIEW_PICTURE"]["SRC"]?>" alt="<?=$a_alt;?>" title="<?=$a_title;?>" />
									<?elseif( !empty($arItem["DETAIL_PICTURE"])):?>
										<?$img = CFile::ResizeImageGet($arItem["DETAIL_PICTURE"], array( "width" => 170, "height" => 170 ), BX_RESIZE_IMAGE_PROPORTIONAL,true );?>
										<img border="0" src="<?=$img["src"]?>" alt="<?=$a_alt;?>" title="<?=$a_title;?>" />
									<?else:?>
										<img border="0" src="<?=SITE_TEMPLATE_PATH?>/images/no_photo_medium.png" alt="<?=$a_alt;?>" title="<?=$a_title;?>" />
									<?endif;?>
								</a>
							</div>
							<div class="item_info <?=$arParams["TYPE_SKU"]?>">
								<div class="item-title">
									<a href="<?=$arItem["DETAIL_PAGE_URL"]?>"><span><?=$arItem["NAME"]?></span></a>
								</div>
								<?if($arParams["SHOW_RATING"] == "Y"):?>
									<div class="rating">
										<?$APPLICATION->IncludeComponent(
										   "bitrix:iblock.vote",
										   "element_rating_front",
										   Array(
											  "IBLOCK_TYPE" => $arParams["IBLOCK_TYPE"],
											  "IBLOCK_ID" => $arItem["IBLOCK_ID"],
											  "ELEMENT_ID" =>$arItem["ID"],
											  "MAX_VOTE" => 5,
											  "VOTE_NAMES" => array(),
											  "CACHE_TYPE" => $arParams["CACHE_TYPE"],
											  "CACHE_TIME" => $arParams["CACHE_TIME"],
											  "DISPLAY_AS_RATING" => 'vote_avg'
										   ),
										   $component, array("HIDE_ICONS" =>"Y")
										);?>
									</div>
								<?endif;?>
								<?=$arQuantityData["HTML"];?>
								<div class="cost prices clearfix">
									<?if( $arItem["OFFERS"]){?>
										<?$minPrice = false;
										if (isset($arItem['MIN_PRICE']) || isset($arItem['RATIO_PRICE'])){
											// $minPrice = (isset($arItem['RATIO_PRICE']) ? $arItem['RATIO_PRICE'] : $arItem['MIN_PRICE']);
											$minPrice = $arItem['MIN_PRICE'];
										}
										$offer_id=0;
										if($arParams["TYPE_SKU"]=="N"){
											$offer_id=$minPrice["MIN_ITEM_ID"];
										}
										$min_price_id=$minPrice["MIN_PRICE_ID"];
										if(!$min_price_id)
											$min_price_id=$minPrice["PRICE_ID"];
										if($minPrice["MIN_ITEM_ID"])
											$item_id=$minPrice["MIN_ITEM_ID"];
										$prefix = '';
										if('N' == $arParams['TYPE_SKU'] || $arParams['DISPLAY_TYPE'] !== 'block' || empty($arItem['OFFERS_PROP'])){
											$prefix = GetMessage("CATALOG_FROM");
										}
										if($arParams["SHOW_OLD_PRICE"]=="Y"){?>
											<div class="price" id="<? echo $arItemIDs["ALL_ITEM_IDS"]['PRICE']; ?>">
												<?if(strlen($minPrice["PRINT_DISCOUNT_VALUE"])):?>
													<?=$prefix;?> <?=$minPrice["PRINT_DISCOUNT_VALUE"];?>
													<?if (($arParams["SHOW_MEASURE"]=="Y") && $strMeasure){?>
														/<?=$strMeasure?>
													<?}?>
												<?endif;?>
											</div>
											<div class="price discount" id="<? echo $arItemIDs["ALL_ITEM_IDS"]['PRICE_OLD']; ?>">
												<strike <?=(!$minPrice["DISCOUNT_DIFF"] ? 'style="display:none;"' : '')?>><?=$minPrice["PRINT_VALUE"];?></strike>
											</div>
											<?/*if($arParams["SHOW_DISCOUNT_PERCENT"]=="Y"){?>
												<div class="sale_block" <?=(!$minPrice["DISCOUNT_DIFF"] ? 'style="display:none;"' : '')?>>
													<?$percent=round(($minPrice["DISCOUNT_DIFF"]/$minPrice["VALUE"])*100, 2);?>
													<div class="value">-<?=$percent;?>%</div>
													<div class="text"><?=GetMessage("CATALOG_ECONOMY");?> <span><?=$minPrice["PRINT_DISCOUNT_DIFF"];?></span></div>
													<div class="clearfix"></div>
												</div>
											<?}*/?>
										<?}else{?>
											<div class="price only_price" id="<?=$arItemIDs["ALL_ITEM_IDS"]['PRICE']?>">
												<?if(strlen($minPrice["PRINT_DISCOUNT_VALUE"])):?>
													<?=$prefix;?> <?=$minPrice['PRINT_DISCOUNT_VALUE'];?>
													<?if (($arParams["SHOW_MEASURE"]=="Y") && $strMeasure){?>
														/<?=$strMeasure?>
													<?}?>
												<?endif;?>
											</div>
										<?}?>
									<?}elseif ( $arItem["PRICES"] ){?>
										<? $arCountPricesCanAccess = 0;
										$min_price_id=0;
										foreach( $arItem["PRICES"] as $key => $arPrice ) { if($arPrice["CAN_ACCESS"]){$arCountPricesCanAccess++;} } ?>
										<?foreach($arItem["PRICES"] as $key => $arPrice){?>
											<?if($arPrice["CAN_ACCESS"]){
												$percent=0;
												if($arPrice["MIN_PRICE"]=="Y"){
													$min_price_id=$arPrice["PRICE_ID"];
												}?>
												<?$price = CPrice::GetByID($arPrice["ID"]);?>
												<?if($arCountPricesCanAccess > 1):?>
													<div class="price_name"><?=$price["CATALOG_GROUP_NAME"];?></div>
												<?endif;?>
												<?if($arPrice["VALUE"] > $arPrice["DISCOUNT_VALUE"] && $arParams["SHOW_OLD_PRICE"]=="Y"){?>
													<div class="price">
														<?if(strlen($arPrice["PRINT_VALUE"])):?>
															<?=$arPrice["PRINT_DISCOUNT_VALUE"];?>
															<?if (($arParams["SHOW_MEASURE"]=="Y") && $strMeasure){?>
																/<?=$strMeasure?>
															<?}?>
														<?endif;?>
													</div>
													<div class="price discount">
														<strike><?=$arPrice["PRINT_VALUE"];?></strike>
													</div>
													<?/*if($arParams["SHOW_DISCOUNT_PERCENT"]=="Y"){?>
														<div class="sale_block">
															<?$percent=round(($arPrice["DISCOUNT_DIFF"]/$arPrice["VALUE"])*100, 2);?>
															<?if($percent && $percent<100){?>
																<div class="value">-<?=$percent;?>%</div>
															<?}?>
															<div class="text"><?=GetMessage("CATALOG_ECONOMY");?> <span><?=$arPrice["PRINT_DISCOUNT_DIFF"];?></span></div>
															<div class="clearfix"></div>
														</div>
													<?}*/?>
												<?}else{?>
													<div class="price only_price">
														<?if(strlen($arPrice["PRINT_VALUE"])):?>
															<?=$arPrice["PRINT_VALUE"];?>
															<?if (($arParams["SHOW_MEASURE"]=="Y") && $strMeasure){?>
																/<?=$strMeasure?>
															<?}?>
														<?endif;?>
													</div>
												<?}?>
											<?}?>
										<?}?>
									<?}?>
								</div>
								<?if($arParams["SHOW_DISCOUNT_TIME"]=="Y"){?>
									<?$arDiscounts = CCatalogDiscount::GetDiscountByProduct( $arItem["ID"], $USER->GetUserGroupArray(), "N", $min_price_id, SITE_ID );
									$arDiscount=array();
									if($arDiscounts)
										$arDiscount=current($arDiscounts);
									if($arDiscount["ACTIVE_TO"]){?>
										<div class="view_sale_block">
											<div class="count_d_block">
												<span class="active_to hidden"><?=$arDiscount["ACTIVE_TO"];?></span>
												<div class="title"><?=GetMessage("UNTIL_AKC");?></div>
												<span class="countdown values"></span>
											</div>
											<div class="quantity_block">
												<div class="title"><?=GetMessage("TITLE_QUANTITY_BLOCK");?></div>
												<div class="values">
													<span class="item">
														<span  <?=( count( $arItem["OFFERS"] ) > 0 ? 'style="opacity:0;"' : '')?>><?=$totalCount;?></span>
														<div class="text"><?=GetMessage("TITLE_QUANTITY");?></div>
													</span>
												</div>
											</div>
										</div>
									<?}?>
								<?}?>
								<div class="hover_block1 footer_button">
									<?if($arItem["OFFERS"]){?>
										<?if(!empty($arItem['OFFERS_PROP'])){?>
											<div class="sku_props">
												<div class="bx_catalog_item_scu wrapper_sku" id="<? echo $arItemIDs["ALL_ITEM_IDS"]['PROP_DIV']; ?>">
													<?$arSkuTemplate = array();?>
													<?$arSkuTemplate=COptimus::GetSKUPropsArray($arItem['OFFERS_PROPS_JS'], $arResult["SKU_IBLOCK_ID"], $arParams["DISPLAY_TYPE"], $arParams["OFFER_HIDE_NAME_PROPS"]);?>
													<?foreach ($arSkuTemplate as $code => $strTemplate){
														if (!isset($arItem['OFFERS_PROP'][$code]))
															continue;
														echo '<div>', str_replace('#ITEM#_prop_', $arItemIDs["ALL_ITEM_IDS"]['PROP'], $strTemplate), '</div>';
													}?>
												</div>
												<?$arItemJSParams=COptimus::GetSKUJSParams($arResult, $arParams, $arItem);?>

												<script type="text/javascript">
													var <? echo $arItemIDs["strObName"]; ?> = new JCCatalogSection(<? echo CUtil::PhpToJSObject($arItemJSParams, false, true); ?>);
												</script>
											</div>
										<?}?>
									<?}?>
									<?if(!$arItem["OFFERS"] || $arParams['TYPE_SKU'] !== 'TYPE_1'):?>
										<div class="counter_wrapp <?=($arItem["OFFERS"] && $arParams["TYPE_SKU"] == "TYPE_1" ? 'woffers' : '')?>">
											<?if(($arAddToBasketData["OPTIONS"]["USE_PRODUCT_QUANTITY_LIST"] && $arAddToBasketData["ACTION"] == "ADD") && $arItem["CAN_BUY"]):?>
												<div class="counter_block" data-offers="<?=($arItem["OFFERS"] ? "Y" : "N");?>" data-item="<?=$arItem["ID"];?>">
													<span class="minus" id="<? echo $arItemIDs["ALL_ITEM_IDS"]['QUANTITY_DOWN']; ?>">-</span>
													<input type="text" class="text" id="<? echo $arItemIDs["ALL_ITEM_IDS"]['QUANTITY']; ?>" name="<? echo $arParams["PRODUCT_QUANTITY_VARIABLE"]; ?>" value="<?=$arAddToBasketData["MIN_QUANTITY_BUY"]?>" />
													<span class="plus" id="<? echo $arItemIDs["ALL_ITEM_IDS"]['QUANTITY_UP']; ?>" <?=($arAddToBasketData["MAX_QUANTITY_BUY"] ? "data-max='".$arAddToBasketData["MAX_QUANTITY_BUY"]."'" : "")?>>+</span>
												</div>
											<?endif;?>
											<div id="<?=$arItemIDs["ALL_ITEM_IDS"]['BASKET_ACTIONS']; ?>" class="button_block <?=(($arAddToBasketData["ACTION"] == "ORDER"/*&& !$arItem["CAN_BUY"]*/)  || !$arItem["CAN_BUY"] || !$arAddToBasketData["OPTIONS"]["USE_PRODUCT_QUANTITY_LIST"] || $arAddToBasketData["ACTION"] == "SUBSCRIBE" ? "wide" : "");?>">
												<!--noindex-->
													<?=$arAddToBasketData["HTML"]?>
												<!--/noindex-->
											</div>
										</div>
									<?elseif($arItem["OFFERS"]):?>
										<?if(empty($arItem['OFFERS_PROP'])){?>
											<div class="offer_buy_block buys_wrapp woffers">
												<?
												$arItem["OFFERS_MORE"] = "Y";
												$arAddToBasketData = COptimus::GetAddToBasketArray($arItem, $totalCount, $arParams["DEFAULT_COUNT"], $arParams["BASKET_URL"], false, $arItemIDs["ALL_ITEM_IDS"], 'small read_more1', $arParams);?>
												<!--noindex-->
													<?=$arAddToBasketData["HTML"]?>
												<!--/noindex-->
											</div>
										<?}else{?>
											<div class="offer_buy_block buys_wrapp woffers" style="display:none;">
												<div class="counter_wrapp"></div>
											</div>
										<?}?>
									<?endif;?>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		<?}?>
	<?if(($arParams["AJAX_REQUEST"]=="N") || !isset($arParams["AJAX_REQUEST"])){?>
			</div>
		</div>
		<script>
			$(document).ready(function(){
				$('.sort_header').fadeIn();
			})
		</script>
	<?}?>
	<?if($arParams["AJAX_REQUEST"]=="Y"){?>
		<div class="wrap_nav">
	<?}?>
	<div class="bottom_nav <?=$arParams["DISPLAY_TYPE"];?>" <?=($arParams["AJAX_REQUEST"]=="Y" ? "style='display: none; '" : "");?>>
		<?if( $arParams["DISPLAY_BOTTOM_PAGER"] == "Y" ){?><?=$arResult["NAV_STRING"]?><?}?>
	</div>
	<?if($arParams["AJAX_REQUEST"]=="Y"){?>
		</div>
	<?}?>
<?}else{?>
	<div class="no_goods catalog_block_view">
		<div class="no_products">
			<div class="wrap_text_empty">
				<?if($_REQUEST["set_filter"]){?>
					<?$APPLICATION->IncludeFile(SITE_DIR."include/section_no_products_filter.php", Array(), Array("MODE" => "html",  "NAME" => GetMessage('EMPTY_CATALOG_DESCR')));?>
				<?}else{?>
					<?$APPLICATION->IncludeFile(SITE_DIR."include/section_no_products.php", Array(), Array("MODE" => "html",  "NAME" => GetMessage('EMPTY_CATALOG_DESCR')));?>
				<?}?>
			</div>
		</div>
		<?if($_REQUEST["set_filter"]){?>
			<span class="button wide"><?=GetMessage('RESET_FILTERS');?></span>
		<?}?>
	</div>
<?}?>

<script>
	$(document).ready(function(){
		$('.catalog_block .catalog_item_wrapp .catalog_item .item-title').sliceHeight();
		$('.catalog_block .catalog_item_wrapp .catalog_item .cost').sliceHeight();
		$('.catalog_block .catalog_item_wrapp .item_info').sliceHeight({classNull: '.footer_button'});
		$('.catalog_block .catalog_item_wrapp').sliceHeight({classNull: '.footer_button'});
	});

	BX.message({
		QUANTITY_AVAILIABLE: '<? echo COption::GetOptionString("aspro.optimus", "EXPRESSION_FOR_EXISTS", GetMessage("EXPRESSION_FOR_EXISTS_DEFAULT"), SITE_ID); ?>',
		QUANTITY_NOT_AVAILIABLE: '<? echo COption::GetOptionString("aspro.optimus", "EXPRESSION_FOR_NOTEXISTS", GetMessage("EXPRESSION_FOR_NOTEXISTS"), SITE_ID); ?>',
		ADD_ERROR_BASKET: '<? echo GetMessage("ADD_ERROR_BASKET"); ?>',
		ADD_ERROR_COMPARE: '<? echo GetMessage("ADD_ERROR_COMPARE"); ?>',
	})
</script>157  29269|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/components/bitrix/catalog.section/catalog_block_slider/script.min.js|58788de0!function(t){t.JCCatalogSection||(t.JCCatalogSection=function(t){if(this.skuVisualParams={SELECT:{TAG_BIND:"select",TAG:"option",ACTIVE_CLASS:"active",HIDE_CLASS:"hidden",EVENT:"change"},LI:{TAG_BIND:"li",TAG:"li",ACTIVE_CLASS:"active",HIDE_CLASS:"missing",EVENT:"click"}},this.productType=0,this.showQuantity=!0,this.showAbsent=!0,this.secondPict=!1,this.showOldPrice=!1,this.showPercent=!1,this.showSkuProps=!1,this.basketAction="ADD",this.basketLinkURL="",this.showClosePopup=!1,this.useCompare=!1,this.visual={ID:"",PICT_ID:"",SECOND_PICT_ID:"",QUANTITY_ID:"",QUANTITY_UP_ID:"",QUANTITY_DOWN_ID:"",STORE_QUANTITY:"",PRICE_ID:"",PRICE_OLD_ID:"",DSC_PERC:"",SECOND_DSC_PERC:"",DISPLAY_PROP_DIV:"",BASKET_PROP_DIV:""},this.product={checkQuantity:!1,maxQuantity:0,stepQuantity:1,isDblQuantity:!1,canBuy:!0,canSubscription:!0,name:"",pict:{},id:0,addUrl:"",buyUrl:""},this.basketMode="",this.basketData={useProps:!1,emptyProps:!1,quantity:"quantity",props:"prop",basketUrl:"",sku_props:"",sku_props_var:"basket_props",add_url:"",buy_url:""},this.compareData={compareUrl:"",comparePath:""},this.defaultPict={pict:null,secondPict:null},this.checkQuantity=!1,this.maxQuantity=0,this.stepQuantity=1,this.defaultCount=1,this.isDblQuantity=!1,this.canBuy=!0,this.currentBasisPrice={},this.canSubscription=!0,this.precision=6,this.precisionFactor=Math.pow(10,this.precision),this.offers=[],this.offerNum=0,this.treeProps=[],this.obTreeRows=[],this.showCount=[],this.showStart=[],this.selectedValues={},this.obProduct=null,this.obQuantity=null,this.obQuantityUp=null,this.obQuantityDown=null,this.obPict=null,this.obSecondPict=null,this.obPrice=null,this.obTree=null,this.obBuyBtn=null,this.obBasketBtn=null,this.obBasketActions=null,this.obNotAvail=null,this.obDscPerc=null,this.obSecondDscPerc=null,this.obSkuProps=null,this.obMeasure=null,this.obCompare=null,this.obPopupWin=null,this.basketUrl="",this.basketParams={},this.treeRowShowSize=5,this.treeEnableArrow={display:"",cursor:"pointer",opacity:1},this.treeDisableArrow={display:"",cursor:"default",opacity:.2},this.lastElement=!1,this.containerHeight=0,this.errorCode=0,"object"==typeof t){switch(this.productType=parseInt(t.PRODUCT_TYPE,10),this.showQuantity=t.SHOW_QUANTITY,this.showAbsent=t.SHOW_ABSENT,this.secondPict=!!t.SECOND_PICT,this.showOldPrice=!!t.SHOW_OLD_PRICE,this.showPercent=!!t.SHOW_DISCOUNT_PERCENT,this.showSkuProps=!!t.SHOW_SKU_PROPS,t.ADD_TO_BASKET_ACTION&&(this.basketAction=t.ADD_TO_BASKET_ACTION),this.showClosePopup=!!t.SHOW_CLOSE_POPUP,this.useCompare=!!t.DISPLAY_COMPARE,this.visual=t.VISUAL,this.defaultCount=t.DEFAULT_COUNT,this.basketLinkURL=t.BASKET_URL,this.productType){case 1:case 2:t.PRODUCT&&"object"==typeof t.PRODUCT?(this.showQuantity&&(this.product.checkQuantity=t.PRODUCT.CHECK_QUANTITY,this.product.isDblQuantity=t.PRODUCT.QUANTITY_FLOAT,this.product.checkQuantity&&(this.product.maxQuantity=this.product.isDblQuantity?parseFloat(t.PRODUCT.MAX_QUANTITY):parseInt(t.PRODUCT.MAX_QUANTITY,10)),this.product.stepQuantity=this.product.isDblQuantity?parseFloat(t.PRODUCT.STEP_QUANTITY):parseInt(t.PRODUCT.STEP_QUANTITY,10),this.checkQuantity=this.product.checkQuantity,this.isDblQuantity=this.product.isDblQuantity,this.maxQuantity=this.product.maxQuantity,this.stepQuantity=this.product.stepQuantity,this.isDblQuantity&&(this.stepQuantity=Math.round(this.stepQuantity*this.precisionFactor)/this.precisionFactor)),this.product.canBuy=t.PRODUCT.CAN_BUY,this.product.canSubscription=t.PRODUCT.SUBSCRIPTION,t.PRODUCT.BASIS_PRICE&&(this.currentBasisPrice=t.PRODUCT.BASIS_PRICE),this.canBuy=this.product.canBuy,this.canSubscription=this.product.canSubscription,this.product.name=t.PRODUCT.NAME,this.product.pict=t.PRODUCT.PICT,this.product.id=t.PRODUCT.ID,t.PRODUCT.ADD_URL&&(this.product.addUrl=t.PRODUCT.ADD_URL),t.PRODUCT.BUY_URL&&(this.product.buyUrl=t.PRODUCT.BUY_URL),t.BASKET&&"object"==typeof t.BASKET&&(this.basketData.useProps=!!t.BASKET.ADD_PROPS,this.basketData.emptyProps=!!t.BASKET.EMPTY_PROPS)):this.errorCode=-1;break;case 3:t.OFFERS&&BX.type.isArray(t.OFFERS)?(t.PRODUCT&&"object"==typeof t.PRODUCT&&(this.product.name=t.PRODUCT.NAME,this.product.id=t.PRODUCT.ID),this.offers=t.OFFERS,this.offerNum=0,t.OFFER_SELECTED&&(this.offerNum=parseInt(t.OFFER_SELECTED,10)),isNaN(this.offerNum)&&(this.offerNum=0),t.TREE_PROPS&&(this.treeProps=t.TREE_PROPS),t.DEFAULT_PICTURE&&(this.defaultPict.pict=t.DEFAULT_PICTURE.PICTURE,this.defaultPict.secondPict=t.DEFAULT_PICTURE.PICTURE_SECOND)):this.errorCode=-1;break;default:this.errorCode=-1}t.BASKET&&"object"==typeof t.BASKET&&(t.BASKET.QUANTITY&&(this.basketData.quantity=t.BASKET.QUANTITY),t.BASKET.PROPS&&(this.basketData.props=t.BASKET.PROPS),t.BASKET.BASKET_URL&&(this.basketData.basketUrl=t.BASKET.BASKET_URL),3===this.productType&&t.BASKET.SKU_PROPS&&(this.basketData.sku_props=t.BASKET.SKU_PROPS),t.BASKET.ADD_URL_TEMPLATE&&(this.basketData.add_url=t.BASKET.ADD_URL_TEMPLATE),t.BASKET.BUY_URL_TEMPLATE&&(this.basketData.buy_url=t.BASKET.BUY_URL_TEMPLATE),""===this.basketData.add_url&&""===this.basketData.buy_url&&(this.errorCode=-1024)),this.useCompare&&(t.COMPARE&&"object"==typeof t.COMPARE?(t.COMPARE.COMPARE_PATH&&(this.compareData.comparePath=t.COMPARE.COMPARE_PATH),t.COMPARE.COMPARE_URL_TEMPLATE_DEL&&(this.compareData.compareUrlDel=t.COMPARE.COMPARE_URL_TEMPLATE_DEL),t.COMPARE.COMPARE_URL_TEMPLATE?this.compareData.compareUrl=t.COMPARE.COMPARE_URL_TEMPLATE:this.useCompare=!1):this.useCompare=!1),this.lastElement=!!t.LAST_ELEMENT&&"Y"===t.LAST_ELEMENT}0===this.errorCode&&BX.ready(BX.delegate(this.Init,this))},t.JCCatalogSection.prototype.Init=function(){var t=0,s="",i=null;if(this.obProduct=BX(this.visual.ID),this.obProduct||(this.errorCode=-1),this.obPict=BX(this.visual.PICT_ID),this.obPict||(this.errorCode=-2),this.secondPict&&this.visual.SECOND_PICT_ID&&(this.obSecondPict=BX(this.visual.SECOND_PICT_ID)),this.storeQuanity=BX(this.visual.STORE_QUANTITY),this.obPrice=BX(this.visual.PRICE_ID),this.obPriceOld=BX(this.visual.PRICE_OLD_ID),this.obPrice||(this.errorCode=-16),this.showQuantity&&this.visual.QUANTITY_ID&&(this.obQuantity=BX(this.visual.QUANTITY_ID),this.visual.QUANTITY_UP_ID&&(this.obQuantityUp=BX(this.visual.QUANTITY_UP_ID)),this.visual.QUANTITY_DOWN_ID&&(this.obQuantityDown=BX(this.visual.QUANTITY_DOWN_ID))),3===this.productType){if(this.visual.TREE_ID)for(this.obTree=BX(this.visual.TREE_ID),this.obTree||(this.errorCode=-256),s=this.visual.TREE_ITEM_ID,t=0;t<this.treeProps.length;t++)if(this.obTreeRows[t]={LIST:BX(s+this.treeProps[t].ID+"_list"),CONT:BX(s+this.treeProps[t].ID+"_cont")},!this.obTreeRows[t].LIST||!this.obTreeRows[t].CONT){this.errorCode=-512;break}this.visual.QUANTITY_MEASURE&&(this.obMeasure=BX(this.visual.QUANTITY_MEASURE))}if(this.obBasketActions=BX(this.visual.BASKET_ACTIONS_ID),this.obBasketActions&&(this.visual.BUY_ID&&(this.obBuyBtn=BX(this.visual.BUY_ID)),this.visual.BASKET_LINK&&(this.obBasketBtn=BX(this.visual.BASKET_LINK))),this.obNotAvail=BX(this.visual.NOT_AVAILABLE_MESS),this.showPercent&&(this.visual.DSC_PERC&&(this.obDscPerc=BX(this.visual.DSC_PERC)),this.secondPict&&this.visual.SECOND_DSC_PERC&&(this.obSecondDscPerc=BX(this.visual.SECOND_DSC_PERC))),this.showSkuProps&&this.visual.DISPLAY_PROP_DIV&&(this.obSkuProps=BX(this.visual.DISPLAY_PROP_DIV)),0===this.errorCode){switch(this.showQuantity&&(this.obQuantityUp&&BX.bind(this.obQuantityUp,"click",BX.delegate(this.QuantityUp,this)),this.obQuantityDown&&BX.bind(this.obQuantityDown,"click",BX.delegate(this.QuantityDown,this)),this.obQuantity&&BX.bind(this.obQuantity,"change",BX.delegate(this.QuantityChange,this))),this.productType){case 1:break;case 3:for(var e in this.skuVisualParams){var i=BX.findChildren(this.obTree,{tagName:this.skuVisualParams[e].TAG_BIND},!0);if(i&&0<i.length)for(t=0;t<i.length;t++)$(i[t]).on(this.skuVisualParams[e].EVENT,BX.delegate(this.SelectOfferProp,this))}this.SetCurrent()}this.obBuyBtn&&("ADD"===this.basketAction||BX.bind(this.obBuyBtn,"click",BX.delegate(this.BuyBasket,this))),this.useCompare&&(this.obCompare=BX(this.visual.COMPARE_LINK_ID))}},t.JCCatalogSection.prototype.checkHeight=function(){this.containerHeight=parseInt(this.obProduct.parentNode.offsetHeight,10),isNaN(this.containerHeight)&&(this.containerHeight=0)},t.JCCatalogSection.prototype.setHeight=function(){0<this.containerHeight&&BX.adjust(this.obProduct.parentNode,{style:{height:this.containerHeight+"px"}})},t.JCCatalogSection.prototype.clearHeight=function(){BX.adjust(this.obProduct.parentNode,{style:{height:"auto"}})},t.JCCatalogSection.prototype.QuantityUp=function(){var t=0,s=!0;0===this.errorCode&&this.showQuantity&&this.canBuy&&(t=this.isDblQuantity?parseFloat(this.obQuantity.value):parseInt(this.obQuantity.value,10),isNaN(t)||(t+=this.stepQuantity,this.checkQuantity&&t>this.maxQuantity&&(s=!1),s&&(this.isDblQuantity&&(t=Math.round(t*this.precisionFactor)/this.precisionFactor),this.obQuantity.value=t)))},t.JCCatalogSection.prototype.QuantityDown=function(){var t=0,s=!0;0===this.errorCode&&this.showQuantity&&this.canBuy&&(t=this.isDblQuantity?parseFloat(this.obQuantity.value):parseInt(this.obQuantity.value,10),isNaN(t)||(t-=this.stepQuantity,t<this.stepQuantity&&(s=!1),s&&(this.isDblQuantity&&(t=Math.round(t*this.precisionFactor)/this.precisionFactor),this.obQuantity.value=t)))},t.JCCatalogSection.prototype.QuantityChange=function(){var t,s,i=0;0===this.errorCode&&this.showQuantity&&(this.canBuy?(i=this.isDblQuantity?parseFloat(this.obQuantity.value):parseInt(this.obQuantity.value,10),isNaN(i)?this.obQuantity.value=this.stepQuantity:(this.checkQuantity&&i>this.maxQuantity&&(i=this.maxQuantity),i<this.stepQuantity?i=this.stepQuantity:(s=i/this.stepQuantity,t=parseInt(s,10),isNaN(t)&&(t=1,s=1.1),s>t&&(i=1>=t?this.stepQuantity:t*this.stepQuantity,i=Math.round(i*this.precisionFactor)/this.precisionFactor)),this.obQuantity.value=i)):this.obQuantity.value=this.stepQuantity)},t.JCCatalogSection.prototype.QuantitySet=function(t){0===this.errorCode&&(this.canBuy=this.offers[t].CAN_BUY,this.canBuy?(this.obBasketActions&&BX.style(this.obBasketActions,"display",""),this.obNotAvail&&BX.style(this.obNotAvail,"display","none")):(this.obBasketActions&&(BX.style(this.obBasketActions,"opacity","0"),BX.style(BX.findParent(BX(this.obQuantity),{"class":"counter_block"}),"display","none")),this.obNotAvail&&BX.style(this.obNotAvail,"display","")),this.showQuantity&&(this.isDblQuantity=this.offers[t].QUANTITY_FLOAT,this.checkQuantity=this.offers[t].CHECK_QUANTITY,this.isDblQuantity?(this.maxQuantity=parseFloat(this.offers[t].MAX_QUANTITY),this.stepQuantity=Math.round(parseFloat(this.offers[t].STEP_QUANTITY)*this.precisionFactor)/this.precisionFactor):(this.maxQuantity=parseInt(this.offers[t].MAX_QUANTITY,10),this.stepQuantity=parseInt(this.offers[t].STEP_QUANTITY,10)),this.obQuantity&&(this.obQuantity.value=this.defaultCount,this.obQuantity.disabled=!this.canBuy),this.obMeasure&&(this.offers[t].MEASURE?BX.adjust(this.obMeasure,{html:this.offers[t].MEASURE}):BX.adjust(this.obMeasure,{html:""}))),this.currentBasisPrice=this.offers[t].BASIS_PRICE)},t.JCCatalogSection.prototype.SelectOfferProp=function(){var t=0,s="",i="",e=[],o=null,a=BX.proxy_context;if("undefined"!=typeof a.options&&"undefined"!=typeof a.options[a.selectedIndex]&&(a=a.options[a.selectedIndex]),a&&a.hasAttribute("data-treevalue")&&(i=a.getAttribute("data-treevalue"),propModes=a.getAttribute("data-showtype"),e=i.split("_"),this.SearchOfferPropIndex(e[0],e[1])&&(o=BX.findChildren(a.parentNode,{tagName:this.skuVisualParams[propModes.toUpperCase()].TAG},!1),o&&0<o.length)))for(t=0;t<o.length;t++)s=o[t].getAttribute("data-onevalue"),"TEXT"==propModes?s===e[1]?o[t].setAttribute("selected","selected"):o[t].removeAttribute("selected"):s===e[1]?$(o[t]).addClass(this.skuVisualParams[propModes.toUpperCase()].ACTIVE_CLASS):$(o[t]).removeClass(this.skuVisualParams[propModes.toUpperCase()].ACTIVE_CLASS)},t.JCCatalogSection.prototype.SearchOfferPropIndex=function(t,s){var i,e,o="",a=!1,r=[],h=-1,n={},c=[];for(i=0;i<this.treeProps.length;i++)if(this.treeProps[i].ID===t){h=i;break}if(h>-1){for(i=0;h>i;i++)o="PROP_"+this.treeProps[i].ID,n[o]=this.selectedValues[o];if(o="PROP_"+this.treeProps[h].ID,a=this.GetRowValues(n,o),!a)return!1;if(!BX.util.in_array(s,a))return!1;for(n[o]=s,i=h+1;i<this.treeProps.length;i++){if(o="PROP_"+this.treeProps[i].ID,a=this.GetRowValues(n,o),!a)return!1;if(this.showAbsent)for(r=[],c=[],c=BX.clone(n,!0),e=0;e<a.length;e++)c[o]=a[e],r[r.length]=a[e];else r=a;this.selectedValues[o]&&BX.util.in_array(this.selectedValues[o],r)?n[o]=this.selectedValues[o]:n[o]=r[0],this.UpdateRow(i,n[o],a,r)}this.selectedValues=n,this.ChangeInfo()}return!0},t.JCCatalogSection.prototype.UpdateRow=function(t,s,i,e){var o=0,a=0,r="",h=0,n={},c=!1,u=0,l=(this.treeEnableArrow,this.treeEnableArrow,0),p=null;if(t>-1&&t<this.obTreeRows.length&&(propMode=this.treeProps[t].DISPLAY_TYPE,p=BX.findChildren(this.obTreeRows[t].LIST,{tagName:this.skuVisualParams[propMode].TAG},!1),p&&0<p.length)){for(selectMode="SELECT"===this.treeProps[t].DISPLAY_TYPE,h=i.length,n={style:{},props:{disabled:"",selected:""}},o=0;o<p.length;o++)r=p[o].getAttribute("data-onevalue"),c=r===s&&0!=r,n.props.className=c?this.skuVisualParams[propMode].ACTIVE_CLASS:"",selectMode?(n.props.disabled="disabled",n.props.selected=c?"selected":""):n.style.display="none",BX.util.in_array(r,i)&&(selectMode?n.props.disabled="":n.style.display="",c&&(u=a),a++),BX.adjust(p[o],n);selectMode&&$(this.obTreeRows[t].LIST).parent().hasClass("ik_select")&&$(this.obTreeRows[t].LIST).ikSelect("reset"),this.showCount[t]=h,this.showStart[t]=l}},t.JCCatalogSection.prototype.GetRowValues=function(t,s){var i,e=0,o=[],a=!1,r=!0;if(0===t.length){for(e=0;e<this.offers.length;e++)BX.util.in_array(this.offers[e].TREE[s],o)||(o[o.length]=this.offers[e].TREE[s]);a=!0}else for(e=0;e<this.offers.length;e++){r=!0;for(i in t)if(t[i]!==this.offers[e].TREE[i]){r=!1;break}r&&(BX.util.in_array(this.offers[e].TREE[s],o)||(o[o.length]=this.offers[e].TREE[s]),a=!0)}return a?o:!1},t.JCCatalogSection.prototype.GetCanBuy=function(t){var s,i=0,e=!1,o=!0;for(i=0;i<this.offers.length;i++){o=!0;for(s in t)if(t[s]!==this.offers[i].TREE[s]){o=!1;break}if(o&&this.offers[i].CAN_BUY){e=!0;break}}return e},t.JCCatalogSection.prototype.SetCurrent=function(){var t=0,s=0,i=[],e="",o=!1,a={},r=[],h=this.offers[this.offerNum].TREE;for(t=0;t<this.treeProps.length&&(e="PROP_"+this.treeProps[t].ID,o=this.GetRowValues(a,e),o);t++){if(BX.util.in_array(h[e],o)?a[e]=h[e]:(a[e]=o[0],this.offerNum=0),this.showAbsent)for(i=[],r=[],r=BX.clone(a,!0),s=0;s<o.length;s++)r[e]=o[s],this.GetCanBuy(r)&&(i[i.length]=o[s]);else i=o;this.UpdateRow(t,a[e],o,i)}this.selectedValues=a,this.ChangeInfo()},t.JCCatalogSection.prototype.ChangeInfo=function(){var s,i=0,e=-1,o=!0;for(i=0;i<this.offers.length;i++){o=!0;for(s in this.selectedValues)if(this.selectedValues[s]!==this.offers[i].TREE[s]){o=!1;break}if(o){e=i;break}}if(e>-1){if(this.obPict){var a={attrs:{}};this.offers[e].PREVIEW_PICTURE?a.attrs.src=this.offers[e].PREVIEW_PICTURE.SRC:a.attrs.src=this.defaultPict.pict.SRC,BX.adjust(BX.findChild(this.obPict,{tag:"img"}),a)}this.secondPict&&this.obSecondPict&&(this.offers[e].PREVIEW_PICTURE_SECOND?BX.adjust(this.obSecondPict,{style:{backgroundImage:"url("+this.offers[e].PREVIEW_PICTURE_SECOND.SRC+")"}}):this.offers[e].PREVIEW_PICTURE.SRC?BX.adjust(this.obSecondPict,{style:{backgroundImage:"url("+this.offers[e].PREVIEW_PICTURE.SRC+")"}}):this.defaultPict.secondPict?BX.adjust(this.obSecondPict,{style:{backgroundImage:"url("+this.defaultPict.secondPict.SRC+")"}}):BX.adjust(this.obSecondPict,{style:{backgroundImage:"url("+this.defaultPict.pict.SRC+")"}})),this.showSkuProps&&this.obSkuProps&&(0===this.offers[e].DISPLAY_PROPERTIES.length?BX.adjust(this.obSkuProps,{style:{display:"none"},html:""}):BX.adjust(this.obSkuProps,{style:{display:""},html:this.offers[e].DISPLAY_PROPERTIES})),$(this.obBuyBtn).data("item",this.offers[e].ID),$(this.obBasketBtn).data("item",this.offers[e].ID),$(this.obBasketActions).closest(".counter_wrapp").css("opacity",0);var r=this.offers[e].MEASURE&&"Y"==this.offers[e].SHOW_MEASURE?this.offers[e].MEASURE:"";this.setPrice(this.offers[e].PRICE,r),this.setQuantityStore(this.offers[e].MAX_QUANTITY,this.offers[e].AVAILIABLE.TEXT),this.offerNum=e,this.QuantitySet(this.offerNum),$(this.obProduct).find(".item-title a").attr("href",this.offers[this.offerNum].URL),$(this.obProduct).find(".image_wrapper_block > a").attr("href",this.offers[this.offerNum].URL),$(this.obProduct).find(".quantity_block .values").length&&$(this.obProduct).find(".quantity_block .values .item span").text(this.offers[e].MAX_QUANTITY).css({opacity:"1"});var h=this.offers[e],n=$(this.obProduct);"undefined"!=typeof arBasketAspro?this.setActualDataBlock(n,h):"undefined"!=typeof t.frameCacheVars&&BX.addCustomEvent("onFrameDataReceived",function(){t.JCCatalogSection.prototype.setActualDataBlock(n,h)})}},t.JCCatalogSection.prototype.setActualDataBlock=function(t,s){this.setLikeBlock(t,".like_icons .wish_item_button",s,"DELAY"),this.setLikeBlock(t,".like_icons .compare_item_button",s,"COMPARE"),this.setBuyBlock(t,s)},t.JCCatalogSection.prototype.setLikeBlock=function(t,s,i,e){var o=t;"DELAY"==e&&(i.CAN_BUY?o.find(s).css("display","block"):o.find(s).hide()),o.find(s).attr("data-item",i.ID),o.find(s).find("span").attr("data-item",i.ID),arBasketAspro[e]&&(o.find(s).find(".to").removeClass("added").css("display","block"),o.find(s).find(".in").hide(),void 0!==arBasketAspro[e][i.ID]&&(o.find(s).find(".to").hide(),o.find(s).find(".in").css("display","block")))},t.JCCatalogSection.prototype.setBuyBlock=function(t,s){var i=t.find(".offer_buy_block");if(i.find(".counter_wrapp .counter_block").length&&i.find(".counter_wrapp .counter_block").attr("data-item",s.ID),s.CONFIG.OPTIONS.USE_PRODUCT_QUANTITY_DETAIL&&"ADD"==s.CONFIG.ACTION&&s.CAN_BUY){var e=s.CONFIG.MAX_QUANTITY_BUY>0?"data-max='"+s.CONFIG.MAX_QUANTITY_BUY+"'":"",o='<span class="minus">-</span><input type="text" class="text" name="'+s.PRODUCT_QUANTITY_VARIABLE+'" value="'+s.CONFIG.MIN_QUANTITY_BUY+'" /><span class="plus" '+e+">+</span>";arBasketAspro.BASKET&&void 0!==arBasketAspro.BASKET[s.ID]?i.find(".counter_wrapp .counter_block").length?i.find(".counter_wrapp .counter_block").hide():(i.find(".counter_wrapp").prepend('<div class="counter_block" data-item="'+s.ID+'"></div>'),i.find(".counter_wrapp .counter_block").html(o).hide()):i.find(".counter_wrapp .counter_block").length?i.find(".counter_wrapp .counter_block").html(o).show():(i.find(".counter_wrapp").prepend('<div class="counter_block" data-item="'+s.ID+'"></div>'),i.find(".counter_wrapp .counter_block").html(o))}else i.find(".counter_wrapp .counter_block").length&&i.find(".counter_wrapp .counter_block").hide();var a="ORDER"==s.CONFIG.ACTION||!s.CAN_BUY||!s.CONFIG.OPTIONS.USE_PRODUCT_QUANTITY_DETAIL||"SUBSCRIBE"==s.CONFIG.ACTION&&"Y"==s.CATALOG_SUBSCRIBE?"wide":"";$('<div class="button_block"></div>');if(i.find(".counter_wrapp").find(".button_block").length?arBasketAspro.BASKET&&void 0!==arBasketAspro.BASKET[s.ID]?(i.find(".counter_wrapp").find(".button_block").addClass("wide").html(s.HTML),markProductAddBasket(s.ID)):a?(i.find(".counter_wrapp").find(".button_block").addClass("wide").html(s.HTML),arBasketAspro.SUBSCRIBE&&void 0!==arBasketAspro.SUBSCRIBE[s.ID]&&markProductSubscribe(s.ID)):i.find(".counter_wrapp").find(".button_block").removeClass("wide").html(s.HTML):(i.find(".counter_wrapp").append('<div class="button_block '+a+'">'+s.HTML+"</div>"),arBasketAspro.BASKET&&void 0!==arBasketAspro.BASKET[s.ID]&&markProductAddBasket(s.ID),arBasketAspro.SUBSCRIBE&&void 0!==arBasketAspro.SUBSCRIBE[s.ID]&&markProductSubscribe(s.ID)),"NOTHING"!==s.CONFIG.ACTION)if("ADD"==s.CONFIG.ACTION&&s.CAN_BUY&&"N"!=s.SHOW_ONE_CLICK_BUY){var r='<span class="transparent big_btn type_block button one_click" data-offers="Y" data-item="'+s.ID+'" data-iblockID="'+s.IBLOCK_ID+'" data-quantity="'+s.CONFIG.MIN_QUANTITY_BUY+'" data-props="'+s.OFFER_PROPS+'" onclick="oneClickBuy('+s.ID+", "+s.IBLOCK_ID+', this)"><span>'+s.ONE_CLICK_BUY+"</span></span>";i.find(".wrapp_one_click").length?i.find(".wrapp_one_click").html(r):i.append('<div class="wrapp_one_click">'+r+"</div>")}else i.find(".wrapp_one_click").length&&i.find(".wrapp_one_click").remove();else i.find(".wrapp_one_click").length&&i.find(".wrapp_one_click").remove();i.fadeIn()},t.JCCatalogSection.prototype.CompareCountResult=function(t){if(t.COMPARE_COUNT){for(var s in t.ITEMS){if(t.ITEMS[s]==this.offers[this.offerNum].ID){this.offers[this.offerNum].COMPARE_ACTIVE=!0;break}this.offers[this.offerNum].COMPARE_ACTIVE=!1}this.offers[this.offerNum].COMPARE_ACTIVE?($(this.obCompare).find(".compare_item.to").hide(),$(this.obCompare).find(".compare_item.added").show()):($(this.obCompare).find(".compare_item.added").hide(),$(this.obCompare).find(".compare_item.to").show())}},t.JCCatalogSection.prototype.ItemInfoResult=function(t){t.HTML&&($(this.obBasketActions).html(t.HTML),$(this.obBasketActions).show(),this.obBuyBtn=BX(this.visual.BUY_ID),this.obBasketBtn=BX(this.visual.BASKET_LINK),this.obSubscribeBtn=BX(this.visual.SUBSCRIBE_ID),this.obSubscribedBtn=BX(this.visual.SUBSCRIBED_ID),BX.bind(this.obBuyBtn,"click",BX.delegate(this.Add2Basket,this)),$(this.obBasketActions).removeClass("wide"),this.ajax_type_item=t.BUYMISSINGGOODS,"ADD"==t.BUYMISSINGGOODS||this.canBuy?$(this.obQuantity).css("display",""):$(this.obBasketActions).addClass("wide")),basketParams={ajax_action:"Y"},BX.ajax.loadJSON(arOptimusOptions.SITE_DIR+"ajax/get_basket_count.php",basketParams,BX.delegate(this.BasketCountResult,this))},t.JCCatalogSection.prototype.BasketCountResult=function(t){for(var s in t.ITEMS){if(t.ITEMS[s].PRODUCT_ID==this.offers[this.offerNum].ID){this.offers[this.offerNum].BASKET_ACTIVE=!0;break}this.offers[this.offerNum].BASKET_ACTIVE=!1}for(var s in t.SUBSCRIBE_ITEMS){if(t.SUBSCRIBE_ITEMS[s].PRODUCT_ID==this.offers[this.offerNum].ID){this.offers[this.offerNum].SUBSCRIBE_ACTIVE=!0;break}this.offers[this.offerNum].SUBSCRIBE_ACTIVE=!1}this.BasketStateRefresh()},t.JCCatalogSection.prototype.BasketStateRefresh=function(s){this.offers[this.offerNum].SUBSCRIBE_ACTIVE?($(this.obProduct).find(".hover_block .o_"+this.offers[this.offerNum].ID+" .to-subscribe").hide(),$(this.obProduct).find(".hover_block .o_"+this.offers[this.offerNum].ID+" .in-subscribe").show()):($(this.obProduct).find(".hover_block .o_"+this.offers[this.offerNum].ID+" .to-subscribe").show(),$(this.obProduct).find(".hover_block .o_"+this.offers[this.offerNum].ID+" .in-subscribe").hide()),this.offers[this.offerNum].BASKET_ACTIVE?($(this.obProduct).find(".hover_block .o_"+this.offers[this.offerNum].ID).addClass("wide"),$(this.obProduct).find(".hover_block .o_"+this.offers[this.offerNum].ID+" .button_block").addClass("wide"),$(this.obProduct).find(".hover_block .o_"+this.offers[this.offerNum].ID+" .to-cart").hide(),$(this.obProduct).find(".hover_block .o_"+this.offers[this.offerNum].ID+" .in-cart").show(),$(this.obProduct).find(".hover_block .o_"+this.offers[this.offerNum].ID+" .counter_block").hide()):($(this.obProduct).find(".hover_block .o_"+this.offers[this.offerNum].ID).removeClass("wide"),$(this.obProduct).find(".hover_block .o_"+this.offers[this.offerNum].ID+" .button_block").removeClass("wide"),$(this.obProduct).find(".hover_block .o_"+this.offers[this.offerNum].ID+" .to-cart").show(),$(this.obProduct).find(".hover_block .o_"+this.offers[this.offerNum].ID+" .in-cart").hide(),$(this.obProduct).find(".hover_block .o_"+this.offers[this.offerNum].ID+" .counter_block").show()),BX.style(this.obBasketActions,"opacity","1"),$(this.obBasketActions).closest(".counter_wrapp").css("opacity",1),"undefined"!==s&&"Y"==s&&($("#basket_line .basket_fly").length&&$(t).outerWidth()>768?basketFly("open"):$("#basket_line .cart").length&&($("#basket_line .cart").is(".empty_cart")&&($("#basket_line .cart").removeClass("empty_cart").find(".cart_wrapp a.basket_link").removeAttr("href").addClass("cart-call"),touchBasket(".cart:not(.empty_cart) .basket_block .link")),reloadTopBasket("add",$("#basket_line"),200,2e3,"Y")),animateBasketLine(200))},t.JCCatalogSection.prototype.setPrice=function(t,s){var i;this.obPrice&&(i=BX.Currency.currencyFormat(t.DISCOUNT_VALUE,t.CURRENCY,!0),s&&(i=i?i+"/"+s:"&nbsp;"),BX.adjust(this.obPrice,{html:i}),t.DISCOUNT_VALUE!==t.VALUE&&this.showOldPrice?($(this.obPriceOld).find("strike").show().html(BX.Currency.currencyFormat(t.VALUE,t.CURRENCY,!0)),this.showPercent&&($(this.obPriceOld).closest(".cost").find(".sale_block").show(),$(this.obPriceOld).closest(".cost").find(".value").html(t.DISCOUNT_DIFF_PERCENT_RAW),$(this.obPriceOld).closest(".cost").find(".text span").html(BX.Currency.currencyFormat(t.DISCOUNT_DIFF,t.CURRENCY,!0)))):($(this.obPriceOld).find("strike").hide().html(""),this.showPercent&&$(this.obPriceOld).closest(".cost").find(".sale_block").hide()))},t.JCCatalogSection.prototype.setQuantityStore=function(t,s){parseFloat(t)>0?$(this.storeQuanity).find(".icon").removeClass("order").addClass("stock"):$(this.storeQuanity).find(".icon").removeClass("stock").addClass("order"),$(this.storeQuanity).find(".icon + span").html(s)},t.JCCatalogSection.prototype.Compare=function(){var t,s;if($(this.obProduct).find(".like_icons .o_"+this.offers[this.offerNum].ID).data("changed","Y"),$(this.obProduct).find(".like_icons .o_"+this.offers[this.offerNum].ID).find(".compare_item.added").is(":visible")?(s=this.compareData.compareUrlDel,this.compareData.Added=!1):(s=this.compareData.compareUrl,this.compareData.Added=!0),s){switch(this.productType){case 1:case 2:s=s.replace("#ID#",this.product.id.toString());break;case 3:s=s.replace("#ID#",this.offers[this.offerNum].ID)}t={ajax_action:"Y"},BX.ajax.loadJSON(s,t,BX.proxy(this.CompareResult,this))}},t.JCCatalogSection.prototype.CompareResult=function(t){return"object"!=typeof t?!1:("OK"===t.STATUS?(BX.onCustomEvent("OnCompareChange"),this.compareData.Added?($(this.obProduct).find(".like_icons .o_"+this.offers[this.offerNum].ID).find(".to").hide(),$(this.obProduct).find(".like_icons .o_"+this.offers[this.offerNum].ID).find(".in").show()):($(this.obProduct).find(".like_icons .o_"+this.offers[this.offerNum].ID).find(".in").hide(),$(this.obProduct).find(".like_icons .o_"+this.offers[this.offerNum].ID).find(".to").show()),jsAjaxUtil.InsertDataToNode(arOptimusOptions.SITE_DIR+"ajax/show_compare_preview_top.php","compare_line",!1)):console.log(BX.message("ADD_ERROR_COMPARE")),!1)},t.JCCatalogSection.prototype.CompareRedirect=function(){this.compareData.comparePath?location.href=this.compareData.comparePath:this.obPopupWin.close()},t.JCCatalogSection.prototype.InitBasketUrl=function(){switch(this.basketUrl="ADD"===this.basketMode?this.basketData.add_url:this.basketData.buy_url,this.productType){case 1:case 2:this.basketUrl=this.basketUrl.replace("#ID#",this.product.id.toString());break;case 3:this.basketUrl=this.basketUrl.replace("#ID#",this.offers[this.offerNum].ID)}this.basketParams={ajax_basket:"Y"},this.showQuantity&&(this.basketParams[this.basketData.quantity]=$(this.obProduct).find(".counter_wrapp").find(".counter_block .text").val()),this.basketData.sku_props&&(this.basketParams[this.basketData.sku_props_var]=this.basketData.sku_props)},t.JCCatalogSection.prototype.FillBasketProps=function(){if(this.visual.BASKET_PROP_DIV){var t=0,s=null,i=!1,e=null;if(this.basketData.useProps&&!this.basketData.emptyProps?this.obPopupWin&&this.obPopupWin.contentContainer&&(e=this.obPopupWin.contentContainer):e=BX(this.visual.BASKET_PROP_DIV),e){if(s=e.getElementsByTagName("select"),s&&s.length)for(t=0;t<s.length;t++)if(!s[t].disabled)switch(s[t].type.toLowerCase()){case"select-one":this.basketParams[s[t].name]=s[t].value,i=!0}if(s=e.getElementsByTagName("input"),s&&s.length)for(t=0;t<s.length;t++)if(!s[t].disabled)switch(s[t].type.toLowerCase()){case"hidden":this.basketParams[s[t].name]=s[t].value,i=!0;break;case"radio":s[t].checked&&(this.basketParams[s[t].name]=s[t].value,i=!0)}}i||(this.basketParams[this.basketData.props]=[],this.basketParams[this.basketData.props][0]=0)}},t.JCCatalogSection.prototype.Add2Basket=function(){this.basketMode="ADD",this.Basket()},t.JCCatalogSection.prototype.BuyBasket=function(){this.basketMode="BUY",this.Basket()},t.JCCatalogSection.prototype.SendToBasket=function(){this.canBuy&&(this.InitBasketUrl(),this.FillBasketProps(),BX.ajax.loadJSON(this.basketUrl,this.basketParams,BX.delegate(this.BasketResult,this)))},t.JCCatalogSection.prototype.Basket=function(){this.canBuy&&this.SendToBasket()},t.JCCatalogSection.prototype.BasketResult=function(t){var s;return this.obPopupWin&&this.obPopupWin.close(),"object"!=typeof t?!1:(s="OK"===t.STATUS,void(s&&"BUY"===this.basketAction?this.BasketRedirect():s?(getActualBasket(),markProductAddBasket(this.offers[this.offerNum].ID),BX.onCustomEvent("OnBasketChange"),this.offers[this.offerNum].BASKET_ACTIVE=!0,this.BasketStateRefresh("Y"),$(this.obProduct).find(".hover_block .o_"+this.offers[this.offerNum].ID).data("changed","Y")):console.log(BX.message("ADD_ERROR_BASKET"))))},t.JCCatalogSection.prototype.BasketRedirect=function(){location.href=this.basketData.basketUrl?this.basketData.basketUrl:BX.message("BASKET_URL")})}(window);163  16158|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/components/bitrix/catalog.section/catalog_block_slider/result_modifier.php|b49134e1<?
use Bitrix\Main\Type\Collection;
use Bitrix\Currency\CurrencyTable;

if (!defined('B_PROLOG_INCLUDED') || B_PROLOG_INCLUDED!==true) die();
/** @var CBitrixComponentTemplate $this */
/** @var array $arParams */
/** @var array $arResult */
$arDefaultParams = array(
	'TYPE_SKU' => 'Y',
	'ADD_PICT_PROP' => '-',
	'OFFER_ADD_PICT_PROP' => '-',
	'OFFER_TREE_PROPS' => array('-'),
	'ADD_TO_BASKET_ACTION' => 'ADD',
	'DEFAULT_COUNT' => '1',
);
$arParams = array_merge($arDefaultParams, $arParams);

if ('TYPE_1' != $arParams['TYPE_SKU'] )
	$arParams['TYPE_SKU'] = 'N';

if (!is_array($arParams['OFFER_TREE_PROPS']))
	$arParams['OFFER_TREE_PROPS'] = array($arParams['OFFER_TREE_PROPS']);
foreach ($arParams['OFFER_TREE_PROPS'] as $key => $value)
{
	$value = (string)$value;
	if ('' == $value || '-' == $value)
		unset($arParams['OFFER_TREE_PROPS'][$key]);
}
if (empty($arParams['OFFER_TREE_PROPS']) && isset($arParams['OFFERS_CART_PROPERTIES']) && is_array($arParams['OFFERS_CART_PROPERTIES']))
{
	$arParams['OFFER_TREE_PROPS'] = $arParams['OFFERS_CART_PROPERTIES'];
	foreach ($arParams['OFFER_TREE_PROPS'] as $key => $value)
	{
		$value = (string)$value;
		if ('' == $value || '-' == $value)
			unset($arParams['OFFER_TREE_PROPS'][$key]);
	}
}



if (!empty($arResult['ITEMS'])){
	$arEmptyPreview = false;
	$strEmptyPreview = SITE_TEMPLATE_PATH.'/images/no_photo_medium.png';
	if (file_exists($_SERVER['DOCUMENT_ROOT'].$strEmptyPreview))
	{
		$arSizes = getimagesize($_SERVER['DOCUMENT_ROOT'].$strEmptyPreview);
		if (!empty($arSizes))
		{
			$arEmptyPreview = array(
				'SRC' => $strEmptyPreview,
				'WIDTH' => intval($arSizes[0]),
				'HEIGHT' => intval($arSizes[1])
			);
		}
		unset($arSizes);
	}
	unset($strEmptyPreview);

	$arSKUPropList = array();
	$arSKUPropIDs = array();
	$arSKUPropKeys = array();
	$boolSKU = false;
	$strBaseCurrency = '';
	$boolConvert = isset($arResult['CONVERT_CURRENCY']['CURRENCY_ID']);
	$arOfferProps = implode(';', $arParams['OFFERS_CART_PROPERTIES']);

	if ($arResult['MODULES']['catalog'])
	{
		if (!$boolConvert)
			$strBaseCurrency = CCurrency::GetBaseCurrency();

		$arSKU = CCatalogSKU::GetInfoByProductIBlock($arParams['IBLOCK_ID']);
		$boolSKU = !empty($arSKU) && is_array($arSKU);
		if ($boolSKU && !empty($arParams['OFFER_TREE_PROPS']))
		{
			$arSKUPropList = CIBlockPriceTools::getTreeProperties(
				$arSKU,
				$arParams['OFFER_TREE_PROPS'],
				array(
					//'PICT' => $arEmptyPreview,
					'NAME' => '-'
				)
			);
			$arResult["SKU_IBLOCK_ID"]=$arSKU["IBLOCK_ID"];
			$arNeedValues = array();
			CIBlockPriceTools::getTreePropertyValues($arSKUPropList, $arNeedValues);
			$arSKUPropIDs = array_keys($arSKUPropList);


			if (empty($arSKUPropIDs))
				$arParams['TYPE_SKU'] = 'N';
			else
				$arSKUPropKeys = array_fill_keys($arSKUPropIDs, false);
		}
	}
	$arNewItemsList = array();
	foreach ($arResult['ITEMS'] as $key => $arItem)
	{
		$arItem['CHECK_QUANTITY'] = false;
		if (!isset($arItem['CATALOG_MEASURE_RATIO']))
			$arItem['CATALOG_MEASURE_RATIO'] = 1;
		if (!isset($arItem['CATALOG_QUANTITY']))
			$arItem['CATALOG_QUANTITY'] = 0;
		$arItem['CATALOG_QUANTITY'] = (
			0 < $arItem['CATALOG_QUANTITY'] && is_float($arItem['CATALOG_MEASURE_RATIO'])
			? floatval($arItem['CATALOG_QUANTITY'])
			: intval($arItem['CATALOG_QUANTITY'])
		);
		$arItem['CATALOG'] = false;
		if (!isset($arItem['CATALOG_SUBSCRIPTION']) || 'Y' != $arItem['CATALOG_SUBSCRIPTION'])
			$arItem['CATALOG_SUBSCRIPTION'] = 'N';

		$productPictures = CIBlockPriceTools::getDoublePicturesForItem($arItem, $arParams['ADD_PICT_PROP']);
		if (empty($productPictures['PICT']))
			$productPictures['PICT'] = $arEmptyPreview;
		if (empty($productPictures['SECOND_PICT']))
			$productPictures['SECOND_PICT'] = $productPictures['PICT'];

		$arItem['PREVIEW_PICTURE'] = $productPictures['PICT'];
		$arItem['PREVIEW_PICTURE_SECOND'] = $productPictures['SECOND_PICT'];
		$arItem['SECOND_PICT'] = true;
		$arItem['PRODUCT_PREVIEW'] = $productPictures['PICT'];
		$arItem['PRODUCT_PREVIEW_SECOND'] = $productPictures['SECOND_PICT'];

		if ($arResult['MODULES']['catalog'])
		{
			$arItem['CATALOG'] = true;
			if (!isset($arItem['CATALOG_TYPE']))
				$arItem['CATALOG_TYPE'] = CCatalogProduct::TYPE_PRODUCT;
			if (
				(CCatalogProduct::TYPE_PRODUCT == $arItem['CATALOG_TYPE'] || CCatalogProduct::TYPE_SKU == $arItem['CATALOG_TYPE'])
				&& !empty($arItem['OFFERS'])
			)
			{
				$arItem['CATALOG_TYPE'] = CCatalogProduct::TYPE_SKU;
			}
			switch ($arItem['CATALOG_TYPE'])
			{
				case CCatalogProduct::TYPE_SET:
					$arItem['OFFERS'] = array();
					$arItem['CHECK_QUANTITY'] = ('Y' == $arItem['CATALOG_QUANTITY_TRACE'] && 'N' == $arItem['CATALOG_CAN_BUY_ZERO']);
					break;
				case CCatalogProduct::TYPE_SKU:
					break;
				case CCatalogProduct::TYPE_PRODUCT:
				default:
					$arItem['CHECK_QUANTITY'] = ('Y' == $arItem['CATALOG_QUANTITY_TRACE'] && 'N' == $arItem['CATALOG_CAN_BUY_ZERO']);
					break;
			}
		}
		else
		{
			$arItem['CATALOG_TYPE'] = 0;
			$arItem['OFFERS'] = array();
		}

		if ($arItem['CATALOG'] && isset($arItem['OFFERS']) && !empty($arItem['OFFERS']))
		{
				$arMatrixFields = $arSKUPropKeys;
				$arMatrix = array();

				$arNewOffers = array();
				$boolSKUDisplayProperties = false;
				$arItem['OFFERS_PROP'] = false;

				$arDouble = array();
				foreach ($arItem['OFFERS'] as $keyOffer => $arOffer)
				{
					$arOffer['ID'] = intval($arOffer['ID']);
					if (isset($arDouble[$arOffer['ID']]))
						continue;
					$arRow = array();
					foreach ($arSKUPropIDs as $propkey => $strOneCode)
					{
						$arCell = array(
							'VALUE' => 0,
							'SORT' => PHP_INT_MAX,
							'NA' => true
						);
						if (isset($arOffer['DISPLAY_PROPERTIES'][$strOneCode]))
						{
							$arMatrixFields[$strOneCode] = true;
							$arCell['NA'] = false;
							if ('directory' == $arSKUPropList[$strOneCode]['USER_TYPE'])
							{
								$intValue = $arSKUPropList[$strOneCode]['XML_MAP'][$arOffer['DISPLAY_PROPERTIES'][$strOneCode]['VALUE']];
								$arCell['VALUE'] = $intValue;
							}
							elseif ('L' == $arSKUPropList[$strOneCode]['PROPERTY_TYPE'])
							{
								$arCell['VALUE'] = intval($arOffer['DISPLAY_PROPERTIES'][$strOneCode]['VALUE_ENUM_ID']);
							}
							elseif ('E' == $arSKUPropList[$strOneCode]['PROPERTY_TYPE'])
							{
								$arCell['VALUE'] = intval($arOffer['DISPLAY_PROPERTIES'][$strOneCode]['VALUE']);
							}
							$arCell['SORT'] = $arSKUPropList[$strOneCode]['VALUES'][$arCell['VALUE']]['SORT'];
						}
						$arRow[$strOneCode] = $arCell;
					}
					$arMatrix[$keyOffer] = $arRow;

					CIBlockPriceTools::clearProperties($arOffer['DISPLAY_PROPERTIES'], $arParams['OFFER_TREE_PROPS']);

					CIBlockPriceTools::setRatioMinPrice($arOffer, false);

					$offerPictures = CIBlockPriceTools::getDoublePicturesForItem($arOffer, $arParams['OFFER_ADD_PICT_PROP']);
					$arOffer['OWNER_PICT'] = empty($offerPictures['PICT']);
					$arOffer['PREVIEW_PICTURE'] = false;
					$arOffer['PREVIEW_PICTURE_SECOND'] = false;
					$arOffer['SECOND_PICT'] = true;
					if (!$arOffer['OWNER_PICT'])
					{
						if (empty($offerPictures['SECOND_PICT']))
							$offerPictures['SECOND_PICT'] = $offerPictures['PICT'];
						$arOffer['PREVIEW_PICTURE'] = $offerPictures['PICT'];
						$arOffer['PREVIEW_PICTURE_SECOND'] = $offerPictures['SECOND_PICT'];
					}

					if ('' != $arParams['OFFER_ADD_PICT_PROP'] && isset($arOffer['DISPLAY_PROPERTIES'][$arParams['OFFER_ADD_PICT_PROP']]))
						unset($arOffer['DISPLAY_PROPERTIES'][$arParams['OFFER_ADD_PICT_PROP']]);

					$arDouble[$arOffer['ID']] = true;
					$arNewOffers[$keyOffer] = $arOffer;

				}


				$arItem['OFFERS'] = $arNewOffers;

				$arUsedFields = array();
				$arSortFields = array();

				$arPropSKU = $arItem['OFFERS_PROPS_JS'] = array();

				foreach ($arSKUPropIDs as $propkey => $strOneCode)
				{
					$boolExist = $arMatrixFields[$strOneCode];
					foreach ($arMatrix as $keyOffer => $arRow)
					{
						if ($boolExist)
						{
							if (!isset($arItem['OFFERS'][$keyOffer]['TREE']))
								$arItem['OFFERS'][$keyOffer]['TREE'] = array();
							$arItem['OFFERS'][$keyOffer]['TREE']['PROP_'.$arSKUPropList[$strOneCode]['ID']] = $arMatrix[$keyOffer][$strOneCode]['VALUE'];
							$arItem['OFFERS'][$keyOffer]['SKU_SORT_'.$strOneCode] = $arMatrix[$keyOffer][$strOneCode]['SORT'];
							$arUsedFields[$strOneCode] = true;
							$arSortFields['SKU_SORT_'.$strOneCode] = SORT_NUMERIC;

							$arPropSKU[$strOneCode][$arMatrix[$keyOffer][$strOneCode]["VALUE"]] = $arSKUPropList[$strOneCode]["VALUES"][$arMatrix[$keyOffer][$strOneCode]["VALUE"]];
						}
						else
						{
							unset($arMatrix[$keyOffer][$strOneCode]);
						}
					}
					if($arPropSKU[$strOneCode])
					{
						$arItem['OFFERS_PROPS_JS'][$strOneCode] = array(
							"ID" => $arSKUPropList[$strOneCode]["ID"],
							"CODE" => $arSKUPropList[$strOneCode]["CODE"],
							"NAME" => $arSKUPropList[$strOneCode]["NAME"],
							"SORT" => $arSKUPropList[$strOneCode]["SORT"],
							"PROPERTY_TYPE" => $arSKUPropList[$strOneCode]["PROPERTY_TYPE"],
							"USER_TYPE" => $arSKUPropList[$strOneCode]["USER_TYPE"],
							"LINK_IBLOCK_ID" => $arSKUPropList[$strOneCode]["LINK_IBLOCK_ID"],
							"SHOW_MODE" => $arSKUPropList[$strOneCode]["SHOW_MODE"],
							"VALUES" => $arPropSKU[$strOneCode]
						);
					}
				}
				$arItem['OFFERS_PROP'] = $arUsedFields;

				$arItem['OFFERS_PROP_CODES'] = (!empty($arParams["OFFERS_CART_PROPERTIES"]) ? base64_encode(serialize(array_keys($arParams["OFFERS_CART_PROPERTIES"]))) : '');

				Collection::sortByColumn($arItem['OFFERS'], $arSortFields);

				$arMatrix = array();
				$intSelected = -1;
				$arItem['MIN_PRICE'] = false;
				$arItem['MIN_BASIS_PRICE'] = false;
				foreach ($arItem['OFFERS'] as $keyOffer => $arOffer)
				{
					if (empty($arItem['MIN_PRICE']) /*&& $arOffer['CAN_BUY']*/)
					{
						$intSelected = $keyOffer;
						$arItem['MIN_PRICE'] = $arOffer['MIN_PRICE'];
						$arItem['MIN_BASIS_PRICE'] = $arOffer['MIN_PRICE'];
					}
					$arSKUProps =$arSKUArticle = false;
					if (!empty($arOffer['DISPLAY_PROPERTIES']))
					{
						$boolSKUDisplayProperties = true;
						$arSKUProps = array();
						foreach ($arOffer['DISPLAY_PROPERTIES'] as &$arOneProp)
						{
							if ('F' == $arOneProp['PROPERTY_TYPE'])
								continue;
							$arSKUProps[] = array(
								'NAME' => $arOneProp['NAME'],
								'VALUE' => $arOneProp['DISPLAY_VALUE']
							);
						}
						unset($arOneProp);
					}

					$totalCount = COptimus::GetTotalCount($arOffer);
					$arOffer['IS_OFFER'] = 'Y';
					$arOffer['IBLOCK_ID'] = $arResult['IBLOCK_ID'];
					$arAddToBasketData = COptimus::GetAddToBasketArray($arOffer, $totalCount, $arParams["DEFAULT_COUNT"], $arParams["BASKET_URL"], false, $arItemIDs["ALL_ITEM_IDS"], 'small read_more1', $arParams);
					$arAddToBasketData["HTML"] = str_replace('data-item', 'data-props="'.$arOfferProps.'" data-item', $arAddToBasketData["HTML"]);

					$arOneRow = array(
						'ID' => $arOffer['ID'],
						'NAME' => $arOffer['~NAME'],
						'TREE' => $arOffer['TREE'],
						'DISPLAY_PROPERTIES' => $arSKUProps,
						'ARTICLE' => $arSKUArticle,
						// 'PRICE' => (isset($arOffer['RATIO_PRICE']) ? $arOffer['RATIO_PRICE'] : $arOffer['MIN_PRICE']),
						'PRICE' => $arOffer['MIN_PRICE'],
						'BASIS_PRICE' => $arOffer['MIN_PRICE'],
						'OWNER_PICT' => $arOffer['OWNER_PICT'],
						'PREVIEW_PICTURE' => $arOffer['PREVIEW_PICTURE'],
						'PREVIEW_PICTURE_SECOND' => $arOffer['PREVIEW_PICTURE_SECOND'],
						'CHECK_QUANTITY' => $arOffer['CHECK_QUANTITY'],
						'MAX_QUANTITY' => $arOffer['CATALOG_QUANTITY'],
						'STEP_QUANTITY' => $arOffer['CATALOG_MEASURE_RATIO'],
						'QUANTITY_FLOAT' => is_double($arOffer['CATALOG_MEASURE_RATIO']),
						'MEASURE' => $arOffer['~CATALOG_MEASURE_NAME'],
						'CAN_BUY' => $arOffer['CAN_BUY'],
						'CATALOG_SUBSCRIBE' => $arOffer['CATALOG_SUBSCRIBE'],
						'AVAILIABLE' => COptimus::GetQuantityArray($arOffer['CATALOG_QUANTITY']),
						'URL' => $arOffer['DETAIL_PAGE_URL'],
						'SHOW_MEASURE' => ($arParams["SHOW_MEASURE"]=="Y" ? "Y" : "N"),
						'SHOW_ONE_CLICK_BUY' => "N",
						'ONE_CLICK_BUY' => GetMessage("ONE_CLICK_BUY"),
						'OFFER_PROPS' => $arOfferProps,
						'NO_PHOTO' => $arEmptyPreview,
						'CONFIG' => $arAddToBasketData,
						'HTML' => $arAddToBasketData["HTML"],
						'PRODUCT_QUANTITY_VARIABLE' => $arParams["PRODUCT_QUANTITY_VARIABLE"],
					);
					if($arOneRow["PRICE"]["DISCOUNT_DIFF"]){
						$percent=round(($arOneRow["PRICE"]["DISCOUNT_DIFF"]/$arOneRow["PRICE"]["VALUE"])*100, 2);
						$arOneRow["PRICE"]["DISCOUNT_DIFF_PERCENT_RAW"]="-".$percent."%";
					}
					$arMatrix[$keyOffer] = $arOneRow;
				}
				if (-1 == $intSelected)
					$intSelected = 0;
				if (!$arMatrix[$intSelected]['OWNER_PICT'])
				{
					$arItem['PREVIEW_PICTURE'] = $arMatrix[$intSelected]['PREVIEW_PICTURE'];
					$arItem['PREVIEW_PICTURE_SECOND'] = $arMatrix[$intSelected]['PREVIEW_PICTURE_SECOND'];
				}
				$arItem['JS_OFFERS'] = $arMatrix;
				$arItem['OFFERS_SELECTED'] = $intSelected;
				$arItem['OFFERS_PROPS_DISPLAY'] = $boolSKUDisplayProperties;
		}

		if (
			$arResult['MODULES']['catalog']
			&& $arItem['CATALOG']
			&&
				($arItem['CATALOG_TYPE'] == CCatalogProduct::TYPE_PRODUCT
				|| $arItem['CATALOG_TYPE'] == CCatalogProduct::TYPE_SET)
		)
		{
			CIBlockPriceTools::setRatioMinPrice($arItem, false);
			$arItem['MIN_BASIS_PRICE'] = $arItem['MIN_PRICE'];
		}

		if (!empty($arItem['DISPLAY_PROPERTIES']))
		{
			foreach ($arItem['DISPLAY_PROPERTIES'] as $propKey => $arDispProp)
			{
				if($propKey=="CML2_ARTICLE"){
					$arItem['ARTICLE']=$arDispProp;
				}
				if ('F' == $arDispProp['PROPERTY_TYPE'])
					unset($arItem['DISPLAY_PROPERTIES'][$propKey]);
			}
		}
		$arItem['LAST_ELEMENT'] = 'N';
		$arNewItemsList[$key] = $arItem;
	}
	$arNewItemsList[$key]['LAST_ELEMENT'] = 'Y';
	$arResult['ITEMS'] = $arNewItemsList;

	if($arSKUPropList)
	{
		foreach($arSKUPropList as $prop => $arProps)
		{
			unset($arSKUPropList[$prop]["USER_TYPE_SETTINGS"]);
			unset($arSKUPropList[$prop]["VALUES"]);
		}

	}

	$arResult['SKU_PROPS'] = $arSKUPropList;

	unset($arSKUPropList);

	$arResult['DEFAULT_PICTURE'] = $arEmptyPreview;

	$arResult['CURRENCIES'] = array();
	if ($arResult['MODULES']['currency'])
	{
		if ($boolConvert)
		{
			$currencyFormat = CCurrencyLang::GetFormatDescription($arResult['CONVERT_CURRENCY']['CURRENCY_ID']);
			$arResult['CURRENCIES'] = array(
				array(
					'CURRENCY' => $arResult['CONVERT_CURRENCY']['CURRENCY_ID'],
					'FORMAT' => array(
						'FORMAT_STRING' => $currencyFormat['FORMAT_STRING'],
						'DEC_POINT' => $currencyFormat['DEC_POINT'],
						'THOUSANDS_SEP' => $currencyFormat['THOUSANDS_SEP'],
						'DECIMALS' => $currencyFormat['DECIMALS'],
						'THOUSANDS_VARIANT' => $currencyFormat['THOUSANDS_VARIANT'],
						'HIDE_ZERO' => $currencyFormat['HIDE_ZERO']
					)
				)
			);
			unset($currencyFormat);
		}
		else
		{
			$currencyIterator = CurrencyTable::getList(array(
				'select' => array('CURRENCY')
			));
			while ($currency = $currencyIterator->fetch())
			{
				$currencyFormat = CCurrencyLang::GetFormatDescription($currency['CURRENCY']);
				$arResult['CURRENCIES'][] = array(
					'CURRENCY' => $currency['CURRENCY'],
					'FORMAT' => array(
						'FORMAT_STRING' => $currencyFormat['FORMAT_STRING'],
						'DEC_POINT' => $currencyFormat['DEC_POINT'],
						'THOUSANDS_SEP' => $currencyFormat['THOUSANDS_SEP'],
						'DECIMALS' => $currencyFormat['DECIMALS'],
						'THOUSANDS_VARIANT' => $currencyFormat['THOUSANDS_VARIANT'],
						'HIDE_ZERO' => $currencyFormat['HIDE_ZERO']
					)
				);
			}
			unset($currencyFormat, $currency, $currencyIterator);
		}
	}
}
?>153  46489|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/components/bitrix/catalog.section/catalog_block_slider/script.js|6eed1804(function (window) {

if (!!window.JCCatalogSection)
{
	return;
}

window.JCCatalogSection = function (arParams)
{
	this.skuVisualParams = {
		SELECT:
		{
			TAG_BIND: 'select',
			TAG: 'option',
			ACTIVE_CLASS: 'active',
			HIDE_CLASS: 'hidden',
			EVENT: 'change',
		},
		LI:
		{
			TAG_BIND: 'li',
			TAG: 'li',
			ACTIVE_CLASS: 'active',
			HIDE_CLASS: 'missing',
			EVENT: 'click',
		}
	};
	this.productType = 0;
	this.showQuantity = true;
	this.showAbsent = true;
	this.secondPict = false;
	this.showOldPrice = false;
	this.showPercent = false;
	this.showSkuProps = false;
	this.basketAction = 'ADD';
	this.basketLinkURL = '';
	this.showClosePopup = false;
	this.useCompare = false;
	this.visual = {
		ID: '',
		PICT_ID: '',
		SECOND_PICT_ID: '',
		QUANTITY_ID: '',
		QUANTITY_UP_ID: '',
		QUANTITY_DOWN_ID: '',
		STORE_QUANTITY: '',
		PRICE_ID: '',
		PRICE_OLD_ID: '',
		DSC_PERC: '',
		SECOND_DSC_PERC: '',
		DISPLAY_PROP_DIV: '',
		BASKET_PROP_DIV: ''
	};
	this.product = {
		checkQuantity: false,
		maxQuantity: 0,
		stepQuantity: 1,
		isDblQuantity: false,
		canBuy: true,
		canSubscription: true,
		name: '',
		pict: {},
		id: 0,
		addUrl: '',
		buyUrl: ''
	};

	this.basketMode = '';
	this.basketData = {
		useProps: false,
		emptyProps: false,
		quantity: 'quantity',
		props: 'prop',
		basketUrl: '',
		sku_props: '',
		sku_props_var: 'basket_props',
		add_url: '',
		buy_url: ''
	};

	this.compareData = {
		compareUrl: '',
		comparePath: ''
	};

	this.defaultPict = {
		pict: null,
		secondPict: null
	};

	this.checkQuantity = false;
	this.maxQuantity = 0;
	this.stepQuantity = 1;
	this.defaultCount = 1;
	this.isDblQuantity = false;
	this.canBuy = true;
	this.currentBasisPrice = {};
	this.canSubscription = true;
	this.precision = 6;
	this.precisionFactor = Math.pow(10,this.precision);

	this.offers = [];
	this.offerNum = 0;
	this.treeProps = [];
	this.obTreeRows = [];
	this.showCount = [];
	this.showStart = [];
	this.selectedValues = {};

	this.obProduct = null;
	this.obQuantity = null;
	this.obQuantityUp = null;
	this.obQuantityDown = null;
	this.obPict = null;
	this.obSecondPict = null;
	this.obPrice = null;
	this.obTree = null;
	this.obBuyBtn = null;
	this.obBasketBtn = null;
	this.obBasketActions = null;
	this.obNotAvail = null;
	this.obDscPerc = null;
	this.obSecondDscPerc = null;
	this.obSkuProps = null;
	this.obMeasure = null;
	this.obCompare = null;

	this.obPopupWin = null;
	this.basketUrl = '';
	this.basketParams = {};

	this.treeRowShowSize = 5;
	this.treeEnableArrow = { display: '', cursor: 'pointer', opacity: 1 };
	this.treeDisableArrow = { display: '', cursor: 'default', opacity:0.2 };

	this.lastElement = false;
	this.containerHeight = 0;

	this.errorCode = 0;

	if ('object' === typeof arParams)
	{
		this.productType = parseInt(arParams.PRODUCT_TYPE, 10);
		this.showQuantity = arParams.SHOW_QUANTITY;
		this.showAbsent = arParams.SHOW_ABSENT;
		this.secondPict = !!arParams.SECOND_PICT;
		this.showOldPrice = !!arParams.SHOW_OLD_PRICE;
		this.showPercent = !!arParams.SHOW_DISCOUNT_PERCENT;
		this.showSkuProps = !!arParams.SHOW_SKU_PROPS;
		if (!!arParams.ADD_TO_BASKET_ACTION)
		{
			this.basketAction = arParams.ADD_TO_BASKET_ACTION;
		}
		this.showClosePopup = !!arParams.SHOW_CLOSE_POPUP;
		this.useCompare = !!arParams.DISPLAY_COMPARE;

		this.visual = arParams.VISUAL;
		this.defaultCount = arParams.DEFAULT_COUNT;
		this.basketLinkURL = arParams.BASKET_URL;
		switch (this.productType)
		{
			case 1://product
			case 2://set
				if (!!arParams.PRODUCT && 'object' === typeof(arParams.PRODUCT))
				{
					if (this.showQuantity)
					{
						this.product.checkQuantity = arParams.PRODUCT.CHECK_QUANTITY;
						this.product.isDblQuantity = arParams.PRODUCT.QUANTITY_FLOAT;
						if (this.product.checkQuantity)
						{
							this.product.maxQuantity = (this.product.isDblQuantity ? parseFloat(arParams.PRODUCT.MAX_QUANTITY) : parseInt(arParams.PRODUCT.MAX_QUANTITY, 10));
						}
						this.product.stepQuantity = (this.product.isDblQuantity ? parseFloat(arParams.PRODUCT.STEP_QUANTITY) : parseInt(arParams.PRODUCT.STEP_QUANTITY, 10));

						this.checkQuantity = this.product.checkQuantity;
						this.isDblQuantity = this.product.isDblQuantity;
						this.maxQuantity = this.product.maxQuantity;
						this.stepQuantity = this.product.stepQuantity;
						if (this.isDblQuantity)
						{
							this.stepQuantity = Math.round(this.stepQuantity*this.precisionFactor)/this.precisionFactor;
						}
					}
					this.product.canBuy = arParams.PRODUCT.CAN_BUY;
					this.product.canSubscription = arParams.PRODUCT.SUBSCRIPTION;
					if (!!arParams.PRODUCT.BASIS_PRICE)
					{
						this.currentBasisPrice = arParams.PRODUCT.BASIS_PRICE;
					}

					this.canBuy = this.product.canBuy;
					this.canSubscription = this.product.canSubscription;

					this.product.name = arParams.PRODUCT.NAME;
					this.product.pict = arParams.PRODUCT.PICT;
					this.product.id = arParams.PRODUCT.ID;
					if (!!arParams.PRODUCT.ADD_URL)
					{
						this.product.addUrl = arParams.PRODUCT.ADD_URL;
					}
					if (!!arParams.PRODUCT.BUY_URL)
					{
						this.product.buyUrl = arParams.PRODUCT.BUY_URL;
					}
					if (!!arParams.BASKET && 'object' === typeof(arParams.BASKET))
					{
						this.basketData.useProps = !!arParams.BASKET.ADD_PROPS;
						this.basketData.emptyProps = !!arParams.BASKET.EMPTY_PROPS;
					}
				}
				else
				{
					this.errorCode = -1;
				}
				break;
			case 3://sku
				if (!!arParams.OFFERS && BX.type.isArray(arParams.OFFERS))
				{
					if (!!arParams.PRODUCT && 'object' === typeof(arParams.PRODUCT))
					{
						this.product.name = arParams.PRODUCT.NAME;
						this.product.id = arParams.PRODUCT.ID;
					}
					this.offers = arParams.OFFERS;
					this.offerNum = 0;
					if (!!arParams.OFFER_SELECTED)
					{
						this.offerNum = parseInt(arParams.OFFER_SELECTED, 10);
					}
					if (isNaN(this.offerNum))
					{
						this.offerNum = 0;
					}
					if (!!arParams.TREE_PROPS)
					{
						this.treeProps = arParams.TREE_PROPS;
					}
					if (!!arParams.DEFAULT_PICTURE)
					{
						this.defaultPict.pict = arParams.DEFAULT_PICTURE.PICTURE;
						this.defaultPict.secondPict = arParams.DEFAULT_PICTURE.PICTURE_SECOND;
					}
				}
				else
				{
					this.errorCode = -1;
				}
				break;
			default:
				this.errorCode = -1;
		}
		if (!!arParams.BASKET && 'object' === typeof(arParams.BASKET))
		{
			if (!!arParams.BASKET.QUANTITY)
			{
				this.basketData.quantity = arParams.BASKET.QUANTITY;
			}
			if (!!arParams.BASKET.PROPS)
			{
				this.basketData.props = arParams.BASKET.PROPS;
			}
			if (!!arParams.BASKET.BASKET_URL)
			{
				this.basketData.basketUrl = arParams.BASKET.BASKET_URL;
			}
			if (3 === this.productType)
			{
				if (!!arParams.BASKET.SKU_PROPS)
				{
					this.basketData.sku_props = arParams.BASKET.SKU_PROPS;
				}
			}
			if (!!arParams.BASKET.ADD_URL_TEMPLATE)
			{
				this.basketData.add_url = arParams.BASKET.ADD_URL_TEMPLATE;
			}
			if (!!arParams.BASKET.BUY_URL_TEMPLATE)
			{
				this.basketData.buy_url = arParams.BASKET.BUY_URL_TEMPLATE;
			}
			if (this.basketData.add_url === '' && this.basketData.buy_url === '')
			{
				this.errorCode = -1024;
			}
		}
		if (this.useCompare)
		{
			if (!!arParams.COMPARE && typeof(arParams.COMPARE) === 'object')
			{
				if (!!arParams.COMPARE.COMPARE_PATH)
				{
					this.compareData.comparePath = arParams.COMPARE.COMPARE_PATH;
				}
				if (!!arParams.COMPARE.COMPARE_URL_TEMPLATE_DEL)
				{
					this.compareData.compareUrlDel = arParams.COMPARE.COMPARE_URL_TEMPLATE_DEL;
				}
				if (!!arParams.COMPARE.COMPARE_URL_TEMPLATE)
				{
					this.compareData.compareUrl = arParams.COMPARE.COMPARE_URL_TEMPLATE;
				}
				else
				{
					this.useCompare = false;
				}
			}
			else
			{
				this.useCompare = false;
			}
		}

		this.lastElement = (!!arParams.LAST_ELEMENT && 'Y' === arParams.LAST_ELEMENT);
	}
	if (0 === this.errorCode)
	{
		BX.ready(BX.delegate(this.Init,this));
	}
};

window.JCCatalogSection.prototype.Init = function()
{
	var i = 0,
		strPrefix = '',
		TreeItems = null;

	this.obProduct = BX(this.visual.ID);
	if (!this.obProduct)
	{
		this.errorCode = -1;
	}
	this.obPict = BX(this.visual.PICT_ID);
	if (!this.obPict)
	{
		this.errorCode = -2;
	}
	if (this.secondPict && !!this.visual.SECOND_PICT_ID)
	{
		this.obSecondPict = BX(this.visual.SECOND_PICT_ID);
	}
	this.storeQuanity = BX(this.visual.STORE_QUANTITY);
	this.obPrice = BX(this.visual.PRICE_ID);
	this.obPriceOld = BX(this.visual.PRICE_OLD_ID);
	if (!this.obPrice)
	{
		this.errorCode = -16;
	}
	if (this.showQuantity && !!this.visual.QUANTITY_ID)
	{
		this.obQuantity = BX(this.visual.QUANTITY_ID);
		if (!!this.visual.QUANTITY_UP_ID)
		{
			this.obQuantityUp = BX(this.visual.QUANTITY_UP_ID);
		}
		if (!!this.visual.QUANTITY_DOWN_ID)
		{
			this.obQuantityDown = BX(this.visual.QUANTITY_DOWN_ID);
		}
	}
	if (3 === this.productType)
	{
		if (!!this.visual.TREE_ID)
		{
			this.obTree = BX(this.visual.TREE_ID);
			if (!this.obTree)
			{
				this.errorCode = -256;
			}
			strPrefix = this.visual.TREE_ITEM_ID;
			for (i = 0; i < this.treeProps.length; i++)
			{
				this.obTreeRows[i] = {
					LIST: BX(strPrefix+this.treeProps[i].ID+'_list'),
					CONT: BX(strPrefix+this.treeProps[i].ID+'_cont')
				};
				if (!this.obTreeRows[i].LIST || !this.obTreeRows[i].CONT)
				{
					this.errorCode = -512;
					break;
				}
			}
		}
		if (!!this.visual.QUANTITY_MEASURE)
		{
			this.obMeasure = BX(this.visual.QUANTITY_MEASURE);
		}
	}

	this.obBasketActions = BX(this.visual.BASKET_ACTIONS_ID);
	if (!!this.obBasketActions)
	{
		if (!!this.visual.BUY_ID)
		{
			this.obBuyBtn = BX(this.visual.BUY_ID);
		}
		if (!!this.visual.BASKET_LINK)
		{
			this.obBasketBtn = BX(this.visual.BASKET_LINK);
		}
	}
	this.obNotAvail = BX(this.visual.NOT_AVAILABLE_MESS);

	if (this.showPercent)
	{
		if (!!this.visual.DSC_PERC)
		{
			this.obDscPerc = BX(this.visual.DSC_PERC);
		}
		if (this.secondPict && !!this.visual.SECOND_DSC_PERC)
		{
			this.obSecondDscPerc = BX(this.visual.SECOND_DSC_PERC);
		}
	}

	if (this.showSkuProps)
	{
		if (!!this.visual.DISPLAY_PROP_DIV)
		{
			this.obSkuProps = BX(this.visual.DISPLAY_PROP_DIV);
		}
	}

	if (0 === this.errorCode)
	{
		if (this.showQuantity)
		{
			if (!!this.obQuantityUp)
			{
				BX.bind(this.obQuantityUp, 'click', BX.delegate(this.QuantityUp, this));
			}
			if (!!this.obQuantityDown)
			{
				BX.bind(this.obQuantityDown, 'click', BX.delegate(this.QuantityDown, this));
			}
			if (!!this.obQuantity)
			{
				BX.bind(this.obQuantity, 'change', BX.delegate(this.QuantityChange, this));
			}
		}
		switch (this.productType)
		{
			case 1://product
				break;
			case 3://sku
				for(var key in this.skuVisualParams){
					var TreeItems = BX.findChildren(this.obTree, {tagName: this.skuVisualParams[key].TAG_BIND}, true);
					if (!!TreeItems && 0 < TreeItems.length){
						for (i = 0; i < TreeItems.length; i++){
							$(TreeItems[i]).on(this.skuVisualParams[key].EVENT, BX.delegate(this.SelectOfferProp, this));
							//BX.bind(TreeItems[i], this.skuVisualParams[key].EVENT, BX.delegate(this.SelectOfferProp, this));
						}
					}
				}
				this.SetCurrent();
				break;
		}
		// $(this.obProduct).find(".read_more.to-cart").on('click', BX.delegate(this.Add2Basket, this));
		if (!!this.obBuyBtn)
		{
			if (this.basketAction === 'ADD')
			{
				// BX.bind(this.obBuyBtn, 'click', BX.delegate(this.Add2Basket, this));


			}
			else
			{
				BX.bind(this.obBuyBtn, 'click', BX.delegate(this.BuyBasket, this));
			}
		}
		if (this.useCompare){
			this.obCompare = BX(this.visual.COMPARE_LINK_ID);
		}
	}
};

window.JCCatalogSection.prototype.checkHeight = function()
{
	this.containerHeight = parseInt(this.obProduct.parentNode.offsetHeight, 10);
	if (isNaN(this.containerHeight)){
		this.containerHeight = 0;
	}
};

window.JCCatalogSection.prototype.setHeight = function()
{
	if (0 < this.containerHeight){
		BX.adjust(this.obProduct.parentNode, {style: { height: this.containerHeight+'px'}});
	}
};

window.JCCatalogSection.prototype.clearHeight = function()
{
	BX.adjust(this.obProduct.parentNode, {style: { height: 'auto'}});
};

window.JCCatalogSection.prototype.QuantityUp = function()
{
	var curValue = 0,
		boolSet = true,
		calcPrice;

	if (0 === this.errorCode && this.showQuantity && this.canBuy)
	{
		curValue = (this.isDblQuantity ? parseFloat(this.obQuantity.value) : parseInt(this.obQuantity.value, 10));
		if (!isNaN(curValue))
		{
			curValue += this.stepQuantity;
			if (this.checkQuantity)
			{
				if (curValue > this.maxQuantity)
				{
					boolSet = false;
				}
			}
			if (boolSet)
			{
				if (this.isDblQuantity)
				{
					curValue = Math.round(curValue*this.precisionFactor)/this.precisionFactor;
				}
				this.obQuantity.value = curValue;
			}
		}
	}
};

window.JCCatalogSection.prototype.QuantityDown = function()
{
	var curValue = 0,
		boolSet = true,
		calcPrice;

	if (0 === this.errorCode && this.showQuantity && this.canBuy)
	{
		curValue = (this.isDblQuantity ? parseFloat(this.obQuantity.value): parseInt(this.obQuantity.value, 10));
		if (!isNaN(curValue))
		{
			curValue -= this.stepQuantity;
			if (curValue < this.stepQuantity)
			{
				boolSet = false;
			}
			if (boolSet)
			{
				if (this.isDblQuantity)
				{
					curValue = Math.round(curValue*this.precisionFactor)/this.precisionFactor;
				}
				this.obQuantity.value = curValue;
			}
		}
	}
};

window.JCCatalogSection.prototype.QuantityChange = function()
{
	var curValue = 0,
		calcPrice,
		intCount,
		count;

	if (0 === this.errorCode && this.showQuantity)
	{
		if (this.canBuy)
		{
			curValue = (this.isDblQuantity ? parseFloat(this.obQuantity.value) : parseInt(this.obQuantity.value, 10));
			if (!isNaN(curValue))
			{
				if (this.checkQuantity)
				{
					if (curValue > this.maxQuantity)
					{
						curValue = this.maxQuantity;
					}
				}
				if (curValue < this.stepQuantity)
				{
					curValue = this.stepQuantity;
				}
				else
				{
					count = curValue/this.stepQuantity;
					intCount = parseInt(count, 10);
					if (isNaN(intCount))
					{
						intCount = 1;
						count = 1.1;
					}
					if (count > intCount)
					{
						curValue = (intCount <= 1 ? this.stepQuantity : intCount*this.stepQuantity);
						curValue = Math.round(curValue*this.precisionFactor)/this.precisionFactor;
					}
				}
				this.obQuantity.value = curValue;
			}
			else
			{
				this.obQuantity.value = this.stepQuantity;
			}
		}
		else
		{
			this.obQuantity.value = this.stepQuantity;
		}
	}
};

window.JCCatalogSection.prototype.QuantitySet = function(index)
{
	if (0 === this.errorCode)
	{
		this.canBuy = this.offers[index].CAN_BUY;
		if (this.canBuy)
		{
			if (!!this.obBasketActions)
			{
				BX.style(this.obBasketActions, 'display', '');
			}
			if (!!this.obNotAvail)
			{
				BX.style(this.obNotAvail, 'display', 'none');
			}
		}
		else
		{
			if (!!this.obBasketActions)
			{
				//BX.style(this.obBasketActions, 'display', 'none');
				BX.style(this.obBasketActions, 'opacity', '0');
				BX.style(BX.findParent(BX(this.obQuantity), { 'class':'counter_block' }), 'display', 'none');
			}
			if (!!this.obNotAvail)
			{
				BX.style(this.obNotAvail, 'display', '');
			}
		}
		if (this.showQuantity)
		{
			this.isDblQuantity = this.offers[index].QUANTITY_FLOAT;
			this.checkQuantity = this.offers[index].CHECK_QUANTITY;
			if (this.isDblQuantity)
			{
				this.maxQuantity = parseFloat(this.offers[index].MAX_QUANTITY);
				this.stepQuantity = Math.round(parseFloat(this.offers[index].STEP_QUANTITY)*this.precisionFactor)/this.precisionFactor;
			}
			else
			{
				this.maxQuantity = parseInt(this.offers[index].MAX_QUANTITY, 10);
				this.stepQuantity = parseInt(this.offers[index].STEP_QUANTITY, 10);
			}
			if(!!this.obQuantity){
				this.obQuantity.value = this.defaultCount;
				this.obQuantity.disabled = !this.canBuy;
			}
			if (!!this.obMeasure)
			{
				if (!!this.offers[index].MEASURE)
				{
					BX.adjust(this.obMeasure, { html : this.offers[index].MEASURE});
				}
				else
				{
					BX.adjust(this.obMeasure, { html : ''});
				}
			}
		}
		this.currentBasisPrice = this.offers[index].BASIS_PRICE;
	}
};

window.JCCatalogSection.prototype.SelectOfferProp = function()
{
	var i = 0,
		value = '',
		strTreeValue = '',
		arTreeItem = [],
		RowItems = null,
		target = BX.proxy_context;
	if(typeof target.options !== 'undefined' && typeof target.options[target.selectedIndex] !== 'undefined')
		target = target.options[target.selectedIndex];
	if (!!target && target.hasAttribute('data-treevalue'))
	{
		strTreeValue = target.getAttribute('data-treevalue');
		propModes = target.getAttribute('data-showtype');
		arTreeItem = strTreeValue.split('_');
		if (this.SearchOfferPropIndex(arTreeItem[0], arTreeItem[1]))
		{
			RowItems = BX.findChildren(target.parentNode, {tagName: this.skuVisualParams[propModes.toUpperCase()].TAG}, false);

			if (!!RowItems && 0 < RowItems.length)
			{
				for (i = 0; i < RowItems.length; i++)
				{
					value = RowItems[i].getAttribute('data-onevalue');

					// for SELECTBOXES
					if(propModes == 'TEXT'){
						if (value === arTreeItem[1]){
							RowItems[i].setAttribute('selected', 'selected');
						}else{
							RowItems[i].removeAttribute('selected');
						}
					}else{
						if (value === arTreeItem[1]){
							$(RowItems[i]).addClass(this.skuVisualParams[propModes.toUpperCase()].ACTIVE_CLASS);
						}else{
							$(RowItems[i]).removeClass(this.skuVisualParams[propModes.toUpperCase()].ACTIVE_CLASS);
						}
					}
				}
			}
		}
	}
};

window.JCCatalogSection.prototype.SearchOfferPropIndex = function(strPropID, strPropValue)
{
	var strName = '',
		arShowValues = false,
		i, j,
		arCanBuyValues = [],
		index = -1,
		arFilter = {},
		tmpFilter = [];

	for (i = 0; i < this.treeProps.length; i++)
	{
		if (this.treeProps[i].ID === strPropID)
		{
			index = i;
			break;
		}
	}

	if (-1 < index)
	{
		for (i = 0; i < index; i++)
		{
			strName = 'PROP_'+this.treeProps[i].ID;
			arFilter[strName] = this.selectedValues[strName];
		}
		strName = 'PROP_'+this.treeProps[index].ID;
		arShowValues = this.GetRowValues(arFilter, strName);
		if (!arShowValues)
		{
			return false;
		}
		if (!BX.util.in_array(strPropValue, arShowValues))
		{
			return false;
		}
		arFilter[strName] = strPropValue;
		for (i = index+1; i < this.treeProps.length; i++)
		{
			strName = 'PROP_'+this.treeProps[i].ID;
			arShowValues = this.GetRowValues(arFilter, strName);
			if (!arShowValues)
			{
				return false;
			}
			if (this.showAbsent)
			{
				arCanBuyValues = [];
				tmpFilter = [];
				tmpFilter = BX.clone(arFilter, true);
				for (j = 0; j < arShowValues.length; j++)
				{
					tmpFilter[strName] = arShowValues[j];
					/*if (this.GetCanBuy(tmpFilter))
					{*/
						arCanBuyValues[arCanBuyValues.length] = arShowValues[j];
					//}
				}
			}
			else
			{
				arCanBuyValues = arShowValues;
			}
			if (!!this.selectedValues[strName] && BX.util.in_array(this.selectedValues[strName], arCanBuyValues))
			{
				arFilter[strName] = this.selectedValues[strName];
			}
			else
			{
				arFilter[strName] = arCanBuyValues[0];
			}
			this.UpdateRow(i, arFilter[strName], arShowValues, arCanBuyValues);
		}
		this.selectedValues = arFilter;
		this.ChangeInfo();
	}
	return true;
};

window.JCCatalogSection.prototype.UpdateRow = function(intNumber, activeID, showID, canBuyID)
{
	var i = 0,
		showI = 0,
		value = '',
		countShow = 0,
		strNewLen = '',
		obData = {},
		pictMode = false,
		extShowMode = false,
		isCurrent = false,
		selectIndex = 0,
		obLeft = this.treeEnableArrow,
		obRight = this.treeEnableArrow,
		currentShowStart = 0,
		RowItems = null;

	if (-1 < intNumber && intNumber < this.obTreeRows.length){
		propMode = this.treeProps[intNumber].DISPLAY_TYPE;
		RowItems = BX.findChildren(this.obTreeRows[intNumber].LIST, {tagName: this.skuVisualParams[propMode].TAG}, false);
		if (!!RowItems && 0 < RowItems.length){
			selectMode = ('SELECT' === this.treeProps[intNumber].DISPLAY_TYPE);
			countShow = showID.length;
			obData = {
				style: {},
				props: {
					disabled: '',
					selected: '',
				},
			};

			for (i = 0; i < RowItems.length; i++){
				value = RowItems[i].getAttribute('data-onevalue');
				isCurrent = (value === activeID && value !=0);
				/*if (BX.util.in_array(value, canBuyID)){
					obData.props.className = (isCurrent ? this.skuVisualParams[propMode].ACTIVE_CLASS : '');
				}else{
					obData.props.className = (isCurrent ? this.skuVisualParams[propMode].ACTIVE_CLASS+' '+this.skuVisualParams[propMode].HIDE_CLASS : this.skuVisualParams[propMode].HIDE_CLASS);
				}*/
				obData.props.className = (isCurrent ? this.skuVisualParams[propMode].ACTIVE_CLASS : '');

				if(selectMode){
					obData.props.disabled = 'disabled';
					obData.props.selected = (isCurrent ? 'selected' : '');
				}else{
					obData.style.display = 'none';
				}

				if (BX.util.in_array(value, showID)){
					if(selectMode){
						obData.props.disabled = '';
					}else{
						obData.style.display = '';
					}
					if (isCurrent){
						selectIndex = showI;
					}
					showI++;
				}
				BX.adjust(RowItems[i], obData);
			}

			if(selectMode){
				if($(this.obTreeRows[intNumber].LIST).parent().hasClass('ik_select'))
					$(this.obTreeRows[intNumber].LIST).ikSelect('reset');
			}

			this.showCount[intNumber] = countShow;
			this.showStart[intNumber] = currentShowStart;
		}
	}
};

window.JCCatalogSection.prototype.GetRowValues = function(arFilter, index)
{
	var i = 0,
		j,
		arValues = [],
		boolSearch = false,
		boolOneSearch = true;

	if (0 === arFilter.length)
	{
		for (i = 0; i < this.offers.length; i++)
		{
			if (!BX.util.in_array(this.offers[i].TREE[index], arValues))
			{
				arValues[arValues.length] = this.offers[i].TREE[index];
			}
		}
		boolSearch = true;
	}
	else
	{
		for (i = 0; i < this.offers.length; i++)
		{
			boolOneSearch = true;
			for (j in arFilter)
			{
				if (arFilter[j] !== this.offers[i].TREE[j])
				{
					boolOneSearch = false;
					break;
				}
			}
			if (boolOneSearch)
			{
				if (!BX.util.in_array(this.offers[i].TREE[index], arValues))
				{
					arValues[arValues.length] = this.offers[i].TREE[index];
				}
				boolSearch = true;
			}
		}
	}
	return (boolSearch ? arValues : false);
};

window.JCCatalogSection.prototype.GetCanBuy = function(arFilter)
{
	var i = 0,
		j,
		boolSearch = false,
		boolOneSearch = true;

	for (i = 0; i < this.offers.length; i++)
	{
		boolOneSearch = true;
		for (j in arFilter)
		{
			if (arFilter[j] !== this.offers[i].TREE[j])
			{
				boolOneSearch = false;
				break;
			}
		}
		if (boolOneSearch)
		{
			if (this.offers[i].CAN_BUY)
			{
				boolSearch = true;
				break;
			}
		}
	}
	return boolSearch;
};

window.JCCatalogSection.prototype.SetCurrent = function()
{
	var i = 0,
		j = 0,
		arCanBuyValues = [],
		strName = '',
		arShowValues = false,
		arFilter = {},
		tmpFilter = [],
		current = this.offers[this.offerNum].TREE;
	for (i = 0; i < this.treeProps.length; i++)
	{
		strName = 'PROP_'+this.treeProps[i].ID;
		arShowValues = this.GetRowValues(arFilter, strName);
		if (!arShowValues)
		{
			break;
		}
		if (BX.util.in_array(current[strName], arShowValues))
		{
			arFilter[strName] = current[strName];
		}
		else
		{
			arFilter[strName] = arShowValues[0];
			this.offerNum = 0;
		}
		if (this.showAbsent)
		{
			arCanBuyValues = [];
			tmpFilter = [];
			tmpFilter = BX.clone(arFilter, true);
			for (j = 0; j < arShowValues.length; j++)
			{
				tmpFilter[strName] = arShowValues[j];
				if (this.GetCanBuy(tmpFilter))
				{
					arCanBuyValues[arCanBuyValues.length] = arShowValues[j];
				}
			}
		}
		else
		{
			arCanBuyValues = arShowValues;
		}
		this.UpdateRow(i, arFilter[strName], arShowValues, arCanBuyValues);
	}
	this.selectedValues = arFilter;
	this.ChangeInfo();
};

window.JCCatalogSection.prototype.ChangeInfo = function()
{
	var i = 0,
		j,
		index = -1,
		compareParams,
		boolOneSearch = true;

	for (i = 0; i < this.offers.length; i++)
	{
		boolOneSearch = true;
		for (j in this.selectedValues)
		{
			if (this.selectedValues[j] !== this.offers[i].TREE[j])
			{
				boolOneSearch = false;
				break;
			}
		}
		if (boolOneSearch)
		{
			index = i;
			break;
		}
	}
	if (-1 < index){
		if (!!this.obPict){
			var obData = {
				attrs: {}
			};

			if (!!this.offers[index].PREVIEW_PICTURE){
				obData.attrs.src = this.offers[index].PREVIEW_PICTURE.SRC;
			}else{
				obData.attrs.src = this.defaultPict.pict.SRC;
			}
			BX.adjust(BX.findChild(this.obPict, {"tag": "img"}), obData);
		}
		if (this.secondPict && !!this.obSecondPict)
		{
			if (!!this.offers[index].PREVIEW_PICTURE_SECOND)
			{
				BX.adjust(this.obSecondPict, {style: {backgroundImage: 'url('+this.offers[index].PREVIEW_PICTURE_SECOND.SRC+')'}});
			}
			else if (!!this.offers[index].PREVIEW_PICTURE.SRC)
			{
				BX.adjust(this.obSecondPict, {style: {backgroundImage: 'url('+this.offers[index].PREVIEW_PICTURE.SRC+')'}});
			}
			else if (!!this.defaultPict.secondPict)
			{
				BX.adjust(this.obSecondPict, {style: {backgroundImage: 'url('+this.defaultPict.secondPict.SRC+')'}});
			}
			else
			{
				BX.adjust(this.obSecondPict, {style: {backgroundImage: 'url('+this.defaultPict.pict.SRC+')'}});
			}
		}
		if (this.showSkuProps && !!this.obSkuProps)
		{
			if (0 === this.offers[index].DISPLAY_PROPERTIES.length)
			{
				BX.adjust(this.obSkuProps, {style: {display: 'none'}, html: ''});
			}
			else
			{
				BX.adjust(this.obSkuProps, {style: {display: ''}, html: this.offers[index].DISPLAY_PROPERTIES});
			}
		}


		$(this.obBuyBtn).data("item", this.offers[index].ID);
		$(this.obBasketBtn).data("item", this.offers[index].ID);

		$(this.obBasketActions).closest('.counter_wrapp').css('opacity', 0);

		var measure = this.offers[index].MEASURE && this.offers[index].SHOW_MEASURE=="Y" ? this.offers[index].MEASURE : '';
		this.setPrice(this.offers[index].PRICE, measure);
		this.setQuantityStore(this.offers[index].MAX_QUANTITY, this.offers[index].AVAILIABLE.TEXT);
		this.offerNum = index;
		this.QuantitySet(this.offerNum);

		$(this.obProduct).find('.item-title a').attr('href', this.offers[this.offerNum].URL);
		$(this.obProduct).find('.image_wrapper_block > a').attr('href', this.offers[this.offerNum].URL);

		/*quantity discount start*/
		if($(this.obProduct).find('.quantity_block .values').length){
			$(this.obProduct).find('.quantity_block .values .item span').text(this.offers[index].MAX_QUANTITY).css({'opacity':'1'});
		}
		/*quantity discount end*/

		var obj=this.offers[index],
			th=$(this.obProduct);

		if(typeof arBasketAspro !=="undefined"){
			this.setActualDataBlock(th, obj);
		}else{
			if(typeof window.frameCacheVars !== "undefined"){
				BX.addCustomEvent("onFrameDataReceived", function(){
					window.JCCatalogSection.prototype.setActualDataBlock(th, obj);
				});
			}
		}
	}
};

/*set blocks start*/
window.JCCatalogSection.prototype.setActualDataBlock = function(th, obj)
{
	/*like block start*/
	this.setLikeBlock(th, '.like_icons .wish_item_button', obj, 'DELAY');
	this.setLikeBlock(th, '.like_icons .compare_item_button',obj, 'COMPARE');
	/*like block end*/

	/*buy block start*/
	this.setBuyBlock(th, obj);
	/*buy block end*/
}
/*set blocks end*/

/*set compare/wish*/
window.JCCatalogSection.prototype.setLikeBlock = function(th, className, obj, type)
{
	var block=th;
	if(type=="DELAY"){
		if(obj.CAN_BUY){
			block.find(className).css('display','block');
		}else{
			block.find(className).hide();
		}
	}

	block.find(className).attr('data-item', obj.ID);
	block.find(className).find('span').attr('data-item', obj.ID);
	if(arBasketAspro[type]){
		block.find(className).find('.to').removeClass('added').css('display','block');
		block.find(className).find('.in').hide();

		if(arBasketAspro[type][obj.ID]!==undefined){
			block.find(className).find('.to').hide();
			block.find(className).find('.in').css('display','block');
		}
	}
}

/*set buy*/
window.JCCatalogSection.prototype.setBuyBlock = function(th, obj)
{
	var buyBlock=th.find('.offer_buy_block');

	if(buyBlock.find('.counter_wrapp .counter_block').length){
		buyBlock.find('.counter_wrapp .counter_block').attr('data-item', obj.ID);
	}
	if((obj.CONFIG.OPTIONS.USE_PRODUCT_QUANTITY_DETAIL && obj.CONFIG.ACTION == "ADD") && obj.CAN_BUY){
		var max=(obj.CONFIG.MAX_QUANTITY_BUY>0 ? "data-max='"+obj.CONFIG.MAX_QUANTITY_BUY+"'" : ""),
			counterHtml='<span class="minus">-</span>'+
				'<input type="text" class="text" name="'+obj.PRODUCT_QUANTITY_VARIABLE+'" value="'+obj.CONFIG.MIN_QUANTITY_BUY+'" />'+
				'<span class="plus" '+max+'>+</span>';
		if(arBasketAspro["BASKET"] && arBasketAspro["BASKET"][obj.ID]!==undefined){
			if(buyBlock.find('.counter_wrapp .counter_block').length){
				buyBlock.find('.counter_wrapp .counter_block').hide();
			}else{
				buyBlock.find('.counter_wrapp').prepend('<div class="counter_block" data-item="'+obj.ID+'"></div>');
				buyBlock.find('.counter_wrapp .counter_block').html(counterHtml).hide();
			}
		}else{
			if(buyBlock.find('.counter_wrapp .counter_block').length){
				buyBlock.find('.counter_wrapp .counter_block').html(counterHtml).show();
			}else{
				buyBlock.find('.counter_wrapp').prepend('<div class="counter_block" data-item="'+obj.ID+'"></div>');
				buyBlock.find('.counter_wrapp .counter_block').html(counterHtml);
			}
		}
	}else{
		if(buyBlock.find('.counter_wrapp .counter_block').length){
			buyBlock.find('.counter_wrapp .counter_block').hide();
		}
	}
	var className=((obj.CONFIG.ACTION == "ORDER") || !obj.CAN_BUY || !obj.CONFIG.OPTIONS.USE_PRODUCT_QUANTITY_DETAIL || (obj.CONFIG.ACTION == "SUBSCRIBE" && obj.CATALOG_SUBSCRIBE == "Y") ? "wide" : "" ),
		buyBlockBtn=$('<div class="button_block"></div>');

	if(buyBlock.find('.counter_wrapp').find('.button_block').length){
		if(arBasketAspro["BASKET"] && arBasketAspro["BASKET"][obj.ID]!==undefined){
			buyBlock.find('.counter_wrapp').find('.button_block').addClass('wide').html(obj.HTML);
			markProductAddBasket(obj.ID);
		}else{
			if(className){
				buyBlock.find('.counter_wrapp').find('.button_block').addClass('wide').html(obj.HTML);
				if(arBasketAspro["SUBSCRIBE"] && arBasketAspro["SUBSCRIBE"][obj.ID]!==undefined){
					markProductSubscribe(obj.ID);
				}
			}else{
				buyBlock.find('.counter_wrapp').find('.button_block').removeClass('wide').html(obj.HTML);
			}
		}
	}else{
		buyBlock.find('.counter_wrapp').append('<div class="button_block '+className+'">'+obj.HTML+'</div>');
		if(arBasketAspro["BASKET"] && arBasketAspro["BASKET"][obj.ID]!==undefined)
			markProductAddBasket(obj.ID);
		if(arBasketAspro["SUBSCRIBE"] && arBasketAspro["SUBSCRIBE"][obj.ID]!==undefined)
			markProductSubscribe(obj.ID);
	}

	if(obj.CONFIG.ACTION !== "NOTHING"){
		if(obj.CONFIG.ACTION == "ADD" && obj.CAN_BUY && obj.SHOW_ONE_CLICK_BUY!="N"){
			var ocb='<span class="transparent big_btn type_block button one_click" data-offers="Y" data-item="'+obj.ID+'" data-iblockID="'+obj.IBLOCK_ID+'" data-quantity="'+obj.CONFIG.MIN_QUANTITY_BUY+'" data-props="'+obj.OFFER_PROPS+'" onclick="oneClickBuy('+obj.ID+', '+obj.IBLOCK_ID+', this)">'+
				'<span>'+obj.ONE_CLICK_BUY+'</span>'+
				'</span>';
			if(buyBlock.find('.wrapp_one_click').length){
				buyBlock.find('.wrapp_one_click').html(ocb);
			}else{
				buyBlock.append('<div class="wrapp_one_click">'+ocb+'</div>');
			}
		}else{
			if(buyBlock.find('.wrapp_one_click').length){
				buyBlock.find('.wrapp_one_click').remove();
			}
		}
	}else{
		if(buyBlock.find('.wrapp_one_click').length){
			buyBlock.find('.wrapp_one_click').remove();
		}
	}

	buyBlock.fadeIn();
}

/*get compare sku*/
window.JCCatalogSection.prototype.CompareCountResult = function(result)
{
	if(result.COMPARE_COUNT){
		for(var i in result.ITEMS){
			if(result.ITEMS[i]==this.offers[this.offerNum].ID){
				this.offers[this.offerNum].COMPARE_ACTIVE=true;
				break;
			}else{
				this.offers[this.offerNum].COMPARE_ACTIVE=false;
			}
		}
		if(this.offers[this.offerNum].COMPARE_ACTIVE){
			$(this.obCompare).find('.compare_item.to').hide();
			$(this.obCompare).find('.compare_item.added').show();
		}else{
			$(this.obCompare).find('.compare_item.added').hide();
			$(this.obCompare).find('.compare_item.to').show();
		}
	}
}

/*get item info*/
window.JCCatalogSection.prototype.ItemInfoResult = function(result)
{
	if(result.HTML){
		$(this.obBasketActions).html(result.HTML);
		$(this.obBasketActions).show();
		this.obBuyBtn = BX(this.visual.BUY_ID);
		this.obBasketBtn = BX(this.visual.BASKET_LINK);
		this.obSubscribeBtn = BX(this.visual.SUBSCRIBE_ID);
		this.obSubscribedBtn = BX(this.visual.SUBSCRIBED_ID);
		BX.bind(this.obBuyBtn, 'click', BX.delegate(this.Add2Basket, this));
		$(this.obBasketActions).removeClass('wide');
		this.ajax_type_item=result.BUYMISSINGGOODS;
		if(result.BUYMISSINGGOODS!="ADD" && !this.canBuy){
			$(this.obBasketActions).addClass('wide');
		}else{
			$(this.obQuantity).css('display','');
		}
	}
	//if(this.canBuy){
		basketParams = {
			ajax_action: 'Y'
		};
		BX.ajax.loadJSON(
			arOptimusOptions['SITE_DIR']+'ajax/get_basket_count.php',
			basketParams,
			BX.delegate(this.BasketCountResult, this)
		);
	//}
}

/*get basket items*/
window.JCCatalogSection.prototype.BasketCountResult = function(result)
{
	//if(result.TOTAL_COUNT){
		for(var i in result.ITEMS){
			if(result.ITEMS[i].PRODUCT_ID==this.offers[this.offerNum].ID){
				this.offers[this.offerNum].BASKET_ACTIVE=true;
				break;
			}else{
				this.offers[this.offerNum].BASKET_ACTIVE=false;
			}
		}
		for(var i in result.SUBSCRIBE_ITEMS){
			if(result.SUBSCRIBE_ITEMS[i].PRODUCT_ID==this.offers[this.offerNum].ID){
				this.offers[this.offerNum].SUBSCRIBE_ACTIVE=true;
				break;
			}else{
				this.offers[this.offerNum].SUBSCRIBE_ACTIVE=false;
			}
		}

		this.BasketStateRefresh();
	//}
}

window.JCCatalogSection.prototype.BasketStateRefresh = function(buy_basket)
{
	/*if(this.offers[this.offerNum].SUBSCRIBE_ACTIVE){
		$(this.obBasketActions).addClass('wide');
		$(this.obSubscribeBtn).hide();
		$(this.obSubscribedBtn).show();
	}else{
		$(this.obBasketActions).addClass('wide');
		$(this.obSubscribedBtn).hide();
		$(this.obSubscribeBtn).show();
	}
	if(this.offers[this.offerNum].BASKET_ACTIVE){
		$(this.obBuyBtn).hide();
		$(this.obBasketBtn).show();
		$(this.obQuantity).closest('.counter_wrapp').find('.counter_block').hide();
		$(this.obBasketActions).addClass('wide');
	}else{
		$(this.obBasketActions).removeClass('wide');
		$(this.obBasketBtn).hide();
		$(this.obBuyBtn).show();
		if(this.ajax_type_item=="ADD" || this.canBuy)
			$(this.obQuantity).closest('.counter_wrapp').find('.counter_block').show();

	}
	if(!this.canBuy){
		$(this.obBasketActions).addClass('wide');
	}*/
	if(this.offers[this.offerNum].SUBSCRIBE_ACTIVE){
		$(this.obProduct).find('.hover_block .o_'+this.offers[this.offerNum].ID+' .to-subscribe').hide();
		$(this.obProduct).find('.hover_block .o_'+this.offers[this.offerNum].ID+' .in-subscribe').show();
	}else{
		$(this.obProduct).find('.hover_block .o_'+this.offers[this.offerNum].ID+' .to-subscribe').show();
		$(this.obProduct).find('.hover_block .o_'+this.offers[this.offerNum].ID+' .in-subscribe').hide();
	}
	if(this.offers[this.offerNum].BASKET_ACTIVE){
		$(this.obProduct).find('.hover_block .o_'+this.offers[this.offerNum].ID).addClass('wide');
		$(this.obProduct).find('.hover_block .o_'+this.offers[this.offerNum].ID+' .button_block').addClass('wide');
		$(this.obProduct).find('.hover_block .o_'+this.offers[this.offerNum].ID+' .to-cart').hide();
		$(this.obProduct).find('.hover_block .o_'+this.offers[this.offerNum].ID+' .in-cart').show();
		$(this.obProduct).find('.hover_block .o_'+this.offers[this.offerNum].ID+' .counter_block').hide();
	}else{
		$(this.obProduct).find('.hover_block .o_'+this.offers[this.offerNum].ID).removeClass('wide');
		$(this.obProduct).find('.hover_block .o_'+this.offers[this.offerNum].ID+' .button_block').removeClass('wide');
		$(this.obProduct).find('.hover_block .o_'+this.offers[this.offerNum].ID+' .to-cart').show();
		$(this.obProduct).find('.hover_block .o_'+this.offers[this.offerNum].ID+' .in-cart').hide();
		$(this.obProduct).find('.hover_block .o_'+this.offers[this.offerNum].ID+' .counter_block').show();

	}
	BX.style(this.obBasketActions, 'opacity', '1');
	$(this.obBasketActions).closest('.counter_wrapp').css('opacity', 1);
	if(buy_basket!== 'undefined' && buy_basket=="Y"){
		if($("#basket_line .basket_fly").length && $(window).outerWidth()>768)
		{
			// preAnimateBasketFly($("#basket_line .basket_fly"), 200, 333);
			basketFly('open');
		}
		else if($("#basket_line .cart").length)
		{
			if($("#basket_line .cart").is(".empty_cart"))
			{
				$("#basket_line .cart").removeClass("empty_cart").find(".cart_wrapp a.basket_link").removeAttr("href").addClass("cart-call");
				touchBasket('.cart:not(.empty_cart) .basket_block .link');
			}
			reloadTopBasket('add', $('#basket_line'), 200, 2000, 'Y');
			/*if($(window).outerWidth() > 520){
				//if(arOptimusOptions['THEME']['SHOW_BASKET_ONADDTOCART'] !== 'N'){
					preAnimateBasketPopup('', $('.card_popup_frame'), 0, 200);
				//}
			};*/
		}
		animateBasketLine(200);
	}
}

window.JCCatalogSection.prototype.setPrice = function(price, measure)
{
	var strPrice,
		obData;

	if (!!this.obPrice){
		strPrice = BX.Currency.currencyFormat(price.DISCOUNT_VALUE, price.CURRENCY, true);
		if(measure){
			strPrice=(strPrice ? strPrice +'/'+measure : "&nbsp;");
		}
		BX.adjust(this.obPrice, {html: strPrice});
		if (price.DISCOUNT_VALUE !== price.VALUE && this.showOldPrice)
		{
			$(this.obPriceOld).find('strike').show().html(BX.Currency.currencyFormat(price.VALUE, price.CURRENCY, true));
			if(this.showPercent){
				$(this.obPriceOld).closest('.cost').find('.sale_block').show();
				$(this.obPriceOld).closest('.cost').find('.value').html(price.DISCOUNT_DIFF_PERCENT_RAW);
				$(this.obPriceOld).closest('.cost').find('.text span').html(BX.Currency.currencyFormat(price.DISCOUNT_DIFF, price.CURRENCY, true));
			}
		}
		else{
			$(this.obPriceOld).find('strike').hide().html('');
			if(this.showPercent){
				$(this.obPriceOld).closest('.cost').find('.sale_block').hide();
			}
		}
	}
};

/*set store quantity*/
window.JCCatalogSection.prototype.setQuantityStore = function(quantity, text)
{
	if(parseFloat(quantity)>0){
		$(this.storeQuanity).find('.icon').removeClass('order').addClass('stock');
	}else{
		$(this.storeQuanity).find('.icon').removeClass('stock').addClass('order');
	}
	$(this.storeQuanity).find('.icon + span').html(text);
}

window.JCCatalogSection.prototype.Compare = function()
{
	var compareParams, compareLink;
	$(this.obProduct).find('.like_icons .o_'+this.offers[this.offerNum].ID).data('changed','Y');
	// if($(this.obCompare).find('.compare_item.added').is(':visible')){
	if($(this.obProduct).find('.like_icons .o_'+this.offers[this.offerNum].ID).find('.compare_item.added').is(':visible')){
		compareLink = this.compareData.compareUrlDel;
		this.compareData.Added = false;
	}else{
		compareLink = this.compareData.compareUrl;
		this.compareData.Added = true;
	}
	if (!!compareLink){
		switch (this.productType){
			case 1://product
			case 2://set
				compareLink = compareLink.replace('#ID#', this.product.id.toString());
				break;
			case 3://sku
				compareLink = compareLink.replace('#ID#', this.offers[this.offerNum].ID);
				break;
		}
		compareParams = {
			ajax_action: 'Y'
		};
		BX.ajax.loadJSON(
			compareLink,
			compareParams,
			BX.proxy(this.CompareResult, this)
		);
	}
};

window.JCCatalogSection.prototype.CompareResult = function(result)
{
	var popupContent, popupButtons, popupTitle;

	if (typeof result !== 'object'){
		return false;
	}

	if (result.STATUS === 'OK'){
		BX.onCustomEvent('OnCompareChange');
		/*if(!this.compareData.Added){
			$(this.obCompare).find('.in').hide();
			$(this.obCompare).find('.to').show();
		}
		else{
			$(this.obCompare).find('.to').hide();
			$(this.obCompare).find('.in').show();
		}*/
		if(!this.compareData.Added){
			$(this.obProduct).find('.like_icons .o_'+this.offers[this.offerNum].ID).find('.in').hide();
			$(this.obProduct).find('.like_icons .o_'+this.offers[this.offerNum].ID).find('.to').show();
		}
		else{
			$(this.obProduct).find('.like_icons .o_'+this.offers[this.offerNum].ID).find('.to').hide();
			$(this.obProduct).find('.like_icons .o_'+this.offers[this.offerNum].ID).find('.in').show();
		}
		jsAjaxUtil.InsertDataToNode(arOptimusOptions['SITE_DIR'] + 'ajax/show_compare_preview_top.php', 'compare_line', false);
	}else{
		console.log(BX.message('ADD_ERROR_COMPARE'));
	}
	return false;
};

window.JCCatalogSection.prototype.CompareRedirect = function()
{
	if (!!this.compareData.comparePath){
		location.href = this.compareData.comparePath;
	}else{
		this.obPopupWin.close();
	}
};

window.JCCatalogSection.prototype.InitBasketUrl = function()
{
	this.basketUrl = (this.basketMode === 'ADD' ? this.basketData.add_url : this.basketData.buy_url);
	switch (this.productType)
	{
		case 1://product
		case 2://set
			this.basketUrl = this.basketUrl.replace('#ID#', this.product.id.toString());
			break;
		case 3://sku
			this.basketUrl = this.basketUrl.replace('#ID#', this.offers[this.offerNum].ID);
			break;
	}
	this.basketParams = {
		'ajax_basket': 'Y'
	};
	if (this.showQuantity)
	{
		// this.basketParams[this.basketData.quantity] = this.obQuantity.value;
		this.basketParams[this.basketData.quantity] = $(this.obProduct).find('.counter_wrapp').find('.counter_block .text').val();
	}
	if (!!this.basketData.sku_props)
	{
		this.basketParams[this.basketData.sku_props_var] = this.basketData.sku_props;
	}
};

window.JCCatalogSection.prototype.FillBasketProps = function()
{
	if (!this.visual.BASKET_PROP_DIV)
	{
		return;
	}
	var
		i = 0,
		propCollection = null,
		foundValues = false,
		obBasketProps = null;

	if (this.basketData.useProps && !this.basketData.emptyProps)
	{
		if (!!this.obPopupWin && !!this.obPopupWin.contentContainer)
		{
			obBasketProps = this.obPopupWin.contentContainer;
		}
	}
	else
	{
		obBasketProps = BX(this.visual.BASKET_PROP_DIV);
	}
	if (!!obBasketProps)
	{
		propCollection = obBasketProps.getElementsByTagName('select');
		if (!!propCollection && !!propCollection.length)
		{
			for (i = 0; i < propCollection.length; i++)
			{
				if (!propCollection[i].disabled)
				{
					switch(propCollection[i].type.toLowerCase())
					{
						case 'select-one':
							this.basketParams[propCollection[i].name] = propCollection[i].value;
							foundValues = true;
							break;
						default:
							break;
					}
				}
			}
		}
		propCollection = obBasketProps.getElementsByTagName('input');
		if (!!propCollection && !!propCollection.length)
		{
			for (i = 0; i < propCollection.length; i++)
			{
				if (!propCollection[i].disabled)
				{
					switch(propCollection[i].type.toLowerCase())
					{
						case 'hidden':
							this.basketParams[propCollection[i].name] = propCollection[i].value;
							foundValues = true;
							break;
						case 'radio':
							if (propCollection[i].checked)
							{
								this.basketParams[propCollection[i].name] = propCollection[i].value;
								foundValues = true;
							}
							break;
						default:
							break;
					}
				}
			}
		}
	}
	if (!foundValues)
	{
		this.basketParams[this.basketData.props] = [];
		this.basketParams[this.basketData.props][0] = 0;
	}
};

window.JCCatalogSection.prototype.Add2Basket = function()
{
	this.basketMode = 'ADD';
	this.Basket();
};

window.JCCatalogSection.prototype.BuyBasket = function()
{
	this.basketMode = 'BUY';
	this.Basket();
};

window.JCCatalogSection.prototype.SendToBasket = function()
{
	if (!this.canBuy){
		return;
	}

	this.InitBasketUrl();
	this.FillBasketProps();

	BX.ajax.loadJSON(
		this.basketUrl,
		this.basketParams,
		BX.delegate(this.BasketResult, this)
	);
};

window.JCCatalogSection.prototype.Basket = function()
{
	var contentBasketProps = '';
	if (!this.canBuy){
		return;
	}

	this.SendToBasket();
};

window.JCCatalogSection.prototype.BasketResult = function(arResult)
{
	var strContent = '',
		strPict = '',
		successful,
		buttons = [];

	if (!!this.obPopupWin){
		this.obPopupWin.close();
	}
	if ('object' !== typeof arResult){
		return false;
	}
	successful = (arResult.STATUS === 'OK');
	if (successful && this.basketAction === 'BUY'){
		this.BasketRedirect();
	}else{
		if (successful){
			getActualBasket();
			markProductAddBasket(this.offers[this.offerNum].ID);
			BX.onCustomEvent('OnBasketChange');
			this.offers[this.offerNum].BASKET_ACTIVE=true;
			this.BasketStateRefresh("Y");
			$(this.obProduct).find('.hover_block .o_'+this.offers[this.offerNum].ID).data('changed','Y');

		}else{
			console.log(BX.message('ADD_ERROR_BASKET'));
		}
	}
};

window.JCCatalogSection.prototype.BasketRedirect = function()
{
	location.href = (!!this.basketData.basketUrl ? this.basketData.basketUrl : BX.message('BASKET_URL'));
};

})(window);156  20202|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/components/bitrix/catalog.section/catalog_block_slider/template.php|f34c7c6b<?if(!defined("B_PROLOG_INCLUDED") || B_PROLOG_INCLUDED!==true)die();?>
<?$this->setFrameMode(true);?>
<?if( count( $arResult["ITEMS"] ) >= 1 ){
	$injectId = 'sale_gift_product_'.$this->randString();?>
	<ul class="viewed_navigation slider_navigation top_big custom_flex border"></ul>
	<div class="s_<?=$injectId;?>">
		<div class="all_wrapp s_<?=$injectId;?>">
			<div class="content_inner tab">
				<ul class="tabs_slider slides wr">
					<?
					$elementEdit = CIBlock::GetArrayByID($arParams['IBLOCK_ID'], 'ELEMENT_EDIT');
					$elementDelete = CIBlock::GetArrayByID($arParams['IBLOCK_ID'], 'ELEMENT_DELETE');
					$elementDeleteParams = array('CONFIRM' => GetMessage('CVP_TPL_ELEMENT_DELETE_CONFIRM'));
					?>
					<?foreach($arResult['ITEMS'] as $key => $arItem){
						$this->AddEditAction($arItem['ID'], $arItem['EDIT_LINK'], $elementEdit);
						$this->AddDeleteAction($arItem['ID'], $arItem['DELETE_LINK'], $elementDelete, $elementDeleteParams);
						$arItem["strMainID"] = $this->GetEditAreaId($arItem['ID']);
						$arItemIDs=COptimus::GetItemsIDs($arItem);

						$strMeasure = '';
						$totalCount = COptimus::GetTotalCount($arItem);
						$arQuantityData = COptimus::GetQuantityArray($totalCount, $arItemIDs["ALL_ITEM_IDS"]);
						if(!$arItem["OFFERS"]){
							if($arParams["SHOW_MEASURE"] == "Y" && $arItem["CATALOG_MEASURE"]){
								$arMeasure = CCatalogMeasure::getList(array(), array("ID" => $arItem["CATALOG_MEASURE"]), false, false, array())->GetNext();
								$strMeasure = $arMeasure["SYMBOL_RUS"];
							}
							$arAddToBasketData = COptimus::GetAddToBasketArray($arItem, $totalCount, $arParams["DEFAULT_COUNT"], $arParams["BASKET_URL"], false, $arItemIDs["ALL_ITEM_IDS"], 'small', $arParams);
						}
						elseif($arItem["OFFERS"]){
							$strMeasure = $arItem["MIN_PRICE"]["CATALOG_MEASURE_NAME"];
							if(!$arItem['OFFERS_PROP']){

								$arAddToBasketData = COptimus::GetAddToBasketArray($arItem["OFFERS"][0], $totalCount, $arParams["DEFAULT_COUNT"], $arParams["BASKET_URL"], false, $arItemIDs["ALL_ITEM_IDS"], 'small', $arParams);
							}
						}
						?>
						<li class="catalog_item" id="<?=$arItem["strMainID"];?>">
							<div class="image_wrapper_block">
								<div class="stickers">
									<?if (is_array($arItem["PROPERTIES"]["HIT"]["VALUE_XML_ID"])):?>
										<?foreach($arItem["PROPERTIES"]["HIT"]["VALUE_XML_ID"] as $key=>$class){?>
											<div><div class="sticker_<?=strtolower($class);?>"><?=$arItem["PROPERTIES"]["HIT"]["VALUE"][$key]?></div></div>
										<?}?>
									<?endif;?>
									<?if($arParams["SALE_STIKER"] && $arItem["PROPERTIES"][$arParams["SALE_STIKER"]]["VALUE"]){?>
										<div><div class="sticker_sale_text"><?=$arItem["PROPERTIES"][$arParams["SALE_STIKER"]]["VALUE"];?></div></div>
									<?}?>
								</div>
								<?if((!$arItem["OFFERS"] && $arParams["DISPLAY_WISH_BUTTONS"] != "N" ) || ($arParams["DISPLAY_COMPARE"] == "Y")):?>
									<div class="like_icons">
										<?if($arParams["DISPLAY_WISH_BUTTONS"] != "N"):?>
											<?if(!$arItem["OFFERS"]):?>
												<div class="wish_item_button">
													<span title="<?=GetMessage('CATALOG_WISH')?>" class="wish_item to" data-item="<?=$arItem["ID"]?>" data-iblock="<?=$arItem["IBLOCK_ID"]?>"><i></i></span>
													<span title="<?=GetMessage('CATALOG_WISH_OUT')?>" class="wish_item in added" style="display: none;" data-item="<?=$arItem["ID"]?>" data-iblock="<?=$arItem["IBLOCK_ID"]?>"><i></i></span>
												</div>
											<?elseif($arItem["OFFERS"] && !empty($arItem['OFFERS_PROP'])):?>
												<div class="wish_item_button" style="display: none;">
													<span title="<?=GetMessage('CATALOG_WISH')?>" class="wish_item to <?=$arParams["TYPE_SKU"];?>" data-item="" data-iblock="<?=$arItem["IBLOCK_ID"]?>" data-offers="Y" data-props="<?=$arOfferProps?>"><i></i></span>
													<span title="<?=GetMessage('CATALOG_WISH_OUT')?>" class="wish_item in added <?=$arParams["TYPE_SKU"];?>" style="display: none;" data-item="" data-iblock="<?=$arItem["IBLOCK_ID"]?>"><i></i></span>
												</div>
											<?endif;?>
										<?endif;?>
										<?if($arParams["DISPLAY_COMPARE"] == "Y"):?>
											<?if(!$arItem["OFFERS"] || $arParams["TYPE_SKU"] !== 'TYPE_1'):?>
												<div class="compare_item_button">
													<span title="<?=GetMessage('CATALOG_COMPARE')?>" class="compare_item to" data-iblock="<?=$arItem["IBLOCK_ID"]?>" data-item="<?=$arItem["ID"]?>" ><i></i></span>
													<span title="<?=GetMessage('CATALOG_COMPARE_OUT')?>" class="compare_item in added" style="display: none;" data-iblock="<?=$arItem["IBLOCK_ID"]?>" data-item="<?=$arItem["ID"]?>"><i></i></span>
												</div>
											<?elseif($arItem["OFFERS"]):?>
												<div class="compare_item_button">
													<span title="<?=GetMessage('CATALOG_COMPARE')?>" class="compare_item to <?=$arParams["TYPE_SKU"];?>" data-iblock="<?=$arItem["IBLOCK_ID"]?>" data-item="" ><i></i></span>
													<span title="<?=GetMessage('CATALOG_COMPARE_OUT')?>" class="compare_item in added <?=$arParams["TYPE_SKU"];?>" style="display: none;" data-iblock="<?=$arItem["IBLOCK_ID"]?>" data-item=""><i></i></span>
												</div>
											<?endif;?>
										<?endif;?>
									</div>
								<?endif;?>
								<a href="<?=$arItem["DETAIL_PAGE_URL"]?>" class="thumb" id="<? echo $arItemIDs["ALL_ITEM_IDS"]['PICT']; ?>">
									<?
									$a_alt=($arItem["IPROPERTY_VALUES"]["ELEMENT_PREVIEW_PICTURE_FILE_ALT"] ? $arItem["IPROPERTY_VALUES"]["ELEMENT_PREVIEW_PICTURE_FILE_ALT"] : $arItem["NAME"] );
									$a_title=($arItem["IPROPERTY_VALUES"]["ELEMENT_PREVIEW_PICTURE_FILE_TITLE"] ? $arItem["IPROPERTY_VALUES"]["ELEMENT_PREVIEW_PICTURE_FILE_TITLE"] : $arItem["NAME"] );
									?>
									<?if( !empty($arItem["PREVIEW_PICTURE"]) ):?>
										<img border="0" src="<?=$arItem["PREVIEW_PICTURE"]["SRC"]?>" alt="<?=$a_alt;?>" title="<?=$a_title;?>" />
									<?elseif( !empty($arItem["DETAIL_PICTURE"])):?>
										<?$img = CFile::ResizeImageGet($arItem["DETAIL_PICTURE"], array( "width" => 170, "height" => 170 ), BX_RESIZE_IMAGE_PROPORTIONAL,true );?>
										<img border="0" src="<?=$img["src"]?>" alt="<?=$a_alt;?>" title="<?=$a_title;?>" />
									<?else:?>
										<img border="0" src="<?=SITE_TEMPLATE_PATH?>/images/no_photo_medium.png" alt="<?=$a_alt;?>" title="<?=$a_title;?>" />
									<?endif;?>
								</a>
							</div>
							<div class="item_info <?=$arParams["TYPE_SKU"]?>">
								<div class="item-title">
									<a href="<?=$arItem["DETAIL_PAGE_URL"]?>"><span><?=$arItem["NAME"]?></span></a>
								</div>
								<?if($arParams["SHOW_RATING"] == "Y"):?>
									<div class="rating">
										<?$APPLICATION->IncludeComponent(
										   "bitrix:iblock.vote",
										   "element_rating_front",
										   Array(
											  "IBLOCK_TYPE" => $arParams["IBLOCK_TYPE"],
											  "IBLOCK_ID" => $arItem["IBLOCK_ID"],
											  "ELEMENT_ID" =>$arItem["ID"],
											  "MAX_VOTE" => 5,
											  "VOTE_NAMES" => array(),
											  "CACHE_TYPE" => $arParams["CACHE_TYPE"],
											  "CACHE_TIME" => $arParams["CACHE_TIME"],
											  "DISPLAY_AS_RATING" => 'vote_avg'
										   ),
										   $component, array("HIDE_ICONS" =>"Y")
										);?>
									</div>
								<?endif;?>
								<?=$arQuantityData["HTML"];?>
								<div class="cost prices clearfix">
									<?if( $arItem["OFFERS"]){?>
										<?$minPrice = false;
										if (isset($arItem['MIN_PRICE']) || isset($arItem['RATIO_PRICE'])){
											// $minPrice = (isset($arItem['RATIO_PRICE']) ? $arItem['RATIO_PRICE'] : $arItem['MIN_PRICE']);
											$minPrice = $arItem['MIN_PRICE'];
										}
										$offer_id=0;
										if($arParams["TYPE_SKU"]=="N"){
											$offer_id=$minPrice["MIN_ITEM_ID"];
										}
										$min_price_id=$minPrice["MIN_PRICE_ID"];
										if(!$min_price_id)
											$min_price_id=$minPrice["PRICE_ID"];
										if($minPrice["MIN_ITEM_ID"])
											$item_id=$minPrice["MIN_ITEM_ID"];
										$prefix = '';
										if('N' == $arParams['TYPE_SKU'] || $arParams['DISPLAY_TYPE'] !== 'block' || empty($arItem['OFFERS_PROP'])){
											$prefix = GetMessage("CATALOG_FROM");
										}
										if($arParams["SHOW_OLD_PRICE"]=="Y"){?>
											<div class="price" id="<? echo $arItemIDs["ALL_ITEM_IDS"]['PRICE']; ?>">
												<?if(strlen($minPrice["PRINT_DISCOUNT_VALUE"])):?>
													<?=$prefix;?> <?=$minPrice["PRINT_DISCOUNT_VALUE"];?>
													<?if (($arParams["SHOW_MEASURE"]=="Y") && $strMeasure){?>
														/<?=$strMeasure?>
													<?}?>
												<?endif;?>
											</div>
											<div class="price discount" id="<? echo $arItemIDs["ALL_ITEM_IDS"]['PRICE_OLD']; ?>" <?=(!$minPrice["DISCOUNT_DIFF"] ? 'style="display:none;"' : '')?>>
												<strike <?=(!$minPrice["DISCOUNT_DIFF"] ? 'style="display:none;"' : '')?>><?=$minPrice["PRINT_VALUE"];?></strike>
											</div>
											<?/*if($arParams["SHOW_DISCOUNT_PERCENT"]=="Y"){?>
												<div class="sale_block" <?=(!$minPrice["DISCOUNT_DIFF"] ? 'style="display:none;"' : '')?>>
													<?$percent=round(($minPrice["DISCOUNT_DIFF"]/$minPrice["VALUE"])*100, 2);?>
													<div class="value">-<?=$percent;?>%</div>
													<div class="text"><?=GetMessage("CATALOG_ECONOMY");?> <span><?=$minPrice["PRINT_DISCOUNT_DIFF"];?></span></div>
													<div class="clearfix"></div>
												</div>
											<?}*/?>
										<?}else{?>
											<div class="price only_price" id="<?=$arItemIDs["ALL_ITEM_IDS"]['PRICE']?>">
												<?if(strlen($minPrice["PRINT_DISCOUNT_VALUE"])):?>
													<?=$prefix;?> <?=$minPrice['PRINT_DISCOUNT_VALUE'];?>
													<?if (($arParams["SHOW_MEASURE"]=="Y") && $strMeasure){?>
														/<?=$strMeasure?>
													<?}?>
												<?endif;?>
											</div>
										<?}?>
									<?}elseif ( $arItem["PRICES"] ){?>
										<? $arCountPricesCanAccess = 0;
										$min_price_id=0;
										foreach( $arItem["PRICES"] as $key => $arPrice ) { if($arPrice["CAN_ACCESS"]){$arCountPricesCanAccess++;} } ?>
										<?foreach($arItem["PRICES"] as $key => $arPrice){?>
											<?if($arPrice["CAN_ACCESS"]){
												$percent=0;
												if($arPrice["MIN_PRICE"]=="Y"){
													$min_price_id=$arPrice["PRICE_ID"];
												}?>
												<?$price = CPrice::GetByID($arPrice["ID"]);?>
												<?if($arCountPricesCanAccess > 1):?>
													<div class="price_name"><?=$price["CATALOG_GROUP_NAME"];?></div>
												<?endif;?>
												<?if($arPrice["VALUE"] > $arPrice["DISCOUNT_VALUE"] && $arParams["SHOW_OLD_PRICE"]=="Y"){?>
													<div class="price">
														<?if(strlen($arPrice["PRINT_VALUE"])):?>
															<?=$arPrice["PRINT_DISCOUNT_VALUE"];?>
															<?if (($arParams["SHOW_MEASURE"]=="Y") && $strMeasure){?>
																/<?=$strMeasure?>
															<?}?>
														<?endif;?>
													</div>
													<div class="price discount">
														<strike><?=$arPrice["PRINT_VALUE"];?></strike>
													</div>
													<?/*if($arParams["SHOW_DISCOUNT_PERCENT"]=="Y"){?>
														<div class="sale_block">
															<?$percent=round(($arPrice["DISCOUNT_DIFF"]/$arPrice["VALUE"])*100, 2);?>
															<?if($percent && $percent<100){?>
																<div class="value">-<?=$percent;?>%</div>
															<?}?>
															<div class="text"><?=GetMessage("CATALOG_ECONOMY");?> <span><?=$arPrice["PRINT_DISCOUNT_DIFF"];?></span></div>
															<div class="clearfix"></div>
														</div>
													<?}*/?>
												<?}else{?>
													<div class="price only_price">
														<?if(strlen($arPrice["PRINT_VALUE"])):?>
															<?=$arPrice["PRINT_VALUE"];?>
															<?if (($arParams["SHOW_MEASURE"]=="Y") && $strMeasure){?>
																/<?=$strMeasure?>
															<?}?>
														<?endif;?>
													</div>
												<?}?>
											<?}?>
										<?}?>
									<?}?>
								</div>
								<?if($arParams["SHOW_DISCOUNT_TIME"]=="Y"){?>
									<?$arDiscounts = CCatalogDiscount::GetDiscountByProduct( $arItem["ID"], $USER->GetUserGroupArray(), "N", $min_price_id, SITE_ID );
									$arDiscount=array();
									if($arDiscounts)
										$arDiscount=current($arDiscounts);
									if($arDiscount["ACTIVE_TO"]){?>
										<div class="view_sale_block">
											<div class="count_d_block">
												<span class="active_to hidden"><?=$arDiscount["ACTIVE_TO"];?></span>
												<div class="title"><?=GetMessage("UNTIL_AKC");?></div>
												<span class="countdown values"></span>
											</div>
											<div class="quantity_block">
												<div class="title"><?=GetMessage("TITLE_QUANTITY_BLOCK");?></div>
												<div class="values">
													<span class="item">
														<span  <?=( count( $arItem["OFFERS"] ) > 0 ? 'style="opacity:0;"' : '')?>><?=$totalCount;?></span>
														<div class="text"><?=GetMessage("TITLE_QUANTITY");?></div>
													</span>
												</div>
											</div>
										</div>
									<?}?>
								<?}?>
							</div>
							<div class="buttons_block">
								<?if($arItem["OFFERS"]){?>
										<?if(!empty($arItem['OFFERS_PROP'])){?>
											<div class="sku_props">
												<div class="bx_catalog_item_scu wrapper_sku" id="<? echo $arItemIDs["ALL_ITEM_IDS"]['PROP_DIV']; ?>">
													<?$arSkuTemplate = array();?>
													<?$arSkuTemplate=COptimus::GetSKUPropsArray($arItem['OFFERS_PROPS_JS'], $arResult["SKU_IBLOCK_ID"], $arParams["DISPLAY_TYPE"], $arParams["OFFER_HIDE_NAME_PROPS"]);?>
													<?foreach ($arSkuTemplate as $code => $strTemplate){
														if (!isset($arItem['OFFERS_PROP'][$code]))
															continue;
														echo '<div>', str_replace('#ITEM#_prop_', $arItemIDs["ALL_ITEM_IDS"]['PROP'], $strTemplate), '</div>';
													}?>
												</div>
												<?$arItemJSParams=COptimus::GetSKUJSParams($arResult, $arParams, $arItem);?>

												<script type="text/javascript">
													var <? echo $arItemIDs["strObName"]; ?> = new JCCatalogSection(<? echo CUtil::PhpToJSObject($arItemJSParams, false, true); ?>);
												</script>
											</div>
										<?}?>
									<?}?>
								<?if(!$arItem["OFFERS"] || ($arItem["OFFERS"] && !$arItem['OFFERS_PROP'])):?>
									<div class="counter_wrapp <?=($arItem["OFFERS"] && $arParams["TYPE_SKU"] == "TYPE_1" ? 'woffers' : '')?>">
										<?if(($arAddToBasketData["OPTIONS"]["USE_PRODUCT_QUANTITY_LIST"] && $arAddToBasketData["ACTION"] == "ADD") && $arItem["CAN_BUY"]):?>
											<div class="counter_block" data-offers="<?=($arItem["OFFERS"] ? "Y" : "N");?>" data-item="<?=$arItem["ID"];?>">
												<span class="minus" id="<? echo $arItemIDs["ALL_ITEM_IDS"]['QUANTITY_DOWN']; ?>">-</span>
												<input type="text" class="text" id="<? echo $arItemIDs["ALL_ITEM_IDS"]['QUANTITY']; ?>" name="<? echo $arParams["PRODUCT_QUANTITY_VARIABLE"]; ?>" value="<?=$arAddToBasketData["MIN_QUANTITY_BUY"]?>" />
												<span class="plus" id="<? echo $arItemIDs["ALL_ITEM_IDS"]['QUANTITY_UP']; ?>" <?=($arAddToBasketData["MAX_QUANTITY_BUY"] ? "data-max='".$arAddToBasketData["MAX_QUANTITY_BUY"]."'" : "")?>>+</span>
											</div>
										<?endif;?>
										<div id="<?=$arItemIDs["ALL_ITEM_IDS"]['BASKET_ACTIONS']; ?>" class="button_block <?=(($arAddToBasketData["ACTION"] == "ORDER"/*&& !$arItem["CAN_BUY"]*/)  || !$arItem["CAN_BUY"] || !$arAddToBasketData["OPTIONS"]["USE_PRODUCT_QUANTITY_LIST"] || $arAddToBasketData["ACTION"] == "SUBSCRIBE" ? "wide" : "");?>">
											<!--noindex-->
												<?=$arAddToBasketData["HTML"]?>
											<!--/noindex-->
										</div>
									</div>
								<?elseif($arItem["OFFERS"]):?>
									<?if(empty($arItem['OFFERS_PROP'])){?>
										<div class="offer_buy_block buys_wrapp woffers">
											<?
											$arItem["OFFERS_MORE"] = "Y";
											$arAddToBasketData = COptimus::GetAddToBasketArray($arItem, $totalCount, $arParams["DEFAULT_COUNT"], $arParams["BASKET_URL"], false, $arItemIDs["ALL_ITEM_IDS"], 'small read_more1', $arParams);?>
											<!--noindex-->
												<?=$arAddToBasketData["HTML"]?>
											<!--/noindex-->
										</div>
									<?}else{?>
										<div class="offer_buy_block buys_wrapp woffers" style="display:none;">
											<div class="counter_wrapp"></div>
										</div>
									<?}?>
								<?endif;?>
							</div>
						</li>
					<?}?>
				</ul>
			</div>
		</div>
	</div>
<?}else{?>
	<script>
		$(document).ready(function(){
			if($('.bx_item_list_you_looked_horizontal').length){
				$('.bx_item_list_you_looked_horizontal').remove();
			}
		})
	</script>
<?}?>

<script>
		$(document).ready(function(){
			var flexsliderItemWidth = 220;
			var flexsliderItemMargin = 12;
			$('.s_<?=$injectId;?> .content_inner').flexslider({
				animation: 'slide',
				selector: '.slides > li',
				slideshow: false,
				animationSpeed: 600,
				directionNav: true,
				controlNav: false,
				pauseOnHover: true,
				animationLoop: true,
				itemWidth: flexsliderItemWidth,
				itemMargin: flexsliderItemMargin,
				//minItems: flexsliderMinItems,
				controlsContainer: '.viewed_navigation',
				start: function(slider){
					slider.find('li').css('opacity', 1);
				}
			});

			var itemsButtons = $('.s_<?=$injectId;?> .wr > li .buttons_block'),
				itemsButtonsHeight = itemsButtons.getMaxHeights();
			$('.s_<?=$injectId;?> .wr .buttons_block').hide();

			var tabsContentUnhover = ($('.s_<?=$injectId;?> .all_wrapp').height() * 1)+20;
			var tabsContentHover = tabsContentUnhover + itemsButtonsHeight+50;

			$('.s_<?=$injectId;?> .slides').equalize({children: '.item-title'});
			$('.s_<?=$injectId;?> .slides').equalize({children: '.item_info'});
			$('.s_<?=$injectId;?> .slides').equalize({children: '.catalog_item'});

			$('.s_<?=$injectId;?> .all_wrapp .content_inner').attr('data-unhover', tabsContentUnhover);
			$('.s_<?=$injectId;?> .all_wrapp .content_inner').attr('data-hover', tabsContentHover);
			$('.s_<?=$injectId;?> .all_wrapp').height(tabsContentUnhover);
			$('.s_<?=$injectId;?> .all_wrapp .content_inner').addClass('absolute');

			$('.s_<?=$injectId;?> .wr > li').hover(
				function(){
					var tabsContentHover = $(this).closest('.content_inner').attr('data-hover') * 1;
					$(this).closest('.content_inner').fadeTo(100, 1);
					$(this).closest('.content_inner').stop().css({'height': tabsContentHover});
					$(this).find('.buttons_block').fadeIn(450, 'easeOutCirc');
				},
				function(){
					var tabsContentUnhoverHover = $(this).closest('.content_inner').attr('data-unhover') * 1;
					$(this).closest('.content_inner').stop().animate({'height': tabsContentUnhoverHover}, 100);
					$(this).find('.buttons_block').stop().fadeOut(233);
				}
			);
		})
	</script>

<script>
	$(document).ready(function(){
		$('.catalog_block .catalog_item_wrapp .catalog_item .item-title').sliceHeight();
		$('.catalog_block .catalog_item_wrapp .catalog_item .cost').sliceHeight();
		$('.catalog_block .catalog_item_wrapp .item_info').sliceHeight({classNull: '.footer_button'});
		$('.catalog_block .catalog_item_wrapp').sliceHeight({classNull: '.footer_button'});
	});

	BX.message({
		QUANTITY_AVAILIABLE: '<? echo COption::GetOptionString("aspro.optimus", "EXPRESSION_FOR_EXISTS", GetMessage("EXPRESSION_FOR_EXISTS_DEFAULT"), SITE_ID); ?>',
		QUANTITY_NOT_AVAILIABLE: '<? echo COption::GetOptionString("aspro.optimus", "EXPRESSION_FOR_NOTEXISTS", GetMessage("EXPRESSION_FOR_NOTEXISTS"), SITE_ID); ?>',
		ADD_ERROR_BASKET: '<? echo GetMessage("ADD_ERROR_BASKET"); ?>',
		ADD_ERROR_COMPARE: '<? echo GetMessage("ADD_ERROR_COMPARE"); ?>',
	})
</script>138  7148|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/components/bitrix/map.google.view/map/template.php|9a1707c3<?
if (!defined("B_PROLOG_INCLUDED") || B_PROLOG_INCLUDED!==true) die();
//$this->setFrameMode(true);
global $APPLICATION;
$frame = $this->createFrame()->begin('');
$frame->setAnimation(true);
$arTransParams = array(
	'INIT_MAP_TYPE' => $arParams['INIT_MAP_TYPE'],
	'INIT_MAP_LON' => $arResult['POSITION']['google_lon'],
	'INIT_MAP_LAT' => $arResult['POSITION']['google_lat'],
	'INIT_MAP_SCALE' => $arResult['POSITION']['google_scale'],
	'MAP_WIDTH' => $arParams['MAP_WIDTH'],
	'MAP_HEIGHT' => $arParams['MAP_HEIGHT'],
	'CONTROLS' => $arParams['CONTROLS'],
	'OPTIONS' => $arParams['OPTIONS'],
	'MAP_ID' => $arParams['MAP_ID'],
	'API_KEY' => $arParams['API_KEY'],
);

if ($arParams['DEV_MODE'] == 'Y'){
	$arTransParams['DEV_MODE'] = 'Y';
	if ($arParams['WAIT_FOR_EVENT'])
		$arTransParams['WAIT_FOR_EVENT'] = $arParams['WAIT_FOR_EVENT'];
}
$arParams["CLICKABLE"] = ( $arParams["CLICKABLE"] ? $arParams["CLICKABLE"] : "Y" );?>
	<div class="module-map">
		<div class="map-wr module-contacts-map-layout">
			<?if( $arParams["ZOOM_BLOCK"]["HIDDEN"] != "Y" ){?>
				<div class="controls <?=( $arParams["ZOOM_BLOCK"]["POSITION"] ? $arParams["ZOOM_BLOCK"]["POSITION"] : 'left' )?>">
					<div class="z zoomIn">+</div>
					<div class="z zoomOut">-</div>
				</div>
			<?}?>
			<?$APPLICATION->IncludeComponent('bitrix:map.google.system', '.default', $arTransParams, false, array('HIDE_ICONS' => 'Y'));?>
		</div>
	</div>
<?$APPLICATION->AddHeadScript( $this->__folder.'/markerclustererplus.js', true )?>
<?$APPLICATION->AddHeadScript( $this->__folder.'/infobox.js', true )?>
<script>
	if (!window.BX_GMapAddPlacemark_){
		window.BX_GMapAddPlacemark_ = function(markers, bounds, arPlacemark, map_id, clickable){
			var map = GLOBAL_arMapObjects[map_id];
			if (null == map) {
				return false;
			}
			if (!arPlacemark.LAT || !arPlacemark.LON) {
				return false;
			}
			var root = '<?=SITE_TEMPLATE_PATH;?>'+'/images/map_marker.png';
			var image = new google.maps.MarkerImage(root,
				new google.maps.Size(45, 57),
				new google.maps.Point(0, 0),
				new google.maps.Point(23, 57)
			);
			var pt = new google.maps.LatLng(arPlacemark.LAT, arPlacemark.LON);
            bounds.extend(pt);
			
			var obPlacemark = new google.maps.Marker({
				'position': pt,
				'map': map,
				'icon': image,
				'clickable': (clickable == "Y" ? true : false),
				'title': arPlacemark.TEXT,
				'zIndex': 5,
				'html': arPlacemark.HTML
			});
			markers.push(obPlacemark);
			
			var boxText = document.createElement('div');
			boxText.className  = 'inner';
			boxText.innerHTML = (typeof(obPlacemark.html) !== 'undefined' ? (obPlacemark.html.length ? obPlacemark.html : '') : (typeof(obPlacemark.title) !== 'undefined' ? (obPlacemark.title.length ? obPlacemark.title : '') : ''));
			if (boxText.innerHTML.length) {
				boxText.innerHTML = '<div class="wrap-big">' + boxText.innerHTML + '</div>';
			}

			var myOptions = {
				content: boxText,
				disableAutoPan: false,
				maxWidth: 0,
				alignBottom: true,
				pixelOffset: new google.maps.Size(-140, -7),
				zIndex: 99999,
				boxStyle:{minwidth: '294px', background: '#fff'},
				closeBoxMargin: '0',
				infoBoxClearance: new google.maps.Size(1, 1),
				isHidden: false,
				pane: 'floatPane',
				enableEventPropagation: false,
				position: obPlacemark.position
				
			};
			if( clickable && boxText.innerHTML.length){
				ib = new InfoBox();
				google.maps.event.addListener(obPlacemark, 'click', function (e){
					if (null != window['__bx_google_infowin_opened_' + map_id]){
						window['__bx_google_infowin_opened_' + map_id].close();
					}
					ib.setOptions(myOptions);
					ib.open(this.map, this);
					window['__bx_google_infowin_opened_' + map_id] = ib;
				});
				
				/*custom close*/
				var oldClose = ib.close;
				ib.close = function(){
					$(ib.div_).fadeOut('100');
					var th = this;
					oldClose.apply(th);
				}
				
				/*custom draw*/
				var oldDraw = ib.draw;
				ib.draw = function(){
					oldDraw.apply(this);
					$(ib.div_).hide();
					$(ib.div_).fadeIn('100');
				}
			}
			google.maps.event.addListener(map, "click", function() {
				ib.close(); 
			});
			var icon = '<?=SITE_TEMPLATE_PATH?>/images/map_marker.png';
			var iconHover = '<?=SITE_TEMPLATE_PATH?>/images/map_marker.png';
			google.maps.event.addListener(obPlacemark, 'mouseover', function() {
				obPlacemark.set("opacity","0.9");
			});
			google.maps.event.addListener(obPlacemark, 'mouseout', function() {
				obPlacemark.set("opacity","1");
			});
			if (BX.type.isNotEmptyString(arPlacemark.TEXT)){
				obPlacemark.infowin = new google.maps.InfoWindow({
					content: "Loading..."
				});
				
			}
			return obPlacemark;
		}
	}

	if (null == window.BXWaitForMap_view){
		function BXWaitForMap_view(map_id){
			if (null == window.GLOBAL_arMapObjects)
				return;
		
			if (window.GLOBAL_arMapObjects[map_id])
				window['BX_SetPlacemarks_' + map_id]();
			else
				setTimeout('BXWaitForMap_view(\'' + map_id + '\')', 300);
		}
	}
</script>
<?if (is_array($arResult['POSITION']['PLACEMARKS']) && ($cnt = count($arResult['POSITION']['PLACEMARKS']))):?>
	<script type="text/javascript">
		function BX_SetPlacemarks_<?echo $arParams['MAP_ID']?>(){
			var markers = [];
			var bounds = new google.maps.LatLngBounds();
			<?for($i = 0; $i < $cnt; $i++):?>
				BX_GMapAddPlacemark_(markers, bounds, <?echo CUtil::PhpToJsObject($arResult['POSITION']['PLACEMARKS'][$i])?>, '<?echo $arParams['MAP_ID']?>', '<?=$arParams["CLICKABLE"];?>');
			<?endfor;?>
			<?if( $arParams["ORDER"] != "Y" ){?>
				/*cluster icon*/
				var map = window.GLOBAL_arMapObjects['<?echo $arParams['MAP_ID']?>'];
				var clusterOptions = {
					zoomOnClick: true,
					averageCenter: true,
					clusterClass: 'test',
					styles: [{
						url: '<?=SITE_TEMPLATE_PATH?>'+'/images/map_cluster.png',
						height: 53, 
						width: 53,
						textColor: '#383838',
						textSize: 12,
						fontFamily: 'Ubuntu'
					}]
				}
				var markerCluster = new MarkerClusterer(map, markers, clusterOptions);
				var clusterIcons = '<?=SITE_TEMPLATE_PATH?>/images/map_cluster.png';
				var clusterIconsHover = '<?=SITE_TEMPLATE_PATH?>/images/map_cluster.png';
				google.maps.event.addListener(markerCluster, "mouseout", function (c) {
				  c.clusterIcon_.div_.firstChild.src = clusterIcons;
				});
				google.maps.event.addListener(markerCluster, "mouseover", function (c) {
				  c.clusterIcon_.div_.firstChild.src = clusterIconsHover;
				});
			
				center = bounds.getCenter();
				<?if( $cnt > 1 ){?>
					map.fitBounds(bounds);
				<?}else{
					$map_data = unserialize($arParams["MAP_DATA"]);?>
					//map.SetZoom(<?=$map_data["google_scale"]?>);
				<?}?>
			<?}?>
			
			/*reinit map*/
			//google.maps.event.trigger(map,'resize');
		}

		function BXShowMap_<?echo $arParams['MAP_ID']?>() {
			BXWaitForMap_view('<?echo $arParams['MAP_ID']?>');
		}

		BX.ready(BXShowMap_<?echo $arParams['MAP_ID']?>);
	</script>
<?endif;?>142  1309|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/components/bitrix/news.list/shops/component_epilog.php|f6e64bb3<?$arShops=COptimus::prepareShopListArray($arResult["ITEMS"], $arParams);?>
<?if($arShops["SHOPS"]):?>
	<?ob_start()?>
	<?if(abs($arShops["POINTS"]["LAT"]) > 0 && abs($arShops["POINTS"]["LON"]) > 0):?>
		<?
		$mapLAT = floatval($arShops["POINTS"]["LAT"] / count($arShops["SHOPS"]));
		$mapLON = floatval($arShops["POINTS"]["LON"] / count($arShops["SHOPS"]));
		?>
		<div class="contacts_map">
			<?$APPLICATION->IncludeComponent(
				"bitrix:map.google.view",
				"map",
				array(
					"INIT_MAP_TYPE" => "ROADMAP",
					"MAP_DATA" => serialize(array("google_lat" => $mapLAT, "google_lon" => $mapLON, "google_scale" => 15, "PLACEMARKS" => $arShops["PLACEMARKS"])),
					"MAP_WIDTH" => "100%",
					"MAP_HEIGHT" => "400",
					"CONTROLS" => array(
					),
					"OPTIONS" => array(
						0 => "ENABLE_DBLCLICK_ZOOM",
						1 => "ENABLE_DRAGGING",
					),
					"MAP_ID" => "",
					"ZOOM_BLOCK" => array(
						"POSITION" => "right center",
					),
					"COMPONENT_TEMPLATE" => "map",
					"API_KEY" => $arParams["GOOGLE_API_KEY"],
					"COMPOSITE_FRAME_MODE" => "A",
					"COMPOSITE_FRAME_TYPE" => "AUTO"
				),
				false, array("HIDE_ICONS" =>"Y")
			);?>
		</div>
	<?endif;?>
	<?$html=ob_get_clean();?>
	<?$APPLICATION->AddViewContent('map_content', $html);?>
<?endif;?>131  26054|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/components/bitrix/catalog/main/element.php|70accab2<?if(!defined("B_PROLOG_INCLUDED") || B_PROLOG_INCLUDED !== true) die();?>
<?$this->setFrameMode(true);?>
<?

use Bitrix\Main\Loader;
use Bitrix\Main\ModuleManager;

Loader::includeModule("iblock");
Loader::includeModule("highloadblock");

// get current section ID
global $OptimusSectionID;
$section = array();
if($arResult["VARIABLES"]["SECTION_ID"] > 0){
	$section=COptimusCache::CIBlockSection_GetList(array('CACHE' => array("MULTI" =>"N", "TAG" => COptimusCache::GetIBlockCacheTag($arParams["IBLOCK_ID"]))), array('GLOBAL_ACTIVE' => 'Y', "ID" => $arResult["VARIABLES"]["SECTION_ID"], "IBLOCK_ID" => $arParams["IBLOCK_ID"]), false, array("ID", "IBLOCK_ID", "UF_TIZERS"));
}
elseif(strlen(trim($arResult["VARIABLES"]["SECTION_CODE"])) > 0){
	$section=COptimusCache::CIBlockSection_GetList(array('CACHE' => array("MULTI" =>"N", "TAG" => COptimusCache::GetIBlockCacheTag($arParams["IBLOCK_ID"]))), array('GLOBAL_ACTIVE' => 'Y', "=CODE" => $arResult["VARIABLES"]["SECTION_CODE"], "IBLOCK_ID" => $arParams["IBLOCK_ID"]), false, array("ID", "IBLOCK_ID", "UF_TIZERS"));
}
if(!$section["ID"]){
	if($arResult["VARIABLES"]["ELEMENT_ID"] > 0){
		$arElement = COptimusCache::CIBLockElement_GetList(array('CACHE' => array("MULTI" =>"N", "TAG" => COptimusCache::GetIBlockCacheTag($arParams["IBLOCK_ID"]))), array("IBLOCK_ID" => $arParams["IBLOCK_ID"], "ACTIVE"=>"Y", "ID" => $arResult["VARIABLES"]["ELEMENT_ID"]), false, false, array("ID", "IBLOCK_SECTION_ID"));
		if($arElement["IBLOCK_SECTION_ID"] && !$section){
			$section=COptimusCache::CIBlockSection_GetList(array('CACHE' => array("MULTI" =>"N", "TAG" => COptimusCache::GetIBlockCacheTag($arParams["IBLOCK_ID"]))), array('GLOBAL_ACTIVE' => 'Y', "ID" => $arElement["IBLOCK_SECTION_ID"], "IBLOCK_ID" => $arElement["IBLOCK_ID"]), false, array("ID", "IBLOCK_ID", "UF_TIZERS"));
		}
	}
	elseif(strlen(trim($arResult["VARIABLES"]["ELEMENT_CODE"])) > 0){
		$arElement = COptimusCache::CIBLockElement_GetList(array('CACHE' => array("MULTI" =>"N", "TAG" => COptimusCache::GetIBlockCacheTag($arParams["IBLOCK_ID"]))), array("IBLOCK_ID" => $arParams["IBLOCK_ID"], "ACTIVE"=>"Y", "=CODE" => $arResult["VARIABLES"]["ELEMENT_CODE"]), false, false, array("ID", "IBLOCK_SECTION_ID"));
		if($arElement["IBLOCK_SECTION_ID"] && !$section){
			$section=COptimusCache::CIBlockSection_GetList(array('CACHE' => array("MULTI" =>"N", "TAG" => COptimusCache::GetIBlockCacheTag($arParams["IBLOCK_ID"]))), array('GLOBAL_ACTIVE' => 'Y', "ID" => $arElement["IBLOCK_SECTION_ID"], "IBLOCK_ID" => $arElement["IBLOCK_ID"]), false, array("ID", "IBLOCK_ID", "UF_TIZERS"));
		}
	}
}

$OptimusSectionID = $section["ID"];

global $TEMPLATE_OPTIONS;
?>
<div class="catalog_detail">
	<?$ElementID = $APPLICATION->IncludeComponent(
		"bitrix:catalog.element",
		"main",
		Array(
			"SECTION_TIZER"=>$section["UF_TIZERS"],
			"SHOW_DISCOUNT_TIME"=>$arParams["SHOW_DISCOUNT_TIME"],
			"TYPE_SKU" => $TEMPLATE_OPTIONS["TYPE_SKU"]["CURRENT_VALUE"],
			"SKU_DETAIL_ID" => (isset($_GET[$arParams["SKU_DETAIL_ID"]]) && strlen($arParams["SKU_DETAIL_ID"]) && $TEMPLATE_OPTIONS["TYPE_SKU"]["CURRENT_VALUE"] == "TYPE_1" ? $_GET[$arParams["SKU_DETAIL_ID"]] : "" ),
			"SEF_URL_TEMPLATES" => $arParams["SEF_URL_TEMPLATES"],
			"IBLOCK_REVIEWS_TYPE" => $arParams["IBLOCK_REVIEWS_TYPE"],
			"IBLOCK_REVIEWS_ID" => $arParams["IBLOCK_REVIEWS_ID"],
			"SHOW_ONE_CLICK_BUY" => $arParams["SHOW_ONE_CLICK_BUY"],
			"SEF_MODE_BRAND_SECTIONS" => $arParams["SEF_MODE_BRAND_SECTIONS"],
			"SEF_MODE_BRAND_ELEMENT" => $arParams["SEF_MODE_BRAND_ELEMENT"],
			"DISPLAY_COMPARE" => $arParams["USE_COMPARE"],
			"IBLOCK_TYPE" => $arParams["IBLOCK_TYPE"],
			"IBLOCK_ID" => $arParams["IBLOCK_ID"],
			"PROPERTY_CODE" => $arParams["DETAIL_PROPERTY_CODE"],
			"META_KEYWORDS" => $arParams["DETAIL_META_KEYWORDS"],
			"META_DESCRIPTION" => $arParams["DETAIL_META_DESCRIPTION"],
			"BROWSER_TITLE" => $arParams["DETAIL_BROWSER_TITLE"],
			"BASKET_URL" => $arParams["BASKET_URL"],
			"ACTION_VARIABLE" => $arParams["ACTION_VARIABLE"],
			"PRODUCT_ID_VARIABLE" => $arParams["PRODUCT_ID_VARIABLE"],
			"SECTION_ID_VARIABLE" => $arParams["SECTION_ID_VARIABLE"],
			"DISPLAY_PANEL" => $arParams["DISPLAY_PANEL"],
			"CACHE_TYPE" => $arParams["CACHE_TYPE"],
			"CACHE_TIME" => $arParams["CACHE_TIME"],
			"CACHE_GROUPS" => $arParams["CACHE_GROUPS"],
			"SET_TITLE" => $arParams["SET_TITLE"],
			"SET_CANONICAL_URL" => $arParams["DETAIL_SET_CANONICAL_URL"],
			"SET_LAST_MODIFIED" => "Y",
			"SET_STATUS_404" => $arParams["SET_STATUS_404"],
			"MESSAGE_404" => $arParams["MESSAGE_404"],
			"SHOW_404" => $arParams["SHOW_404"],
			"FILE_404" => $arParams["FILE_404"],
			"PRICE_CODE" => $arParams["PRICE_CODE"],
			"USE_PRICE_COUNT" => $arParams["USE_PRICE_COUNT"],
			"SHOW_PRICE_COUNT" => $arParams["SHOW_PRICE_COUNT"],
			"PRICE_VAT_INCLUDE" => $arParams["PRICE_VAT_INCLUDE"],
			"PRICE_VAT_SHOW_VALUE" => $arParams["PRICE_VAT_SHOW_VALUE"],
			"LINK_IBLOCK_TYPE" => $arParams["LINK_IBLOCK_TYPE"],
			"LINK_IBLOCK_ID" => $arParams["LINK_IBLOCK_ID"],
			"LINK_PROPERTY_SID" => $arParams["LINK_PROPERTY_SID"],
			"LINK_ELEMENTS_URL" => $arParams["LINK_ELEMENTS_URL"],
			"USE_ALSO_BUY" => $arParams["USE_ALSO_BUY"],
			'ADD_PICT_PROP' => $arParams['ADD_PICT_PROP'],
			'OFFER_ADD_PICT_PROP' => $arParams['OFFER_ADD_PICT_PROP'],
			"OFFERS_CART_PROPERTIES" => $arParams["OFFERS_CART_PROPERTIES"],
			"OFFERS_FIELD_CODE" => $arParams["DETAIL_OFFERS_FIELD_CODE"],
			"OFFERS_PROPERTY_CODE" => $arParams["DETAIL_OFFERS_PROPERTY_CODE"],
			"OFFERS_SORT_FIELD" => $arParams["OFFERS_SORT_FIELD"],
			"OFFERS_SORT_ORDER" => $arParams["OFFERS_SORT_ORDER"],
			"SKU_DISPLAY_LOCATION" => $arParams["SKU_DISPLAY_LOCATION"],
			"ELEMENT_ID" => $arResult["VARIABLES"]["ELEMENT_ID"],
			"ELEMENT_CODE" => $arResult["VARIABLES"]["ELEMENT_CODE"],
			"SECTION_ID" => $arResult["VARIABLES"]["SECTION_ID"],
			"SECTION_CODE" => $arResult["VARIABLES"]["SECTION_CODE"],
			"SECTION_URL" => $arResult["FOLDER"].$arResult["URL_TEMPLATES"]["section"],
			"DETAIL_URL" => $arResult["FOLDER"].$arResult["URL_TEMPLATES"]["element"],
			"ADD_SECTIONS_CHAIN" => $arParams["ADD_SECTIONS_CHAIN"],
			"ADD_ELEMENT_CHAIN" => $arParams["ADD_ELEMENT_CHAIN"],
			"USE_STORE" => $arParams["USE_STORE"],
			"USE_STORE_PHONE" => $arParams["USE_STORE_PHONE"],
			"USE_STORE_SCHEDULE" => $arParams["USE_STORE_SCHEDULE"],
			"USE_MIN_AMOUNT" => $arParams["USE_MIN_AMOUNT"],
			"MIN_AMOUNT" => $arParams["MIN_AMOUNT"],
			"STORE_PATH" => $arParams["STORE_PATH"],
			"MAIN_TITLE" => $arParams["MAIN_TITLE"],
			"USE_PRODUCT_QUANTITY" => $arParams["USE_PRODUCT_QUANTITY"],
			"PRODUCT_QUANTITY_VARIABLE" => $arParams["PRODUCT_QUANTITY_VARIABLE"],
			"IBLOCK_STOCK_ID" => $arParams["IBLOCK_STOCK_ID"],
			"SEF_MODE_STOCK_SECTIONS" => $arParams["SEF_MODE_STOCK_SECTIONS"],
			"SHOW_QUANTITY" => $arParams["SHOW_QUANTITY"],
			"SHOW_QUANTITY_COUNT" => $arParams["SHOW_QUANTITY_COUNT"],
			"CONVERT_CURRENCY" => $arParams["CONVERT_CURRENCY"],
			"CURRENCY_ID" => $arParams["CURRENCY_ID"],
			'HIDE_NOT_AVAILABLE' => $arParams["HIDE_NOT_AVAILABLE"],
			'SHOW_DEACTIVATED' => $arParams['SHOW_DEACTIVATED'],
			"USE_ELEMENT_COUNTER" => $arParams["USE_ELEMENT_COUNTER"],
			"USE_RATING" => $arParams["USE_RATING"],
			"USE_REVIEW" => $arParams["USE_REVIEW"],
			"FORUM_ID" => $arParams["FORUM_ID"],
			"MAX_AMOUNT" => $arParams["MAX_AMOUNT"],
			"USE_ONLY_MAX_AMOUNT" => $arParams["USE_ONLY_MAX_AMOUNT"],
			"DISPLAY_WISH_BUTTONS" => $arParams["DISPLAY_WISH_BUTTONS"],
			"DEFAULT_COUNT" => $arParams["DEFAULT_COUNT"],
			"SHOW_BRAND_PICTURE" => $arParams["SHOW_BRAND_PICTURE"],
			"PROPERTIES_DISPLAY_LOCATION" => $arParams["PROPERTIES_DISPLAY_LOCATION"],
			"PROPERTIES_DISPLAY_TYPE" => $arParams["PROPERTIES_DISPLAY_TYPE"],
			"SHOW_ADDITIONAL_TAB" => $arParams["SHOW_ADDITIONAL_TAB"],
			"SHOW_ASK_BLOCK" => $arParams["SHOW_ASK_BLOCK"],
			"ASK_FORM_ID" => $arParams["ASK_FORM_ID"],
			"SHOW_MEASURE" => $arParams["SHOW_MEASURE"],
			"SHOW_HINTS" => $arParams["SHOW_HINTS"],
			"OFFER_HIDE_NAME_PROPS" => $arParams["OFFER_HIDE_NAME_PROPS"],
			"SHOW_KIT_PARTS" => $arParams["SHOW_KIT_PARTS"],
			"SHOW_KIT_PARTS_PRICES" => $arParams["SHOW_KIT_PARTS_PRICES"],
			"SHOW_DISCOUNT_PERCENT" => $arParams["SHOW_DISCOUNT_PERCENT"],
			"SHOW_OLD_PRICE" => $arParams["SHOW_OLD_PRICE"],
			'OFFER_TREE_PROPS' => $arParams['OFFER_TREE_PROPS'],
			'ADD_DETAIL_TO_SLIDER' => (isset($arParams['DETAIL_ADD_DETAIL_TO_SLIDER']) ? $arParams['DETAIL_ADD_DETAIL_TO_SLIDER'] : ''),
			"SHOW_EMPTY_STORE" => $arParams['SHOW_EMPTY_STORE'],
			"SHOW_GENERAL_STORE_INFORMATION" => $arParams['SHOW_GENERAL_STORE_INFORMATION'],
			"USER_FIELDS" => $arParams['USER_FIELDS'],
			"FIELDS" => $arParams['FIELDS'],
			"STORES" => $arParams['STORES'],
			"BIG_DATA_RCM_TYPE" => $arParams['BIG_DATA_RCM_TYPE'],
			"USE_MAIN_ELEMENT_SECTION" => $arParams["USE_MAIN_ELEMENT_SECTION"],
			"PARTIAL_PRODUCT_PROPERTIES" => (isset($arParams["PARTIAL_PRODUCT_PROPERTIES"]) ? $arParams["PARTIAL_PRODUCT_PROPERTIES"] : ''),
			"ADD_PROPERTIES_TO_BASKET" => (isset($arParams["ADD_PROPERTIES_TO_BASKET"]) ? $arParams["ADD_PROPERTIES_TO_BASKET"] : ''),
			"PRODUCT_PROPERTIES" => $arParams["PRODUCT_PROPERTIES"],
			"SALE_STIKER" => $arParams["SALE_STIKER"],
			"SHOW_RATING" => $arParams["SHOW_RATING"],

			"OFFERS_LIMIT" => $arParams["DETAIL_OFFERS_LIMIT"],

			'SHOW_BASIS_PRICE' => (isset($arParams['DETAIL_SHOW_BASIS_PRICE']) ? $arParams['DETAIL_SHOW_BASIS_PRICE'] : 'Y'),
			"DETAIL_PICTURE_MODE" => (isset($TEMPLATE_OPTIONS["DETAIL_PICTURE_MODE"]["CURRENT_VALUE"]) ? $TEMPLATE_OPTIONS["DETAIL_PICTURE_MODE"]["CURRENT_VALUE"] : 'POPUP'),

			'DISABLE_INIT_JS_IN_COMPONENT' => (isset($arParams['DISABLE_INIT_JS_IN_COMPONENT']) ? $arParams['DISABLE_INIT_JS_IN_COMPONENT'] : ''),
			'SET_VIEWED_IN_COMPONENT' => (isset($arParams['DETAIL_SET_VIEWED_IN_COMPONENT']) ? $arParams['DETAIL_SET_VIEWED_IN_COMPONENT'] : ''),

			"USE_GIFTS_DETAIL" => $arParams['USE_GIFTS_DETAIL']?: 'Y',
			"USE_GIFTS_MAIN_PR_SECTION_LIST" => $arParams['USE_GIFTS_MAIN_PR_SECTION_LIST']?: 'Y',
			"GIFTS_SHOW_DISCOUNT_PERCENT" => $arParams['GIFTS_SHOW_DISCOUNT_PERCENT'],
			"GIFTS_SHOW_OLD_PRICE" => $arParams['GIFTS_SHOW_OLD_PRICE'],
			"GIFTS_DETAIL_PAGE_ELEMENT_COUNT" => $arParams['GIFTS_DETAIL_PAGE_ELEMENT_COUNT'],
			"GIFTS_DETAIL_HIDE_BLOCK_TITLE" => $arParams['GIFTS_DETAIL_HIDE_BLOCK_TITLE'],
			"GIFTS_DETAIL_TEXT_LABEL_GIFT" => $arParams['GIFTS_DETAIL_TEXT_LABEL_GIFT'],
			"GIFTS_DETAIL_BLOCK_TITLE" => $arParams["GIFTS_DETAIL_BLOCK_TITLE"],
			"GIFTS_SHOW_NAME" => $arParams['GIFTS_SHOW_NAME'],
			"GIFTS_SHOW_IMAGE" => $arParams['GIFTS_SHOW_IMAGE'],
			"GIFTS_MESS_BTN_BUY" => $arParams['GIFTS_MESS_BTN_BUY'],

			"GIFTS_MAIN_PRODUCT_DETAIL_PAGE_ELEMENT_COUNT" => $arParams['GIFTS_MAIN_PRODUCT_DETAIL_PAGE_ELEMENT_COUNT'],
			"GIFTS_MAIN_PRODUCT_DETAIL_BLOCK_TITLE" => $arParams['GIFTS_MAIN_PRODUCT_DETAIL_BLOCK_TITLE'],
		),
		$component
	);?>
</div>
<div class="clearfix"></div>

<?/*fix title after ajax form start*/
$arAdditionalData = $arNavParams = array();
$arAdditionalData['TITLE'] = htmlspecialcharsback($APPLICATION->GetTitle());
$arAdditionalData['WINDOW_TITLE'] = htmlspecialcharsback($APPLICATION->GetTitle('title'));

// dirty hack: try to get breadcrumb call params
for ($i = 0, $cnt = count($APPLICATION->buffer_content_type); $i < $cnt; $i++){
	if ($APPLICATION->buffer_content_type[$i]['F'][1] == 'GetNavChain'){
		$arNavParams = $APPLICATION->buffer_content_type[$i]['P'];
	}
}
if ($arNavParams){
	$arAdditionalData['NAV_CHAIN'] = $APPLICATION->GetNavChain($arNavParams[0], $arNavParams[1], $arNavParams[2], $arNavParams[3], $arNavParams[4]);
}
?>
<script type="text/javascript">	
	BX.addCustomEvent(window, "onAjaxSuccess", function(){
		var arAjaxPageData = <?=CUtil::PhpToJSObject($arAdditionalData);?>;
		if (arAjaxPageData.TITLE)
			BX.ajax.UpdatePageTitle(arAjaxPageData.TITLE);
		if (arAjaxPageData.WINDOW_TITLE || arAjaxPageData.TITLE)
			BX.ajax.UpdateWindowTitle(arAjaxPageData.WINDOW_TITLE || arAjaxPageData.TITLE);
		if (arAjaxPageData.NAV_CHAIN)
			BX.ajax.UpdatePageNavChain(arAjaxPageData.NAV_CHAIN);
		// top.BX.ajax.UpdatePageData(arAjaxPageData);
	});	
</script>
<?/*fix title after ajax form end*/?>

<?$arAllValues=$arSimilar=$arAccessories=array();
/*similar goods*/
$arExpValues=COptimusCache::CIBlockElement_GetProperty($arParams["IBLOCK_ID"], $ElementID, array("CACHE" => array("TAG" =>COptimusCache::GetIBlockCacheTag($arParams["IBLOCK_ID"]))), array("CODE" => "EXPANDABLES"));
if($arExpValues){
	$arAllValues["EXPANDABLES"]=$arExpValues;
}
/*accessories goods*/
$arAccessories=COptimusCache::CIBlockElement_GetProperty($arParams["IBLOCK_ID"], $ElementID, array("CACHE" => array("TAG" =>COptimusCache::GetIBlockCacheTag($arParams["IBLOCK_ID"]))), array("CODE" => "ASSOCIATED"));
if($arAccessories){
	$arAllValues["ASSOCIATED"]=$arAccessories;
}
?>

<?if($arAccessories || $arExpValues || (ModuleManager::isModuleInstalled("sale") && (!isset($arParams['USE_BIG_DATA']) || $arParams['USE_BIG_DATA'] != 'N'))){?>
	<?$class_block="s_".$this->randString();
	$arTab=array();
	if($arExpValues){
		$arTab["EXPANDABLES"]=($arParams["DETAIL_EXPANDABLES_TITLE"] ? $arParams["DETAIL_EXPANDABLES_TITLE"] : GetMessage("EXPANDABLES_TITLE"));
	}
	if($arAccessories){
		$arTab["ASSOCIATED"]=( $arParams["DETAIL_ASSOCIATED_TITLE"] ? $arParams["DETAIL_ASSOCIATED_TITLE"] : GetMessage("ASSOCIATED_TITLE"));
	}
	/* Start Big Data */
	if(ModuleManager::isModuleInstalled("sale") && (!isset($arParams['USE_BIG_DATA']) || $arParams['USE_BIG_DATA'] != 'N')){
		$arTab["RECOMENDATION"]=GetMessage("RECOMENDATION_TITLE");
	}?>
	<div class="bottom_slider specials tab_slider_wrapp <?=$class_block;?>">
		<div class="top_blocks">
			<ul class="tabs">
				<?$i=1;
				foreach($arTab as $code=>$title):?>
					<li data-code="<?=$code?>" <?=($code=="RECOMENDATION" ? "style='display:none;'" : "" );?> <?=($i==1 ? "class='cur'" : "")?>><span><?=$title;?></span></li>
					<?$i++;?>
				<?endforeach;?>
				<li class="stretch"></li>
			</ul>
			<ul class="slider_navigation top custom_flex border">
				<?$i=1;
				foreach($arTab as $code=>$title):?>
					<li class="tabs_slider_navigation <?=$code?>_nav <?=($i==1 ? "cur" : "")?>" data-code="<?=$code?>"></li>
					<?$i++;?>
				<?endforeach;?>
			</ul>
		</div>
		<?$disply_elements=($arParams["DISPLAY_ELEMENT_SLIDER"] ? $arParams["DISPLAY_ELEMENT_SLIDER"] : 10);?>
		<ul class="tabs_content">
			<?foreach($arTab as $code=>$title){?>
				<li class="tab <?=$code?>_wrapp" data-code="<?=$code?>">
					<?if($code=="RECOMENDATION"){?>
						<?
						$GLOBALS["CATALOG_CURRENT_ELEMENT_ID"] = $ElementID;
						?>
						<?$APPLICATION->IncludeComponent("bitrix:catalog.bigdata.products", COptimus::checkVersionExt(), array(
							"LINE_ELEMENT_COUNT" => 5,
							"TEMPLATE_THEME" => (isset($arParams['TEMPLATE_THEME']) ? $arParams['TEMPLATE_THEME'] : ''),
							"DETAIL_URL" => $arResult["FOLDER"].$arResult["URL_TEMPLATES"]["element"],
							"BASKET_URL" => $arParams["BASKET_URL"],
							"ACTION_VARIABLE" => (!empty($arParams["ACTION_VARIABLE"]) ? $arParams["ACTION_VARIABLE"] : "action")."_cbdp",
							"PRODUCT_ID_VARIABLE" => $arParams["PRODUCT_ID_VARIABLE"],
							"PRODUCT_QUANTITY_VARIABLE" => $arParams["PRODUCT_QUANTITY_VARIABLE"],
							"ADD_PROPERTIES_TO_BASKET" => "N",
							"PRODUCT_PROPS_VARIABLE" => $arParams["PRODUCT_PROPS_VARIABLE"],
							"PARTIAL_PRODUCT_PROPERTIES" => (isset($arParams["PARTIAL_PRODUCT_PROPERTIES"]) ? $arParams["PARTIAL_PRODUCT_PROPERTIES"] : ''),
							"SHOW_OLD_PRICE" => $arParams['SHOW_OLD_PRICE'],
							"SHOW_DISCOUNT_PERCENT" => $arParams['SHOW_DISCOUNT_PERCENT'],
							"PRICE_CODE" => $arParams["PRICE_CODE"],
							"SHOW_PRICE_COUNT" => $arParams["SHOW_PRICE_COUNT"],
							"PRODUCT_SUBSCRIPTION" => $arParams['PRODUCT_SUBSCRIPTION'],
							"PRICE_VAT_INCLUDE" => $arParams["PRICE_VAT_INCLUDE"],
							"USE_PRODUCT_QUANTITY" => $arParams['USE_PRODUCT_QUANTITY'],
							"SHOW_NAME" => "Y",
							"SHOW_IMAGE" => "Y",
							"SHOW_MEASURE" => $arParams["SHOW_MEASURE"],
							"SHOW_RATING" => $arParams["SHOW_RATING"],
							"MESS_BTN_BUY" => $arParams['MESS_BTN_BUY'],
							"MESS_BTN_DETAIL" => $arParams['MESS_BTN_DETAIL'],
							"MESS_BTN_SUBSCRIBE" => $arParams['MESS_BTN_SUBSCRIBE'],
							"MESS_NOT_AVAILABLE" => $arParams['MESS_NOT_AVAILABLE'],
							"PAGE_ELEMENT_COUNT" => $disply_elements,
							"SHOW_FROM_SECTION" => "N",
							"IBLOCK_TYPE" => $arParams["IBLOCK_TYPE"],
							"IBLOCK_ID" => $arParams["IBLOCK_ID"],
							"SALE_STIKER" => $arParams["SALE_STIKER"],
							"DEPTH" => "2",
							"CACHE_TYPE" => $arParams["CACHE_TYPE"],
							"CACHE_TIME" => $arParams["CACHE_TIME"],
							"CACHE_GROUPS" => $arParams["CACHE_GROUPS"],
							"SHOW_PRODUCTS_".$arParams["IBLOCK_ID"] => "Y",
							"ADDITIONAL_PICT_PROP_".$arParams["IBLOCK_ID"] => $arParams['ADD_PICT_PROP'],
							"LABEL_PROP_".$arParams["IBLOCK_ID"] => "-",
							"HIDE_NOT_AVAILABLE" => $arParams["HIDE_NOT_AVAILABLE"],
							"CONVERT_CURRENCY" => $arParams["CONVERT_CURRENCY"],
							"CURRENCY_ID" => $arParams["CURRENCY_ID"],
							"SECTION_ID" => $arResult["VARIABLES"]["SECTION_ID"],
							"SECTION_CODE" => $arResult["VARIABLES"]["SECTION_CODE"],
							"SECTION_ELEMENT_ID" => $arResult["VARIABLES"]["SECTION_ID"],
							"SECTION_ELEMENT_CODE" => $arResult["VARIABLES"]["SECTION_CODE"],
							"ID" => $ElementID,
							"PROPERTY_CODE_".$arParams["IBLOCK_ID"] => $arParams["LIST_PROPERTY_CODE"],
							"CART_PROPERTIES_".$arParams["IBLOCK_ID"] => $arParams["PRODUCT_PROPERTIES"],
							"RCM_TYPE" => (isset($arParams['BIG_DATA_RCM_TYPE']) ? $arParams['BIG_DATA_RCM_TYPE'] : ''),
							"DISPLAY_WISH_BUTTONS" => $arParams["DISPLAY_WISH_BUTTONS"],
							"DISPLAY_COMPARE" => $arParams["USE_COMPARE"],
							"OFFERS_LIMIT" => $arParams["LIST_OFFERS_LIMIT"],
							),
							false,
							array("HIDE_ICONS" => "Y")
						);
						?>
					<?}else{?>
						<ul class="tabs_slider <?=$code?>_slides wr">
							<?$GLOBALS['arrFilter'.$code] = array( "ID" => $arAllValues[$code] );?>
							<?$APPLICATION->IncludeComponent(
								"bitrix:catalog.top",
								"main",
								array(
									"TITLE_BLOCK" => $arParams["SECTION_TOP_BLOCK_TITLE"],
									"IBLOCK_TYPE" => $arParams["IBLOCK_TYPE"],
									"IBLOCK_ID" => $arParams["IBLOCK_ID"],
									"SALE_STIKER" => $arParams["SALE_STIKER"],
									"SHOW_RATING" => $arParams["SHOW_RATING"],
									"FILTER_NAME" => 'arrFilter'.$code,
									"ELEMENT_SORT_FIELD" => $arParams["ELEMENT_SORT_FIELD"],
									"ELEMENT_SORT_ORDER" => $arParams["ELEMENT_SORT_ORDER"],
									"ELEMENT_SORT_FIELD2" => $arParams["ELEMENT_SORT_FIELD2"],
									"ELEMENT_SORT_ORDER2" => $arParams["ELEMENT_SORT_ORDER2"],
									"SECTION_URL" => $arResult["FOLDER"].$arResult["URL_TEMPLATES"]["section"],
									"DETAIL_URL" => $arResult["FOLDER"].$arResult["URL_TEMPLATES"]["element"],
									"BASKET_URL" => $arParams["BASKET_URL"],
									"ACTION_VARIABLE" => $arParams["ACTION_VARIABLE"],
									"PRODUCT_ID_VARIABLE" => $arParams["PRODUCT_ID_VARIABLE"],
									"SECTION_ID_VARIABLE" => $arParams["SECTION_ID_VARIABLE"],
									"PRODUCT_QUANTITY_VARIABLE" => $arParams["PRODUCT_QUANTITY_VARIABLE"],
									"PRODUCT_PROPS_VARIABLE" => $arParams["PRODUCT_PROPS_VARIABLE"],
									"DISPLAY_COMPARE" => $arParams["USE_COMPARE"],
									"DISPLAY_WISH_BUTTONS" => $arParams["DISPLAY_WISH_BUTTONS"],
									"ELEMENT_COUNT" => $disply_elements,
									"SHOW_MEASURE" => $arParams["SHOW_MEASURE"],
									"LINE_ELEMENT_COUNT" => $arParams["TOP_LINE_ELEMENT_COUNT"],
									"PROPERTY_CODE" => $arParams["DETAIL_PROPERTY_CODE"],
									"PRICE_CODE" => $arParams["PRICE_CODE"],
									"USE_PRICE_COUNT" => $arParams["USE_PRICE_COUNT"],
									"SHOW_PRICE_COUNT" => $arParams["SHOW_PRICE_COUNT"],
									"PRICE_VAT_INCLUDE" => $arParams["PRICE_VAT_INCLUDE"],
									"PRICE_VAT_SHOW_VALUE" => $arParams["PRICE_VAT_SHOW_VALUE"],
									"USE_PRODUCT_QUANTITY" => $arParams['USE_PRODUCT_QUANTITY'],
									"ADD_PROPERTIES_TO_BASKET" => (isset($arParams["ADD_PROPERTIES_TO_BASKET"]) ? $arParams["ADD_PROPERTIES_TO_BASKET"] : ''),
									"PARTIAL_PRODUCT_PROPERTIES" => (isset($arParams["PARTIAL_PRODUCT_PROPERTIES"]) ? $arParams["PARTIAL_PRODUCT_PROPERTIES"] : ''),
									"PRODUCT_PROPERTIES" => $arParams["PRODUCT_PROPERTIES"],
									"CACHE_TYPE" => $arParams["CACHE_TYPE"],
									"CACHE_TIME" => $arParams["CACHE_TIME"],
									"CACHE_GROUPS" => $arParams["CACHE_GROUPS"],
									"CACHE_FILTER" => $arParams["CACHE_FILTER"],
									"OFFERS_CART_PROPERTIES" => $arParams["OFFERS_CART_PROPERTIES"],
									"OFFERS_FIELD_CODE" => $arParams["LIST_OFFERS_FIELD_CODE"],
									"OFFERS_PROPERTY_CODE" => $arParams["OFFERS_PROPERTY_CODE"],
									"OFFERS_SORT_FIELD" => $arParams["OFFERS_SORT_FIELD"],
									"OFFERS_SORT_ORDER" => $arParams["OFFERS_SORT_ORDER"],
									"OFFERS_SORT_FIELD2" => $arParams["OFFERS_SORT_FIELD2"],
									"OFFERS_SORT_ORDER2" => $arParams["OFFERS_SORT_ORDER2"],
									"OFFERS_LIMIT" => $arParams["LIST_OFFERS_LIMIT"],
									'CONVERT_CURRENCY' => $arParams['CONVERT_CURRENCY'],
									'CURRENCY_ID' => $arParams['CURRENCY_ID'],
									'HIDE_NOT_AVAILABLE' => $arParams['HIDE_NOT_AVAILABLE'],
									'VIEW_MODE' => (isset($arParams['TOP_VIEW_MODE']) ? $arParams['TOP_VIEW_MODE'] : ''),
									'ROTATE_TIMER' => (isset($arParams['TOP_ROTATE_TIMER']) ? $arParams['TOP_ROTATE_TIMER'] : ''),
									'TEMPLATE_THEME' => (isset($arParams['TEMPLATE_THEME']) ? $arParams['TEMPLATE_THEME'] : ''),
									'LABEL_PROP' => $arParams['LABEL_PROP'],
									'ADD_PICT_PROP' => $arParams['ADD_PICT_PROP'],
									'PRODUCT_DISPLAY_MODE' => $arParams['PRODUCT_DISPLAY_MODE'],

									'OFFER_ADD_PICT_PROP' => $arParams['OFFER_ADD_PICT_PROP'],
									'OFFER_TREE_PROPS' => $arParams['OFFER_TREE_PROPS'],
									'PRODUCT_SUBSCRIPTION' => $arParams['PRODUCT_SUBSCRIPTION'],
									'SHOW_DISCOUNT_PERCENT' => $arParams['SHOW_DISCOUNT_PERCENT'],
									'SHOW_OLD_PRICE' => $arParams['SHOW_OLD_PRICE'],
									'MESS_BTN_BUY' => $arParams['MESS_BTN_BUY'],
									'MESS_BTN_ADD_TO_BASKET' => $arParams['MESS_BTN_ADD_TO_BASKET'],
									'MESS_BTN_SUBSCRIBE' => $arParams['MESS_BTN_SUBSCRIBE'],
									'MESS_BTN_DETAIL' => $arParams['MESS_BTN_DETAIL'],
									'MESS_NOT_AVAILABLE' => $arParams['MESS_NOT_AVAILABLE'],
									'ADD_TO_BASKET_ACTION' => $basketAction,
									'SHOW_CLOSE_POPUP' => isset($arParams['COMMON_SHOW_CLOSE_POPUP']) ? $arParams['COMMON_SHOW_CLOSE_POPUP'] : '',
									'COMPARE_PATH' => $arResult['FOLDER'].$arResult['URL_TEMPLATES']['compare'],
								),
								false, array("HIDE_ICONS"=>"Y")
							);?>
						</ul>
					<?}?>
				</li>
			<?}?>
		</ul>
	</div>
	<script type="text/javascript">
		$(document).ready(function(){
			
			$('.tab_slider_wrapp.<?=$class_block;?> .tabs > li').first().addClass('cur');
			$('.tab_slider_wrapp.<?=$class_block;?> .slider_navigation > li').first().addClass('cur');
			$('.tab_slider_wrapp.<?=$class_block;?> .tabs_content > li').first().addClass('cur');
			
			var flexsliderItemWidth = 220;
			var flexsliderItemMargin = 12;
			
			var sliderWidth = $('.tab_slider_wrapp.<?=$class_block;?>').outerWidth();
			var flexsliderMinItems = Math.floor(sliderWidth / (flexsliderItemWidth + flexsliderItemMargin));
			$('.tab_slider_wrapp.<?=$class_block;?> .tabs_content > li.cur').flexslider({
				animation: 'slide',
				selector: '.tabs_slider .catalog_item',
				slideshow: false,
				animationSpeed: 600,
				directionNav: true,
				controlNav: false,
				pauseOnHover: true,
				animationLoop: true, 
				itemWidth: flexsliderItemWidth,
				itemMargin: flexsliderItemMargin, 
				minItems: flexsliderMinItems,
				controlsContainer: '.tabs_slider_navigation.cur',
				start: function(slider){
					slider.find('li').css('opacity', 1);
				}
			});
			
			$('.tab_slider_wrapp.<?=$class_block;?> .tabs > li').on('click', function(){
				var sliderIndex = $(this).index();				
				if(!$('.tab_slider_wrapp.<?=$class_block;?> .tabs_content > li.cur .flex-viewport').length){
					$('.tab_slider_wrapp.<?=$class_block;?> .tabs_content > li.cur').flexslider({
						animation: 'slide',
						selector: '.tabs_slider .catalog_item',
						slideshow: false,
						animationSpeed: 600,
						directionNav: true,
						controlNav: false,
						pauseOnHover: true,
						animationLoop: true, 
						itemWidth: flexsliderItemWidth,
						itemMargin: flexsliderItemMargin, 
						minItems: flexsliderMinItems,
						controlsContainer: '.tabs_slider_navigation.cur',
					});
					setHeightBlockSlider();
				}
				if($(this).data("code")=="RECOMENDATION"){
					if($(this).data("clicked")!="Y"){
						$(window).resize();
						$(this).data("clicked","Y");
						setHeightBlockSlider();
					}
				}
			});

			setHeightBlockSlider();

			$(document).on({
				mouseover: function(e){
					var tabsContentHover = $(this).closest('.tab').attr('data-hover') * 1;
					$(this).closest('.tab').fadeTo(100, 1);
					$(this).closest('.tab').stop().css({'height': tabsContentHover});
					$(this).find('.buttons_block').fadeIn(450, 'easeOutCirc');
				},
				mouseleave: function(e){
					var tabsContentUnhoverHover = $(this).closest('.tab').attr('data-unhover') * 1;
					$(this).closest('.tab').stop().animate({'height': tabsContentUnhoverHover}, 100);
					$(this).find('.buttons_block').stop().fadeOut(233);
				}
			}, '.<?=$class_block;?> .tabs_slider > li');
		})
	</script>
<?}?>138  637|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/components/bitrix/catalog.store/main/liststores.php|d04798ca<?if(!defined("B_PROLOG_INCLUDED") || B_PROLOG_INCLUDED!==true)die();?>
<?$this->setFrameMode(true);?>
<?$APPLICATION->IncludeComponent(
	"bitrix:catalog.store.list",
	"main",
	Array(
		"CACHE_TIME" => $arParams["CACHE_TIME"],
		"PHONE" => $arParams["PHONE"],
		"SCHEDULE" => $arParams["SCHEDULE"],
		"MIN_AMOUNT" => $arParams["MIN_AMOUNT"],
		"TITLE" => $arParams["TITLE"],
		"SET_TITLE" => "N",
		"PATH_TO_ELEMENT" => $arResult["PATH_TO_ELEMENT"],
		"PATH_TO_LISTSTORES" => $arResult["PATH_TO_LISTSTORES"],
		"MAP_TYPE" => $arParams["MAP_TYPE"],
		"GOOGLE_API_KEY" => $arParams["GOOGLE_API_KEY"],
	),
	$component
);?>138  449|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/components/bitrix/catalog.store/main/.parameters.php|949e358<?
if (!defined("B_PROLOG_INCLUDED") || B_PROLOG_INCLUDED!==true) die();
/** @var array $arCurrentValues */
/** @global CUserTypeManager $USER_FIELD_MANAGER */
global $USER_FIELD_MANAGER;
use Bitrix\Main\Loader;
use Bitrix\Main\ModuleManager;
Loader::includeModule('iblock');


$arTemplateParameters = array(
	"GOOGLE_API_KEY" => Array(
		"NAME" => GetMessage("GOOGLE_API_KEY"),
		"TYPE" => "STRING",
		"DEFAULT" => "",
	),	
);

?>135  799|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/components/bitrix/catalog.store/main/element.php|51bfadd4<?if(!defined("B_PROLOG_INCLUDED") || B_PROLOG_INCLUDED!==true)die();?>
<?$this->setFrameMode(true);?>
<?$APPLICATION->IncludeComponent(
	"bitrix:catalog.store.detail",
	"main",
	Array(
		"CACHE_TIME" => $arParams["CACHE_TIME"],
		"STORE" => $arResult["STORE"],
		"TITLE" => $arParams["TITLE"],
		"PATH_TO_ELEMENT" => $arResult["PATH_TO_ELEMENT"],
		"PATH_TO_LISTSTORES" => $arResult["PATH_TO_LISTSTORES"],
		"SET_TITLE" => $arParams["SET_TITLE"],
		"MAP_TYPE" => $arParams["MAP_TYPE"],
		"GOOGLE_API_KEY" => $arParams["GOOGLE_API_KEY"],
	),
	$component
);?>
<?
if ($arParams['SET_TITLE'] == 'Y') {
	$APPLICATION->SetTitle($_SESSION['SHOP_TITLE']);
	$APPLICATION->SetPageProperty("title", $_SESSION['SHOP_TITLE']);
}
$APPLICATION->AddChainItem($_SESSION['SHOP_TITLE'], "");
?>146  65|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/components/bitrix/catalog.store/main/lang/ru/.parameters.php|7ba2ebcf<?
$MESS["GOOGLE_API_KEY"] = "API ключ google карт";
?>146  65|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/components/bitrix/catalog.store/main/lang/en/.parameters.php|7ba2ebcf<?
$MESS["GOOGLE_API_KEY"] = "API ключ google карт";
?>144  1514|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/components/bitrix/news.detail/shops/component_epilog.php|3b394533<?
$arResult['TITLE'] = (in_array('NAME', $arParams['FIELD_CODE']) ? $arResult['NAME'] : '');
$arResult['ADDRESS'] = (in_array('ADDRESS', $arParams['PROPERTY_CODE']) ? $arResult['PROPERTIES']['ADDRESS']['VALUE'] : '');
$arResult['ADDRESS'] = $arResult['TITLE'].((strlen($arResult['TITLE']) && strlen($arResult['ADDRESS'])) ? ', ' : '').$arResult['ADDRESS'];
$_SESSION['SHOP_TITLE'] = $arResult['ADDRESS'];
?>
<?$arShop=COptimus::prepareShopDetailArray($arResult, $arParams);?>
<?ob_start()?>
	<?if(abs($arShop["POINTS"]["LAT"]) > 0 && abs($arShop["POINTS"]["LON"]) > 0):?>
		<div class="contacts_map">
			<?$APPLICATION->IncludeComponent(
			"bitrix:map.google.view",
			"map",
			array(
				"INIT_MAP_TYPE" => "ROADMAP",
				"MAP_DATA" => serialize(array("google_lat" => $arShop["POINTS"]["LAT"], "google_lon" => $arShop["POINTS"]["LON"], "google_scale" => 16, "PLACEMARKS" => $arShop["PLACEMARKS"])),
				"MAP_WIDTH" => "100%",
				"MAP_HEIGHT" => "400",
				"CONTROLS" => array(
				),
				"OPTIONS" => array(
					0 => "ENABLE_DBLCLICK_ZOOM",
					1 => "ENABLE_DRAGGING",
				),
				"MAP_ID" => "",
				"ZOOM_BLOCK" => array(
					"POSITION" => "right center",
				),
				"COMPONENT_TEMPLATE" => "map",
				"API_KEY" => $arParams["GOOGLE_API_KEY"],
				"COMPOSITE_FRAME_MODE" => "A",
				"COMPOSITE_FRAME_TYPE" => "AUTO"
			),
			false, array("HIDE_ICONS" =>"Y")
		);?>
		</div>
	<?endif;?>
<?$html=ob_get_clean();?>
<?$APPLICATION->AddViewContent('map_content', $html);?>114  25956|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/themes/navy/theme.min.css|f61f77ffa.scroll-to-top.ROUND_COLOR,a.scroll-to-top.RECT_COLOR{background-color:#006DCA;}a.scroll-to-top.ROUND_COLOR:hover,a.scroll-to-top.RECT_COLOR:hover{background-color:#2b78c3;}ul li::before{color:#0071bb;}.basket_print i{background-color:#005fb1;}.rss_feed_icon{background:#0071bb;color:#000;}.start_promo .item i.title a,.start_promo .item i.price a,.start_promo .item i.title span,.start_promo .item i.price span,.start_promo .item span.main_wrap i:after,.start_promo .item p span,.wrap_tizer .wrap_outer,.wrap_tizer .wrap_outer .outer_text,.wrap_tizer .wrap_outer .inner_text{background:#006ac5;}.start_promo .item i.title span,.start_promo .item i.price span{box-shadow:-4px 1px 0px 4px #006ac5, 4px 1px 0px 4px #006ac5;}.start_promo .item i.price span{box-shadow:-4px 0px 0px 4px #006ac5, 4px 0px 0px 4px #006ac5;}.module-map .infoBox .close_info:hover{background-color:#0071bb;}#header ul.menu.full>li.search_row #search-submit-button:hover,#header ul.menu.full>li.search_row #search-submit-button.hover{border:transparent;}#header .catalog_menu ul.menu>li,#header ul.menu.adaptive:not(.opened) li.menu_opener,#header ul.menu.full.opened li:not(.search_row):hover,#header ul.menu.full.opened li.current{border-bottom:1px solid #003e83;}#header .catalog_menu ul.menu>li:not(.current):not(.stretch):hover{border-bottom:1px solid #004e88;border-right:1px solid #004e88;}#header ul.menu.full.opened li:not(.search_row):hover,#header ul.menu.full.opened li.current{border-top:1px solid #006ac5;}#header .catalog_menu ul.menu>li.current>a{color:#fff;border-left:1px solid #0067c0;}#header .catalog_menu ul.menu>li{border-right:1px solid #003e83;}.header-cart-block .cart span.icon i{background-position:0px -84px;}ul.menu li .child .child_wrapp,.breadcrumbs .dropdown,.authorization-cols .form-block{border-top:2px solid #0071bb;}.catalog_detail ul.tabs.main_tabs{border-bottom:2px solid #0071bb;}ul.menu li b.space,.breadcrumbs .drop b.space,.hint .triangle{border-bottom:6px solid #0071bb;}.basket_button,.basket_button span,.button30,.button30 span,.popup .soc-avt .row a{color:#fff;}#footer .footer_inner .line,#header .basket_fly .opener .basket_count,.page_not_found td.image img{background:#0071bb;}#bx-soa-order-form .btn.btn-default{background:#0071bb;border-color:#0071bb;}#bx-soa-order-form .btn.btn-default:hover{background:#2975c0;border-color:#2975c0;}ul.tabs li.cur .triangle,.view-list .view-header i.triangle{border-top:5px solid #005fb1 !important;}.basket_button.add span{background-position:0px -6px;}.basket_button.read_more span{background-position:1px -448px;}.basket_button.added span{background-position:0px -45px;}.front_slider_wrapp .extended_pagination>li.active i.triangle{border-right-color:#005fb1;}.catalog_detail .extended_info a.compare_item i{background-position:-32px -65px;}.catalog_detail .extended_info a.wish_item i{background-position:3px -72px;}.display_list a.compare_item i{background-position:-32px -3px;}.display_list a.wish_item i{background-position:-3px -2px;}.display_list a.compare_item:hover i,.display_list a.compare_item.added i{background-position:-32px -65px;}.display_list a.wish_item:hover i,.display_list a.wish_item.added i{background-position:-3px -63px;}.popup .form .form_head{border-bottom-color:#0071bb;}.item_slider .thumbs i.triangle{border-bottom:5px solid #0071bb;}blockquote:before{background-color:#0071bb;}.module-gallery-list li .fancy_hover:hover{border:2px solid #0071bb;}.smartfilter .bx_ui_slider_track .bx_ui_slider_range,.bx_filter .bx_ui_slider_pricebar_V{background:#0071bb;}.catalog_block .catalog_item .basket_button.read_more span{background-position:1px -408px;}.catalog_block .catalog_item .basket_button.to-cart span{background-position:0 -7px;}.catalog_block .catalog_item:hover .basket_button span{color:#fff;background-position:0px -87px;}.catalog_block .catalog_item:hover .basket_button.read_more span{background-position:1px -448px !important;}.catalog_item .basket_button.in-cart span,.basket_button.in-cart span{background-position:0px -127px !important;}.catalog_item:hover .basket_button.added span{color:#fff;}.bx_filter_container #modef .triangle,.left_block .internal_sections_list .child_wrapp .triangle{border-right:6px solid #0071bb;}#order_form_div .sale_order_table .ps_logo img:hover,#order_form_div .sale_order_table .ps_logo input[type=radio]:checked+label img,#order_form_div .sale_order_table.delivery label:hover img,#order_form_div .sale_order_table.delivery input[type=radio]:checked+label img,#order_form_div div.ps_logo.selected img,#order_form_div .account label:hover img,#order_form_div .account img.active{border:2px solid #0071bb;}.front_slider_wrapp .extended_pagination>li.active span,a.b-share-popup__item:hover .b-share-popup__item__text{color:#fff !important;}ul.tabs li.cur span,ul.tabs li.cur:hover span,.front_slider_wrapp a.read_more{color:#fff;}.left_menu>li.current>a,.left_menu>li:not(.exit):hover{background:#0071bb;}a i.arrow b{background-position:-36px 0px;}.top-h-row .search #search-submit-button:hover i,.top-h-row .search #search-submit-button.hover i{background-position:top center;}.catalog_detail a.compare_item:hover .icon i{background-position:-32px -65px;}.catalog_detail a.wish_item:hover .icon i{background-position:2px -45px;}ul.menu li.current a i{background-position:-61px 0px;}.button30.ask_question span.show_form,.button30.ask_question span.hide_form{background-position:5px -605px;}.button30.ask_question span.hide_form{color:#000;}.button30.ask_question span.hide_form:hover{color:#fff;}.question-list .q .ic b{background-position:-38px -188px;}.question-list .q.op .ic b{background-position:-8px -188px;}.number_list a.current span{color:#fff !important;}.basket_button span,.compare_button span{background-position:0px -87px;}.bx_filter_container_title .hint.active .hint_icon,.bx_filter_container_title .hint.active .hint_icon,.bx_filter_container_title .hint.active .hint_icon:hover,#header .basket_fly .opener .basket_count:not(.empty).count{color:#fff;}.left_block .internal_sections_list li.item:hover>a,.left_block .internal_sections_list li.item.cur>a{color:#fff;}.left_block .internal_sections_list li *{-webkit-transition:none;-moz-transition:none;-o-transition:none;transition:none;}a.compare_item i{background-position:-31px -1px;}a.wish_item i{background-position:-2px -1px;}a.compare_item:hover i{background-position:-31px -33px;}a.wish_item:hover i{background-position:-2px -32px;}a.compare_item.added i{background-position:-31px -63px;}a.wish_item.added i{background-position:-2px -62px;}.module_products_list .basket_button.to-cart span{background-position:0 -7px;}.module_products_list .basket_button.to-cart:hover span{background-position:0px -87px;}.basket_button.in-cart span{background-position:0px -127px;}.popup .close:hover i,.popup .grey .close i,.popup-window-close-icon.popup-window-titlebar-close-icon:hover:after{background-position:-1px -59px;}.card_popup_frame.popup .but_row a.to_basket .icon i{background-position:-5px -170px;}.soc-serv-main .button30 span,.reviews-expanded .button30.add_review span,.catalog_detail .basket_button.one_click span,.button30.review_preview span,.popup .grey .pop-up-title{color:#000;text-shadow:0 1px 0px rgba(255,255,255,0.5);-moz-text-shadow:0 1px 0px rgba(255,255,255,0.5);-o-text-shadow:0 1px 0px rgba(255,255,255,0.5);-webkit-text-shadow:0 1px 0px rgba(255,255,255,0.5);}.module-order-history .status.delivered{color:#fff;}.jobs_wrapp .item a:not(.opened):hover .icon i,.staff_wrapp .section .section_title:not(.opened):hover .icon i{background-position:-31px -33px;}.jobs_wrapp .item a.opened:hover .icon i,.staff_wrapp .section .section_title.opened:hover .icon i{background-position:0 -34px;}.button30.add_review span{background-position:4px -286px;}.button30.send_review span{background-position:4px -365px;}.card_popup_frame.popup .but_row a.to_delay .icon i{background-position:-48px -257px;}.compare_button span{background-position:-32px -64px;}#header .basket_fly .opener .basket_count .icon i{background-position:-7px -89px;}#header .basket_fly .opener .basket_count.empty:hover .icon i{background-position:-7px -47px;}#header .basket_fly .opener .basket_count.empty .icon i{background-position:-7px -5px;}#header .basket_fly .opener .wish_count .icon i{background-position:-48px -424px;}#header .basket_fly .opener .wish_count:hover .icon i{background-position:-48px -383px;}ul.menu li a{color:#000;}.catalog_menu ul.menu li a{color:#fff;}ul.menu li a i{background-position:-2px -20px;}.catalog_menu ul.menu li a i{background-position:-61px 0px;}a i.arrow.down b{background-position:-36px -35px;}.catalog_item:hover .basket_button span{color:#fff;}ul.specials_slider .basket_button span{background-position:0 -7px;}ul.specials_slider .basket_button:hover span,ul.specials_slider li:hover .basket_button span{background-position:0px -87px;}ul.specials_slider .basket_button.read_more span{background-position:1px -408px;}ul.specials_slider li:hover .basket_button.read_more span{background-position:1px -448px !important;}.top_slider_wrapp .flex-direction-nav li a.flex-next{background-position:-58px -60px;}.top_slider_wrapp .flex-direction-nav li:hover a.flex-prev{background-position:-3px -60px;}.top_slider_wrapp .flex-direction-nav li a.flex-prev{background-position:-3px 0px;}#header .basket_fly .opener .wish_count.empty:hover .icon i{background-position:-48px -341px;}#header .basket_fly .opener .wish_count.empty .icon i{background-position:-48px -299px;}#bx-soa-order .bx-soa-section .bx-soa-section-title:before{background-color:#006DCA;}#bx-soa-order div[class*=bx-sls] .quick-locations .quick-location-tag{border-color:#006DCA;color:#006DCA;}#bx-soa-order div[class*=bx-sls] .quick-locations .quick-location-tag:hover{background-color:#006DCA;color:#fff;}#bx-soa-order .bx-soa .form-group .radio-inline.checked label:before,#bx-soa-order .bx-soa .form-group .radio-inline label:hover:before,#bx-soa-order .bx-soa-pp-company:hover .bx-soa-pp-company-graf-container:before,#bx-soa-order .bx-soa-pp-company.bx-selected .bx-soa-pp-company-graf-container:before{background-color:#006DCA;}#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company.bx-selected .bx-soa-pp-company-graf-container,#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company:hover .bx-soa-pp-company-graf-container{border-color:#006DCA;}#bx-soa-order .bx-soa-pp-desc-container .bx-soa-pp-company:before,#bx-soa-order .bx-soa-pp-desc-container .checkbox label:hover:before,#bx-soa-order .bx-soa-pp-desc-container .checkbox label.checked:before{background-color:#006DCA;}#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company:hover .bx-soa-pp-company-smalltitle,#bx-soa-order .bx-soa-more .bx-soa-more-btn .pull-left{color:#006DCA;}#bx-soa-order .bx-soa-coupon-input:hover:after,#bx-soa-order .bx-soa-coupon-item .bx-soa-coupon-remove:hover{background-color:#006DCA;}#bx-soa-order div[class*=bx-sls] .bx-ui-sls-clear:hover:before{background-color:#006DCA;}@media all and (max-width:950px){.header_wrap.colored #header .center_block .main-nav{background:#006ac5;}}@media all and (max-width:768px){body .top_slider_wrapp .flex-direction-nav li a{background-image:url(../../images/arrows_big.png);}body .top_slider_wrapp .flex-direction-nav li a.flex-next{background-position:-30px -94px;}body .top_slider_wrapp .flex-direction-nav li a.flex-prev{background-position:0 -127px;}body .top_slider_wrapp .flex-direction-nav li a.flex-prev:hover{background-position:0 -94px;}body .flex-control-paging li a.flex-active, body .flex-control-paging li:hover a:not(.touch){background:#006ac5;background:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzAwYWFlMiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMwMDhmYzciIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);background:-moz-linear-gradient(top,#006ac5 0%,#0057ab 100%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0%,#006ac5),color-stop(100%,#0057ab));background:-webkit-linear-gradient(top,#006ac5 0%,#0057ab 100%);background:-o-linear-gradient(top,#006ac5 0%,#0057ab 100%);background:-ms-linear-gradient(top,#006ac5 0%,#0057ab 100%);background:linear-gradient(to bottom,#006ac5 0%,#0057ab 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='@bcolor_00aae2',endColorstr='@bcolor_008fc7',GradientType=0);}}@media all and (max-width:600px){#header ul.menu.full.opened>li, .has_menu #header .center_block .main-nav{background-color:#006ac5;}.has_menu #header .center_block .main-nav:hover{background:#238cda none repeat scroll 0 0;}#header ul.menu.full.opened li.current{background:#0057ab;}}@media all and (max-width:550px){body #footer .footer_inner .line{border-top:4px solid #0071bb;}.basket_wrapp .empty_cart:not(.bcart).wraps_icon_block.basket .count span, .basket_wrapp .basket_empty .wraps_icon_block.basket .count span{color:#FFF;background:#006ac5;}}#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li:hover>a,#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li.opened>a,#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li.current>a{background:#238cda;}#header .wrapper_middle_menu.wrap_menu ul.menu.opened>li{background:#005fb1;}.button.transparent,.h_color_white .header_wrap .menu>li.current>a span,.h_color_white.wrapper #header ul.menu li .child .child_wrapp,.m_color_white.wrapper #header ul.menu li .child .child_wrapp,.basket_normal .popup.card_popup_frame .basket_popup_wrapp,.basket_sort ul.tabs li.cur div,.smartfilter .bx_ui_slider_track .bx_ui_slider_handle,.bx_filter .button,.bx_filter_vertical input[type="checkbox"]:checked+label.sku,.sku_props .bx_item_detail_size ul li.active,.bx_size_scroller_container .bx_size ul li.bx_active,.bx_filter .bx_filter_param_label.active .bx_filter_param_btn,.bx_catalog_item_scu .bx_item_detail_scu ul li.active span.cnt,.item_slider .thumbs li.current,.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-left-column,.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-center-column,.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-right-column,.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-left-column,.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-center-column,.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-right-column,.bx_element input[type=radio]:checked+label .bx_logotype,.bx_element label.selected .bx_logotype{border-color:#2975c0;}a,.link,.button.transparent,.button.transparent:hover,.specials_slider_wrapp ul.tabs>li span,.tab_slider_wrapp ul.tabs>li span,.basket_wrapp .basket_block .link:hover+.wraps_icon_block+.text .title,.stores .stores_list .item a span,.phones .order_wrap_btn,.footer_bottom .all_menu_block ul li a:hover,.footer_bottom .submenu_top .menu_item a:hover,.avtorization-call.enter:hover span,.top-h-row .h-user-block a:hover,ul.menu .child li.menu_item a,#header .catalog_menu ul.menu>li.current>a,ul.menu .child .depth3 a,ul.menu .child li.menu_title a:hover,#header ul.menu li .child.submenu .child_wrapp a:not(.title),.img_block_capcha .reload,.h_color_white .center_block .menu.full>li:hover>a,.m_color_white #header .wrapper_middle_menu .menu.bottom>li:hover>a,.m_color_white #header .wrapper_middle_menu .menu.bottom>li.hover>a,body #header ul.menu li .child.line .child_wrapp>a:hover,.basket_sort ul.tabs li .wrap_li>span *,.basket_sort ul.tabs li .wrap_li>span,.bx_filter_parameters_box_title:hover,.bx_filter .bx_filter_popup_result a,.left_block .internal_sections_list .child_wrapp .child li.cur>a,.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item.cur,.left_block .internal_sections_list .child_wrapp a:hover,.ajax_load_btn:hover .more_text_ajax,.breadcrumbs a:hover span,.tabs-head li.current span,.item-stock .store_view,.reviews-post-reply-buttons a:hover,h4.hover,.button.transparent.white:hover,.button.white_bg,.item .child_container .child_wrapp .menu_item.current a,.item .child_container .child_wrapp .menu_item:hover a{color:#005fb1;}button.button,input.button,.button,#header ul.menu.full.opened li:not(.search_row):hover,#header ul.menu.full>li.search_row #search-submit-button:hover,table.title-search-result td.title-search-all a .icon,.flex-direction-nav li:hover,.flex-direction-nav li:first-child:hover,.top_slider_wrapp .flex-direction-nav li:hover,.like_icons .wish_item.added,.like_icons .compare_item.added,.light .stores .all_map,.block_wr.dark,.popup .close:hover,.header_wrap #header .middle-h-row .logo_wrapp .logo a,.h_color_colored .header_wrap #header,.registraion-page .top p:after,.has_menu.m_color_colored #header .catalog_menu,.module-cart .remove-cell a:hover,.cart_shell .remove-cell a:hover,.bx_item_set_hor .bx_item_set_hor_item a.remove,.bx_filter .bx_filter_popup_result,.bx_filter .bx_filter_parameters_box_title:before,.bx_filter_vertical input[type="checkbox"]+label:before,.filter input[type="checkbox"]+label:before,.filter input[type="radio"]+label:before,.bx_filter label.pal:hover .bx_filter_param_btn,.bx_filter .bx_filter_param_label.active .bx_filter_param_btn,.bx_filter_vertical input[type="checkbox"]:checked+label.sku,.left_block .internal_sections_list li.cur,.left_block .internal_sections_list li:hover,.left_block .internal_sections_list .title .inner_block:hover:before,.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item.cur:before,.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item:hover:before,.left_block .internal_sections_list .child_wrapp ul.child li.cur:after,.left_block .internal_sections_list .child_wrapp ul.child li:hover:after,body #content .props_list tr td>span:before,body #content .props_list tr td>.txt:before,.module-pagination .nums .cur,.more_text_ajax:before,.captcha_reload:before,.sku_props .bx_item_detail_size ul li.active,.bx_size_scroller_container .bx_size ul li.bx_active,.bx_catalog_item_scu .bx_item_detail_scu ul li.active span:not(.cnt_item),.ik_select_list .ik_select_list_inner ul li.ik_select_active,.bx_filter_select_popup ul li label.selected,.filter_opener.opened,.no_goods .no_products:before,.wr_scrollbar .scrollbar .handle,.remove:hover,a i.arrow,.popup-window-close-icon.popup-window-titlebar-close-icon:hover,.bx_kit_item .bx_kit_item_add,.catalog_detail .offers_table td.opener:hover .opener_icon,.opener_icon:hover,.char_name .hint .icon:hover,.char_name .hint.active .icon,.location-block-wrapper .bx-sls .bx-ui-sls-clear:before,h4:hover .opener_icon,.bg_block:before,#order_form_div input[type="submit"],.module-order-history .item_name:hover .icon,.module-order-history .item_name:hover .icon,.faq.list .item .q:hover .opener_icon,.jobs_wrapp .item .name tr:hover .opener_icon{color:#FFF;background:#006ac5;}.catalog_detail .bx-modal-container .btn.btn-add{color:#FFF;background:#006ac5;}.catalog_detail .bx-modal-container .btn.btn-add:hover{background:#2975c0;}.colored #header .catalog_menu ul.menu>li,header .wrap_menu{background:#0065bb;}#header .catalog_menu ul.menu>li .dropdown>li.current a{background:#005cab;}.tabs-head li.current:before{background-color:#006ac5;}.like_icons .compare_item.added i,.like_icons .wish_item.added i{background-color:#006ac5;}.icon_error_block:after{background-color:#006ac5 !important;}.flex-direction-nav li:first-child,.flex-direction-nav li,.flex-direction-nav li:hover{border-bottom-width:0px;}.specials_slider_wrapp ul.tabs li.cur span,.tab_slider_wrapp ul.tabs li.cur span,.popup .popup-intro{border-bottom-color:#2975c0;}.button:hover,.like_icons .compare_item.added:hover,.like_icons .wish_item.added:hover,.light .stores .all_map:hover{background:#2975c0;}.like_icons .compare_item.added:hover i,.like_icons .wish_item.added:hover i{background-color:#2975c0;}.wrapper_middle_menu.wrap_menu.mobile:hover{background:#2975c0;}.header_wrap #header .catalog_menu.menu_colored .inc_menu ul.menu>li:not(.current):hover>a{background:#0075d9;}header .menu_top_block li .dropdown>li:hover>a,header .menu_top_block li:not(.catalog).dropdown>li.current>a:not(.section),header .menu_top_block li.catalog>.dropdown>li:hover>a:before{background:#006DCA;}header .menu_colored .menu_top_block>li.current>a,header .menu_dark .menu_top_block.menu>li.current>a,header .menu_dark .menu_top_block.menu>li.current:hover>a,.menu_top_block.catalog_block .dropdown>li.full:hover>a:before,.menu_top_block.catalog_block .dropdown>li.full.current>a,header .menu_top_block li.catalog>.dropdown>li.current>a,.left_menu>li.current>a,.left_menu>li:hover>a:before{background:#005cab;}header .menu_top_block>li.catalog>a,header .menu_top_block>li.catalog.current>a,header .menu_top_block>li.catalog{background-color:#006DCA;}header .catalog_menu .menu_top_block.menu li.catalog li.full.current>a:after,header .catalog_menu .menu_top_block.menu li.catalog li.full:hover>a:after,.menu_top_block.catalog_block .dropdown>li.full:hover>a:after,.left_menu>li.has-childs:hover>a:after{color:#0067c0;}header .menu_top_block li .dropdown>li.menu_item>a:hover,.menu_top_block.catalog_block .dropdown>li.full>.dropdown>li>a:not(.section):hover,.menu_top_block.catalog_block .dropdown>li.full:hover>a,.left_menu>li:hover>a{color:#005fb1;}.phone_block .phone_wrap .icons{color:#005fb1;}header .menu_top_block li.catalog>.dropdown>li:hover>a,header .menu_top_block li.catalog>.dropdown>li>.dropdown>li.current>a:not(.section){color:#005fb1;}header .menu_top_block li .dropdown>li.current>a.section1,.menu_top_block li .dropdown>li>a.section1:hover,#header .catalog_menu.menu_light ul.menu>li.current>a,#header .catalog_menu.menu_light ul.menu>li:hover>a{color:#005fb1;}.subscribe-form:before{background:#0067c0;}.subscribe-form input.send_btn{background-color:#0067c0;}.bx_ordercart .bx_ordercart_order_pay .bx_bt_button{background:#0067c0;}.subscribe-form input.send_btn:hover{background-color:#2975c0;}.bx_ordercart .bx_ordercart_order_pay .bx_bt_button:hover{background:#2975c0;}.bx_ordercart .bx_item_detail_size_small_noadaptive .bx_size ul li.bx_active a{background:#2975c0;color:#fff;}.bx_ordercart .bx_item_detail_size_small_noadaptive .bx_size ul li:not(.bx_active):hover a{color:#005fb1;}a.dark_link:hover,.dark_link:hover span,.dl:hover a,.selected a.dark_link,.current a.dark_link{color:#005fb1 !important;}.menu_top_block.catalog_block .dropdown>li.full>.dropdown>li>a,header .menu_top_block.catalogfirst li.full>.dropdown>li:not(.current)>a{color:#005fb1;}.middle_phone .phone_wrap .icons,.top_slider_wrapp .flexslider .slides>li:after{background-color:#0067c0;}.basket_fly .basket_wrapp .basket_fly .wraps_icon_block.delay .count span{background-color:#0067c0;}.basket_normal .basket_wrapp .wraps_icon_block.basket .count span{background-color:#0067c0;}.bx_filter .bx_filter_parameters_box_title:hover:after{color:#005fb1;}.bx_filter .bx_filter_param_label.active .bx_filter_btn_color_icon,.bx_catalog_item_scu ul li.active .cnt_item,.bx_scu_scroller_container ul li.bx_active .cnt_item{box-shadow:0px 0px 0px 2px #fff inset, 0px 0px 0px 2px #0067c0;}.bx_filter_vertical input[type="checkbox"]:not(:checked)+label.sku:hover span,.sku_props .bx_item_detail_size ul li:not(.active):hover span,.bx_item_list_you_looked_horizontal .bx_item_detail_size ul li:hover span{color:#005fb1;}.bx_filter_vertical input[type="checkbox"]+label.sku:hover,.sku_props .bx_item_detail_size ul li:hover,.bx_item_list_you_looked_horizontal .bx_item_detail_size ul li:hover{border-color:#005fb1;}.more_text_ajax:after{background-color:#0067c0;}.list_item .description_wrapp .like_icons span.added{color:#005fb1;}.bx_ordercart .bx_sort_container a.current:after{background:#238cda;}.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_order_pay_center .checkout{color:#0067c0;border-color:#005fb1;}.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_order_pay_center .checkout:hover{color:#fff;border-color:#238cda;background:#238cda;}.button.transparent:not(.text):hover{border-color:#238cda;background:#238cda;color:#fff;}.button.transparent.grey_br:hover{border-color:#238cda;background:#fff;}.bx_ordercart tbody td.control a:first-of-type:hover,.bx_ordercart #basket_items_delayed tbody td.control a:last-of-type:hover,.bx_ordercart #basket_items_subscribed tbody td.control a:first-of-type:hover,.bx_ordercart #basket_items_not_available tbody td.control a:last-of-type:hover,.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_coupon:not(:first-of-type)>span:hover{background-color:#238cda;}.bx_ordercart .bx_sort_container a,.bx_item_list_you_looked_horizontal .bx_catalog_item .bx_catalog_item_title a{color:#0067c0;}.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blocktwo a,.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blockone a{color:#FFF;background:#0067c0;}.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blocktwo a:hover,.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blockone a{background:#2975c0;}.sale_order_full_table input[name="BuyButton"]{background-color:#006ac5;}.sale_order_full_table input[name="BuyButton"]{background-color:#2975c0;}.bx_ordercart .bx_item_detail_size_small_noadaptive ul li:active a,.bx_ordercart .bx_item_detail_size_small_noadaptive ul li.bx_active a,.bx_ordercart .bx_item_detail_size_small_noadaptive ul li:hover a{border-color:#2975c0;}.color_link{color:#005fb1 !important;}110  28695|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/themes/navy/theme.css|110c8e33a.scroll-to-top.ROUND_COLOR,
a.scroll-to-top.RECT_COLOR {
  background-color: #006DCA;
}
a.scroll-to-top.ROUND_COLOR:hover,
a.scroll-to-top.RECT_COLOR:hover {
  background-color: #2b78c3;
}
ul li::before {
  color: #0071bb;
}
.basket_print i {
  background-color: #005fb1;
}
.rss_feed_icon {
  background: #0071bb;
  color: #000;
}
.start_promo .item i.title a,
.start_promo .item i.price a,
.start_promo .item i.title span,
.start_promo .item i.price span,
.start_promo .item span.main_wrap i:after,
.start_promo .item p span,
.wrap_tizer .wrap_outer,
.wrap_tizer .wrap_outer .outer_text,
.wrap_tizer .wrap_outer .inner_text {
  background: #006ac5;
}
.start_promo .item i.title span,
.start_promo .item i.price span {
  box-shadow: -4px 1px 0px 4px #006ac5, 4px 1px 0px 4px #006ac5;
}
.start_promo .item i.price span {
  box-shadow: -4px 0px 0px 4px #006ac5, 4px 0px 0px 4px #006ac5;
}
.module-map .infoBox .close_info:hover {
  background-color: #0071bb;
}
#header ul.menu.full > li.search_row #search-submit-button:hover,
#header ul.menu.full > li.search_row #search-submit-button.hover {
  border: transparent;
}
#header .catalog_menu ul.menu > li,
#header ul.menu.adaptive:not(.opened) li.menu_opener,
#header ul.menu.full.opened li:not(.search_row):hover,
#header ul.menu.full.opened li.current {
  border-bottom: 1px solid #003e83;
}
#header .catalog_menu ul.menu > li:not(.current):not(.stretch):hover {
  border-bottom: 1px solid #004e88;
  border-right: 1px solid #004e88;
}
#header ul.menu.full.opened li:not(.search_row):hover,
#header ul.menu.full.opened li.current {
  border-top: 1px solid #006ac5;
}
#header .catalog_menu ul.menu > li.current > a {
  color: #fff;
  border-left: 1px solid #0067c0;
}
#header .catalog_menu ul.menu > li {
  border-right: 1px solid #003e83;
}
.header-cart-block .cart span.icon i {
  background-position: 0px -84px;
}
ul.menu li .child .child_wrapp,
.breadcrumbs .dropdown,
.authorization-cols .form-block {
  border-top: 2px solid #0071bb;
}
.catalog_detail ul.tabs.main_tabs {
  border-bottom: 2px solid #0071bb;
}
ul.menu li b.space,
.breadcrumbs .drop b.space,
.hint .triangle {
  border-bottom: 6px solid #0071bb;
}
.basket_button,
.basket_button span,
.button30,
.button30 span,
.popup .soc-avt .row a {
  color: #fff;
}
#footer .footer_inner .line,
#header .basket_fly .opener .basket_count,
.page_not_found td.image img {
  background: #0071bb;
}
#bx-soa-order-form .btn.btn-default {
  background: #0071bb;
  border-color: #0071bb;
}
#bx-soa-order-form .btn.btn-default:hover {
  background: #2975c0;
  border-color: #2975c0;
}
ul.tabs li.cur .triangle,
.view-list .view-header i.triangle {
  border-top: 5px solid #005fb1 !important;
}
.basket_button.add span {
  background-position: 0px -6px;
}
.basket_button.read_more span {
  background-position: 1px -448px;
}
.basket_button.added span {
  background-position: 0px -45px;
}
.front_slider_wrapp .extended_pagination > li.active i.triangle {
  border-right-color: #005fb1;
}
.catalog_detail .extended_info a.compare_item i {
  background-position: -32px -65px;
}
.catalog_detail .extended_info a.wish_item i {
  background-position: 3px -72px;
}
.display_list a.compare_item i {
  background-position: -32px -3px;
}
.display_list a.wish_item i {
  background-position: -3px -2px;
}
.display_list a.compare_item:hover i,
.display_list a.compare_item.added i {
  background-position: -32px -65px;
}
.display_list a.wish_item:hover i,
.display_list a.wish_item.added i {
  background-position: -3px -63px;
}
.popup .form .form_head {
  border-bottom-color: #0071bb;
}
.item_slider .thumbs i.triangle {
  border-bottom: 5px solid #0071bb;
}
blockquote:before {
  background-color: #0071bb;
}
.module-gallery-list li .fancy_hover:hover {
  border: 2px solid #0071bb;
}
.smartfilter .bx_ui_slider_track .bx_ui_slider_range,
.bx_filter .bx_ui_slider_pricebar_V {
  background: #0071bb;
}
.catalog_block .catalog_item .basket_button.read_more span {
  background-position: 1px -408px;
}
.catalog_block .catalog_item .basket_button.to-cart span {
  background-position: 0 -7px;
}
.catalog_block .catalog_item:hover .basket_button span {
  color: #fff;
  background-position: 0px -87px;
}
.catalog_block .catalog_item:hover .basket_button.read_more span {
  background-position: 1px -448px !important;
}
.catalog_item .basket_button.in-cart span,
.basket_button.in-cart span {
  background-position: 0px -127px !important;
}
.catalog_item:hover .basket_button.added span {
  color: #fff;
}
.bx_filter_container #modef .triangle,
.left_block .internal_sections_list .child_wrapp .triangle {
  border-right: 6px solid #0071bb;
}
#order_form_div .sale_order_table .ps_logo img:hover,
#order_form_div .sale_order_table .ps_logo input[type=radio]:checked + label img,
#order_form_div .sale_order_table.delivery label:hover img,
#order_form_div .sale_order_table.delivery input[type=radio]:checked + label img,
#order_form_div div.ps_logo.selected img,
#order_form_div .account label:hover img,
#order_form_div .account img.active {
  border: 2px solid #0071bb;
}
.front_slider_wrapp .extended_pagination > li.active span,
a.b-share-popup__item:hover .b-share-popup__item__text {
  color: #fff !important;
}
ul.tabs li.cur span,
ul.tabs li.cur:hover span,
.front_slider_wrapp a.read_more {
  color: #fff;
}
.left_menu > li.current >a,
.left_menu > li:not(.exit):hover {
  background: #0071bb;
}
a i.arrow b {
  background-position: -36px 0px;
}
.top-h-row .search #search-submit-button:hover i,
.top-h-row .search #search-submit-button.hover i {
  background-position: top center;
}
.catalog_detail a.compare_item:hover .icon i {
  background-position: -32px -65px;
}
.catalog_detail a.wish_item:hover .icon i {
  background-position: 2px -45px;
}
ul.menu li.current a i {
  background-position: -61px 0px;
}
.button30.ask_question span.show_form,
.button30.ask_question span.hide_form {
  background-position: 5px -605px;
}
.button30.ask_question span.hide_form {
  color: #000;
}
.button30.ask_question span.hide_form:hover {
  color: #fff;
}
.question-list .q .ic b {
  background-position: -38px -188px;
}
.question-list .q.op .ic b {
  background-position: -8px -188px;
}
.number_list a.current span {
  color: #fff !important;
}
.basket_button span,
.compare_button span {
  background-position: 0px -87px;
}
.bx_filter_container_title .hint.active .hint_icon,
.bx_filter_container_title .hint.active .hint_icon,
.bx_filter_container_title .hint.active .hint_icon:hover,
#header .basket_fly .opener .basket_count:not(.empty) .count {
  color: #fff;
}
.left_block .internal_sections_list li.item:hover > a,
.left_block .internal_sections_list li.item.cur > a {
  color: #fff;
}
.left_block .internal_sections_list li * {
  -webkit-transition: none;
  -moz-transition: none;
  -o-transition: none;
  transition: none;
}
a.compare_item i {
  background-position: -31px -1px;
}
a.wish_item i {
  background-position: -2px -1px;
}
a.compare_item:hover i {
  background-position: -31px -33px;
}
a.wish_item:hover i {
  background-position: -2px -32px;
}
a.compare_item.added i {
  background-position: -31px -63px;
}
a.wish_item.added i {
  background-position: -2px -62px;
}
.module_products_list .basket_button.to-cart span {
  background-position: 0 -7px;
}
.module_products_list .basket_button.to-cart:hover span {
  background-position: 0px -87px;
}
.basket_button.in-cart span {
  background-position: 0px -127px;
}
.popup .close:hover i,
.popup .grey .close i,
.popup-window-close-icon.popup-window-titlebar-close-icon:hover:after {
  background-position: -1px -59px;
}
.card_popup_frame.popup .but_row a.to_basket .icon i {
  background-position: -5px -170px;
}
.soc-serv-main .button30 span,
.reviews-expanded .button30.add_review span,
.catalog_detail .basket_button.one_click span,
.button30.review_preview span,
.popup .grey .pop-up-title {
  color: #000;
  text-shadow: 0 1px 0px rgba(255,255,255,0.5);
  -moz-text-shadow: 0 1px 0px rgba(255,255,255,0.5);
  -o-text-shadow: 0 1px 0px rgba(255,255,255,0.5);
  -webkit-text-shadow: 0 1px 0px rgba(255,255,255,0.5);
}
.module-order-history .status.delivered {
  color: #fff;
}
.jobs_wrapp .item a:not(.opened):hover .icon i,
.staff_wrapp .section .section_title:not(.opened):hover .icon i {
  background-position: -31px -33px;
}
.jobs_wrapp .item a.opened:hover .icon i,
.staff_wrapp .section .section_title.opened:hover .icon i {
  background-position: 0 -34px;
}
.button30.add_review span {
  background-position: 4px -286px;
}
.button30.send_review span {
  background-position: 4px -365px;
}
.card_popup_frame.popup .but_row a.to_delay .icon i {
  background-position: -48px -257px;
}
.compare_button span {
  background-position: -32px -64px;
}
#header .basket_fly .opener .basket_count .icon i {
  background-position: -7px -89px;
}
#header .basket_fly .opener .basket_count.empty:hover .icon i {
  background-position: -7px -47px;
}
#header .basket_fly .opener .basket_count.empty .icon i {
  background-position: -7px -5px;
}
#header .basket_fly .opener .wish_count .icon i {
  background-position: -48px -424px;
}
#header .basket_fly .opener .wish_count:hover .icon i {
  background-position: -48px -383px;
}
ul.menu li a {
  color: #000;
}
.catalog_menu ul.menu li a {
  color: #fff;
}
ul.menu li a i {
  background-position: -2px -20px;
}
.catalog_menu ul.menu li a i {
  background-position: -61px 0px;
}
a i.arrow.down b {
  background-position: -36px -35px;
}
.catalog_item:hover .basket_button span {
  color: #fff;
}
ul.specials_slider .basket_button span {
  background-position: 0 -7px;
}
ul.specials_slider .basket_button:hover span,
ul.specials_slider li:hover .basket_button span {
  background-position: 0px -87px;
}
ul.specials_slider  .basket_button.read_more span {
  background-position: 1px -408px;
}
ul.specials_slider li:hover .basket_button.read_more span {
  background-position: 1px -448px !important;
}
.top_slider_wrapp .flex-direction-nav li a.flex-next {
  background-position: -58px -60px;
}
.top_slider_wrapp .flex-direction-nav li:hover a.flex-prev {
  background-position: -3px -60px;
}
.top_slider_wrapp .flex-direction-nav li a.flex-prev {
  background-position: -3px 0px;
}
#header .basket_fly .opener .wish_count.empty:hover .icon i {
  background-position: -48px -341px;
}
#header .basket_fly .opener .wish_count.empty .icon i {
  background-position: -48px -299px;
}
#bx-soa-order .bx-soa-section .bx-soa-section-title:before {
  background-color: #006DCA;
}
#bx-soa-order div[class*=bx-sls] .quick-locations .quick-location-tag {
  border-color: #006DCA;
  color: #006DCA;
}
#bx-soa-order div[class*=bx-sls] .quick-locations .quick-location-tag:hover {
  background-color: #006DCA;
  color: #fff;
}
#bx-soa-order .bx-soa .form-group .radio-inline.checked label:before,
#bx-soa-order .bx-soa .form-group .radio-inline label:hover:before,
#bx-soa-order .bx-soa-pp-company:hover .bx-soa-pp-company-graf-container:before,
#bx-soa-order .bx-soa-pp-company.bx-selected .bx-soa-pp-company-graf-container:before {
  background-color: #006DCA;
}
#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company.bx-selected .bx-soa-pp-company-graf-container,
#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company:hover .bx-soa-pp-company-graf-container {
  border-color: #006DCA;
}
#bx-soa-order .bx-soa-pp-desc-container .bx-soa-pp-company:before,
#bx-soa-order .bx-soa-pp-desc-container .checkbox label:hover:before,
#bx-soa-order .bx-soa-pp-desc-container .checkbox label.checked:before {
  background-color: #006DCA;
}
#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company:hover .bx-soa-pp-company-smalltitle,
#bx-soa-order .bx-soa-more .bx-soa-more-btn .pull-left {
  color: #006DCA;
}
#bx-soa-order .bx-soa-coupon-input:hover:after,
#bx-soa-order .bx-soa-coupon-item .bx-soa-coupon-remove:hover {
  background-color: #006DCA;
}
#bx-soa-order div[class*=bx-sls] .bx-ui-sls-clear:hover:before {
  background-color: #006DCA;
}
@media all and (max-width: 950px) {
  .header_wrap.colored #header .center_block .main-nav {
    background: #006ac5;
  }
}
@media all and (max-width: 768px) {
  body .top_slider_wrapp .flex-direction-nav li a {
    background-image: url(../../images/arrows_big.png);
  }
  body .top_slider_wrapp .flex-direction-nav li a.flex-next {
    background-position: -30px -94px;
  }
  body .top_slider_wrapp .flex-direction-nav li a.flex-prev {
    background-position: 0 -127px;
  }
  body .top_slider_wrapp .flex-direction-nav li a.flex-prev:hover {
    background-position: 0 -94px;
  }
  body .flex-control-paging li a.flex-active,
  body .flex-control-paging li:hover a:not(.touch) {
    background: #006ac5;
    background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzAwYWFlMiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMwMDhmYzciIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);
    background: -moz-linear-gradient(top,#006ac5 0%,#0057ab 100%);
    background: -webkit-gradient(linear,left top,left bottom,color-stop(0%,#006ac5),color-stop(100%,#0057ab));
    background: -webkit-linear-gradient(top,#006ac5 0%,#0057ab 100%);
    background: -o-linear-gradient(top,#006ac5 0%,#0057ab 100%);
    background: -ms-linear-gradient(top,#006ac5 0%,#0057ab 100%);
    background: linear-gradient(to bottom,#006ac5 0%,#0057ab 100%);
    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='@bcolor_00aae2',endColorstr='@bcolor_008fc7',GradientType=0);
  }
}
@media all and (max-width: 600px) {
  #header ul.menu.full.opened > li,
  .has_menu #header .center_block .main-nav {
    background-color: #006ac5;
  }
  .has_menu #header .center_block .main-nav:hover {
    background: #238cda none repeat scroll 0 0;
  }
  #header ul.menu.full.opened li.current {
    background: #0057ab;
  }
}
@media all and (max-width: 550px) {
  body #footer .footer_inner .line {
    border-top: 4px solid #0071bb;
  }
  .basket_wrapp .empty_cart:not(.bcart) .wraps_icon_block.basket .count span,
  .basket_wrapp .basket_empty .wraps_icon_block.basket .count span {
    color: #FFF;
    background: #006ac5;
  }
}
#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li:hover>a,
#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li.opened>a,
#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li.current > a {
  background: #238cda;
}
#header .wrapper_middle_menu.wrap_menu ul.menu.opened > li {
  background: #005fb1;
}
.button.transparent,
.h_color_white .header_wrap .menu > li.current > a span,
.h_color_white.wrapper #header ul.menu li .child .child_wrapp,
.m_color_white.wrapper #header ul.menu li .child .child_wrapp,
.basket_normal .popup.card_popup_frame .basket_popup_wrapp,
.basket_sort ul.tabs li.cur div,
.smartfilter .bx_ui_slider_track .bx_ui_slider_handle,
.bx_filter .button,
.bx_filter_vertical input[type="checkbox"]:checked + label.sku,
.sku_props .bx_item_detail_size ul li.active,
.bx_size_scroller_container .bx_size ul li.bx_active,
.bx_filter .bx_filter_param_label.active .bx_filter_param_btn,
.bx_catalog_item_scu .bx_item_detail_scu ul li.active span.cnt,
.item_slider .thumbs li.current,
.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-left-column,
.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-center-column,
.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-right-column,
.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-left-column,
.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-center-column,
.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-right-column,
.bx_element input[type=radio]:checked + label .bx_logotype,
.bx_element label.selected .bx_logotype {
  border-color: #2975c0;
}
a,
.link,
.button.transparent,
.button.transparent:hover,
.specials_slider_wrapp ul.tabs > li span,
.tab_slider_wrapp ul.tabs > li span,
.basket_wrapp .basket_block .link:hover + .wraps_icon_block + .text .title,
.stores .stores_list .item a span,
.phones .order_wrap_btn,
.footer_bottom .all_menu_block ul li a:hover,
.footer_bottom .submenu_top .menu_item a:hover,
.avtorization-call.enter:hover span,
.top-h-row .h-user-block a:hover,
ul.menu .child li.menu_item a,
#header .catalog_menu ul.menu > li.current > a,
ul.menu .child .depth3 a,
ul.menu .child li.menu_title a:hover,
#header ul.menu li .child.submenu .child_wrapp a:not(.title),
.img_block_capcha .reload,
.h_color_white .center_block .menu.full > li:hover > a,
.m_color_white #header .wrapper_middle_menu .menu.bottom > li:hover > a,
.m_color_white #header .wrapper_middle_menu .menu.bottom > li.hover > a,
body #header ul.menu li .child.line .child_wrapp > a:hover,
.basket_sort ul.tabs li .wrap_li > span *,
.basket_sort ul.tabs li .wrap_li > span,
.bx_filter_parameters_box_title:hover,
.bx_filter .bx_filter_popup_result a,
.left_block .internal_sections_list .child_wrapp .child li.cur > a,
.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item.cur,
.left_block .internal_sections_list .child_wrapp a:hover,
.ajax_load_btn:hover .more_text_ajax,
.breadcrumbs a:hover span,
.tabs-head li.current span,
.item-stock .store_view,
.reviews-post-reply-buttons a:hover,
h4.hover,
.button.transparent.white:hover,
.button.white_bg,
.item .child_container .child_wrapp .menu_item.current a,
.item .child_container .child_wrapp .menu_item:hover a {
  color: #005fb1;
}
button.button,
input.button,
.button,
#header ul.menu.full.opened li:not(.search_row):hover,
#header ul.menu.full > li.search_row #search-submit-button:hover,
table.title-search-result td.title-search-all a .icon,
.flex-direction-nav li:hover,
.flex-direction-nav li:first-child:hover,
.top_slider_wrapp .flex-direction-nav li:hover,
.like_icons .wish_item.added,
.like_icons .compare_item.added,
.light .stores .all_map,
.block_wr.dark,
.popup .close:hover,
.header_wrap #header .middle-h-row .logo_wrapp .logo a,
.h_color_colored .header_wrap #header,
.registraion-page .top p:after,
.has_menu.m_color_colored #header .catalog_menu,
.module-cart .remove-cell a:hover,
.cart_shell .remove-cell a:hover,
.bx_item_set_hor .bx_item_set_hor_item a.remove,
.bx_filter .bx_filter_popup_result,
.bx_filter .bx_filter_parameters_box_title:before,
.bx_filter_vertical input[type="checkbox"] + label:before,
.filter input[type="checkbox"] + label:before,
.filter input[type="radio"] + label:before,
.bx_filter label.pal:hover .bx_filter_param_btn,
.bx_filter .bx_filter_param_label.active .bx_filter_param_btn,
.bx_filter_vertical input[type="checkbox"]:checked + label.sku,
.left_block .internal_sections_list li.cur,
.left_block .internal_sections_list li:hover,
.left_block .internal_sections_list .title .inner_block:hover:before,
.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item.cur:before,
.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item:hover:before,
.left_block .internal_sections_list .child_wrapp ul.child li.cur:after,
.left_block .internal_sections_list .child_wrapp ul.child li:hover:after,
body #content .props_list tr td > span:before,
body #content .props_list tr td > .txt:before,
.module-pagination .nums .cur,
.more_text_ajax:before,
.captcha_reload:before,
.sku_props .bx_item_detail_size ul li.active,
.bx_size_scroller_container .bx_size ul li.bx_active,
.bx_catalog_item_scu .bx_item_detail_scu ul li.active span:not(.cnt_item),
.ik_select_list .ik_select_list_inner ul li.ik_select_active,
.bx_filter_select_popup ul li label.selected,
.filter_opener.opened,
.no_goods .no_products:before,
.wr_scrollbar .scrollbar .handle,
.remove:hover,
a i.arrow,
.popup-window-close-icon.popup-window-titlebar-close-icon:hover,
.bx_kit_item .bx_kit_item_add,
.catalog_detail .offers_table td.opener:hover .opener_icon,
.opener_icon:hover,
.char_name .hint .icon:hover,
.char_name .hint.active .icon,
.location-block-wrapper .bx-sls .bx-ui-sls-clear:before,
h4:hover .opener_icon,
.bg_block:before,
#order_form_div input[type="submit"],
.module-order-history .item_name:hover .icon,
.module-order-history .item_name:hover .icon,
.faq.list .item .q:hover .opener_icon,
.jobs_wrapp .item .name tr:hover .opener_icon {
  color: #FFF;
  background: #006ac5;
}
.catalog_detail .bx-modal-container .btn.btn-add {
  color: #FFF;
  background: #006ac5;
}
.catalog_detail .bx-modal-container .btn.btn-add:hover {
  background: #2975c0;
}
.colored #header .catalog_menu ul.menu > li,
header .wrap_menu {
  background: #0065bb;
}
#header .catalog_menu ul.menu > li .dropdown >li.current a {
  background: #005cab;
}
.tabs-head li.current:before {
  background-color: #006ac5;
}
.like_icons .compare_item.added i,
.like_icons .wish_item.added i {
  background-color: #006ac5;
}
.icon_error_block:after {
  background-color: #006ac5 !important;
}
.flex-direction-nav li:first-child,
.flex-direction-nav li,
.flex-direction-nav li:hover {
  border-bottom-width: 0px;
}
.specials_slider_wrapp ul.tabs li.cur span,
.tab_slider_wrapp ul.tabs li.cur span,
.popup .popup-intro {
  border-bottom-color: #2975c0;
}
.button:hover,
.like_icons .compare_item.added:hover,
.like_icons .wish_item.added:hover,
.light .stores .all_map:hover {
  background: #2975c0;
}
.like_icons .compare_item.added:hover i,
.like_icons .wish_item.added:hover i {
  background-color: #2975c0;
}
.wrapper_middle_menu.wrap_menu.mobile:hover {
  background: #2975c0;
}
.header_wrap #header .catalog_menu.menu_colored .inc_menu  ul.menu > li:not(.current):hover > a {
  background: #0075d9;
}
header .menu_top_block li .dropdown>li:hover>a,
header .menu_top_block li:not(.catalog) .dropdown>li.current >a:not(.section),
header .menu_top_block li.catalog>.dropdown>li:hover>a:before {
  background: #006DCA;
}
header .menu_colored .menu_top_block >li.current >a,
header .menu_dark .menu_top_block.menu >li.current >a,
header .menu_dark .menu_top_block.menu >li.current:hover >a,
.menu_top_block.catalog_block .dropdown >li.full:hover>a:before,
.menu_top_block.catalog_block .dropdown >li.full.current>a,
header .menu_top_block li.catalog>.dropdown>li.current>a,
.left_menu > li.current> a,
.left_menu > li:hover> a:before {
  background: #005cab;
}
header .menu_top_block >li.catalog >a,
header .menu_top_block >li.catalog.current >a,
header .menu_top_block >li.catalog {
  background-color: #006DCA;
}
header .catalog_menu .menu_top_block.menu li.catalog li.full.current >a:after,
header .catalog_menu .menu_top_block.menu li.catalog li.full:hover >a:after,
.menu_top_block.catalog_block .dropdown >li.full:hover>a:after,
.left_menu > li.has-childs:hover> a:after {
  color: #0067c0;
}
header .menu_top_block li .dropdown>li.menu_item>a:hover,
.menu_top_block.catalog_block .dropdown>li.full>.dropdown>li>a:not(.section):hover,
.menu_top_block.catalog_block .dropdown>li.full:hover>a,
.left_menu > li:hover> a {
  color: #005fb1;
}
.phone_block .phone_wrap .icons {
  color: #005fb1;
}
header .menu_top_block li.catalog>.dropdown>li:hover>a,
header .menu_top_block li.catalog>.dropdown>li>.dropdown>li.current>a:not(.section) {
  color: #005fb1;
}
header .menu_top_block li .dropdown>li.current >a.section1,
.menu_top_block li .dropdown>li >a.section1:hover,
#header .catalog_menu.menu_light ul.menu > li.current > a,
#header .catalog_menu.menu_light ul.menu > li:hover > a {
  color: #005fb1;
}
.subscribe-form:before {
  background: #0067c0;
}
.subscribe-form input.send_btn {
  background-color: #0067c0;
}
.bx_ordercart .bx_ordercart_order_pay .bx_bt_button {
  background: #0067c0;
}
.subscribe-form input.send_btn:hover {
  background-color: #2975c0;
}
.bx_ordercart .bx_ordercart_order_pay .bx_bt_button:hover {
  background: #2975c0;
}
.bx_ordercart .bx_item_detail_size_small_noadaptive .bx_size ul li.bx_active a {
  background: #2975c0;
  color: #fff;
}
.bx_ordercart .bx_item_detail_size_small_noadaptive .bx_size ul li:not(.bx_active):hover a {
  color: #005fb1;
}
a.dark_link:hover,
.dark_link:hover span,
.dl:hover a,
.selected a.dark_link,
.current a.dark_link {
  color: #005fb1 !important;
}
.menu_top_block.catalog_block .dropdown>li.full>.dropdown>li>a,
header .menu_top_block.catalogfirst li.full>.dropdown>li:not(.current)>a {
  color: #005fb1;
}
.middle_phone .phone_wrap .icons,
.top_slider_wrapp .flexslider .slides > li:after {
  background-color: #0067c0;
}
.basket_fly .basket_wrapp .basket_fly .wraps_icon_block.delay .count span {
  background-color: #0067c0;
}
.basket_normal .basket_wrapp .wraps_icon_block.basket .count span {
  background-color: #0067c0;
}
.bx_filter .bx_filter_parameters_box_title:hover:after {
  color: #005fb1;
}
.bx_filter .bx_filter_param_label.active .bx_filter_btn_color_icon,
.bx_catalog_item_scu ul li.active .cnt_item,
.bx_scu_scroller_container ul li.bx_active .cnt_item {
  box-shadow: 0px 0px 0px 2px #fff inset, 0px 0px 0px 2px #0067c0;
}
.bx_filter_vertical input[type="checkbox"]:not(:checked) + label.sku:hover span,
.sku_props .bx_item_detail_size ul li:not(.active):hover span,
.bx_item_list_you_looked_horizontal .bx_item_detail_size ul li:hover span {
  color: #005fb1;
}
.bx_filter_vertical input[type="checkbox"] + label.sku:hover,
.sku_props .bx_item_detail_size ul li:hover,
.bx_item_list_you_looked_horizontal .bx_item_detail_size ul li:hover {
  border-color: #005fb1;
}
.more_text_ajax:after {
  background-color: #0067c0;
}
.list_item .description_wrapp .like_icons span.added {
  color: #005fb1;
}
.bx_ordercart .bx_sort_container a.current:after {
  background: #238cda;
}
.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_order_pay_center .checkout {
  color: #0067c0;
  border-color: #005fb1;
}
.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_order_pay_center .checkout:hover {
  color: #fff;
  border-color: #238cda;
  background: #238cda;
}
.button.transparent:not(.text):hover {
  border-color: #238cda;
  background: #238cda;
  color: #fff;
}
.button.transparent.grey_br:hover {
  border-color: #238cda;
  background: #fff;
}
.bx_ordercart tbody td.control a:first-of-type:hover,
.bx_ordercart #basket_items_delayed tbody td.control a:last-of-type:hover,
.bx_ordercart #basket_items_subscribed  tbody td.control a:first-of-type:hover,
.bx_ordercart #basket_items_not_available  tbody td.control a:last-of-type:hover,
.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_coupon:not(:first-of-type) > span:hover {
  background-color: #238cda;
}
.bx_ordercart .bx_sort_container a,
.bx_item_list_you_looked_horizontal .bx_catalog_item .bx_catalog_item_title a {
  color: #0067c0;
}
.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blocktwo a,
.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blockone a {
  color: #FFF;
  background: #0067c0;
}
.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blocktwo a:hover,
.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blockone a {
  background: #2975c0;
}
.sale_order_full_table input[name="BuyButton"] {
  background-color: #006ac5;
}
.sale_order_full_table input[name="BuyButton"] {
  background-color: #2975c0;
}
.bx_ordercart .bx_item_detail_size_small_noadaptive ul li:active a,
.bx_ordercart .bx_item_detail_size_small_noadaptive ul li.bx_active a,
.bx_ordercart .bx_item_detail_size_small_noadaptive ul li:hover a {
  border-color: #2975c0;
}
.color_link {
  color: #005fb1 !important;
}
114  25956|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/themes/blue/theme.min.css|69243858a.scroll-to-top.ROUND_COLOR,a.scroll-to-top.RECT_COLOR{background-color:#01AAE3;}a.scroll-to-top.ROUND_COLOR:hover,a.scroll-to-top.RECT_COLOR:hover{background-color:#36a5d2;}ul li::before{color:#00add5;}.basket_print i{background-color:#0097cb;}.rss_feed_icon{background:#00add5;color:#000;}.start_promo .item i.title a,.start_promo .item i.price a,.start_promo .item i.title span,.start_promo .item i.price span,.start_promo .item span.main_wrap i:after,.start_promo .item p span,.wrap_tizer .wrap_outer,.wrap_tizer .wrap_outer .outer_text,.wrap_tizer .wrap_outer .inner_text{background:#00a7df;}.start_promo .item i.title span,.start_promo .item i.price span{box-shadow:-4px 1px 0px 4px #00a7df, 4px 1px 0px 4px #00a7df;}.start_promo .item i.price span{box-shadow:-4px 0px 0px 4px #00a7df, 4px 0px 0px 4px #00a7df;}.module-map .infoBox .close_info:hover{background-color:#00add5;}#header ul.menu.full>li.search_row #search-submit-button:hover,#header ul.menu.full>li.search_row #search-submit-button.hover{border:transparent;}#header .catalog_menu ul.menu>li,#header ul.menu.adaptive:not(.opened) li.menu_opener,#header ul.menu.full.opened li:not(.search_row):hover,#header ul.menu.full.opened li.current{border-bottom:1px solid #006b9d;}#header .catalog_menu ul.menu>li:not(.current):not(.stretch):hover{border-bottom:1px solid #007ea2;border-right:1px solid #007ea2;}#header ul.menu.full.opened li:not(.search_row):hover,#header ul.menu.full.opened li.current{border-top:1px solid #00a7df;}#header .catalog_menu ul.menu>li.current>a{color:#fff;border-left:1px solid #00a3da;}#header .catalog_menu ul.menu>li{border-right:1px solid #006b9d;}.header-cart-block .cart span.icon i{background-position:0px -84px;}ul.menu li .child .child_wrapp,.breadcrumbs .dropdown,.authorization-cols .form-block{border-top:2px solid #00add5;}.catalog_detail ul.tabs.main_tabs{border-bottom:2px solid #00add5;}ul.menu li b.space,.breadcrumbs .drop b.space,.hint .triangle{border-bottom:6px solid #00add5;}.basket_button,.basket_button span,.button30,.button30 span,.popup .soc-avt .row a{color:#fff;}#footer .footer_inner .line,#header .basket_fly .opener .basket_count,.page_not_found td.image img{background:#00add5;}#bx-soa-order-form .btn.btn-default{background:#00add5;border-color:#00add5;}#bx-soa-order-form .btn.btn-default:hover{background:#31a4d2;border-color:#31a4d2;}ul.tabs li.cur .triangle,.view-list .view-header i.triangle{border-top:5px solid #0097cb !important;}.basket_button.add span{background-position:0px -6px;}.basket_button.read_more span{background-position:1px -448px;}.basket_button.added span{background-position:0px -45px;}.front_slider_wrapp .extended_pagination>li.active i.triangle{border-right-color:#0097cb;}.catalog_detail .extended_info a.compare_item i{background-position:-32px -65px;}.catalog_detail .extended_info a.wish_item i{background-position:3px -72px;}.display_list a.compare_item i{background-position:-32px -3px;}.display_list a.wish_item i{background-position:-3px -2px;}.display_list a.compare_item:hover i,.display_list a.compare_item.added i{background-position:-32px -65px;}.display_list a.wish_item:hover i,.display_list a.wish_item.added i{background-position:-3px -63px;}.popup .form .form_head{border-bottom-color:#00add5;}.item_slider .thumbs i.triangle{border-bottom:5px solid #00add5;}blockquote:before{background-color:#00add5;}.module-gallery-list li .fancy_hover:hover{border:2px solid #00add5;}.smartfilter .bx_ui_slider_track .bx_ui_slider_range,.bx_filter .bx_ui_slider_pricebar_V{background:#00add5;}.catalog_block .catalog_item .basket_button.read_more span{background-position:1px -408px;}.catalog_block .catalog_item .basket_button.to-cart span{background-position:0 -7px;}.catalog_block .catalog_item:hover .basket_button span{color:#fff;background-position:0px -87px;}.catalog_block .catalog_item:hover .basket_button.read_more span{background-position:1px -448px !important;}.catalog_item .basket_button.in-cart span,.basket_button.in-cart span{background-position:0px -127px !important;}.catalog_item:hover .basket_button.added span{color:#fff;}.bx_filter_container #modef .triangle,.left_block .internal_sections_list .child_wrapp .triangle{border-right:6px solid #00add5;}#order_form_div .sale_order_table .ps_logo img:hover,#order_form_div .sale_order_table .ps_logo input[type=radio]:checked+label img,#order_form_div .sale_order_table.delivery label:hover img,#order_form_div .sale_order_table.delivery input[type=radio]:checked+label img,#order_form_div div.ps_logo.selected img,#order_form_div .account label:hover img,#order_form_div .account img.active{border:2px solid #00add5;}.front_slider_wrapp .extended_pagination>li.active span,a.b-share-popup__item:hover .b-share-popup__item__text{color:#fff !important;}ul.tabs li.cur span,ul.tabs li.cur:hover span,.front_slider_wrapp a.read_more{color:#fff;}.left_menu>li.current>a,.left_menu>li:not(.exit):hover{background:#00add5;}a i.arrow b{background-position:-36px 0px;}.top-h-row .search #search-submit-button:hover i,.top-h-row .search #search-submit-button.hover i{background-position:top center;}.catalog_detail a.compare_item:hover .icon i{background-position:-32px -65px;}.catalog_detail a.wish_item:hover .icon i{background-position:2px -45px;}ul.menu li.current a i{background-position:-61px 0px;}.button30.ask_question span.show_form,.button30.ask_question span.hide_form{background-position:5px -605px;}.button30.ask_question span.hide_form{color:#000;}.button30.ask_question span.hide_form:hover{color:#fff;}.question-list .q .ic b{background-position:-38px -188px;}.question-list .q.op .ic b{background-position:-8px -188px;}.number_list a.current span{color:#fff !important;}.basket_button span,.compare_button span{background-position:0px -87px;}.bx_filter_container_title .hint.active .hint_icon,.bx_filter_container_title .hint.active .hint_icon,.bx_filter_container_title .hint.active .hint_icon:hover,#header .basket_fly .opener .basket_count:not(.empty).count{color:#fff;}.left_block .internal_sections_list li.item:hover>a,.left_block .internal_sections_list li.item.cur>a{color:#fff;}.left_block .internal_sections_list li *{-webkit-transition:none;-moz-transition:none;-o-transition:none;transition:none;}a.compare_item i{background-position:-31px -1px;}a.wish_item i{background-position:-2px -1px;}a.compare_item:hover i{background-position:-31px -33px;}a.wish_item:hover i{background-position:-2px -32px;}a.compare_item.added i{background-position:-31px -63px;}a.wish_item.added i{background-position:-2px -62px;}.module_products_list .basket_button.to-cart span{background-position:0 -7px;}.module_products_list .basket_button.to-cart:hover span{background-position:0px -87px;}.basket_button.in-cart span{background-position:0px -127px;}.popup .close:hover i,.popup .grey .close i,.popup-window-close-icon.popup-window-titlebar-close-icon:hover:after{background-position:-1px -59px;}.card_popup_frame.popup .but_row a.to_basket .icon i{background-position:-5px -170px;}.soc-serv-main .button30 span,.reviews-expanded .button30.add_review span,.catalog_detail .basket_button.one_click span,.button30.review_preview span,.popup .grey .pop-up-title{color:#000;text-shadow:0 1px 0px rgba(255,255,255,0.5);-moz-text-shadow:0 1px 0px rgba(255,255,255,0.5);-o-text-shadow:0 1px 0px rgba(255,255,255,0.5);-webkit-text-shadow:0 1px 0px rgba(255,255,255,0.5);}.module-order-history .status.delivered{color:#fff;}.jobs_wrapp .item a:not(.opened):hover .icon i,.staff_wrapp .section .section_title:not(.opened):hover .icon i{background-position:-31px -33px;}.jobs_wrapp .item a.opened:hover .icon i,.staff_wrapp .section .section_title.opened:hover .icon i{background-position:0 -34px;}.button30.add_review span{background-position:4px -286px;}.button30.send_review span{background-position:4px -365px;}.card_popup_frame.popup .but_row a.to_delay .icon i{background-position:-48px -257px;}.compare_button span{background-position:-32px -64px;}#header .basket_fly .opener .basket_count .icon i{background-position:-7px -89px;}#header .basket_fly .opener .basket_count.empty:hover .icon i{background-position:-7px -47px;}#header .basket_fly .opener .basket_count.empty .icon i{background-position:-7px -5px;}#header .basket_fly .opener .wish_count .icon i{background-position:-48px -424px;}#header .basket_fly .opener .wish_count:hover .icon i{background-position:-48px -383px;}ul.menu li a{color:#000;}.catalog_menu ul.menu li a{color:#fff;}ul.menu li a i{background-position:-2px -20px;}.catalog_menu ul.menu li a i{background-position:-61px 0px;}a i.arrow.down b{background-position:-36px -35px;}.catalog_item:hover .basket_button span{color:#fff;}ul.specials_slider .basket_button span{background-position:0 -7px;}ul.specials_slider .basket_button:hover span,ul.specials_slider li:hover .basket_button span{background-position:0px -87px;}ul.specials_slider .basket_button.read_more span{background-position:1px -408px;}ul.specials_slider li:hover .basket_button.read_more span{background-position:1px -448px !important;}.top_slider_wrapp .flex-direction-nav li a.flex-next{background-position:-58px -60px;}.top_slider_wrapp .flex-direction-nav li:hover a.flex-prev{background-position:-3px -60px;}.top_slider_wrapp .flex-direction-nav li a.flex-prev{background-position:-3px 0px;}#header .basket_fly .opener .wish_count.empty:hover .icon i{background-position:-48px -341px;}#header .basket_fly .opener .wish_count.empty .icon i{background-position:-48px -299px;}#bx-soa-order .bx-soa-section .bx-soa-section-title:before{background-color:#01AAE3;}#bx-soa-order div[class*=bx-sls] .quick-locations .quick-location-tag{border-color:#01AAE3;color:#01AAE3;}#bx-soa-order div[class*=bx-sls] .quick-locations .quick-location-tag:hover{background-color:#01AAE3;color:#fff;}#bx-soa-order .bx-soa .form-group .radio-inline.checked label:before,#bx-soa-order .bx-soa .form-group .radio-inline label:hover:before,#bx-soa-order .bx-soa-pp-company:hover .bx-soa-pp-company-graf-container:before,#bx-soa-order .bx-soa-pp-company.bx-selected .bx-soa-pp-company-graf-container:before{background-color:#01AAE3;}#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company.bx-selected .bx-soa-pp-company-graf-container,#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company:hover .bx-soa-pp-company-graf-container{border-color:#01AAE3;}#bx-soa-order .bx-soa-pp-desc-container .bx-soa-pp-company:before,#bx-soa-order .bx-soa-pp-desc-container .checkbox label:hover:before,#bx-soa-order .bx-soa-pp-desc-container .checkbox label.checked:before{background-color:#01AAE3;}#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company:hover .bx-soa-pp-company-smalltitle,#bx-soa-order .bx-soa-more .bx-soa-more-btn .pull-left{color:#01AAE3;}#bx-soa-order .bx-soa-coupon-input:hover:after,#bx-soa-order .bx-soa-coupon-item .bx-soa-coupon-remove:hover{background-color:#01AAE3;}#bx-soa-order div[class*=bx-sls] .bx-ui-sls-clear:hover:before{background-color:#01AAE3;}@media all and (max-width:950px){.header_wrap.colored #header .center_block .main-nav{background:#00a7df;}}@media all and (max-width:768px){body .top_slider_wrapp .flex-direction-nav li a{background-image:url(../../images/arrows_big.png);}body .top_slider_wrapp .flex-direction-nav li a.flex-next{background-position:-30px -94px;}body .top_slider_wrapp .flex-direction-nav li a.flex-prev{background-position:0 -127px;}body .top_slider_wrapp .flex-direction-nav li a.flex-prev:hover{background-position:0 -94px;}body .flex-control-paging li a.flex-active, body .flex-control-paging li:hover a:not(.touch){background:#00a7df;background:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzAwYWFlMiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMwMDhmYzciIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);background:-moz-linear-gradient(top,#00a7df 0%,#008dc5 100%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0%,#00a7df),color-stop(100%,#008dc5));background:-webkit-linear-gradient(top,#00a7df 0%,#008dc5 100%);background:-o-linear-gradient(top,#00a7df 0%,#008dc5 100%);background:-ms-linear-gradient(top,#00a7df 0%,#008dc5 100%);background:linear-gradient(to bottom,#00a7df 0%,#008dc5 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='@bcolor_00aae2',endColorstr='@bcolor_008fc7',GradientType=0);}}@media all and (max-width:600px){#header ul.menu.full.opened>li, .has_menu #header .center_block .main-nav{background-color:#00a7df;}.has_menu #header .center_block .main-nav:hover{background:#39bade none repeat scroll 0 0;}#header ul.menu.full.opened li.current{background:#008dc5;}}@media all and (max-width:550px){body #footer .footer_inner .line{border-top:4px solid #00add5;}.basket_wrapp .empty_cart:not(.bcart).wraps_icon_block.basket .count span, .basket_wrapp .basket_empty .wraps_icon_block.basket .count span{color:#FFF;background:#00a7df;}}#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li:hover>a,#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li.opened>a,#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li.current>a{background:#39bade;}#header .wrapper_middle_menu.wrap_menu ul.menu.opened>li{background:#0097cb;}.button.transparent,.h_color_white .header_wrap .menu>li.current>a span,.h_color_white.wrapper #header ul.menu li .child .child_wrapp,.m_color_white.wrapper #header ul.menu li .child .child_wrapp,.basket_normal .popup.card_popup_frame .basket_popup_wrapp,.basket_sort ul.tabs li.cur div,.smartfilter .bx_ui_slider_track .bx_ui_slider_handle,.bx_filter .button,.bx_filter_vertical input[type="checkbox"]:checked+label.sku,.sku_props .bx_item_detail_size ul li.active,.bx_size_scroller_container .bx_size ul li.bx_active,.bx_filter .bx_filter_param_label.active .bx_filter_param_btn,.bx_catalog_item_scu .bx_item_detail_scu ul li.active span.cnt,.item_slider .thumbs li.current,.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-left-column,.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-center-column,.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-right-column,.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-left-column,.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-center-column,.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-right-column,.bx_element input[type=radio]:checked+label .bx_logotype,.bx_element label.selected .bx_logotype{border-color:#31a4d2;}a,.link,.button.transparent,.button.transparent:hover,.specials_slider_wrapp ul.tabs>li span,.tab_slider_wrapp ul.tabs>li span,.basket_wrapp .basket_block .link:hover+.wraps_icon_block+.text .title,.stores .stores_list .item a span,.phones .order_wrap_btn,.footer_bottom .all_menu_block ul li a:hover,.footer_bottom .submenu_top .menu_item a:hover,.avtorization-call.enter:hover span,.top-h-row .h-user-block a:hover,ul.menu .child li.menu_item a,#header .catalog_menu ul.menu>li.current>a,ul.menu .child .depth3 a,ul.menu .child li.menu_title a:hover,#header ul.menu li .child.submenu .child_wrapp a:not(.title),.img_block_capcha .reload,.h_color_white .center_block .menu.full>li:hover>a,.m_color_white #header .wrapper_middle_menu .menu.bottom>li:hover>a,.m_color_white #header .wrapper_middle_menu .menu.bottom>li.hover>a,body #header ul.menu li .child.line .child_wrapp>a:hover,.basket_sort ul.tabs li .wrap_li>span *,.basket_sort ul.tabs li .wrap_li>span,.bx_filter_parameters_box_title:hover,.bx_filter .bx_filter_popup_result a,.left_block .internal_sections_list .child_wrapp .child li.cur>a,.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item.cur,.left_block .internal_sections_list .child_wrapp a:hover,.ajax_load_btn:hover .more_text_ajax,.breadcrumbs a:hover span,.tabs-head li.current span,.item-stock .store_view,.reviews-post-reply-buttons a:hover,h4.hover,.button.transparent.white:hover,.button.white_bg,.item .child_container .child_wrapp .menu_item.current a,.item .child_container .child_wrapp .menu_item:hover a{color:#0097cb;}button.button,input.button,.button,#header ul.menu.full.opened li:not(.search_row):hover,#header ul.menu.full>li.search_row #search-submit-button:hover,table.title-search-result td.title-search-all a .icon,.flex-direction-nav li:hover,.flex-direction-nav li:first-child:hover,.top_slider_wrapp .flex-direction-nav li:hover,.like_icons .wish_item.added,.like_icons .compare_item.added,.light .stores .all_map,.block_wr.dark,.popup .close:hover,.header_wrap #header .middle-h-row .logo_wrapp .logo a,.h_color_colored .header_wrap #header,.registraion-page .top p:after,.has_menu.m_color_colored #header .catalog_menu,.module-cart .remove-cell a:hover,.cart_shell .remove-cell a:hover,.bx_item_set_hor .bx_item_set_hor_item a.remove,.bx_filter .bx_filter_popup_result,.bx_filter .bx_filter_parameters_box_title:before,.bx_filter_vertical input[type="checkbox"]+label:before,.filter input[type="checkbox"]+label:before,.filter input[type="radio"]+label:before,.bx_filter label.pal:hover .bx_filter_param_btn,.bx_filter .bx_filter_param_label.active .bx_filter_param_btn,.bx_filter_vertical input[type="checkbox"]:checked+label.sku,.left_block .internal_sections_list li.cur,.left_block .internal_sections_list li:hover,.left_block .internal_sections_list .title .inner_block:hover:before,.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item.cur:before,.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item:hover:before,.left_block .internal_sections_list .child_wrapp ul.child li.cur:after,.left_block .internal_sections_list .child_wrapp ul.child li:hover:after,body #content .props_list tr td>span:before,body #content .props_list tr td>.txt:before,.module-pagination .nums .cur,.more_text_ajax:before,.captcha_reload:before,.sku_props .bx_item_detail_size ul li.active,.bx_size_scroller_container .bx_size ul li.bx_active,.bx_catalog_item_scu .bx_item_detail_scu ul li.active span:not(.cnt_item),.ik_select_list .ik_select_list_inner ul li.ik_select_active,.bx_filter_select_popup ul li label.selected,.filter_opener.opened,.no_goods .no_products:before,.wr_scrollbar .scrollbar .handle,.remove:hover,a i.arrow,.popup-window-close-icon.popup-window-titlebar-close-icon:hover,.bx_kit_item .bx_kit_item_add,.catalog_detail .offers_table td.opener:hover .opener_icon,.opener_icon:hover,.char_name .hint .icon:hover,.char_name .hint.active .icon,.location-block-wrapper .bx-sls .bx-ui-sls-clear:before,h4:hover .opener_icon,.bg_block:before,#order_form_div input[type="submit"],.module-order-history .item_name:hover .icon,.module-order-history .item_name:hover .icon,.faq.list .item .q:hover .opener_icon,.jobs_wrapp .item .name tr:hover .opener_icon{color:#FFF;background:#00a7df;}.catalog_detail .bx-modal-container .btn.btn-add{color:#FFF;background:#00a7df;}.catalog_detail .bx-modal-container .btn.btn-add:hover{background:#31a4d2;}.colored #header .catalog_menu ul.menu>li,header .wrap_menu{background:#019fd4;}#header .catalog_menu ul.menu>li .dropdown>li.current a{background:#0094c5;}.tabs-head li.current:before{background-color:#00a7df;}.like_icons .compare_item.added i,.like_icons .wish_item.added i{background-color:#00a7df;}.icon_error_block:after{background-color:#00a7df !important;}.flex-direction-nav li:first-child,.flex-direction-nav li,.flex-direction-nav li:hover{border-bottom-width:0px;}.specials_slider_wrapp ul.tabs li.cur span,.tab_slider_wrapp ul.tabs li.cur span,.popup .popup-intro{border-bottom-color:#31a4d2;}.button:hover,.like_icons .compare_item.added:hover,.like_icons .wish_item.added:hover,.light .stores .all_map:hover{background:#31a4d2;}.like_icons .compare_item.added:hover i,.like_icons .wish_item.added:hover i{background-color:#31a4d2;}.wrapper_middle_menu.wrap_menu.mobile:hover{background:#31a4d2;}.header_wrap #header .catalog_menu.menu_colored .inc_menu ul.menu>li:not(.current):hover>a{background:#01b5f2;}header .menu_top_block li .dropdown>li:hover>a,header .menu_top_block li:not(.catalog).dropdown>li.current>a:not(.section),header .menu_top_block li.catalog>.dropdown>li:hover>a:before{background:#01AAE3;}header .menu_colored .menu_top_block>li.current>a,header .menu_dark .menu_top_block.menu>li.current>a,header .menu_dark .menu_top_block.menu>li.current:hover>a,.menu_top_block.catalog_block .dropdown>li.full:hover>a:before,.menu_top_block.catalog_block .dropdown>li.full.current>a,header .menu_top_block li.catalog>.dropdown>li.current>a,.left_menu>li.current>a,.left_menu>li:hover>a:before{background:#0094c5;}header .menu_top_block>li.catalog>a,header .menu_top_block>li.catalog.current>a,header .menu_top_block>li.catalog{background-color:#01AAE3;}header .catalog_menu .menu_top_block.menu li.catalog li.full.current>a:after,header .catalog_menu .menu_top_block.menu li.catalog li.full:hover>a:after,.menu_top_block.catalog_block .dropdown>li.full:hover>a:after,.left_menu>li.has-childs:hover>a:after{color:#00a3da;}header .menu_top_block li .dropdown>li.menu_item>a:hover,.menu_top_block.catalog_block .dropdown>li.full>.dropdown>li>a:not(.section):hover,.menu_top_block.catalog_block .dropdown>li.full:hover>a,.left_menu>li:hover>a{color:#0097cb;}.phone_block .phone_wrap .icons{color:#0097cb;}header .menu_top_block li.catalog>.dropdown>li:hover>a,header .menu_top_block li.catalog>.dropdown>li>.dropdown>li.current>a:not(.section){color:#0097cb;}header .menu_top_block li .dropdown>li.current>a.section1,.menu_top_block li .dropdown>li>a.section1:hover,#header .catalog_menu.menu_light ul.menu>li.current>a,#header .catalog_menu.menu_light ul.menu>li:hover>a{color:#0097cb;}.subscribe-form:before{background:#00a3da;}.subscribe-form input.send_btn{background-color:#00a3da;}.bx_ordercart .bx_ordercart_order_pay .bx_bt_button{background:#00a3da;}.subscribe-form input.send_btn:hover{background-color:#31a4d2;}.bx_ordercart .bx_ordercart_order_pay .bx_bt_button:hover{background:#31a4d2;}.bx_ordercart .bx_item_detail_size_small_noadaptive .bx_size ul li.bx_active a{background:#31a4d2;color:#fff;}.bx_ordercart .bx_item_detail_size_small_noadaptive .bx_size ul li:not(.bx_active):hover a{color:#0097cb;}a.dark_link:hover,.dark_link:hover span,.dl:hover a,.selected a.dark_link,.current a.dark_link{color:#0097cb !important;}.menu_top_block.catalog_block .dropdown>li.full>.dropdown>li>a,header .menu_top_block.catalogfirst li.full>.dropdown>li:not(.current)>a{color:#0097cb;}.middle_phone .phone_wrap .icons,.top_slider_wrapp .flexslider .slides>li:after{background-color:#00a3da;}.basket_fly .basket_wrapp .basket_fly .wraps_icon_block.delay .count span{background-color:#00a3da;}.basket_normal .basket_wrapp .wraps_icon_block.basket .count span{background-color:#00a3da;}.bx_filter .bx_filter_parameters_box_title:hover:after{color:#0097cb;}.bx_filter .bx_filter_param_label.active .bx_filter_btn_color_icon,.bx_catalog_item_scu ul li.active .cnt_item,.bx_scu_scroller_container ul li.bx_active .cnt_item{box-shadow:0px 0px 0px 2px #fff inset, 0px 0px 0px 2px #00a3da;}.bx_filter_vertical input[type="checkbox"]:not(:checked)+label.sku:hover span,.sku_props .bx_item_detail_size ul li:not(.active):hover span,.bx_item_list_you_looked_horizontal .bx_item_detail_size ul li:hover span{color:#0097cb;}.bx_filter_vertical input[type="checkbox"]+label.sku:hover,.sku_props .bx_item_detail_size ul li:hover,.bx_item_list_you_looked_horizontal .bx_item_detail_size ul li:hover{border-color:#0097cb;}.more_text_ajax:after{background-color:#00a3da;}.list_item .description_wrapp .like_icons span.added{color:#0097cb;}.bx_ordercart .bx_sort_container a.current:after{background:#39bade;}.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_order_pay_center .checkout{color:#00a3da;border-color:#0097cb;}.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_order_pay_center .checkout:hover{color:#fff;border-color:#39bade;background:#39bade;}.button.transparent:not(.text):hover{border-color:#39bade;background:#39bade;color:#fff;}.button.transparent.grey_br:hover{border-color:#39bade;background:#fff;}.bx_ordercart tbody td.control a:first-of-type:hover,.bx_ordercart #basket_items_delayed tbody td.control a:last-of-type:hover,.bx_ordercart #basket_items_subscribed tbody td.control a:first-of-type:hover,.bx_ordercart #basket_items_not_available tbody td.control a:last-of-type:hover,.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_coupon:not(:first-of-type)>span:hover{background-color:#39bade;}.bx_ordercart .bx_sort_container a,.bx_item_list_you_looked_horizontal .bx_catalog_item .bx_catalog_item_title a{color:#00a3da;}.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blocktwo a,.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blockone a{color:#FFF;background:#00a3da;}.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blocktwo a:hover,.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blockone a{background:#31a4d2;}.sale_order_full_table input[name="BuyButton"]{background-color:#00a7df;}.sale_order_full_table input[name="BuyButton"]{background-color:#31a4d2;}.bx_ordercart .bx_item_detail_size_small_noadaptive ul li:active a,.bx_ordercart .bx_item_detail_size_small_noadaptive ul li.bx_active a,.bx_ordercart .bx_item_detail_size_small_noadaptive ul li:hover a{border-color:#31a4d2;}.color_link{color:#0097cb !important;}110  28695|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/themes/blue/theme.css|3e7ddab9a.scroll-to-top.ROUND_COLOR,
a.scroll-to-top.RECT_COLOR {
  background-color: #01AAE3;
}
a.scroll-to-top.ROUND_COLOR:hover,
a.scroll-to-top.RECT_COLOR:hover {
  background-color: #36a5d2;
}
ul li::before {
  color: #00add5;
}
.basket_print i {
  background-color: #0097cb;
}
.rss_feed_icon {
  background: #00add5;
  color: #000;
}
.start_promo .item i.title a,
.start_promo .item i.price a,
.start_promo .item i.title span,
.start_promo .item i.price span,
.start_promo .item span.main_wrap i:after,
.start_promo .item p span,
.wrap_tizer .wrap_outer,
.wrap_tizer .wrap_outer .outer_text,
.wrap_tizer .wrap_outer .inner_text {
  background: #00a7df;
}
.start_promo .item i.title span,
.start_promo .item i.price span {
  box-shadow: -4px 1px 0px 4px #00a7df, 4px 1px 0px 4px #00a7df;
}
.start_promo .item i.price span {
  box-shadow: -4px 0px 0px 4px #00a7df, 4px 0px 0px 4px #00a7df;
}
.module-map .infoBox .close_info:hover {
  background-color: #00add5;
}
#header ul.menu.full > li.search_row #search-submit-button:hover,
#header ul.menu.full > li.search_row #search-submit-button.hover {
  border: transparent;
}
#header .catalog_menu ul.menu > li,
#header ul.menu.adaptive:not(.opened) li.menu_opener,
#header ul.menu.full.opened li:not(.search_row):hover,
#header ul.menu.full.opened li.current {
  border-bottom: 1px solid #006b9d;
}
#header .catalog_menu ul.menu > li:not(.current):not(.stretch):hover {
  border-bottom: 1px solid #007ea2;
  border-right: 1px solid #007ea2;
}
#header ul.menu.full.opened li:not(.search_row):hover,
#header ul.menu.full.opened li.current {
  border-top: 1px solid #00a7df;
}
#header .catalog_menu ul.menu > li.current > a {
  color: #fff;
  border-left: 1px solid #00a3da;
}
#header .catalog_menu ul.menu > li {
  border-right: 1px solid #006b9d;
}
.header-cart-block .cart span.icon i {
  background-position: 0px -84px;
}
ul.menu li .child .child_wrapp,
.breadcrumbs .dropdown,
.authorization-cols .form-block {
  border-top: 2px solid #00add5;
}
.catalog_detail ul.tabs.main_tabs {
  border-bottom: 2px solid #00add5;
}
ul.menu li b.space,
.breadcrumbs .drop b.space,
.hint .triangle {
  border-bottom: 6px solid #00add5;
}
.basket_button,
.basket_button span,
.button30,
.button30 span,
.popup .soc-avt .row a {
  color: #fff;
}
#footer .footer_inner .line,
#header .basket_fly .opener .basket_count,
.page_not_found td.image img {
  background: #00add5;
}
#bx-soa-order-form .btn.btn-default {
  background: #00add5;
  border-color: #00add5;
}
#bx-soa-order-form .btn.btn-default:hover {
  background: #31a4d2;
  border-color: #31a4d2;
}
ul.tabs li.cur .triangle,
.view-list .view-header i.triangle {
  border-top: 5px solid #0097cb !important;
}
.basket_button.add span {
  background-position: 0px -6px;
}
.basket_button.read_more span {
  background-position: 1px -448px;
}
.basket_button.added span {
  background-position: 0px -45px;
}
.front_slider_wrapp .extended_pagination > li.active i.triangle {
  border-right-color: #0097cb;
}
.catalog_detail .extended_info a.compare_item i {
  background-position: -32px -65px;
}
.catalog_detail .extended_info a.wish_item i {
  background-position: 3px -72px;
}
.display_list a.compare_item i {
  background-position: -32px -3px;
}
.display_list a.wish_item i {
  background-position: -3px -2px;
}
.display_list a.compare_item:hover i,
.display_list a.compare_item.added i {
  background-position: -32px -65px;
}
.display_list a.wish_item:hover i,
.display_list a.wish_item.added i {
  background-position: -3px -63px;
}
.popup .form .form_head {
  border-bottom-color: #00add5;
}
.item_slider .thumbs i.triangle {
  border-bottom: 5px solid #00add5;
}
blockquote:before {
  background-color: #00add5;
}
.module-gallery-list li .fancy_hover:hover {
  border: 2px solid #00add5;
}
.smartfilter .bx_ui_slider_track .bx_ui_slider_range,
.bx_filter .bx_ui_slider_pricebar_V {
  background: #00add5;
}
.catalog_block .catalog_item .basket_button.read_more span {
  background-position: 1px -408px;
}
.catalog_block .catalog_item .basket_button.to-cart span {
  background-position: 0 -7px;
}
.catalog_block .catalog_item:hover .basket_button span {
  color: #fff;
  background-position: 0px -87px;
}
.catalog_block .catalog_item:hover .basket_button.read_more span {
  background-position: 1px -448px !important;
}
.catalog_item .basket_button.in-cart span,
.basket_button.in-cart span {
  background-position: 0px -127px !important;
}
.catalog_item:hover .basket_button.added span {
  color: #fff;
}
.bx_filter_container #modef .triangle,
.left_block .internal_sections_list .child_wrapp .triangle {
  border-right: 6px solid #00add5;
}
#order_form_div .sale_order_table .ps_logo img:hover,
#order_form_div .sale_order_table .ps_logo input[type=radio]:checked + label img,
#order_form_div .sale_order_table.delivery label:hover img,
#order_form_div .sale_order_table.delivery input[type=radio]:checked + label img,
#order_form_div div.ps_logo.selected img,
#order_form_div .account label:hover img,
#order_form_div .account img.active {
  border: 2px solid #00add5;
}
.front_slider_wrapp .extended_pagination > li.active span,
a.b-share-popup__item:hover .b-share-popup__item__text {
  color: #fff !important;
}
ul.tabs li.cur span,
ul.tabs li.cur:hover span,
.front_slider_wrapp a.read_more {
  color: #fff;
}
.left_menu > li.current >a,
.left_menu > li:not(.exit):hover {
  background: #00add5;
}
a i.arrow b {
  background-position: -36px 0px;
}
.top-h-row .search #search-submit-button:hover i,
.top-h-row .search #search-submit-button.hover i {
  background-position: top center;
}
.catalog_detail a.compare_item:hover .icon i {
  background-position: -32px -65px;
}
.catalog_detail a.wish_item:hover .icon i {
  background-position: 2px -45px;
}
ul.menu li.current a i {
  background-position: -61px 0px;
}
.button30.ask_question span.show_form,
.button30.ask_question span.hide_form {
  background-position: 5px -605px;
}
.button30.ask_question span.hide_form {
  color: #000;
}
.button30.ask_question span.hide_form:hover {
  color: #fff;
}
.question-list .q .ic b {
  background-position: -38px -188px;
}
.question-list .q.op .ic b {
  background-position: -8px -188px;
}
.number_list a.current span {
  color: #fff !important;
}
.basket_button span,
.compare_button span {
  background-position: 0px -87px;
}
.bx_filter_container_title .hint.active .hint_icon,
.bx_filter_container_title .hint.active .hint_icon,
.bx_filter_container_title .hint.active .hint_icon:hover,
#header .basket_fly .opener .basket_count:not(.empty) .count {
  color: #fff;
}
.left_block .internal_sections_list li.item:hover > a,
.left_block .internal_sections_list li.item.cur > a {
  color: #fff;
}
.left_block .internal_sections_list li * {
  -webkit-transition: none;
  -moz-transition: none;
  -o-transition: none;
  transition: none;
}
a.compare_item i {
  background-position: -31px -1px;
}
a.wish_item i {
  background-position: -2px -1px;
}
a.compare_item:hover i {
  background-position: -31px -33px;
}
a.wish_item:hover i {
  background-position: -2px -32px;
}
a.compare_item.added i {
  background-position: -31px -63px;
}
a.wish_item.added i {
  background-position: -2px -62px;
}
.module_products_list .basket_button.to-cart span {
  background-position: 0 -7px;
}
.module_products_list .basket_button.to-cart:hover span {
  background-position: 0px -87px;
}
.basket_button.in-cart span {
  background-position: 0px -127px;
}
.popup .close:hover i,
.popup .grey .close i,
.popup-window-close-icon.popup-window-titlebar-close-icon:hover:after {
  background-position: -1px -59px;
}
.card_popup_frame.popup .but_row a.to_basket .icon i {
  background-position: -5px -170px;
}
.soc-serv-main .button30 span,
.reviews-expanded .button30.add_review span,
.catalog_detail .basket_button.one_click span,
.button30.review_preview span,
.popup .grey .pop-up-title {
  color: #000;
  text-shadow: 0 1px 0px rgba(255,255,255,0.5);
  -moz-text-shadow: 0 1px 0px rgba(255,255,255,0.5);
  -o-text-shadow: 0 1px 0px rgba(255,255,255,0.5);
  -webkit-text-shadow: 0 1px 0px rgba(255,255,255,0.5);
}
.module-order-history .status.delivered {
  color: #fff;
}
.jobs_wrapp .item a:not(.opened):hover .icon i,
.staff_wrapp .section .section_title:not(.opened):hover .icon i {
  background-position: -31px -33px;
}
.jobs_wrapp .item a.opened:hover .icon i,
.staff_wrapp .section .section_title.opened:hover .icon i {
  background-position: 0 -34px;
}
.button30.add_review span {
  background-position: 4px -286px;
}
.button30.send_review span {
  background-position: 4px -365px;
}
.card_popup_frame.popup .but_row a.to_delay .icon i {
  background-position: -48px -257px;
}
.compare_button span {
  background-position: -32px -64px;
}
#header .basket_fly .opener .basket_count .icon i {
  background-position: -7px -89px;
}
#header .basket_fly .opener .basket_count.empty:hover .icon i {
  background-position: -7px -47px;
}
#header .basket_fly .opener .basket_count.empty .icon i {
  background-position: -7px -5px;
}
#header .basket_fly .opener .wish_count .icon i {
  background-position: -48px -424px;
}
#header .basket_fly .opener .wish_count:hover .icon i {
  background-position: -48px -383px;
}
ul.menu li a {
  color: #000;
}
.catalog_menu ul.menu li a {
  color: #fff;
}
ul.menu li a i {
  background-position: -2px -20px;
}
.catalog_menu ul.menu li a i {
  background-position: -61px 0px;
}
a i.arrow.down b {
  background-position: -36px -35px;
}
.catalog_item:hover .basket_button span {
  color: #fff;
}
ul.specials_slider .basket_button span {
  background-position: 0 -7px;
}
ul.specials_slider .basket_button:hover span,
ul.specials_slider li:hover .basket_button span {
  background-position: 0px -87px;
}
ul.specials_slider  .basket_button.read_more span {
  background-position: 1px -408px;
}
ul.specials_slider li:hover .basket_button.read_more span {
  background-position: 1px -448px !important;
}
.top_slider_wrapp .flex-direction-nav li a.flex-next {
  background-position: -58px -60px;
}
.top_slider_wrapp .flex-direction-nav li:hover a.flex-prev {
  background-position: -3px -60px;
}
.top_slider_wrapp .flex-direction-nav li a.flex-prev {
  background-position: -3px 0px;
}
#header .basket_fly .opener .wish_count.empty:hover .icon i {
  background-position: -48px -341px;
}
#header .basket_fly .opener .wish_count.empty .icon i {
  background-position: -48px -299px;
}
#bx-soa-order .bx-soa-section .bx-soa-section-title:before {
  background-color: #01AAE3;
}
#bx-soa-order div[class*=bx-sls] .quick-locations .quick-location-tag {
  border-color: #01AAE3;
  color: #01AAE3;
}
#bx-soa-order div[class*=bx-sls] .quick-locations .quick-location-tag:hover {
  background-color: #01AAE3;
  color: #fff;
}
#bx-soa-order .bx-soa .form-group .radio-inline.checked label:before,
#bx-soa-order .bx-soa .form-group .radio-inline label:hover:before,
#bx-soa-order .bx-soa-pp-company:hover .bx-soa-pp-company-graf-container:before,
#bx-soa-order .bx-soa-pp-company.bx-selected .bx-soa-pp-company-graf-container:before {
  background-color: #01AAE3;
}
#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company.bx-selected .bx-soa-pp-company-graf-container,
#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company:hover .bx-soa-pp-company-graf-container {
  border-color: #01AAE3;
}
#bx-soa-order .bx-soa-pp-desc-container .bx-soa-pp-company:before,
#bx-soa-order .bx-soa-pp-desc-container .checkbox label:hover:before,
#bx-soa-order .bx-soa-pp-desc-container .checkbox label.checked:before {
  background-color: #01AAE3;
}
#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company:hover .bx-soa-pp-company-smalltitle,
#bx-soa-order .bx-soa-more .bx-soa-more-btn .pull-left {
  color: #01AAE3;
}
#bx-soa-order .bx-soa-coupon-input:hover:after,
#bx-soa-order .bx-soa-coupon-item .bx-soa-coupon-remove:hover {
  background-color: #01AAE3;
}
#bx-soa-order div[class*=bx-sls] .bx-ui-sls-clear:hover:before {
  background-color: #01AAE3;
}
@media all and (max-width: 950px) {
  .header_wrap.colored #header .center_block .main-nav {
    background: #00a7df;
  }
}
@media all and (max-width: 768px) {
  body .top_slider_wrapp .flex-direction-nav li a {
    background-image: url(../../images/arrows_big.png);
  }
  body .top_slider_wrapp .flex-direction-nav li a.flex-next {
    background-position: -30px -94px;
  }
  body .top_slider_wrapp .flex-direction-nav li a.flex-prev {
    background-position: 0 -127px;
  }
  body .top_slider_wrapp .flex-direction-nav li a.flex-prev:hover {
    background-position: 0 -94px;
  }
  body .flex-control-paging li a.flex-active,
  body .flex-control-paging li:hover a:not(.touch) {
    background: #00a7df;
    background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzAwYWFlMiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMwMDhmYzciIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);
    background: -moz-linear-gradient(top,#00a7df 0%,#008dc5 100%);
    background: -webkit-gradient(linear,left top,left bottom,color-stop(0%,#00a7df),color-stop(100%,#008dc5));
    background: -webkit-linear-gradient(top,#00a7df 0%,#008dc5 100%);
    background: -o-linear-gradient(top,#00a7df 0%,#008dc5 100%);
    background: -ms-linear-gradient(top,#00a7df 0%,#008dc5 100%);
    background: linear-gradient(to bottom,#00a7df 0%,#008dc5 100%);
    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='@bcolor_00aae2',endColorstr='@bcolor_008fc7',GradientType=0);
  }
}
@media all and (max-width: 600px) {
  #header ul.menu.full.opened > li,
  .has_menu #header .center_block .main-nav {
    background-color: #00a7df;
  }
  .has_menu #header .center_block .main-nav:hover {
    background: #39bade none repeat scroll 0 0;
  }
  #header ul.menu.full.opened li.current {
    background: #008dc5;
  }
}
@media all and (max-width: 550px) {
  body #footer .footer_inner .line {
    border-top: 4px solid #00add5;
  }
  .basket_wrapp .empty_cart:not(.bcart) .wraps_icon_block.basket .count span,
  .basket_wrapp .basket_empty .wraps_icon_block.basket .count span {
    color: #FFF;
    background: #00a7df;
  }
}
#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li:hover>a,
#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li.opened>a,
#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li.current > a {
  background: #39bade;
}
#header .wrapper_middle_menu.wrap_menu ul.menu.opened > li {
  background: #0097cb;
}
.button.transparent,
.h_color_white .header_wrap .menu > li.current > a span,
.h_color_white.wrapper #header ul.menu li .child .child_wrapp,
.m_color_white.wrapper #header ul.menu li .child .child_wrapp,
.basket_normal .popup.card_popup_frame .basket_popup_wrapp,
.basket_sort ul.tabs li.cur div,
.smartfilter .bx_ui_slider_track .bx_ui_slider_handle,
.bx_filter .button,
.bx_filter_vertical input[type="checkbox"]:checked + label.sku,
.sku_props .bx_item_detail_size ul li.active,
.bx_size_scroller_container .bx_size ul li.bx_active,
.bx_filter .bx_filter_param_label.active .bx_filter_param_btn,
.bx_catalog_item_scu .bx_item_detail_scu ul li.active span.cnt,
.item_slider .thumbs li.current,
.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-left-column,
.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-center-column,
.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-right-column,
.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-left-column,
.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-center-column,
.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-right-column,
.bx_element input[type=radio]:checked + label .bx_logotype,
.bx_element label.selected .bx_logotype {
  border-color: #31a4d2;
}
a,
.link,
.button.transparent,
.button.transparent:hover,
.specials_slider_wrapp ul.tabs > li span,
.tab_slider_wrapp ul.tabs > li span,
.basket_wrapp .basket_block .link:hover + .wraps_icon_block + .text .title,
.stores .stores_list .item a span,
.phones .order_wrap_btn,
.footer_bottom .all_menu_block ul li a:hover,
.footer_bottom .submenu_top .menu_item a:hover,
.avtorization-call.enter:hover span,
.top-h-row .h-user-block a:hover,
ul.menu .child li.menu_item a,
#header .catalog_menu ul.menu > li.current > a,
ul.menu .child .depth3 a,
ul.menu .child li.menu_title a:hover,
#header ul.menu li .child.submenu .child_wrapp a:not(.title),
.img_block_capcha .reload,
.h_color_white .center_block .menu.full > li:hover > a,
.m_color_white #header .wrapper_middle_menu .menu.bottom > li:hover > a,
.m_color_white #header .wrapper_middle_menu .menu.bottom > li.hover > a,
body #header ul.menu li .child.line .child_wrapp > a:hover,
.basket_sort ul.tabs li .wrap_li > span *,
.basket_sort ul.tabs li .wrap_li > span,
.bx_filter_parameters_box_title:hover,
.bx_filter .bx_filter_popup_result a,
.left_block .internal_sections_list .child_wrapp .child li.cur > a,
.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item.cur,
.left_block .internal_sections_list .child_wrapp a:hover,
.ajax_load_btn:hover .more_text_ajax,
.breadcrumbs a:hover span,
.tabs-head li.current span,
.item-stock .store_view,
.reviews-post-reply-buttons a:hover,
h4.hover,
.button.transparent.white:hover,
.button.white_bg,
.item .child_container .child_wrapp .menu_item.current a,
.item .child_container .child_wrapp .menu_item:hover a {
  color: #0097cb;
}
button.button,
input.button,
.button,
#header ul.menu.full.opened li:not(.search_row):hover,
#header ul.menu.full > li.search_row #search-submit-button:hover,
table.title-search-result td.title-search-all a .icon,
.flex-direction-nav li:hover,
.flex-direction-nav li:first-child:hover,
.top_slider_wrapp .flex-direction-nav li:hover,
.like_icons .wish_item.added,
.like_icons .compare_item.added,
.light .stores .all_map,
.block_wr.dark,
.popup .close:hover,
.header_wrap #header .middle-h-row .logo_wrapp .logo a,
.h_color_colored .header_wrap #header,
.registraion-page .top p:after,
.has_menu.m_color_colored #header .catalog_menu,
.module-cart .remove-cell a:hover,
.cart_shell .remove-cell a:hover,
.bx_item_set_hor .bx_item_set_hor_item a.remove,
.bx_filter .bx_filter_popup_result,
.bx_filter .bx_filter_parameters_box_title:before,
.bx_filter_vertical input[type="checkbox"] + label:before,
.filter input[type="checkbox"] + label:before,
.filter input[type="radio"] + label:before,
.bx_filter label.pal:hover .bx_filter_param_btn,
.bx_filter .bx_filter_param_label.active .bx_filter_param_btn,
.bx_filter_vertical input[type="checkbox"]:checked + label.sku,
.left_block .internal_sections_list li.cur,
.left_block .internal_sections_list li:hover,
.left_block .internal_sections_list .title .inner_block:hover:before,
.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item.cur:before,
.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item:hover:before,
.left_block .internal_sections_list .child_wrapp ul.child li.cur:after,
.left_block .internal_sections_list .child_wrapp ul.child li:hover:after,
body #content .props_list tr td > span:before,
body #content .props_list tr td > .txt:before,
.module-pagination .nums .cur,
.more_text_ajax:before,
.captcha_reload:before,
.sku_props .bx_item_detail_size ul li.active,
.bx_size_scroller_container .bx_size ul li.bx_active,
.bx_catalog_item_scu .bx_item_detail_scu ul li.active span:not(.cnt_item),
.ik_select_list .ik_select_list_inner ul li.ik_select_active,
.bx_filter_select_popup ul li label.selected,
.filter_opener.opened,
.no_goods .no_products:before,
.wr_scrollbar .scrollbar .handle,
.remove:hover,
a i.arrow,
.popup-window-close-icon.popup-window-titlebar-close-icon:hover,
.bx_kit_item .bx_kit_item_add,
.catalog_detail .offers_table td.opener:hover .opener_icon,
.opener_icon:hover,
.char_name .hint .icon:hover,
.char_name .hint.active .icon,
.location-block-wrapper .bx-sls .bx-ui-sls-clear:before,
h4:hover .opener_icon,
.bg_block:before,
#order_form_div input[type="submit"],
.module-order-history .item_name:hover .icon,
.module-order-history .item_name:hover .icon,
.faq.list .item .q:hover .opener_icon,
.jobs_wrapp .item .name tr:hover .opener_icon {
  color: #FFF;
  background: #00a7df;
}
.catalog_detail .bx-modal-container .btn.btn-add {
  color: #FFF;
  background: #00a7df;
}
.catalog_detail .bx-modal-container .btn.btn-add:hover {
  background: #31a4d2;
}
.colored #header .catalog_menu ul.menu > li,
header .wrap_menu {
  background: #019fd4;
}
#header .catalog_menu ul.menu > li .dropdown >li.current a {
  background: #0094c5;
}
.tabs-head li.current:before {
  background-color: #00a7df;
}
.like_icons .compare_item.added i,
.like_icons .wish_item.added i {
  background-color: #00a7df;
}
.icon_error_block:after {
  background-color: #00a7df !important;
}
.flex-direction-nav li:first-child,
.flex-direction-nav li,
.flex-direction-nav li:hover {
  border-bottom-width: 0px;
}
.specials_slider_wrapp ul.tabs li.cur span,
.tab_slider_wrapp ul.tabs li.cur span,
.popup .popup-intro {
  border-bottom-color: #31a4d2;
}
.button:hover,
.like_icons .compare_item.added:hover,
.like_icons .wish_item.added:hover,
.light .stores .all_map:hover {
  background: #31a4d2;
}
.like_icons .compare_item.added:hover i,
.like_icons .wish_item.added:hover i {
  background-color: #31a4d2;
}
.wrapper_middle_menu.wrap_menu.mobile:hover {
  background: #31a4d2;
}
.header_wrap #header .catalog_menu.menu_colored .inc_menu  ul.menu > li:not(.current):hover > a {
  background: #01b5f2;
}
header .menu_top_block li .dropdown>li:hover>a,
header .menu_top_block li:not(.catalog) .dropdown>li.current >a:not(.section),
header .menu_top_block li.catalog>.dropdown>li:hover>a:before {
  background: #01AAE3;
}
header .menu_colored .menu_top_block >li.current >a,
header .menu_dark .menu_top_block.menu >li.current >a,
header .menu_dark .menu_top_block.menu >li.current:hover >a,
.menu_top_block.catalog_block .dropdown >li.full:hover>a:before,
.menu_top_block.catalog_block .dropdown >li.full.current>a,
header .menu_top_block li.catalog>.dropdown>li.current>a,
.left_menu > li.current> a,
.left_menu > li:hover> a:before {
  background: #0094c5;
}
header .menu_top_block >li.catalog >a,
header .menu_top_block >li.catalog.current >a,
header .menu_top_block >li.catalog {
  background-color: #01AAE3;
}
header .catalog_menu .menu_top_block.menu li.catalog li.full.current >a:after,
header .catalog_menu .menu_top_block.menu li.catalog li.full:hover >a:after,
.menu_top_block.catalog_block .dropdown >li.full:hover>a:after,
.left_menu > li.has-childs:hover> a:after {
  color: #00a3da;
}
header .menu_top_block li .dropdown>li.menu_item>a:hover,
.menu_top_block.catalog_block .dropdown>li.full>.dropdown>li>a:not(.section):hover,
.menu_top_block.catalog_block .dropdown>li.full:hover>a,
.left_menu > li:hover> a {
  color: #0097cb;
}
.phone_block .phone_wrap .icons {
  color: #0097cb;
}
header .menu_top_block li.catalog>.dropdown>li:hover>a,
header .menu_top_block li.catalog>.dropdown>li>.dropdown>li.current>a:not(.section) {
  color: #0097cb;
}
header .menu_top_block li .dropdown>li.current >a.section1,
.menu_top_block li .dropdown>li >a.section1:hover,
#header .catalog_menu.menu_light ul.menu > li.current > a,
#header .catalog_menu.menu_light ul.menu > li:hover > a {
  color: #0097cb;
}
.subscribe-form:before {
  background: #00a3da;
}
.subscribe-form input.send_btn {
  background-color: #00a3da;
}
.bx_ordercart .bx_ordercart_order_pay .bx_bt_button {
  background: #00a3da;
}
.subscribe-form input.send_btn:hover {
  background-color: #31a4d2;
}
.bx_ordercart .bx_ordercart_order_pay .bx_bt_button:hover {
  background: #31a4d2;
}
.bx_ordercart .bx_item_detail_size_small_noadaptive .bx_size ul li.bx_active a {
  background: #31a4d2;
  color: #fff;
}
.bx_ordercart .bx_item_detail_size_small_noadaptive .bx_size ul li:not(.bx_active):hover a {
  color: #0097cb;
}
a.dark_link:hover,
.dark_link:hover span,
.dl:hover a,
.selected a.dark_link,
.current a.dark_link {
  color: #0097cb !important;
}
.menu_top_block.catalog_block .dropdown>li.full>.dropdown>li>a,
header .menu_top_block.catalogfirst li.full>.dropdown>li:not(.current)>a {
  color: #0097cb;
}
.middle_phone .phone_wrap .icons,
.top_slider_wrapp .flexslider .slides > li:after {
  background-color: #00a3da;
}
.basket_fly .basket_wrapp .basket_fly .wraps_icon_block.delay .count span {
  background-color: #00a3da;
}
.basket_normal .basket_wrapp .wraps_icon_block.basket .count span {
  background-color: #00a3da;
}
.bx_filter .bx_filter_parameters_box_title:hover:after {
  color: #0097cb;
}
.bx_filter .bx_filter_param_label.active .bx_filter_btn_color_icon,
.bx_catalog_item_scu ul li.active .cnt_item,
.bx_scu_scroller_container ul li.bx_active .cnt_item {
  box-shadow: 0px 0px 0px 2px #fff inset, 0px 0px 0px 2px #00a3da;
}
.bx_filter_vertical input[type="checkbox"]:not(:checked) + label.sku:hover span,
.sku_props .bx_item_detail_size ul li:not(.active):hover span,
.bx_item_list_you_looked_horizontal .bx_item_detail_size ul li:hover span {
  color: #0097cb;
}
.bx_filter_vertical input[type="checkbox"] + label.sku:hover,
.sku_props .bx_item_detail_size ul li:hover,
.bx_item_list_you_looked_horizontal .bx_item_detail_size ul li:hover {
  border-color: #0097cb;
}
.more_text_ajax:after {
  background-color: #00a3da;
}
.list_item .description_wrapp .like_icons span.added {
  color: #0097cb;
}
.bx_ordercart .bx_sort_container a.current:after {
  background: #39bade;
}
.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_order_pay_center .checkout {
  color: #00a3da;
  border-color: #0097cb;
}
.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_order_pay_center .checkout:hover {
  color: #fff;
  border-color: #39bade;
  background: #39bade;
}
.button.transparent:not(.text):hover {
  border-color: #39bade;
  background: #39bade;
  color: #fff;
}
.button.transparent.grey_br:hover {
  border-color: #39bade;
  background: #fff;
}
.bx_ordercart tbody td.control a:first-of-type:hover,
.bx_ordercart #basket_items_delayed tbody td.control a:last-of-type:hover,
.bx_ordercart #basket_items_subscribed  tbody td.control a:first-of-type:hover,
.bx_ordercart #basket_items_not_available  tbody td.control a:last-of-type:hover,
.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_coupon:not(:first-of-type) > span:hover {
  background-color: #39bade;
}
.bx_ordercart .bx_sort_container a,
.bx_item_list_you_looked_horizontal .bx_catalog_item .bx_catalog_item_title a {
  color: #00a3da;
}
.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blocktwo a,
.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blockone a {
  color: #FFF;
  background: #00a3da;
}
.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blocktwo a:hover,
.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blockone a {
  background: #31a4d2;
}
.sale_order_full_table input[name="BuyButton"] {
  background-color: #00a7df;
}
.sale_order_full_table input[name="BuyButton"] {
  background-color: #31a4d2;
}
.bx_ordercart .bx_item_detail_size_small_noadaptive ul li:active a,
.bx_ordercart .bx_item_detail_size_small_noadaptive ul li.bx_active a,
.bx_ordercart .bx_item_detail_size_small_noadaptive ul li:hover a {
  border-color: #31a4d2;
}
.color_link {
  color: #0097cb !important;
}
117  25956|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/themes/magenta/theme.min.css|be27598aa.scroll-to-top.ROUND_COLOR,a.scroll-to-top.RECT_COLOR{background-color:#B82945;}a.scroll-to-top.ROUND_COLOR:hover,a.scroll-to-top.RECT_COLOR:hover{background-color:#a5606b;}ul li::before{color:#ad2549;}.basket_print i{background-color:#a4233d;}.rss_feed_icon{background:#ad2549;color:#000;}.start_promo .item i.title a,.start_promo .item i.price a,.start_promo .item i.title span,.start_promo .item i.price span,.start_promo .item span.main_wrap i:after,.start_promo .item p span,.wrap_tizer .wrap_outer,.wrap_tizer .wrap_outer .outer_text,.wrap_tizer .wrap_outer .inner_text{background:#b52743;}.start_promo .item i.title span,.start_promo .item i.price span{box-shadow:-4px 1px 0px 4px #b52743, 4px 1px 0px 4px #b52743;}.start_promo .item i.price span{box-shadow:-4px 0px 0px 4px #b52743, 4px 0px 0px 4px #b52743;}.module-map .infoBox .close_info:hover{background-color:#ad2549;}#header ul.menu.full>li.search_row #search-submit-button:hover,#header ul.menu.full>li.search_row #search-submit-button.hover{border:transparent;}#header .catalog_menu ul.menu>li,#header ul.menu.adaptive:not(.opened) li.menu_opener,#header ul.menu.full.opened li:not(.search_row):hover,#header ul.menu.full.opened li.current{border-bottom:1px solid #7e1b28;}#header .catalog_menu ul.menu>li:not(.current):not(.stretch):hover{border-bottom:1px solid #831c34;border-right:1px solid #831c34;}#header ul.menu.full.opened li:not(.search_row):hover,#header ul.menu.full.opened li.current{border-top:1px solid #b52743;}#header .catalog_menu ul.menu>li.current>a{color:#fff;border-left:1px solid #b12641;}#header .catalog_menu ul.menu>li{border-right:1px solid #7e1b28;}.header-cart-block .cart span.icon i{background-position:0px -84px;}ul.menu li .child .child_wrapp,.breadcrumbs .dropdown,.authorization-cols .form-block{border-top:2px solid #ad2549;}.catalog_detail ul.tabs.main_tabs{border-bottom:2px solid #ad2549;}ul.menu li b.space,.breadcrumbs .drop b.space,.hint .triangle{border-bottom:6px solid #ad2549;}.basket_button,.basket_button span,.button30,.button30 span,.popup .soc-avt .row a{color:#fff;}#footer .footer_inner .line,#header .basket_fly .opener .basket_count,.page_not_found td.image img{background:#ad2549;}#bx-soa-order-form .btn.btn-default{background:#ad2549;border-color:#ad2549;}#bx-soa-order-form .btn.btn-default:hover{background:#a45b67;border-color:#a45b67;}ul.tabs li.cur .triangle,.view-list .view-header i.triangle{border-top:5px solid #a4233d !important;}.basket_button.add span{background-position:0px -6px;}.basket_button.read_more span{background-position:1px -448px;}.basket_button.added span{background-position:0px -45px;}.front_slider_wrapp .extended_pagination>li.active i.triangle{border-right-color:#a4233d;}.catalog_detail .extended_info a.compare_item i{background-position:-32px -65px;}.catalog_detail .extended_info a.wish_item i{background-position:3px -72px;}.display_list a.compare_item i{background-position:-32px -3px;}.display_list a.wish_item i{background-position:-3px -2px;}.display_list a.compare_item:hover i,.display_list a.compare_item.added i{background-position:-32px -65px;}.display_list a.wish_item:hover i,.display_list a.wish_item.added i{background-position:-3px -63px;}.popup .form .form_head{border-bottom-color:#ad2549;}.item_slider .thumbs i.triangle{border-bottom:5px solid #ad2549;}blockquote:before{background-color:#ad2549;}.module-gallery-list li .fancy_hover:hover{border:2px solid #ad2549;}.smartfilter .bx_ui_slider_track .bx_ui_slider_range,.bx_filter .bx_ui_slider_pricebar_V{background:#ad2549;}.catalog_block .catalog_item .basket_button.read_more span{background-position:1px -408px;}.catalog_block .catalog_item .basket_button.to-cart span{background-position:0 -7px;}.catalog_block .catalog_item:hover .basket_button span{color:#fff;background-position:0px -87px;}.catalog_block .catalog_item:hover .basket_button.read_more span{background-position:1px -448px !important;}.catalog_item .basket_button.in-cart span,.basket_button.in-cart span{background-position:0px -127px !important;}.catalog_item:hover .basket_button.added span{color:#fff;}.bx_filter_container #modef .triangle,.left_block .internal_sections_list .child_wrapp .triangle{border-right:6px solid #ad2549;}#order_form_div .sale_order_table .ps_logo img:hover,#order_form_div .sale_order_table .ps_logo input[type=radio]:checked+label img,#order_form_div .sale_order_table.delivery label:hover img,#order_form_div .sale_order_table.delivery input[type=radio]:checked+label img,#order_form_div div.ps_logo.selected img,#order_form_div .account label:hover img,#order_form_div .account img.active{border:2px solid #ad2549;}.front_slider_wrapp .extended_pagination>li.active span,a.b-share-popup__item:hover .b-share-popup__item__text{color:#fff !important;}ul.tabs li.cur span,ul.tabs li.cur:hover span,.front_slider_wrapp a.read_more{color:#fff;}.left_menu>li.current>a,.left_menu>li:not(.exit):hover{background:#ad2549;}a i.arrow b{background-position:-36px 0px;}.top-h-row .search #search-submit-button:hover i,.top-h-row .search #search-submit-button.hover i{background-position:top center;}.catalog_detail a.compare_item:hover .icon i{background-position:-32px -65px;}.catalog_detail a.wish_item:hover .icon i{background-position:2px -45px;}ul.menu li.current a i{background-position:-61px 0px;}.button30.ask_question span.show_form,.button30.ask_question span.hide_form{background-position:5px -605px;}.button30.ask_question span.hide_form{color:#000;}.button30.ask_question span.hide_form:hover{color:#fff;}.question-list .q .ic b{background-position:-38px -188px;}.question-list .q.op .ic b{background-position:-8px -188px;}.number_list a.current span{color:#fff !important;}.basket_button span,.compare_button span{background-position:0px -87px;}.bx_filter_container_title .hint.active .hint_icon,.bx_filter_container_title .hint.active .hint_icon,.bx_filter_container_title .hint.active .hint_icon:hover,#header .basket_fly .opener .basket_count:not(.empty).count{color:#fff;}.left_block .internal_sections_list li.item:hover>a,.left_block .internal_sections_list li.item.cur>a{color:#fff;}.left_block .internal_sections_list li *{-webkit-transition:none;-moz-transition:none;-o-transition:none;transition:none;}a.compare_item i{background-position:-31px -1px;}a.wish_item i{background-position:-2px -1px;}a.compare_item:hover i{background-position:-31px -33px;}a.wish_item:hover i{background-position:-2px -32px;}a.compare_item.added i{background-position:-31px -63px;}a.wish_item.added i{background-position:-2px -62px;}.module_products_list .basket_button.to-cart span{background-position:0 -7px;}.module_products_list .basket_button.to-cart:hover span{background-position:0px -87px;}.basket_button.in-cart span{background-position:0px -127px;}.popup .close:hover i,.popup .grey .close i,.popup-window-close-icon.popup-window-titlebar-close-icon:hover:after{background-position:-1px -59px;}.card_popup_frame.popup .but_row a.to_basket .icon i{background-position:-5px -170px;}.soc-serv-main .button30 span,.reviews-expanded .button30.add_review span,.catalog_detail .basket_button.one_click span,.button30.review_preview span,.popup .grey .pop-up-title{color:#000;text-shadow:0 1px 0px rgba(255,255,255,0.5);-moz-text-shadow:0 1px 0px rgba(255,255,255,0.5);-o-text-shadow:0 1px 0px rgba(255,255,255,0.5);-webkit-text-shadow:0 1px 0px rgba(255,255,255,0.5);}.module-order-history .status.delivered{color:#fff;}.jobs_wrapp .item a:not(.opened):hover .icon i,.staff_wrapp .section .section_title:not(.opened):hover .icon i{background-position:-31px -33px;}.jobs_wrapp .item a.opened:hover .icon i,.staff_wrapp .section .section_title.opened:hover .icon i{background-position:0 -34px;}.button30.add_review span{background-position:4px -286px;}.button30.send_review span{background-position:4px -365px;}.card_popup_frame.popup .but_row a.to_delay .icon i{background-position:-48px -257px;}.compare_button span{background-position:-32px -64px;}#header .basket_fly .opener .basket_count .icon i{background-position:-7px -89px;}#header .basket_fly .opener .basket_count.empty:hover .icon i{background-position:-7px -47px;}#header .basket_fly .opener .basket_count.empty .icon i{background-position:-7px -5px;}#header .basket_fly .opener .wish_count .icon i{background-position:-48px -424px;}#header .basket_fly .opener .wish_count:hover .icon i{background-position:-48px -383px;}ul.menu li a{color:#000;}.catalog_menu ul.menu li a{color:#fff;}ul.menu li a i{background-position:-2px -20px;}.catalog_menu ul.menu li a i{background-position:-61px 0px;}a i.arrow.down b{background-position:-36px -35px;}.catalog_item:hover .basket_button span{color:#fff;}ul.specials_slider .basket_button span{background-position:0 -7px;}ul.specials_slider .basket_button:hover span,ul.specials_slider li:hover .basket_button span{background-position:0px -87px;}ul.specials_slider .basket_button.read_more span{background-position:1px -408px;}ul.specials_slider li:hover .basket_button.read_more span{background-position:1px -448px !important;}.top_slider_wrapp .flex-direction-nav li a.flex-next{background-position:-58px -60px;}.top_slider_wrapp .flex-direction-nav li:hover a.flex-prev{background-position:-3px -60px;}.top_slider_wrapp .flex-direction-nav li a.flex-prev{background-position:-3px 0px;}#header .basket_fly .opener .wish_count.empty:hover .icon i{background-position:-48px -341px;}#header .basket_fly .opener .wish_count.empty .icon i{background-position:-48px -299px;}#bx-soa-order .bx-soa-section .bx-soa-section-title:before{background-color:#B82945;}#bx-soa-order div[class*=bx-sls] .quick-locations .quick-location-tag{border-color:#B82945;color:#B82945;}#bx-soa-order div[class*=bx-sls] .quick-locations .quick-location-tag:hover{background-color:#B82945;color:#fff;}#bx-soa-order .bx-soa .form-group .radio-inline.checked label:before,#bx-soa-order .bx-soa .form-group .radio-inline label:hover:before,#bx-soa-order .bx-soa-pp-company:hover .bx-soa-pp-company-graf-container:before,#bx-soa-order .bx-soa-pp-company.bx-selected .bx-soa-pp-company-graf-container:before{background-color:#B82945;}#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company.bx-selected .bx-soa-pp-company-graf-container,#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company:hover .bx-soa-pp-company-graf-container{border-color:#B82945;}#bx-soa-order .bx-soa-pp-desc-container .bx-soa-pp-company:before,#bx-soa-order .bx-soa-pp-desc-container .checkbox label:hover:before,#bx-soa-order .bx-soa-pp-desc-container .checkbox label.checked:before{background-color:#B82945;}#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company:hover .bx-soa-pp-company-smalltitle,#bx-soa-order .bx-soa-more .bx-soa-more-btn .pull-left{color:#B82945;}#bx-soa-order .bx-soa-coupon-input:hover:after,#bx-soa-order .bx-soa-coupon-item .bx-soa-coupon-remove:hover{background-color:#B82945;}#bx-soa-order div[class*=bx-sls] .bx-ui-sls-clear:hover:before{background-color:#B82945;}@media all and (max-width:950px){.header_wrap.colored #header .center_block .main-nav{background:#b52743;}}@media all and (max-width:768px){body .top_slider_wrapp .flex-direction-nav li a{background-image:url(../../images/arrows_big.png);}body .top_slider_wrapp .flex-direction-nav li a.flex-next{background-position:-30px -94px;}body .top_slider_wrapp .flex-direction-nav li a.flex-prev{background-position:0 -127px;}body .top_slider_wrapp .flex-direction-nav li a.flex-prev:hover{background-position:0 -94px;}body .flex-control-paging li a.flex-active, body .flex-control-paging li:hover a:not(.touch){background:#b52743;background:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzAwYWFlMiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMwMDhmYzciIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);background:-moz-linear-gradient(top,#b52743 0%,#a02237 100%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0%,#b52743),color-stop(100%,#a02237));background:-webkit-linear-gradient(top,#b52743 0%,#a02237 100%);background:-o-linear-gradient(top,#b52743 0%,#a02237 100%);background:-ms-linear-gradient(top,#b52743 0%,#a02237 100%);background:linear-gradient(to bottom,#b52743 0%,#a02237 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='@bcolor_00aae2',endColorstr='@bcolor_008fc7',GradientType=0);}}@media all and (max-width:600px){#header ul.menu.full.opened>li, .has_menu #header .center_block .main-nav{background-color:#b52743;}.has_menu #header .center_block .main-nav:hover{background:#b46073 none repeat scroll 0 0;}#header ul.menu.full.opened li.current{background:#a02237;}}@media all and (max-width:550px){body #footer .footer_inner .line{border-top:4px solid #ad2549;}.basket_wrapp .empty_cart:not(.bcart).wraps_icon_block.basket .count span, .basket_wrapp .basket_empty .wraps_icon_block.basket .count span{color:#FFF;background:#b52743;}}#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li:hover>a,#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li.opened>a,#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li.current>a{background:#b46073;}#header .wrapper_middle_menu.wrap_menu ul.menu.opened>li{background:#a4233d;}.button.transparent,.h_color_white .header_wrap .menu>li.current>a span,.h_color_white.wrapper #header ul.menu li .child .child_wrapp,.m_color_white.wrapper #header ul.menu li .child .child_wrapp,.basket_normal .popup.card_popup_frame .basket_popup_wrapp,.basket_sort ul.tabs li.cur div,.smartfilter .bx_ui_slider_track .bx_ui_slider_handle,.bx_filter .button,.bx_filter_vertical input[type="checkbox"]:checked+label.sku,.sku_props .bx_item_detail_size ul li.active,.bx_size_scroller_container .bx_size ul li.bx_active,.bx_filter .bx_filter_param_label.active .bx_filter_param_btn,.bx_catalog_item_scu .bx_item_detail_scu ul li.active span.cnt,.item_slider .thumbs li.current,.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-left-column,.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-center-column,.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-right-column,.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-left-column,.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-center-column,.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-right-column,.bx_element input[type=radio]:checked+label .bx_logotype,.bx_element label.selected .bx_logotype{border-color:#a45b67;}a,.link,.button.transparent,.button.transparent:hover,.specials_slider_wrapp ul.tabs>li span,.tab_slider_wrapp ul.tabs>li span,.basket_wrapp .basket_block .link:hover+.wraps_icon_block+.text .title,.stores .stores_list .item a span,.phones .order_wrap_btn,.footer_bottom .all_menu_block ul li a:hover,.footer_bottom .submenu_top .menu_item a:hover,.avtorization-call.enter:hover span,.top-h-row .h-user-block a:hover,ul.menu .child li.menu_item a,#header .catalog_menu ul.menu>li.current>a,ul.menu .child .depth3 a,ul.menu .child li.menu_title a:hover,#header ul.menu li .child.submenu .child_wrapp a:not(.title),.img_block_capcha .reload,.h_color_white .center_block .menu.full>li:hover>a,.m_color_white #header .wrapper_middle_menu .menu.bottom>li:hover>a,.m_color_white #header .wrapper_middle_menu .menu.bottom>li.hover>a,body #header ul.menu li .child.line .child_wrapp>a:hover,.basket_sort ul.tabs li .wrap_li>span *,.basket_sort ul.tabs li .wrap_li>span,.bx_filter_parameters_box_title:hover,.bx_filter .bx_filter_popup_result a,.left_block .internal_sections_list .child_wrapp .child li.cur>a,.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item.cur,.left_block .internal_sections_list .child_wrapp a:hover,.ajax_load_btn:hover .more_text_ajax,.breadcrumbs a:hover span,.tabs-head li.current span,.item-stock .store_view,.reviews-post-reply-buttons a:hover,h4.hover,.button.transparent.white:hover,.button.white_bg,.item .child_container .child_wrapp .menu_item.current a,.item .child_container .child_wrapp .menu_item:hover a{color:#a4233d;}button.button,input.button,.button,#header ul.menu.full.opened li:not(.search_row):hover,#header ul.menu.full>li.search_row #search-submit-button:hover,table.title-search-result td.title-search-all a .icon,.flex-direction-nav li:hover,.flex-direction-nav li:first-child:hover,.top_slider_wrapp .flex-direction-nav li:hover,.like_icons .wish_item.added,.like_icons .compare_item.added,.light .stores .all_map,.block_wr.dark,.popup .close:hover,.header_wrap #header .middle-h-row .logo_wrapp .logo a,.h_color_colored .header_wrap #header,.registraion-page .top p:after,.has_menu.m_color_colored #header .catalog_menu,.module-cart .remove-cell a:hover,.cart_shell .remove-cell a:hover,.bx_item_set_hor .bx_item_set_hor_item a.remove,.bx_filter .bx_filter_popup_result,.bx_filter .bx_filter_parameters_box_title:before,.bx_filter_vertical input[type="checkbox"]+label:before,.filter input[type="checkbox"]+label:before,.filter input[type="radio"]+label:before,.bx_filter label.pal:hover .bx_filter_param_btn,.bx_filter .bx_filter_param_label.active .bx_filter_param_btn,.bx_filter_vertical input[type="checkbox"]:checked+label.sku,.left_block .internal_sections_list li.cur,.left_block .internal_sections_list li:hover,.left_block .internal_sections_list .title .inner_block:hover:before,.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item.cur:before,.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item:hover:before,.left_block .internal_sections_list .child_wrapp ul.child li.cur:after,.left_block .internal_sections_list .child_wrapp ul.child li:hover:after,body #content .props_list tr td>span:before,body #content .props_list tr td>.txt:before,.module-pagination .nums .cur,.more_text_ajax:before,.captcha_reload:before,.sku_props .bx_item_detail_size ul li.active,.bx_size_scroller_container .bx_size ul li.bx_active,.bx_catalog_item_scu .bx_item_detail_scu ul li.active span:not(.cnt_item),.ik_select_list .ik_select_list_inner ul li.ik_select_active,.bx_filter_select_popup ul li label.selected,.filter_opener.opened,.no_goods .no_products:before,.wr_scrollbar .scrollbar .handle,.remove:hover,a i.arrow,.popup-window-close-icon.popup-window-titlebar-close-icon:hover,.bx_kit_item .bx_kit_item_add,.catalog_detail .offers_table td.opener:hover .opener_icon,.opener_icon:hover,.char_name .hint .icon:hover,.char_name .hint.active .icon,.location-block-wrapper .bx-sls .bx-ui-sls-clear:before,h4:hover .opener_icon,.bg_block:before,#order_form_div input[type="submit"],.module-order-history .item_name:hover .icon,.module-order-history .item_name:hover .icon,.faq.list .item .q:hover .opener_icon,.jobs_wrapp .item .name tr:hover .opener_icon{color:#FFF;background:#b52743;}.catalog_detail .bx-modal-container .btn.btn-add{color:#FFF;background:#b52743;}.catalog_detail .bx-modal-container .btn.btn-add:hover{background:#a45b67;}.colored #header .catalog_menu ul.menu>li,header .wrap_menu{background:#ab2640;}#header .catalog_menu ul.menu>li .dropdown>li.current a{background:#a0223b;}.tabs-head li.current:before{background-color:#b52743;}.like_icons .compare_item.added i,.like_icons .wish_item.added i{background-color:#b52743;}.icon_error_block:after{background-color:#b52743 !important;}.flex-direction-nav li:first-child,.flex-direction-nav li,.flex-direction-nav li:hover{border-bottom-width:0px;}.specials_slider_wrapp ul.tabs li.cur span,.tab_slider_wrapp ul.tabs li.cur span,.popup .popup-intro{border-bottom-color:#a45b67;}.button:hover,.like_icons .compare_item.added:hover,.like_icons .wish_item.added:hover,.light .stores .all_map:hover{background:#a45b67;}.like_icons .compare_item.added:hover i,.like_icons .wish_item.added:hover i{background-color:#a45b67;}.wrapper_middle_menu.wrap_menu.mobile:hover{background:#a45b67;}.header_wrap #header .catalog_menu.menu_colored .inc_menu ul.menu>li:not(.current):hover>a{background:#c52c4a;}header .menu_top_block li .dropdown>li:hover>a,header .menu_top_block li:not(.catalog).dropdown>li.current>a:not(.section),header .menu_top_block li.catalog>.dropdown>li:hover>a:before{background:#B82945;}header .menu_colored .menu_top_block>li.current>a,header .menu_dark .menu_top_block.menu>li.current>a,header .menu_dark .menu_top_block.menu>li.current:hover>a,.menu_top_block.catalog_block .dropdown>li.full:hover>a:before,.menu_top_block.catalog_block .dropdown>li.full.current>a,header .menu_top_block li.catalog>.dropdown>li.current>a,.left_menu>li.current>a,.left_menu>li:hover>a:before{background:#a0223b;}header .menu_top_block>li.catalog>a,header .menu_top_block>li.catalog.current>a,header .menu_top_block>li.catalog{background-color:#B82945;}header .catalog_menu .menu_top_block.menu li.catalog li.full.current>a:after,header .catalog_menu .menu_top_block.menu li.catalog li.full:hover>a:after,.menu_top_block.catalog_block .dropdown>li.full:hover>a:after,.left_menu>li.has-childs:hover>a:after{color:#b12641;}header .menu_top_block li .dropdown>li.menu_item>a:hover,.menu_top_block.catalog_block .dropdown>li.full>.dropdown>li>a:not(.section):hover,.menu_top_block.catalog_block .dropdown>li.full:hover>a,.left_menu>li:hover>a{color:#a4233d;}.phone_block .phone_wrap .icons{color:#a4233d;}header .menu_top_block li.catalog>.dropdown>li:hover>a,header .menu_top_block li.catalog>.dropdown>li>.dropdown>li.current>a:not(.section){color:#a4233d;}header .menu_top_block li .dropdown>li.current>a.section1,.menu_top_block li .dropdown>li>a.section1:hover,#header .catalog_menu.menu_light ul.menu>li.current>a,#header .catalog_menu.menu_light ul.menu>li:hover>a{color:#a4233d;}.subscribe-form:before{background:#b12641;}.subscribe-form input.send_btn{background-color:#b12641;}.bx_ordercart .bx_ordercart_order_pay .bx_bt_button{background:#b12641;}.subscribe-form input.send_btn:hover{background-color:#a45b67;}.bx_ordercart .bx_ordercart_order_pay .bx_bt_button:hover{background:#a45b67;}.bx_ordercart .bx_item_detail_size_small_noadaptive .bx_size ul li.bx_active a{background:#a45b67;color:#fff;}.bx_ordercart .bx_item_detail_size_small_noadaptive .bx_size ul li:not(.bx_active):hover a{color:#a4233d;}a.dark_link:hover,.dark_link:hover span,.dl:hover a,.selected a.dark_link,.current a.dark_link{color:#a4233d !important;}.menu_top_block.catalog_block .dropdown>li.full>.dropdown>li>a,header .menu_top_block.catalogfirst li.full>.dropdown>li:not(.current)>a{color:#a4233d;}.middle_phone .phone_wrap .icons,.top_slider_wrapp .flexslider .slides>li:after{background-color:#b12641;}.basket_fly .basket_wrapp .basket_fly .wraps_icon_block.delay .count span{background-color:#b12641;}.basket_normal .basket_wrapp .wraps_icon_block.basket .count span{background-color:#b12641;}.bx_filter .bx_filter_parameters_box_title:hover:after{color:#a4233d;}.bx_filter .bx_filter_param_label.active .bx_filter_btn_color_icon,.bx_catalog_item_scu ul li.active .cnt_item,.bx_scu_scroller_container ul li.bx_active .cnt_item{box-shadow:0px 0px 0px 2px #fff inset, 0px 0px 0px 2px #b12641;}.bx_filter_vertical input[type="checkbox"]:not(:checked)+label.sku:hover span,.sku_props .bx_item_detail_size ul li:not(.active):hover span,.bx_item_list_you_looked_horizontal .bx_item_detail_size ul li:hover span{color:#a4233d;}.bx_filter_vertical input[type="checkbox"]+label.sku:hover,.sku_props .bx_item_detail_size ul li:hover,.bx_item_list_you_looked_horizontal .bx_item_detail_size ul li:hover{border-color:#a4233d;}.more_text_ajax:after{background-color:#b12641;}.list_item .description_wrapp .like_icons span.added{color:#a4233d;}.bx_ordercart .bx_sort_container a.current:after{background:#b46073;}.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_order_pay_center .checkout{color:#b12641;border-color:#a4233d;}.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_order_pay_center .checkout:hover{color:#fff;border-color:#b46073;background:#b46073;}.button.transparent:not(.text):hover{border-color:#b46073;background:#b46073;color:#fff;}.button.transparent.grey_br:hover{border-color:#b46073;background:#fff;}.bx_ordercart tbody td.control a:first-of-type:hover,.bx_ordercart #basket_items_delayed tbody td.control a:last-of-type:hover,.bx_ordercart #basket_items_subscribed tbody td.control a:first-of-type:hover,.bx_ordercart #basket_items_not_available tbody td.control a:last-of-type:hover,.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_coupon:not(:first-of-type)>span:hover{background-color:#b46073;}.bx_ordercart .bx_sort_container a,.bx_item_list_you_looked_horizontal .bx_catalog_item .bx_catalog_item_title a{color:#b12641;}.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blocktwo a,.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blockone a{color:#FFF;background:#b12641;}.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blocktwo a:hover,.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blockone a{background:#a45b67;}.sale_order_full_table input[name="BuyButton"]{background-color:#b52743;}.sale_order_full_table input[name="BuyButton"]{background-color:#a45b67;}.bx_ordercart .bx_item_detail_size_small_noadaptive ul li:active a,.bx_ordercart .bx_item_detail_size_small_noadaptive ul li.bx_active a,.bx_ordercart .bx_item_detail_size_small_noadaptive ul li:hover a{border-color:#a45b67;}.color_link{color:#a4233d !important;}113  28695|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/themes/magenta/theme.css|569a3d1ea.scroll-to-top.ROUND_COLOR,
a.scroll-to-top.RECT_COLOR {
  background-color: #B82945;
}
a.scroll-to-top.ROUND_COLOR:hover,
a.scroll-to-top.RECT_COLOR:hover {
  background-color: #a5606b;
}
ul li::before {
  color: #ad2549;
}
.basket_print i {
  background-color: #a4233d;
}
.rss_feed_icon {
  background: #ad2549;
  color: #000;
}
.start_promo .item i.title a,
.start_promo .item i.price a,
.start_promo .item i.title span,
.start_promo .item i.price span,
.start_promo .item span.main_wrap i:after,
.start_promo .item p span,
.wrap_tizer .wrap_outer,
.wrap_tizer .wrap_outer .outer_text,
.wrap_tizer .wrap_outer .inner_text {
  background: #b52743;
}
.start_promo .item i.title span,
.start_promo .item i.price span {
  box-shadow: -4px 1px 0px 4px #b52743, 4px 1px 0px 4px #b52743;
}
.start_promo .item i.price span {
  box-shadow: -4px 0px 0px 4px #b52743, 4px 0px 0px 4px #b52743;
}
.module-map .infoBox .close_info:hover {
  background-color: #ad2549;
}
#header ul.menu.full > li.search_row #search-submit-button:hover,
#header ul.menu.full > li.search_row #search-submit-button.hover {
  border: transparent;
}
#header .catalog_menu ul.menu > li,
#header ul.menu.adaptive:not(.opened) li.menu_opener,
#header ul.menu.full.opened li:not(.search_row):hover,
#header ul.menu.full.opened li.current {
  border-bottom: 1px solid #7e1b28;
}
#header .catalog_menu ul.menu > li:not(.current):not(.stretch):hover {
  border-bottom: 1px solid #831c34;
  border-right: 1px solid #831c34;
}
#header ul.menu.full.opened li:not(.search_row):hover,
#header ul.menu.full.opened li.current {
  border-top: 1px solid #b52743;
}
#header .catalog_menu ul.menu > li.current > a {
  color: #fff;
  border-left: 1px solid #b12641;
}
#header .catalog_menu ul.menu > li {
  border-right: 1px solid #7e1b28;
}
.header-cart-block .cart span.icon i {
  background-position: 0px -84px;
}
ul.menu li .child .child_wrapp,
.breadcrumbs .dropdown,
.authorization-cols .form-block {
  border-top: 2px solid #ad2549;
}
.catalog_detail ul.tabs.main_tabs {
  border-bottom: 2px solid #ad2549;
}
ul.menu li b.space,
.breadcrumbs .drop b.space,
.hint .triangle {
  border-bottom: 6px solid #ad2549;
}
.basket_button,
.basket_button span,
.button30,
.button30 span,
.popup .soc-avt .row a {
  color: #fff;
}
#footer .footer_inner .line,
#header .basket_fly .opener .basket_count,
.page_not_found td.image img {
  background: #ad2549;
}
#bx-soa-order-form .btn.btn-default {
  background: #ad2549;
  border-color: #ad2549;
}
#bx-soa-order-form .btn.btn-default:hover {
  background: #a45b67;
  border-color: #a45b67;
}
ul.tabs li.cur .triangle,
.view-list .view-header i.triangle {
  border-top: 5px solid #a4233d !important;
}
.basket_button.add span {
  background-position: 0px -6px;
}
.basket_button.read_more span {
  background-position: 1px -448px;
}
.basket_button.added span {
  background-position: 0px -45px;
}
.front_slider_wrapp .extended_pagination > li.active i.triangle {
  border-right-color: #a4233d;
}
.catalog_detail .extended_info a.compare_item i {
  background-position: -32px -65px;
}
.catalog_detail .extended_info a.wish_item i {
  background-position: 3px -72px;
}
.display_list a.compare_item i {
  background-position: -32px -3px;
}
.display_list a.wish_item i {
  background-position: -3px -2px;
}
.display_list a.compare_item:hover i,
.display_list a.compare_item.added i {
  background-position: -32px -65px;
}
.display_list a.wish_item:hover i,
.display_list a.wish_item.added i {
  background-position: -3px -63px;
}
.popup .form .form_head {
  border-bottom-color: #ad2549;
}
.item_slider .thumbs i.triangle {
  border-bottom: 5px solid #ad2549;
}
blockquote:before {
  background-color: #ad2549;
}
.module-gallery-list li .fancy_hover:hover {
  border: 2px solid #ad2549;
}
.smartfilter .bx_ui_slider_track .bx_ui_slider_range,
.bx_filter .bx_ui_slider_pricebar_V {
  background: #ad2549;
}
.catalog_block .catalog_item .basket_button.read_more span {
  background-position: 1px -408px;
}
.catalog_block .catalog_item .basket_button.to-cart span {
  background-position: 0 -7px;
}
.catalog_block .catalog_item:hover .basket_button span {
  color: #fff;
  background-position: 0px -87px;
}
.catalog_block .catalog_item:hover .basket_button.read_more span {
  background-position: 1px -448px !important;
}
.catalog_item .basket_button.in-cart span,
.basket_button.in-cart span {
  background-position: 0px -127px !important;
}
.catalog_item:hover .basket_button.added span {
  color: #fff;
}
.bx_filter_container #modef .triangle,
.left_block .internal_sections_list .child_wrapp .triangle {
  border-right: 6px solid #ad2549;
}
#order_form_div .sale_order_table .ps_logo img:hover,
#order_form_div .sale_order_table .ps_logo input[type=radio]:checked + label img,
#order_form_div .sale_order_table.delivery label:hover img,
#order_form_div .sale_order_table.delivery input[type=radio]:checked + label img,
#order_form_div div.ps_logo.selected img,
#order_form_div .account label:hover img,
#order_form_div .account img.active {
  border: 2px solid #ad2549;
}
.front_slider_wrapp .extended_pagination > li.active span,
a.b-share-popup__item:hover .b-share-popup__item__text {
  color: #fff !important;
}
ul.tabs li.cur span,
ul.tabs li.cur:hover span,
.front_slider_wrapp a.read_more {
  color: #fff;
}
.left_menu > li.current >a,
.left_menu > li:not(.exit):hover {
  background: #ad2549;
}
a i.arrow b {
  background-position: -36px 0px;
}
.top-h-row .search #search-submit-button:hover i,
.top-h-row .search #search-submit-button.hover i {
  background-position: top center;
}
.catalog_detail a.compare_item:hover .icon i {
  background-position: -32px -65px;
}
.catalog_detail a.wish_item:hover .icon i {
  background-position: 2px -45px;
}
ul.menu li.current a i {
  background-position: -61px 0px;
}
.button30.ask_question span.show_form,
.button30.ask_question span.hide_form {
  background-position: 5px -605px;
}
.button30.ask_question span.hide_form {
  color: #000;
}
.button30.ask_question span.hide_form:hover {
  color: #fff;
}
.question-list .q .ic b {
  background-position: -38px -188px;
}
.question-list .q.op .ic b {
  background-position: -8px -188px;
}
.number_list a.current span {
  color: #fff !important;
}
.basket_button span,
.compare_button span {
  background-position: 0px -87px;
}
.bx_filter_container_title .hint.active .hint_icon,
.bx_filter_container_title .hint.active .hint_icon,
.bx_filter_container_title .hint.active .hint_icon:hover,
#header .basket_fly .opener .basket_count:not(.empty) .count {
  color: #fff;
}
.left_block .internal_sections_list li.item:hover > a,
.left_block .internal_sections_list li.item.cur > a {
  color: #fff;
}
.left_block .internal_sections_list li * {
  -webkit-transition: none;
  -moz-transition: none;
  -o-transition: none;
  transition: none;
}
a.compare_item i {
  background-position: -31px -1px;
}
a.wish_item i {
  background-position: -2px -1px;
}
a.compare_item:hover i {
  background-position: -31px -33px;
}
a.wish_item:hover i {
  background-position: -2px -32px;
}
a.compare_item.added i {
  background-position: -31px -63px;
}
a.wish_item.added i {
  background-position: -2px -62px;
}
.module_products_list .basket_button.to-cart span {
  background-position: 0 -7px;
}
.module_products_list .basket_button.to-cart:hover span {
  background-position: 0px -87px;
}
.basket_button.in-cart span {
  background-position: 0px -127px;
}
.popup .close:hover i,
.popup .grey .close i,
.popup-window-close-icon.popup-window-titlebar-close-icon:hover:after {
  background-position: -1px -59px;
}
.card_popup_frame.popup .but_row a.to_basket .icon i {
  background-position: -5px -170px;
}
.soc-serv-main .button30 span,
.reviews-expanded .button30.add_review span,
.catalog_detail .basket_button.one_click span,
.button30.review_preview span,
.popup .grey .pop-up-title {
  color: #000;
  text-shadow: 0 1px 0px rgba(255,255,255,0.5);
  -moz-text-shadow: 0 1px 0px rgba(255,255,255,0.5);
  -o-text-shadow: 0 1px 0px rgba(255,255,255,0.5);
  -webkit-text-shadow: 0 1px 0px rgba(255,255,255,0.5);
}
.module-order-history .status.delivered {
  color: #fff;
}
.jobs_wrapp .item a:not(.opened):hover .icon i,
.staff_wrapp .section .section_title:not(.opened):hover .icon i {
  background-position: -31px -33px;
}
.jobs_wrapp .item a.opened:hover .icon i,
.staff_wrapp .section .section_title.opened:hover .icon i {
  background-position: 0 -34px;
}
.button30.add_review span {
  background-position: 4px -286px;
}
.button30.send_review span {
  background-position: 4px -365px;
}
.card_popup_frame.popup .but_row a.to_delay .icon i {
  background-position: -48px -257px;
}
.compare_button span {
  background-position: -32px -64px;
}
#header .basket_fly .opener .basket_count .icon i {
  background-position: -7px -89px;
}
#header .basket_fly .opener .basket_count.empty:hover .icon i {
  background-position: -7px -47px;
}
#header .basket_fly .opener .basket_count.empty .icon i {
  background-position: -7px -5px;
}
#header .basket_fly .opener .wish_count .icon i {
  background-position: -48px -424px;
}
#header .basket_fly .opener .wish_count:hover .icon i {
  background-position: -48px -383px;
}
ul.menu li a {
  color: #000;
}
.catalog_menu ul.menu li a {
  color: #fff;
}
ul.menu li a i {
  background-position: -2px -20px;
}
.catalog_menu ul.menu li a i {
  background-position: -61px 0px;
}
a i.arrow.down b {
  background-position: -36px -35px;
}
.catalog_item:hover .basket_button span {
  color: #fff;
}
ul.specials_slider .basket_button span {
  background-position: 0 -7px;
}
ul.specials_slider .basket_button:hover span,
ul.specials_slider li:hover .basket_button span {
  background-position: 0px -87px;
}
ul.specials_slider  .basket_button.read_more span {
  background-position: 1px -408px;
}
ul.specials_slider li:hover .basket_button.read_more span {
  background-position: 1px -448px !important;
}
.top_slider_wrapp .flex-direction-nav li a.flex-next {
  background-position: -58px -60px;
}
.top_slider_wrapp .flex-direction-nav li:hover a.flex-prev {
  background-position: -3px -60px;
}
.top_slider_wrapp .flex-direction-nav li a.flex-prev {
  background-position: -3px 0px;
}
#header .basket_fly .opener .wish_count.empty:hover .icon i {
  background-position: -48px -341px;
}
#header .basket_fly .opener .wish_count.empty .icon i {
  background-position: -48px -299px;
}
#bx-soa-order .bx-soa-section .bx-soa-section-title:before {
  background-color: #B82945;
}
#bx-soa-order div[class*=bx-sls] .quick-locations .quick-location-tag {
  border-color: #B82945;
  color: #B82945;
}
#bx-soa-order div[class*=bx-sls] .quick-locations .quick-location-tag:hover {
  background-color: #B82945;
  color: #fff;
}
#bx-soa-order .bx-soa .form-group .radio-inline.checked label:before,
#bx-soa-order .bx-soa .form-group .radio-inline label:hover:before,
#bx-soa-order .bx-soa-pp-company:hover .bx-soa-pp-company-graf-container:before,
#bx-soa-order .bx-soa-pp-company.bx-selected .bx-soa-pp-company-graf-container:before {
  background-color: #B82945;
}
#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company.bx-selected .bx-soa-pp-company-graf-container,
#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company:hover .bx-soa-pp-company-graf-container {
  border-color: #B82945;
}
#bx-soa-order .bx-soa-pp-desc-container .bx-soa-pp-company:before,
#bx-soa-order .bx-soa-pp-desc-container .checkbox label:hover:before,
#bx-soa-order .bx-soa-pp-desc-container .checkbox label.checked:before {
  background-color: #B82945;
}
#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company:hover .bx-soa-pp-company-smalltitle,
#bx-soa-order .bx-soa-more .bx-soa-more-btn .pull-left {
  color: #B82945;
}
#bx-soa-order .bx-soa-coupon-input:hover:after,
#bx-soa-order .bx-soa-coupon-item .bx-soa-coupon-remove:hover {
  background-color: #B82945;
}
#bx-soa-order div[class*=bx-sls] .bx-ui-sls-clear:hover:before {
  background-color: #B82945;
}
@media all and (max-width: 950px) {
  .header_wrap.colored #header .center_block .main-nav {
    background: #b52743;
  }
}
@media all and (max-width: 768px) {
  body .top_slider_wrapp .flex-direction-nav li a {
    background-image: url(../../images/arrows_big.png);
  }
  body .top_slider_wrapp .flex-direction-nav li a.flex-next {
    background-position: -30px -94px;
  }
  body .top_slider_wrapp .flex-direction-nav li a.flex-prev {
    background-position: 0 -127px;
  }
  body .top_slider_wrapp .flex-direction-nav li a.flex-prev:hover {
    background-position: 0 -94px;
  }
  body .flex-control-paging li a.flex-active,
  body .flex-control-paging li:hover a:not(.touch) {
    background: #b52743;
    background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzAwYWFlMiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMwMDhmYzciIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);
    background: -moz-linear-gradient(top,#b52743 0%,#a02237 100%);
    background: -webkit-gradient(linear,left top,left bottom,color-stop(0%,#b52743),color-stop(100%,#a02237));
    background: -webkit-linear-gradient(top,#b52743 0%,#a02237 100%);
    background: -o-linear-gradient(top,#b52743 0%,#a02237 100%);
    background: -ms-linear-gradient(top,#b52743 0%,#a02237 100%);
    background: linear-gradient(to bottom,#b52743 0%,#a02237 100%);
    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='@bcolor_00aae2',endColorstr='@bcolor_008fc7',GradientType=0);
  }
}
@media all and (max-width: 600px) {
  #header ul.menu.full.opened > li,
  .has_menu #header .center_block .main-nav {
    background-color: #b52743;
  }
  .has_menu #header .center_block .main-nav:hover {
    background: #b46073 none repeat scroll 0 0;
  }
  #header ul.menu.full.opened li.current {
    background: #a02237;
  }
}
@media all and (max-width: 550px) {
  body #footer .footer_inner .line {
    border-top: 4px solid #ad2549;
  }
  .basket_wrapp .empty_cart:not(.bcart) .wraps_icon_block.basket .count span,
  .basket_wrapp .basket_empty .wraps_icon_block.basket .count span {
    color: #FFF;
    background: #b52743;
  }
}
#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li:hover>a,
#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li.opened>a,
#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li.current > a {
  background: #b46073;
}
#header .wrapper_middle_menu.wrap_menu ul.menu.opened > li {
  background: #a4233d;
}
.button.transparent,
.h_color_white .header_wrap .menu > li.current > a span,
.h_color_white.wrapper #header ul.menu li .child .child_wrapp,
.m_color_white.wrapper #header ul.menu li .child .child_wrapp,
.basket_normal .popup.card_popup_frame .basket_popup_wrapp,
.basket_sort ul.tabs li.cur div,
.smartfilter .bx_ui_slider_track .bx_ui_slider_handle,
.bx_filter .button,
.bx_filter_vertical input[type="checkbox"]:checked + label.sku,
.sku_props .bx_item_detail_size ul li.active,
.bx_size_scroller_container .bx_size ul li.bx_active,
.bx_filter .bx_filter_param_label.active .bx_filter_param_btn,
.bx_catalog_item_scu .bx_item_detail_scu ul li.active span.cnt,
.item_slider .thumbs li.current,
.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-left-column,
.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-center-column,
.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-right-column,
.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-left-column,
.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-center-column,
.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-right-column,
.bx_element input[type=radio]:checked + label .bx_logotype,
.bx_element label.selected .bx_logotype {
  border-color: #a45b67;
}
a,
.link,
.button.transparent,
.button.transparent:hover,
.specials_slider_wrapp ul.tabs > li span,
.tab_slider_wrapp ul.tabs > li span,
.basket_wrapp .basket_block .link:hover + .wraps_icon_block + .text .title,
.stores .stores_list .item a span,
.phones .order_wrap_btn,
.footer_bottom .all_menu_block ul li a:hover,
.footer_bottom .submenu_top .menu_item a:hover,
.avtorization-call.enter:hover span,
.top-h-row .h-user-block a:hover,
ul.menu .child li.menu_item a,
#header .catalog_menu ul.menu > li.current > a,
ul.menu .child .depth3 a,
ul.menu .child li.menu_title a:hover,
#header ul.menu li .child.submenu .child_wrapp a:not(.title),
.img_block_capcha .reload,
.h_color_white .center_block .menu.full > li:hover > a,
.m_color_white #header .wrapper_middle_menu .menu.bottom > li:hover > a,
.m_color_white #header .wrapper_middle_menu .menu.bottom > li.hover > a,
body #header ul.menu li .child.line .child_wrapp > a:hover,
.basket_sort ul.tabs li .wrap_li > span *,
.basket_sort ul.tabs li .wrap_li > span,
.bx_filter_parameters_box_title:hover,
.bx_filter .bx_filter_popup_result a,
.left_block .internal_sections_list .child_wrapp .child li.cur > a,
.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item.cur,
.left_block .internal_sections_list .child_wrapp a:hover,
.ajax_load_btn:hover .more_text_ajax,
.breadcrumbs a:hover span,
.tabs-head li.current span,
.item-stock .store_view,
.reviews-post-reply-buttons a:hover,
h4.hover,
.button.transparent.white:hover,
.button.white_bg,
.item .child_container .child_wrapp .menu_item.current a,
.item .child_container .child_wrapp .menu_item:hover a {
  color: #a4233d;
}
button.button,
input.button,
.button,
#header ul.menu.full.opened li:not(.search_row):hover,
#header ul.menu.full > li.search_row #search-submit-button:hover,
table.title-search-result td.title-search-all a .icon,
.flex-direction-nav li:hover,
.flex-direction-nav li:first-child:hover,
.top_slider_wrapp .flex-direction-nav li:hover,
.like_icons .wish_item.added,
.like_icons .compare_item.added,
.light .stores .all_map,
.block_wr.dark,
.popup .close:hover,
.header_wrap #header .middle-h-row .logo_wrapp .logo a,
.h_color_colored .header_wrap #header,
.registraion-page .top p:after,
.has_menu.m_color_colored #header .catalog_menu,
.module-cart .remove-cell a:hover,
.cart_shell .remove-cell a:hover,
.bx_item_set_hor .bx_item_set_hor_item a.remove,
.bx_filter .bx_filter_popup_result,
.bx_filter .bx_filter_parameters_box_title:before,
.bx_filter_vertical input[type="checkbox"] + label:before,
.filter input[type="checkbox"] + label:before,
.filter input[type="radio"] + label:before,
.bx_filter label.pal:hover .bx_filter_param_btn,
.bx_filter .bx_filter_param_label.active .bx_filter_param_btn,
.bx_filter_vertical input[type="checkbox"]:checked + label.sku,
.left_block .internal_sections_list li.cur,
.left_block .internal_sections_list li:hover,
.left_block .internal_sections_list .title .inner_block:hover:before,
.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item.cur:before,
.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item:hover:before,
.left_block .internal_sections_list .child_wrapp ul.child li.cur:after,
.left_block .internal_sections_list .child_wrapp ul.child li:hover:after,
body #content .props_list tr td > span:before,
body #content .props_list tr td > .txt:before,
.module-pagination .nums .cur,
.more_text_ajax:before,
.captcha_reload:before,
.sku_props .bx_item_detail_size ul li.active,
.bx_size_scroller_container .bx_size ul li.bx_active,
.bx_catalog_item_scu .bx_item_detail_scu ul li.active span:not(.cnt_item),
.ik_select_list .ik_select_list_inner ul li.ik_select_active,
.bx_filter_select_popup ul li label.selected,
.filter_opener.opened,
.no_goods .no_products:before,
.wr_scrollbar .scrollbar .handle,
.remove:hover,
a i.arrow,
.popup-window-close-icon.popup-window-titlebar-close-icon:hover,
.bx_kit_item .bx_kit_item_add,
.catalog_detail .offers_table td.opener:hover .opener_icon,
.opener_icon:hover,
.char_name .hint .icon:hover,
.char_name .hint.active .icon,
.location-block-wrapper .bx-sls .bx-ui-sls-clear:before,
h4:hover .opener_icon,
.bg_block:before,
#order_form_div input[type="submit"],
.module-order-history .item_name:hover .icon,
.module-order-history .item_name:hover .icon,
.faq.list .item .q:hover .opener_icon,
.jobs_wrapp .item .name tr:hover .opener_icon {
  color: #FFF;
  background: #b52743;
}
.catalog_detail .bx-modal-container .btn.btn-add {
  color: #FFF;
  background: #b52743;
}
.catalog_detail .bx-modal-container .btn.btn-add:hover {
  background: #a45b67;
}
.colored #header .catalog_menu ul.menu > li,
header .wrap_menu {
  background: #ab2640;
}
#header .catalog_menu ul.menu > li .dropdown >li.current a {
  background: #a0223b;
}
.tabs-head li.current:before {
  background-color: #b52743;
}
.like_icons .compare_item.added i,
.like_icons .wish_item.added i {
  background-color: #b52743;
}
.icon_error_block:after {
  background-color: #b52743 !important;
}
.flex-direction-nav li:first-child,
.flex-direction-nav li,
.flex-direction-nav li:hover {
  border-bottom-width: 0px;
}
.specials_slider_wrapp ul.tabs li.cur span,
.tab_slider_wrapp ul.tabs li.cur span,
.popup .popup-intro {
  border-bottom-color: #a45b67;
}
.button:hover,
.like_icons .compare_item.added:hover,
.like_icons .wish_item.added:hover,
.light .stores .all_map:hover {
  background: #a45b67;
}
.like_icons .compare_item.added:hover i,
.like_icons .wish_item.added:hover i {
  background-color: #a45b67;
}
.wrapper_middle_menu.wrap_menu.mobile:hover {
  background: #a45b67;
}
.header_wrap #header .catalog_menu.menu_colored .inc_menu  ul.menu > li:not(.current):hover > a {
  background: #c52c4a;
}
header .menu_top_block li .dropdown>li:hover>a,
header .menu_top_block li:not(.catalog) .dropdown>li.current >a:not(.section),
header .menu_top_block li.catalog>.dropdown>li:hover>a:before {
  background: #B82945;
}
header .menu_colored .menu_top_block >li.current >a,
header .menu_dark .menu_top_block.menu >li.current >a,
header .menu_dark .menu_top_block.menu >li.current:hover >a,
.menu_top_block.catalog_block .dropdown >li.full:hover>a:before,
.menu_top_block.catalog_block .dropdown >li.full.current>a,
header .menu_top_block li.catalog>.dropdown>li.current>a,
.left_menu > li.current> a,
.left_menu > li:hover> a:before {
  background: #a0223b;
}
header .menu_top_block >li.catalog >a,
header .menu_top_block >li.catalog.current >a,
header .menu_top_block >li.catalog {
  background-color: #B82945;
}
header .catalog_menu .menu_top_block.menu li.catalog li.full.current >a:after,
header .catalog_menu .menu_top_block.menu li.catalog li.full:hover >a:after,
.menu_top_block.catalog_block .dropdown >li.full:hover>a:after,
.left_menu > li.has-childs:hover> a:after {
  color: #b12641;
}
header .menu_top_block li .dropdown>li.menu_item>a:hover,
.menu_top_block.catalog_block .dropdown>li.full>.dropdown>li>a:not(.section):hover,
.menu_top_block.catalog_block .dropdown>li.full:hover>a,
.left_menu > li:hover> a {
  color: #a4233d;
}
.phone_block .phone_wrap .icons {
  color: #a4233d;
}
header .menu_top_block li.catalog>.dropdown>li:hover>a,
header .menu_top_block li.catalog>.dropdown>li>.dropdown>li.current>a:not(.section) {
  color: #a4233d;
}
header .menu_top_block li .dropdown>li.current >a.section1,
.menu_top_block li .dropdown>li >a.section1:hover,
#header .catalog_menu.menu_light ul.menu > li.current > a,
#header .catalog_menu.menu_light ul.menu > li:hover > a {
  color: #a4233d;
}
.subscribe-form:before {
  background: #b12641;
}
.subscribe-form input.send_btn {
  background-color: #b12641;
}
.bx_ordercart .bx_ordercart_order_pay .bx_bt_button {
  background: #b12641;
}
.subscribe-form input.send_btn:hover {
  background-color: #a45b67;
}
.bx_ordercart .bx_ordercart_order_pay .bx_bt_button:hover {
  background: #a45b67;
}
.bx_ordercart .bx_item_detail_size_small_noadaptive .bx_size ul li.bx_active a {
  background: #a45b67;
  color: #fff;
}
.bx_ordercart .bx_item_detail_size_small_noadaptive .bx_size ul li:not(.bx_active):hover a {
  color: #a4233d;
}
a.dark_link:hover,
.dark_link:hover span,
.dl:hover a,
.selected a.dark_link,
.current a.dark_link {
  color: #a4233d !important;
}
.menu_top_block.catalog_block .dropdown>li.full>.dropdown>li>a,
header .menu_top_block.catalogfirst li.full>.dropdown>li:not(.current)>a {
  color: #a4233d;
}
.middle_phone .phone_wrap .icons,
.top_slider_wrapp .flexslider .slides > li:after {
  background-color: #b12641;
}
.basket_fly .basket_wrapp .basket_fly .wraps_icon_block.delay .count span {
  background-color: #b12641;
}
.basket_normal .basket_wrapp .wraps_icon_block.basket .count span {
  background-color: #b12641;
}
.bx_filter .bx_filter_parameters_box_title:hover:after {
  color: #a4233d;
}
.bx_filter .bx_filter_param_label.active .bx_filter_btn_color_icon,
.bx_catalog_item_scu ul li.active .cnt_item,
.bx_scu_scroller_container ul li.bx_active .cnt_item {
  box-shadow: 0px 0px 0px 2px #fff inset, 0px 0px 0px 2px #b12641;
}
.bx_filter_vertical input[type="checkbox"]:not(:checked) + label.sku:hover span,
.sku_props .bx_item_detail_size ul li:not(.active):hover span,
.bx_item_list_you_looked_horizontal .bx_item_detail_size ul li:hover span {
  color: #a4233d;
}
.bx_filter_vertical input[type="checkbox"] + label.sku:hover,
.sku_props .bx_item_detail_size ul li:hover,
.bx_item_list_you_looked_horizontal .bx_item_detail_size ul li:hover {
  border-color: #a4233d;
}
.more_text_ajax:after {
  background-color: #b12641;
}
.list_item .description_wrapp .like_icons span.added {
  color: #a4233d;
}
.bx_ordercart .bx_sort_container a.current:after {
  background: #b46073;
}
.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_order_pay_center .checkout {
  color: #b12641;
  border-color: #a4233d;
}
.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_order_pay_center .checkout:hover {
  color: #fff;
  border-color: #b46073;
  background: #b46073;
}
.button.transparent:not(.text):hover {
  border-color: #b46073;
  background: #b46073;
  color: #fff;
}
.button.transparent.grey_br:hover {
  border-color: #b46073;
  background: #fff;
}
.bx_ordercart tbody td.control a:first-of-type:hover,
.bx_ordercart #basket_items_delayed tbody td.control a:last-of-type:hover,
.bx_ordercart #basket_items_subscribed  tbody td.control a:first-of-type:hover,
.bx_ordercart #basket_items_not_available  tbody td.control a:last-of-type:hover,
.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_coupon:not(:first-of-type) > span:hover {
  background-color: #b46073;
}
.bx_ordercart .bx_sort_container a,
.bx_item_list_you_looked_horizontal .bx_catalog_item .bx_catalog_item_title a {
  color: #b12641;
}
.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blocktwo a,
.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blockone a {
  color: #FFF;
  background: #b12641;
}
.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blocktwo a:hover,
.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blockone a {
  background: #a45b67;
}
.sale_order_full_table input[name="BuyButton"] {
  background-color: #b52743;
}
.sale_order_full_table input[name="BuyButton"] {
  background-color: #a45b67;
}
.bx_ordercart .bx_item_detail_size_small_noadaptive ul li:active a,
.bx_ordercart .bx_item_detail_size_small_noadaptive ul li.bx_active a,
.bx_ordercart .bx_item_detail_size_small_noadaptive ul li:hover a {
  border-color: #a45b67;
}
.color_link {
  color: #a4233d !important;
}
119  25956|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/themes/green_sea/theme.min.css|dcd0a339a.scroll-to-top.ROUND_COLOR,a.scroll-to-top.RECT_COLOR{background-color:#01B1AF;}a.scroll-to-top.ROUND_COLOR:hover,a.scroll-to-top.RECT_COLOR:hover{background-color:#28abae;}ul li::before{color:#00a396;}.basket_print i{background-color:#009897;}.rss_feed_icon{background:#00a396;color:#000;}.start_promo .item i.title a,.start_promo .item i.price a,.start_promo .item i.title span,.start_promo .item i.price span,.start_promo .item span.main_wrap i:after,.start_promo .item p span,.wrap_tizer .wrap_outer,.wrap_tizer .wrap_outer .outer_text,.wrap_tizer .wrap_outer .inner_text{background:#00adab;}.start_promo .item i.title span,.start_promo .item i.price span{box-shadow:-4px 1px 0px 4px #00adab, 4px 1px 0px 4px #00adab;}.start_promo .item i.price span{box-shadow:-4px 0px 0px 4px #00adab, 4px 0px 0px 4px #00adab;}.module-map .infoBox .close_info:hover{background-color:#00a396;}#header ul.menu.full>li.search_row #search-submit-button:hover,#header ul.menu.full>li.search_row #search-submit-button.hover{border:transparent;}#header .catalog_menu ul.menu>li,#header ul.menu.adaptive:not(.opened) li.menu_opener,#header ul.menu.full.opened li:not(.search_row):hover,#header ul.menu.full.opened li.current{border-bottom:1px solid #00656b;}#header .catalog_menu ul.menu>li:not(.current):not(.stretch):hover{border-bottom:1px solid #00706b;border-right:1px solid #00706b;}#header ul.menu.full.opened li:not(.search_row):hover,#header ul.menu.full.opened li.current{border-top:1px solid #00adab;}#header .catalog_menu ul.menu>li.current>a{color:#fff;border-left:1px solid #00a8a6;}#header .catalog_menu ul.menu>li{border-right:1px solid #00656b;}.header-cart-block .cart span.icon i{background-position:0px -84px;}ul.menu li .child .child_wrapp,.breadcrumbs .dropdown,.authorization-cols .form-block{border-top:2px solid #00a396;}.catalog_detail ul.tabs.main_tabs{border-bottom:2px solid #00a396;}ul.menu li b.space,.breadcrumbs .drop b.space,.hint .triangle{border-bottom:6px solid #00a396;}.basket_button,.basket_button span,.button30,.button30 span,.popup .soc-avt .row a{color:#fff;}#footer .footer_inner .line,#header .basket_fly .opener .basket_count,.page_not_found td.image img{background:#00a396;}#bx-soa-order-form .btn.btn-default{background:#00a396;border-color:#00a396;}#bx-soa-order-form .btn.btn-default:hover{background:#26a8ab;border-color:#26a8ab;}ul.tabs li.cur .triangle,.view-list .view-header i.triangle{border-top:5px solid #009897 !important;}.basket_button.add span{background-position:0px -6px;}.basket_button.read_more span{background-position:1px -448px;}.basket_button.added span{background-position:0px -45px;}.front_slider_wrapp .extended_pagination>li.active i.triangle{border-right-color:#009897;}.catalog_detail .extended_info a.compare_item i{background-position:-32px -65px;}.catalog_detail .extended_info a.wish_item i{background-position:3px -72px;}.display_list a.compare_item i{background-position:-32px -3px;}.display_list a.wish_item i{background-position:-3px -2px;}.display_list a.compare_item:hover i,.display_list a.compare_item.added i{background-position:-32px -65px;}.display_list a.wish_item:hover i,.display_list a.wish_item.added i{background-position:-3px -63px;}.popup .form .form_head{border-bottom-color:#00a396;}.item_slider .thumbs i.triangle{border-bottom:5px solid #00a396;}blockquote:before{background-color:#00a396;}.module-gallery-list li .fancy_hover:hover{border:2px solid #00a396;}.smartfilter .bx_ui_slider_track .bx_ui_slider_range,.bx_filter .bx_ui_slider_pricebar_V{background:#00a396;}.catalog_block .catalog_item .basket_button.read_more span{background-position:1px -408px;}.catalog_block .catalog_item .basket_button.to-cart span{background-position:0 -7px;}.catalog_block .catalog_item:hover .basket_button span{color:#fff;background-position:0px -87px;}.catalog_block .catalog_item:hover .basket_button.read_more span{background-position:1px -448px !important;}.catalog_item .basket_button.in-cart span,.basket_button.in-cart span{background-position:0px -127px !important;}.catalog_item:hover .basket_button.added span{color:#fff;}.bx_filter_container #modef .triangle,.left_block .internal_sections_list .child_wrapp .triangle{border-right:6px solid #00a396;}#order_form_div .sale_order_table .ps_logo img:hover,#order_form_div .sale_order_table .ps_logo input[type=radio]:checked+label img,#order_form_div .sale_order_table.delivery label:hover img,#order_form_div .sale_order_table.delivery input[type=radio]:checked+label img,#order_form_div div.ps_logo.selected img,#order_form_div .account label:hover img,#order_form_div .account img.active{border:2px solid #00a396;}.front_slider_wrapp .extended_pagination>li.active span,a.b-share-popup__item:hover .b-share-popup__item__text{color:#fff !important;}ul.tabs li.cur span,ul.tabs li.cur:hover span,.front_slider_wrapp a.read_more{color:#fff;}.left_menu>li.current>a,.left_menu>li:not(.exit):hover{background:#00a396;}a i.arrow b{background-position:-36px 0px;}.top-h-row .search #search-submit-button:hover i,.top-h-row .search #search-submit-button.hover i{background-position:top center;}.catalog_detail a.compare_item:hover .icon i{background-position:-32px -65px;}.catalog_detail a.wish_item:hover .icon i{background-position:2px -45px;}ul.menu li.current a i{background-position:-61px 0px;}.button30.ask_question span.show_form,.button30.ask_question span.hide_form{background-position:5px -605px;}.button30.ask_question span.hide_form{color:#000;}.button30.ask_question span.hide_form:hover{color:#fff;}.question-list .q .ic b{background-position:-38px -188px;}.question-list .q.op .ic b{background-position:-8px -188px;}.number_list a.current span{color:#fff !important;}.basket_button span,.compare_button span{background-position:0px -87px;}.bx_filter_container_title .hint.active .hint_icon,.bx_filter_container_title .hint.active .hint_icon,.bx_filter_container_title .hint.active .hint_icon:hover,#header .basket_fly .opener .basket_count:not(.empty).count{color:#fff;}.left_block .internal_sections_list li.item:hover>a,.left_block .internal_sections_list li.item.cur>a{color:#fff;}.left_block .internal_sections_list li *{-webkit-transition:none;-moz-transition:none;-o-transition:none;transition:none;}a.compare_item i{background-position:-31px -1px;}a.wish_item i{background-position:-2px -1px;}a.compare_item:hover i{background-position:-31px -33px;}a.wish_item:hover i{background-position:-2px -32px;}a.compare_item.added i{background-position:-31px -63px;}a.wish_item.added i{background-position:-2px -62px;}.module_products_list .basket_button.to-cart span{background-position:0 -7px;}.module_products_list .basket_button.to-cart:hover span{background-position:0px -87px;}.basket_button.in-cart span{background-position:0px -127px;}.popup .close:hover i,.popup .grey .close i,.popup-window-close-icon.popup-window-titlebar-close-icon:hover:after{background-position:-1px -59px;}.card_popup_frame.popup .but_row a.to_basket .icon i{background-position:-5px -170px;}.soc-serv-main .button30 span,.reviews-expanded .button30.add_review span,.catalog_detail .basket_button.one_click span,.button30.review_preview span,.popup .grey .pop-up-title{color:#000;text-shadow:0 1px 0px rgba(255,255,255,0.5);-moz-text-shadow:0 1px 0px rgba(255,255,255,0.5);-o-text-shadow:0 1px 0px rgba(255,255,255,0.5);-webkit-text-shadow:0 1px 0px rgba(255,255,255,0.5);}.module-order-history .status.delivered{color:#fff;}.jobs_wrapp .item a:not(.opened):hover .icon i,.staff_wrapp .section .section_title:not(.opened):hover .icon i{background-position:-31px -33px;}.jobs_wrapp .item a.opened:hover .icon i,.staff_wrapp .section .section_title.opened:hover .icon i{background-position:0 -34px;}.button30.add_review span{background-position:4px -286px;}.button30.send_review span{background-position:4px -365px;}.card_popup_frame.popup .but_row a.to_delay .icon i{background-position:-48px -257px;}.compare_button span{background-position:-32px -64px;}#header .basket_fly .opener .basket_count .icon i{background-position:-7px -89px;}#header .basket_fly .opener .basket_count.empty:hover .icon i{background-position:-7px -47px;}#header .basket_fly .opener .basket_count.empty .icon i{background-position:-7px -5px;}#header .basket_fly .opener .wish_count .icon i{background-position:-48px -424px;}#header .basket_fly .opener .wish_count:hover .icon i{background-position:-48px -383px;}ul.menu li a{color:#000;}.catalog_menu ul.menu li a{color:#fff;}ul.menu li a i{background-position:-2px -20px;}.catalog_menu ul.menu li a i{background-position:-61px 0px;}a i.arrow.down b{background-position:-36px -35px;}.catalog_item:hover .basket_button span{color:#fff;}ul.specials_slider .basket_button span{background-position:0 -7px;}ul.specials_slider .basket_button:hover span,ul.specials_slider li:hover .basket_button span{background-position:0px -87px;}ul.specials_slider .basket_button.read_more span{background-position:1px -408px;}ul.specials_slider li:hover .basket_button.read_more span{background-position:1px -448px !important;}.top_slider_wrapp .flex-direction-nav li a.flex-next{background-position:-58px -60px;}.top_slider_wrapp .flex-direction-nav li:hover a.flex-prev{background-position:-3px -60px;}.top_slider_wrapp .flex-direction-nav li a.flex-prev{background-position:-3px 0px;}#header .basket_fly .opener .wish_count.empty:hover .icon i{background-position:-48px -341px;}#header .basket_fly .opener .wish_count.empty .icon i{background-position:-48px -299px;}#bx-soa-order .bx-soa-section .bx-soa-section-title:before{background-color:#01B1AF;}#bx-soa-order div[class*=bx-sls] .quick-locations .quick-location-tag{border-color:#01B1AF;color:#01B1AF;}#bx-soa-order div[class*=bx-sls] .quick-locations .quick-location-tag:hover{background-color:#01B1AF;color:#fff;}#bx-soa-order .bx-soa .form-group .radio-inline.checked label:before,#bx-soa-order .bx-soa .form-group .radio-inline label:hover:before,#bx-soa-order .bx-soa-pp-company:hover .bx-soa-pp-company-graf-container:before,#bx-soa-order .bx-soa-pp-company.bx-selected .bx-soa-pp-company-graf-container:before{background-color:#01B1AF;}#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company.bx-selected .bx-soa-pp-company-graf-container,#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company:hover .bx-soa-pp-company-graf-container{border-color:#01B1AF;}#bx-soa-order .bx-soa-pp-desc-container .bx-soa-pp-company:before,#bx-soa-order .bx-soa-pp-desc-container .checkbox label:hover:before,#bx-soa-order .bx-soa-pp-desc-container .checkbox label.checked:before{background-color:#01B1AF;}#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company:hover .bx-soa-pp-company-smalltitle,#bx-soa-order .bx-soa-more .bx-soa-more-btn .pull-left{color:#01B1AF;}#bx-soa-order .bx-soa-coupon-input:hover:after,#bx-soa-order .bx-soa-coupon-item .bx-soa-coupon-remove:hover{background-color:#01B1AF;}#bx-soa-order div[class*=bx-sls] .bx-ui-sls-clear:hover:before{background-color:#01B1AF;}@media all and (max-width:950px){.header_wrap.colored #header .center_block .main-nav{background:#00adab;}}@media all and (max-width:768px){body .top_slider_wrapp .flex-direction-nav li a{background-image:url(../../images/arrows_big.png);}body .top_slider_wrapp .flex-direction-nav li a.flex-next{background-position:-30px -94px;}body .top_slider_wrapp .flex-direction-nav li a.flex-prev{background-position:0 -127px;}body .top_slider_wrapp .flex-direction-nav li a.flex-prev:hover{background-position:0 -94px;}body .flex-control-paging li a.flex-active, body .flex-control-paging li:hover a:not(.touch){background:#00adab;background:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzAwYWFlMiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMwMDhmYzciIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);background:-moz-linear-gradient(top,#00adab 0%,#009093 100%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0%,#00adab),color-stop(100%,#009093));background:-webkit-linear-gradient(top,#00adab 0%,#009093 100%);background:-o-linear-gradient(top,#00adab 0%,#009093 100%);background:-ms-linear-gradient(top,#00adab 0%,#009093 100%);background:linear-gradient(to bottom,#00adab 0%,#009093 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='@bcolor_00aae2',endColorstr='@bcolor_008fc7',GradientType=0);}}@media all and (max-width:600px){#header ul.menu.full.opened>li, .has_menu #header .center_block .main-nav{background-color:#00adab;}.has_menu #header .center_block .main-nav:hover{background:#21c4bc none repeat scroll 0 0;}#header ul.menu.full.opened li.current{background:#009093;}}@media all and (max-width:550px){body #footer .footer_inner .line{border-top:4px solid #00a396;}.basket_wrapp .empty_cart:not(.bcart).wraps_icon_block.basket .count span, .basket_wrapp .basket_empty .wraps_icon_block.basket .count span{color:#FFF;background:#00adab;}}#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li:hover>a,#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li.opened>a,#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li.current>a{background:#21c4bc;}#header .wrapper_middle_menu.wrap_menu ul.menu.opened>li{background:#009897;}.button.transparent,.h_color_white .header_wrap .menu>li.current>a span,.h_color_white.wrapper #header ul.menu li .child .child_wrapp,.m_color_white.wrapper #header ul.menu li .child .child_wrapp,.basket_normal .popup.card_popup_frame .basket_popup_wrapp,.basket_sort ul.tabs li.cur div,.smartfilter .bx_ui_slider_track .bx_ui_slider_handle,.bx_filter .button,.bx_filter_vertical input[type="checkbox"]:checked+label.sku,.sku_props .bx_item_detail_size ul li.active,.bx_size_scroller_container .bx_size ul li.bx_active,.bx_filter .bx_filter_param_label.active .bx_filter_param_btn,.bx_catalog_item_scu .bx_item_detail_scu ul li.active span.cnt,.item_slider .thumbs li.current,.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-left-column,.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-center-column,.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-right-column,.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-left-column,.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-center-column,.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-right-column,.bx_element input[type=radio]:checked+label .bx_logotype,.bx_element label.selected .bx_logotype{border-color:#26a8ab;}a,.link,.button.transparent,.button.transparent:hover,.specials_slider_wrapp ul.tabs>li span,.tab_slider_wrapp ul.tabs>li span,.basket_wrapp .basket_block .link:hover+.wraps_icon_block+.text .title,.stores .stores_list .item a span,.phones .order_wrap_btn,.footer_bottom .all_menu_block ul li a:hover,.footer_bottom .submenu_top .menu_item a:hover,.avtorization-call.enter:hover span,.top-h-row .h-user-block a:hover,ul.menu .child li.menu_item a,#header .catalog_menu ul.menu>li.current>a,ul.menu .child .depth3 a,ul.menu .child li.menu_title a:hover,#header ul.menu li .child.submenu .child_wrapp a:not(.title),.img_block_capcha .reload,.h_color_white .center_block .menu.full>li:hover>a,.m_color_white #header .wrapper_middle_menu .menu.bottom>li:hover>a,.m_color_white #header .wrapper_middle_menu .menu.bottom>li.hover>a,body #header ul.menu li .child.line .child_wrapp>a:hover,.basket_sort ul.tabs li .wrap_li>span *,.basket_sort ul.tabs li .wrap_li>span,.bx_filter_parameters_box_title:hover,.bx_filter .bx_filter_popup_result a,.left_block .internal_sections_list .child_wrapp .child li.cur>a,.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item.cur,.left_block .internal_sections_list .child_wrapp a:hover,.ajax_load_btn:hover .more_text_ajax,.breadcrumbs a:hover span,.tabs-head li.current span,.item-stock .store_view,.reviews-post-reply-buttons a:hover,h4.hover,.button.transparent.white:hover,.button.white_bg,.item .child_container .child_wrapp .menu_item.current a,.item .child_container .child_wrapp .menu_item:hover a{color:#009897;}button.button,input.button,.button,#header ul.menu.full.opened li:not(.search_row):hover,#header ul.menu.full>li.search_row #search-submit-button:hover,table.title-search-result td.title-search-all a .icon,.flex-direction-nav li:hover,.flex-direction-nav li:first-child:hover,.top_slider_wrapp .flex-direction-nav li:hover,.like_icons .wish_item.added,.like_icons .compare_item.added,.light .stores .all_map,.block_wr.dark,.popup .close:hover,.header_wrap #header .middle-h-row .logo_wrapp .logo a,.h_color_colored .header_wrap #header,.registraion-page .top p:after,.has_menu.m_color_colored #header .catalog_menu,.module-cart .remove-cell a:hover,.cart_shell .remove-cell a:hover,.bx_item_set_hor .bx_item_set_hor_item a.remove,.bx_filter .bx_filter_popup_result,.bx_filter .bx_filter_parameters_box_title:before,.bx_filter_vertical input[type="checkbox"]+label:before,.filter input[type="checkbox"]+label:before,.filter input[type="radio"]+label:before,.bx_filter label.pal:hover .bx_filter_param_btn,.bx_filter .bx_filter_param_label.active .bx_filter_param_btn,.bx_filter_vertical input[type="checkbox"]:checked+label.sku,.left_block .internal_sections_list li.cur,.left_block .internal_sections_list li:hover,.left_block .internal_sections_list .title .inner_block:hover:before,.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item.cur:before,.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item:hover:before,.left_block .internal_sections_list .child_wrapp ul.child li.cur:after,.left_block .internal_sections_list .child_wrapp ul.child li:hover:after,body #content .props_list tr td>span:before,body #content .props_list tr td>.txt:before,.module-pagination .nums .cur,.more_text_ajax:before,.captcha_reload:before,.sku_props .bx_item_detail_size ul li.active,.bx_size_scroller_container .bx_size ul li.bx_active,.bx_catalog_item_scu .bx_item_detail_scu ul li.active span:not(.cnt_item),.ik_select_list .ik_select_list_inner ul li.ik_select_active,.bx_filter_select_popup ul li label.selected,.filter_opener.opened,.no_goods .no_products:before,.wr_scrollbar .scrollbar .handle,.remove:hover,a i.arrow,.popup-window-close-icon.popup-window-titlebar-close-icon:hover,.bx_kit_item .bx_kit_item_add,.catalog_detail .offers_table td.opener:hover .opener_icon,.opener_icon:hover,.char_name .hint .icon:hover,.char_name .hint.active .icon,.location-block-wrapper .bx-sls .bx-ui-sls-clear:before,h4:hover .opener_icon,.bg_block:before,#order_form_div input[type="submit"],.module-order-history .item_name:hover .icon,.module-order-history .item_name:hover .icon,.faq.list .item .q:hover .opener_icon,.jobs_wrapp .item .name tr:hover .opener_icon{color:#FFF;background:#00adab;}.catalog_detail .bx-modal-container .btn.btn-add{color:#FFF;background:#00adab;}.catalog_detail .bx-modal-container .btn.btn-add:hover{background:#26a8ab;}.colored #header .catalog_menu ul.menu>li,header .wrap_menu{background:#01a2a0;}#header .catalog_menu ul.menu>li .dropdown>li.current a{background:#009392;}.tabs-head li.current:before{background-color:#00adab;}.like_icons .compare_item.added i,.like_icons .wish_item.added i{background-color:#00adab;}.icon_error_block:after{background-color:#00adab !important;}.flex-direction-nav li:first-child,.flex-direction-nav li,.flex-direction-nav li:hover{border-bottom-width:0px;}.specials_slider_wrapp ul.tabs li.cur span,.tab_slider_wrapp ul.tabs li.cur span,.popup .popup-intro{border-bottom-color:#26a8ab;}.button:hover,.like_icons .compare_item.added:hover,.like_icons .wish_item.added:hover,.light .stores .all_map:hover{background:#26a8ab;}.like_icons .compare_item.added:hover i,.like_icons .wish_item.added:hover i{background-color:#26a8ab;}.wrapper_middle_menu.wrap_menu.mobile:hover{background:#26a8ab;}.header_wrap #header .catalog_menu.menu_colored .inc_menu ul.menu>li:not(.current):hover>a{background:#01c0be;}header .menu_top_block li .dropdown>li:hover>a,header .menu_top_block li:not(.catalog).dropdown>li.current>a:not(.section),header .menu_top_block li.catalog>.dropdown>li:hover>a:before{background:#01B1AF;}header .menu_colored .menu_top_block>li.current>a,header .menu_dark .menu_top_block.menu>li.current>a,header .menu_dark .menu_top_block.menu>li.current:hover>a,.menu_top_block.catalog_block .dropdown>li.full:hover>a:before,.menu_top_block.catalog_block .dropdown>li.full.current>a,header .menu_top_block li.catalog>.dropdown>li.current>a,.left_menu>li.current>a,.left_menu>li:hover>a:before{background:#009392;}header .menu_top_block>li.catalog>a,header .menu_top_block>li.catalog.current>a,header .menu_top_block>li.catalog{background-color:#01B1AF;}header .catalog_menu .menu_top_block.menu li.catalog li.full.current>a:after,header .catalog_menu .menu_top_block.menu li.catalog li.full:hover>a:after,.menu_top_block.catalog_block .dropdown>li.full:hover>a:after,.left_menu>li.has-childs:hover>a:after{color:#00a8a6;}header .menu_top_block li .dropdown>li.menu_item>a:hover,.menu_top_block.catalog_block .dropdown>li.full>.dropdown>li>a:not(.section):hover,.menu_top_block.catalog_block .dropdown>li.full:hover>a,.left_menu>li:hover>a{color:#009897;}.phone_block .phone_wrap .icons{color:#009897;}header .menu_top_block li.catalog>.dropdown>li:hover>a,header .menu_top_block li.catalog>.dropdown>li>.dropdown>li.current>a:not(.section){color:#009897;}header .menu_top_block li .dropdown>li.current>a.section1,.menu_top_block li .dropdown>li>a.section1:hover,#header .catalog_menu.menu_light ul.menu>li.current>a,#header .catalog_menu.menu_light ul.menu>li:hover>a{color:#009897;}.subscribe-form:before{background:#00a8a6;}.subscribe-form input.send_btn{background-color:#00a8a6;}.bx_ordercart .bx_ordercart_order_pay .bx_bt_button{background:#00a8a6;}.subscribe-form input.send_btn:hover{background-color:#26a8ab;}.bx_ordercart .bx_ordercart_order_pay .bx_bt_button:hover{background:#26a8ab;}.bx_ordercart .bx_item_detail_size_small_noadaptive .bx_size ul li.bx_active a{background:#26a8ab;color:#fff;}.bx_ordercart .bx_item_detail_size_small_noadaptive .bx_size ul li:not(.bx_active):hover a{color:#009897;}a.dark_link:hover,.dark_link:hover span,.dl:hover a,.selected a.dark_link,.current a.dark_link{color:#009897 !important;}.menu_top_block.catalog_block .dropdown>li.full>.dropdown>li>a,header .menu_top_block.catalogfirst li.full>.dropdown>li:not(.current)>a{color:#009897;}.middle_phone .phone_wrap .icons,.top_slider_wrapp .flexslider .slides>li:after{background-color:#00a8a6;}.basket_fly .basket_wrapp .basket_fly .wraps_icon_block.delay .count span{background-color:#00a8a6;}.basket_normal .basket_wrapp .wraps_icon_block.basket .count span{background-color:#00a8a6;}.bx_filter .bx_filter_parameters_box_title:hover:after{color:#009897;}.bx_filter .bx_filter_param_label.active .bx_filter_btn_color_icon,.bx_catalog_item_scu ul li.active .cnt_item,.bx_scu_scroller_container ul li.bx_active .cnt_item{box-shadow:0px 0px 0px 2px #fff inset, 0px 0px 0px 2px #00a8a6;}.bx_filter_vertical input[type="checkbox"]:not(:checked)+label.sku:hover span,.sku_props .bx_item_detail_size ul li:not(.active):hover span,.bx_item_list_you_looked_horizontal .bx_item_detail_size ul li:hover span{color:#009897;}.bx_filter_vertical input[type="checkbox"]+label.sku:hover,.sku_props .bx_item_detail_size ul li:hover,.bx_item_list_you_looked_horizontal .bx_item_detail_size ul li:hover{border-color:#009897;}.more_text_ajax:after{background-color:#00a8a6;}.list_item .description_wrapp .like_icons span.added{color:#009897;}.bx_ordercart .bx_sort_container a.current:after{background:#21c4bc;}.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_order_pay_center .checkout{color:#00a8a6;border-color:#009897;}.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_order_pay_center .checkout:hover{color:#fff;border-color:#21c4bc;background:#21c4bc;}.button.transparent:not(.text):hover{border-color:#21c4bc;background:#21c4bc;color:#fff;}.button.transparent.grey_br:hover{border-color:#21c4bc;background:#fff;}.bx_ordercart tbody td.control a:first-of-type:hover,.bx_ordercart #basket_items_delayed tbody td.control a:last-of-type:hover,.bx_ordercart #basket_items_subscribed tbody td.control a:first-of-type:hover,.bx_ordercart #basket_items_not_available tbody td.control a:last-of-type:hover,.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_coupon:not(:first-of-type)>span:hover{background-color:#21c4bc;}.bx_ordercart .bx_sort_container a,.bx_item_list_you_looked_horizontal .bx_catalog_item .bx_catalog_item_title a{color:#00a8a6;}.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blocktwo a,.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blockone a{color:#FFF;background:#00a8a6;}.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blocktwo a:hover,.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blockone a{background:#26a8ab;}.sale_order_full_table input[name="BuyButton"]{background-color:#00adab;}.sale_order_full_table input[name="BuyButton"]{background-color:#26a8ab;}.bx_ordercart .bx_item_detail_size_small_noadaptive ul li:active a,.bx_ordercart .bx_item_detail_size_small_noadaptive ul li.bx_active a,.bx_ordercart .bx_item_detail_size_small_noadaptive ul li:hover a{border-color:#26a8ab;}.color_link{color:#009897 !important;}115  28695|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/themes/green_sea/theme.css|4ed6359ea.scroll-to-top.ROUND_COLOR,
a.scroll-to-top.RECT_COLOR {
  background-color: #01B1AF;
}
a.scroll-to-top.ROUND_COLOR:hover,
a.scroll-to-top.RECT_COLOR:hover {
  background-color: #28abae;
}
ul li::before {
  color: #00a396;
}
.basket_print i {
  background-color: #009897;
}
.rss_feed_icon {
  background: #00a396;
  color: #000;
}
.start_promo .item i.title a,
.start_promo .item i.price a,
.start_promo .item i.title span,
.start_promo .item i.price span,
.start_promo .item span.main_wrap i:after,
.start_promo .item p span,
.wrap_tizer .wrap_outer,
.wrap_tizer .wrap_outer .outer_text,
.wrap_tizer .wrap_outer .inner_text {
  background: #00adab;
}
.start_promo .item i.title span,
.start_promo .item i.price span {
  box-shadow: -4px 1px 0px 4px #00adab, 4px 1px 0px 4px #00adab;
}
.start_promo .item i.price span {
  box-shadow: -4px 0px 0px 4px #00adab, 4px 0px 0px 4px #00adab;
}
.module-map .infoBox .close_info:hover {
  background-color: #00a396;
}
#header ul.menu.full > li.search_row #search-submit-button:hover,
#header ul.menu.full > li.search_row #search-submit-button.hover {
  border: transparent;
}
#header .catalog_menu ul.menu > li,
#header ul.menu.adaptive:not(.opened) li.menu_opener,
#header ul.menu.full.opened li:not(.search_row):hover,
#header ul.menu.full.opened li.current {
  border-bottom: 1px solid #00656b;
}
#header .catalog_menu ul.menu > li:not(.current):not(.stretch):hover {
  border-bottom: 1px solid #00706b;
  border-right: 1px solid #00706b;
}
#header ul.menu.full.opened li:not(.search_row):hover,
#header ul.menu.full.opened li.current {
  border-top: 1px solid #00adab;
}
#header .catalog_menu ul.menu > li.current > a {
  color: #fff;
  border-left: 1px solid #00a8a6;
}
#header .catalog_menu ul.menu > li {
  border-right: 1px solid #00656b;
}
.header-cart-block .cart span.icon i {
  background-position: 0px -84px;
}
ul.menu li .child .child_wrapp,
.breadcrumbs .dropdown,
.authorization-cols .form-block {
  border-top: 2px solid #00a396;
}
.catalog_detail ul.tabs.main_tabs {
  border-bottom: 2px solid #00a396;
}
ul.menu li b.space,
.breadcrumbs .drop b.space,
.hint .triangle {
  border-bottom: 6px solid #00a396;
}
.basket_button,
.basket_button span,
.button30,
.button30 span,
.popup .soc-avt .row a {
  color: #fff;
}
#footer .footer_inner .line,
#header .basket_fly .opener .basket_count,
.page_not_found td.image img {
  background: #00a396;
}
#bx-soa-order-form .btn.btn-default {
  background: #00a396;
  border-color: #00a396;
}
#bx-soa-order-form .btn.btn-default:hover {
  background: #26a8ab;
  border-color: #26a8ab;
}
ul.tabs li.cur .triangle,
.view-list .view-header i.triangle {
  border-top: 5px solid #009897 !important;
}
.basket_button.add span {
  background-position: 0px -6px;
}
.basket_button.read_more span {
  background-position: 1px -448px;
}
.basket_button.added span {
  background-position: 0px -45px;
}
.front_slider_wrapp .extended_pagination > li.active i.triangle {
  border-right-color: #009897;
}
.catalog_detail .extended_info a.compare_item i {
  background-position: -32px -65px;
}
.catalog_detail .extended_info a.wish_item i {
  background-position: 3px -72px;
}
.display_list a.compare_item i {
  background-position: -32px -3px;
}
.display_list a.wish_item i {
  background-position: -3px -2px;
}
.display_list a.compare_item:hover i,
.display_list a.compare_item.added i {
  background-position: -32px -65px;
}
.display_list a.wish_item:hover i,
.display_list a.wish_item.added i {
  background-position: -3px -63px;
}
.popup .form .form_head {
  border-bottom-color: #00a396;
}
.item_slider .thumbs i.triangle {
  border-bottom: 5px solid #00a396;
}
blockquote:before {
  background-color: #00a396;
}
.module-gallery-list li .fancy_hover:hover {
  border: 2px solid #00a396;
}
.smartfilter .bx_ui_slider_track .bx_ui_slider_range,
.bx_filter .bx_ui_slider_pricebar_V {
  background: #00a396;
}
.catalog_block .catalog_item .basket_button.read_more span {
  background-position: 1px -408px;
}
.catalog_block .catalog_item .basket_button.to-cart span {
  background-position: 0 -7px;
}
.catalog_block .catalog_item:hover .basket_button span {
  color: #fff;
  background-position: 0px -87px;
}
.catalog_block .catalog_item:hover .basket_button.read_more span {
  background-position: 1px -448px !important;
}
.catalog_item .basket_button.in-cart span,
.basket_button.in-cart span {
  background-position: 0px -127px !important;
}
.catalog_item:hover .basket_button.added span {
  color: #fff;
}
.bx_filter_container #modef .triangle,
.left_block .internal_sections_list .child_wrapp .triangle {
  border-right: 6px solid #00a396;
}
#order_form_div .sale_order_table .ps_logo img:hover,
#order_form_div .sale_order_table .ps_logo input[type=radio]:checked + label img,
#order_form_div .sale_order_table.delivery label:hover img,
#order_form_div .sale_order_table.delivery input[type=radio]:checked + label img,
#order_form_div div.ps_logo.selected img,
#order_form_div .account label:hover img,
#order_form_div .account img.active {
  border: 2px solid #00a396;
}
.front_slider_wrapp .extended_pagination > li.active span,
a.b-share-popup__item:hover .b-share-popup__item__text {
  color: #fff !important;
}
ul.tabs li.cur span,
ul.tabs li.cur:hover span,
.front_slider_wrapp a.read_more {
  color: #fff;
}
.left_menu > li.current >a,
.left_menu > li:not(.exit):hover {
  background: #00a396;
}
a i.arrow b {
  background-position: -36px 0px;
}
.top-h-row .search #search-submit-button:hover i,
.top-h-row .search #search-submit-button.hover i {
  background-position: top center;
}
.catalog_detail a.compare_item:hover .icon i {
  background-position: -32px -65px;
}
.catalog_detail a.wish_item:hover .icon i {
  background-position: 2px -45px;
}
ul.menu li.current a i {
  background-position: -61px 0px;
}
.button30.ask_question span.show_form,
.button30.ask_question span.hide_form {
  background-position: 5px -605px;
}
.button30.ask_question span.hide_form {
  color: #000;
}
.button30.ask_question span.hide_form:hover {
  color: #fff;
}
.question-list .q .ic b {
  background-position: -38px -188px;
}
.question-list .q.op .ic b {
  background-position: -8px -188px;
}
.number_list a.current span {
  color: #fff !important;
}
.basket_button span,
.compare_button span {
  background-position: 0px -87px;
}
.bx_filter_container_title .hint.active .hint_icon,
.bx_filter_container_title .hint.active .hint_icon,
.bx_filter_container_title .hint.active .hint_icon:hover,
#header .basket_fly .opener .basket_count:not(.empty) .count {
  color: #fff;
}
.left_block .internal_sections_list li.item:hover > a,
.left_block .internal_sections_list li.item.cur > a {
  color: #fff;
}
.left_block .internal_sections_list li * {
  -webkit-transition: none;
  -moz-transition: none;
  -o-transition: none;
  transition: none;
}
a.compare_item i {
  background-position: -31px -1px;
}
a.wish_item i {
  background-position: -2px -1px;
}
a.compare_item:hover i {
  background-position: -31px -33px;
}
a.wish_item:hover i {
  background-position: -2px -32px;
}
a.compare_item.added i {
  background-position: -31px -63px;
}
a.wish_item.added i {
  background-position: -2px -62px;
}
.module_products_list .basket_button.to-cart span {
  background-position: 0 -7px;
}
.module_products_list .basket_button.to-cart:hover span {
  background-position: 0px -87px;
}
.basket_button.in-cart span {
  background-position: 0px -127px;
}
.popup .close:hover i,
.popup .grey .close i,
.popup-window-close-icon.popup-window-titlebar-close-icon:hover:after {
  background-position: -1px -59px;
}
.card_popup_frame.popup .but_row a.to_basket .icon i {
  background-position: -5px -170px;
}
.soc-serv-main .button30 span,
.reviews-expanded .button30.add_review span,
.catalog_detail .basket_button.one_click span,
.button30.review_preview span,
.popup .grey .pop-up-title {
  color: #000;
  text-shadow: 0 1px 0px rgba(255,255,255,0.5);
  -moz-text-shadow: 0 1px 0px rgba(255,255,255,0.5);
  -o-text-shadow: 0 1px 0px rgba(255,255,255,0.5);
  -webkit-text-shadow: 0 1px 0px rgba(255,255,255,0.5);
}
.module-order-history .status.delivered {
  color: #fff;
}
.jobs_wrapp .item a:not(.opened):hover .icon i,
.staff_wrapp .section .section_title:not(.opened):hover .icon i {
  background-position: -31px -33px;
}
.jobs_wrapp .item a.opened:hover .icon i,
.staff_wrapp .section .section_title.opened:hover .icon i {
  background-position: 0 -34px;
}
.button30.add_review span {
  background-position: 4px -286px;
}
.button30.send_review span {
  background-position: 4px -365px;
}
.card_popup_frame.popup .but_row a.to_delay .icon i {
  background-position: -48px -257px;
}
.compare_button span {
  background-position: -32px -64px;
}
#header .basket_fly .opener .basket_count .icon i {
  background-position: -7px -89px;
}
#header .basket_fly .opener .basket_count.empty:hover .icon i {
  background-position: -7px -47px;
}
#header .basket_fly .opener .basket_count.empty .icon i {
  background-position: -7px -5px;
}
#header .basket_fly .opener .wish_count .icon i {
  background-position: -48px -424px;
}
#header .basket_fly .opener .wish_count:hover .icon i {
  background-position: -48px -383px;
}
ul.menu li a {
  color: #000;
}
.catalog_menu ul.menu li a {
  color: #fff;
}
ul.menu li a i {
  background-position: -2px -20px;
}
.catalog_menu ul.menu li a i {
  background-position: -61px 0px;
}
a i.arrow.down b {
  background-position: -36px -35px;
}
.catalog_item:hover .basket_button span {
  color: #fff;
}
ul.specials_slider .basket_button span {
  background-position: 0 -7px;
}
ul.specials_slider .basket_button:hover span,
ul.specials_slider li:hover .basket_button span {
  background-position: 0px -87px;
}
ul.specials_slider  .basket_button.read_more span {
  background-position: 1px -408px;
}
ul.specials_slider li:hover .basket_button.read_more span {
  background-position: 1px -448px !important;
}
.top_slider_wrapp .flex-direction-nav li a.flex-next {
  background-position: -58px -60px;
}
.top_slider_wrapp .flex-direction-nav li:hover a.flex-prev {
  background-position: -3px -60px;
}
.top_slider_wrapp .flex-direction-nav li a.flex-prev {
  background-position: -3px 0px;
}
#header .basket_fly .opener .wish_count.empty:hover .icon i {
  background-position: -48px -341px;
}
#header .basket_fly .opener .wish_count.empty .icon i {
  background-position: -48px -299px;
}
#bx-soa-order .bx-soa-section .bx-soa-section-title:before {
  background-color: #01B1AF;
}
#bx-soa-order div[class*=bx-sls] .quick-locations .quick-location-tag {
  border-color: #01B1AF;
  color: #01B1AF;
}
#bx-soa-order div[class*=bx-sls] .quick-locations .quick-location-tag:hover {
  background-color: #01B1AF;
  color: #fff;
}
#bx-soa-order .bx-soa .form-group .radio-inline.checked label:before,
#bx-soa-order .bx-soa .form-group .radio-inline label:hover:before,
#bx-soa-order .bx-soa-pp-company:hover .bx-soa-pp-company-graf-container:before,
#bx-soa-order .bx-soa-pp-company.bx-selected .bx-soa-pp-company-graf-container:before {
  background-color: #01B1AF;
}
#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company.bx-selected .bx-soa-pp-company-graf-container,
#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company:hover .bx-soa-pp-company-graf-container {
  border-color: #01B1AF;
}
#bx-soa-order .bx-soa-pp-desc-container .bx-soa-pp-company:before,
#bx-soa-order .bx-soa-pp-desc-container .checkbox label:hover:before,
#bx-soa-order .bx-soa-pp-desc-container .checkbox label.checked:before {
  background-color: #01B1AF;
}
#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company:hover .bx-soa-pp-company-smalltitle,
#bx-soa-order .bx-soa-more .bx-soa-more-btn .pull-left {
  color: #01B1AF;
}
#bx-soa-order .bx-soa-coupon-input:hover:after,
#bx-soa-order .bx-soa-coupon-item .bx-soa-coupon-remove:hover {
  background-color: #01B1AF;
}
#bx-soa-order div[class*=bx-sls] .bx-ui-sls-clear:hover:before {
  background-color: #01B1AF;
}
@media all and (max-width: 950px) {
  .header_wrap.colored #header .center_block .main-nav {
    background: #00adab;
  }
}
@media all and (max-width: 768px) {
  body .top_slider_wrapp .flex-direction-nav li a {
    background-image: url(../../images/arrows_big.png);
  }
  body .top_slider_wrapp .flex-direction-nav li a.flex-next {
    background-position: -30px -94px;
  }
  body .top_slider_wrapp .flex-direction-nav li a.flex-prev {
    background-position: 0 -127px;
  }
  body .top_slider_wrapp .flex-direction-nav li a.flex-prev:hover {
    background-position: 0 -94px;
  }
  body .flex-control-paging li a.flex-active,
  body .flex-control-paging li:hover a:not(.touch) {
    background: #00adab;
    background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzAwYWFlMiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMwMDhmYzciIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);
    background: -moz-linear-gradient(top,#00adab 0%,#009093 100%);
    background: -webkit-gradient(linear,left top,left bottom,color-stop(0%,#00adab),color-stop(100%,#009093));
    background: -webkit-linear-gradient(top,#00adab 0%,#009093 100%);
    background: -o-linear-gradient(top,#00adab 0%,#009093 100%);
    background: -ms-linear-gradient(top,#00adab 0%,#009093 100%);
    background: linear-gradient(to bottom,#00adab 0%,#009093 100%);
    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='@bcolor_00aae2',endColorstr='@bcolor_008fc7',GradientType=0);
  }
}
@media all and (max-width: 600px) {
  #header ul.menu.full.opened > li,
  .has_menu #header .center_block .main-nav {
    background-color: #00adab;
  }
  .has_menu #header .center_block .main-nav:hover {
    background: #21c4bc none repeat scroll 0 0;
  }
  #header ul.menu.full.opened li.current {
    background: #009093;
  }
}
@media all and (max-width: 550px) {
  body #footer .footer_inner .line {
    border-top: 4px solid #00a396;
  }
  .basket_wrapp .empty_cart:not(.bcart) .wraps_icon_block.basket .count span,
  .basket_wrapp .basket_empty .wraps_icon_block.basket .count span {
    color: #FFF;
    background: #00adab;
  }
}
#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li:hover>a,
#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li.opened>a,
#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li.current > a {
  background: #21c4bc;
}
#header .wrapper_middle_menu.wrap_menu ul.menu.opened > li {
  background: #009897;
}
.button.transparent,
.h_color_white .header_wrap .menu > li.current > a span,
.h_color_white.wrapper #header ul.menu li .child .child_wrapp,
.m_color_white.wrapper #header ul.menu li .child .child_wrapp,
.basket_normal .popup.card_popup_frame .basket_popup_wrapp,
.basket_sort ul.tabs li.cur div,
.smartfilter .bx_ui_slider_track .bx_ui_slider_handle,
.bx_filter .button,
.bx_filter_vertical input[type="checkbox"]:checked + label.sku,
.sku_props .bx_item_detail_size ul li.active,
.bx_size_scroller_container .bx_size ul li.bx_active,
.bx_filter .bx_filter_param_label.active .bx_filter_param_btn,
.bx_catalog_item_scu .bx_item_detail_scu ul li.active span.cnt,
.item_slider .thumbs li.current,
.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-left-column,
.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-center-column,
.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-right-column,
.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-left-column,
.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-center-column,
.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-right-column,
.bx_element input[type=radio]:checked + label .bx_logotype,
.bx_element label.selected .bx_logotype {
  border-color: #26a8ab;
}
a,
.link,
.button.transparent,
.button.transparent:hover,
.specials_slider_wrapp ul.tabs > li span,
.tab_slider_wrapp ul.tabs > li span,
.basket_wrapp .basket_block .link:hover + .wraps_icon_block + .text .title,
.stores .stores_list .item a span,
.phones .order_wrap_btn,
.footer_bottom .all_menu_block ul li a:hover,
.footer_bottom .submenu_top .menu_item a:hover,
.avtorization-call.enter:hover span,
.top-h-row .h-user-block a:hover,
ul.menu .child li.menu_item a,
#header .catalog_menu ul.menu > li.current > a,
ul.menu .child .depth3 a,
ul.menu .child li.menu_title a:hover,
#header ul.menu li .child.submenu .child_wrapp a:not(.title),
.img_block_capcha .reload,
.h_color_white .center_block .menu.full > li:hover > a,
.m_color_white #header .wrapper_middle_menu .menu.bottom > li:hover > a,
.m_color_white #header .wrapper_middle_menu .menu.bottom > li.hover > a,
body #header ul.menu li .child.line .child_wrapp > a:hover,
.basket_sort ul.tabs li .wrap_li > span *,
.basket_sort ul.tabs li .wrap_li > span,
.bx_filter_parameters_box_title:hover,
.bx_filter .bx_filter_popup_result a,
.left_block .internal_sections_list .child_wrapp .child li.cur > a,
.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item.cur,
.left_block .internal_sections_list .child_wrapp a:hover,
.ajax_load_btn:hover .more_text_ajax,
.breadcrumbs a:hover span,
.tabs-head li.current span,
.item-stock .store_view,
.reviews-post-reply-buttons a:hover,
h4.hover,
.button.transparent.white:hover,
.button.white_bg,
.item .child_container .child_wrapp .menu_item.current a,
.item .child_container .child_wrapp .menu_item:hover a {
  color: #009897;
}
button.button,
input.button,
.button,
#header ul.menu.full.opened li:not(.search_row):hover,
#header ul.menu.full > li.search_row #search-submit-button:hover,
table.title-search-result td.title-search-all a .icon,
.flex-direction-nav li:hover,
.flex-direction-nav li:first-child:hover,
.top_slider_wrapp .flex-direction-nav li:hover,
.like_icons .wish_item.added,
.like_icons .compare_item.added,
.light .stores .all_map,
.block_wr.dark,
.popup .close:hover,
.header_wrap #header .middle-h-row .logo_wrapp .logo a,
.h_color_colored .header_wrap #header,
.registraion-page .top p:after,
.has_menu.m_color_colored #header .catalog_menu,
.module-cart .remove-cell a:hover,
.cart_shell .remove-cell a:hover,
.bx_item_set_hor .bx_item_set_hor_item a.remove,
.bx_filter .bx_filter_popup_result,
.bx_filter .bx_filter_parameters_box_title:before,
.bx_filter_vertical input[type="checkbox"] + label:before,
.filter input[type="checkbox"] + label:before,
.filter input[type="radio"] + label:before,
.bx_filter label.pal:hover .bx_filter_param_btn,
.bx_filter .bx_filter_param_label.active .bx_filter_param_btn,
.bx_filter_vertical input[type="checkbox"]:checked + label.sku,
.left_block .internal_sections_list li.cur,
.left_block .internal_sections_list li:hover,
.left_block .internal_sections_list .title .inner_block:hover:before,
.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item.cur:before,
.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item:hover:before,
.left_block .internal_sections_list .child_wrapp ul.child li.cur:after,
.left_block .internal_sections_list .child_wrapp ul.child li:hover:after,
body #content .props_list tr td > span:before,
body #content .props_list tr td > .txt:before,
.module-pagination .nums .cur,
.more_text_ajax:before,
.captcha_reload:before,
.sku_props .bx_item_detail_size ul li.active,
.bx_size_scroller_container .bx_size ul li.bx_active,
.bx_catalog_item_scu .bx_item_detail_scu ul li.active span:not(.cnt_item),
.ik_select_list .ik_select_list_inner ul li.ik_select_active,
.bx_filter_select_popup ul li label.selected,
.filter_opener.opened,
.no_goods .no_products:before,
.wr_scrollbar .scrollbar .handle,
.remove:hover,
a i.arrow,
.popup-window-close-icon.popup-window-titlebar-close-icon:hover,
.bx_kit_item .bx_kit_item_add,
.catalog_detail .offers_table td.opener:hover .opener_icon,
.opener_icon:hover,
.char_name .hint .icon:hover,
.char_name .hint.active .icon,
.location-block-wrapper .bx-sls .bx-ui-sls-clear:before,
h4:hover .opener_icon,
.bg_block:before,
#order_form_div input[type="submit"],
.module-order-history .item_name:hover .icon,
.module-order-history .item_name:hover .icon,
.faq.list .item .q:hover .opener_icon,
.jobs_wrapp .item .name tr:hover .opener_icon {
  color: #FFF;
  background: #00adab;
}
.catalog_detail .bx-modal-container .btn.btn-add {
  color: #FFF;
  background: #00adab;
}
.catalog_detail .bx-modal-container .btn.btn-add:hover {
  background: #26a8ab;
}
.colored #header .catalog_menu ul.menu > li,
header .wrap_menu {
  background: #01a2a0;
}
#header .catalog_menu ul.menu > li .dropdown >li.current a {
  background: #009392;
}
.tabs-head li.current:before {
  background-color: #00adab;
}
.like_icons .compare_item.added i,
.like_icons .wish_item.added i {
  background-color: #00adab;
}
.icon_error_block:after {
  background-color: #00adab !important;
}
.flex-direction-nav li:first-child,
.flex-direction-nav li,
.flex-direction-nav li:hover {
  border-bottom-width: 0px;
}
.specials_slider_wrapp ul.tabs li.cur span,
.tab_slider_wrapp ul.tabs li.cur span,
.popup .popup-intro {
  border-bottom-color: #26a8ab;
}
.button:hover,
.like_icons .compare_item.added:hover,
.like_icons .wish_item.added:hover,
.light .stores .all_map:hover {
  background: #26a8ab;
}
.like_icons .compare_item.added:hover i,
.like_icons .wish_item.added:hover i {
  background-color: #26a8ab;
}
.wrapper_middle_menu.wrap_menu.mobile:hover {
  background: #26a8ab;
}
.header_wrap #header .catalog_menu.menu_colored .inc_menu  ul.menu > li:not(.current):hover > a {
  background: #01c0be;
}
header .menu_top_block li .dropdown>li:hover>a,
header .menu_top_block li:not(.catalog) .dropdown>li.current >a:not(.section),
header .menu_top_block li.catalog>.dropdown>li:hover>a:before {
  background: #01B1AF;
}
header .menu_colored .menu_top_block >li.current >a,
header .menu_dark .menu_top_block.menu >li.current >a,
header .menu_dark .menu_top_block.menu >li.current:hover >a,
.menu_top_block.catalog_block .dropdown >li.full:hover>a:before,
.menu_top_block.catalog_block .dropdown >li.full.current>a,
header .menu_top_block li.catalog>.dropdown>li.current>a,
.left_menu > li.current> a,
.left_menu > li:hover> a:before {
  background: #009392;
}
header .menu_top_block >li.catalog >a,
header .menu_top_block >li.catalog.current >a,
header .menu_top_block >li.catalog {
  background-color: #01B1AF;
}
header .catalog_menu .menu_top_block.menu li.catalog li.full.current >a:after,
header .catalog_menu .menu_top_block.menu li.catalog li.full:hover >a:after,
.menu_top_block.catalog_block .dropdown >li.full:hover>a:after,
.left_menu > li.has-childs:hover> a:after {
  color: #00a8a6;
}
header .menu_top_block li .dropdown>li.menu_item>a:hover,
.menu_top_block.catalog_block .dropdown>li.full>.dropdown>li>a:not(.section):hover,
.menu_top_block.catalog_block .dropdown>li.full:hover>a,
.left_menu > li:hover> a {
  color: #009897;
}
.phone_block .phone_wrap .icons {
  color: #009897;
}
header .menu_top_block li.catalog>.dropdown>li:hover>a,
header .menu_top_block li.catalog>.dropdown>li>.dropdown>li.current>a:not(.section) {
  color: #009897;
}
header .menu_top_block li .dropdown>li.current >a.section1,
.menu_top_block li .dropdown>li >a.section1:hover,
#header .catalog_menu.menu_light ul.menu > li.current > a,
#header .catalog_menu.menu_light ul.menu > li:hover > a {
  color: #009897;
}
.subscribe-form:before {
  background: #00a8a6;
}
.subscribe-form input.send_btn {
  background-color: #00a8a6;
}
.bx_ordercart .bx_ordercart_order_pay .bx_bt_button {
  background: #00a8a6;
}
.subscribe-form input.send_btn:hover {
  background-color: #26a8ab;
}
.bx_ordercart .bx_ordercart_order_pay .bx_bt_button:hover {
  background: #26a8ab;
}
.bx_ordercart .bx_item_detail_size_small_noadaptive .bx_size ul li.bx_active a {
  background: #26a8ab;
  color: #fff;
}
.bx_ordercart .bx_item_detail_size_small_noadaptive .bx_size ul li:not(.bx_active):hover a {
  color: #009897;
}
a.dark_link:hover,
.dark_link:hover span,
.dl:hover a,
.selected a.dark_link,
.current a.dark_link {
  color: #009897 !important;
}
.menu_top_block.catalog_block .dropdown>li.full>.dropdown>li>a,
header .menu_top_block.catalogfirst li.full>.dropdown>li:not(.current)>a {
  color: #009897;
}
.middle_phone .phone_wrap .icons,
.top_slider_wrapp .flexslider .slides > li:after {
  background-color: #00a8a6;
}
.basket_fly .basket_wrapp .basket_fly .wraps_icon_block.delay .count span {
  background-color: #00a8a6;
}
.basket_normal .basket_wrapp .wraps_icon_block.basket .count span {
  background-color: #00a8a6;
}
.bx_filter .bx_filter_parameters_box_title:hover:after {
  color: #009897;
}
.bx_filter .bx_filter_param_label.active .bx_filter_btn_color_icon,
.bx_catalog_item_scu ul li.active .cnt_item,
.bx_scu_scroller_container ul li.bx_active .cnt_item {
  box-shadow: 0px 0px 0px 2px #fff inset, 0px 0px 0px 2px #00a8a6;
}
.bx_filter_vertical input[type="checkbox"]:not(:checked) + label.sku:hover span,
.sku_props .bx_item_detail_size ul li:not(.active):hover span,
.bx_item_list_you_looked_horizontal .bx_item_detail_size ul li:hover span {
  color: #009897;
}
.bx_filter_vertical input[type="checkbox"] + label.sku:hover,
.sku_props .bx_item_detail_size ul li:hover,
.bx_item_list_you_looked_horizontal .bx_item_detail_size ul li:hover {
  border-color: #009897;
}
.more_text_ajax:after {
  background-color: #00a8a6;
}
.list_item .description_wrapp .like_icons span.added {
  color: #009897;
}
.bx_ordercart .bx_sort_container a.current:after {
  background: #21c4bc;
}
.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_order_pay_center .checkout {
  color: #00a8a6;
  border-color: #009897;
}
.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_order_pay_center .checkout:hover {
  color: #fff;
  border-color: #21c4bc;
  background: #21c4bc;
}
.button.transparent:not(.text):hover {
  border-color: #21c4bc;
  background: #21c4bc;
  color: #fff;
}
.button.transparent.grey_br:hover {
  border-color: #21c4bc;
  background: #fff;
}
.bx_ordercart tbody td.control a:first-of-type:hover,
.bx_ordercart #basket_items_delayed tbody td.control a:last-of-type:hover,
.bx_ordercart #basket_items_subscribed  tbody td.control a:first-of-type:hover,
.bx_ordercart #basket_items_not_available  tbody td.control a:last-of-type:hover,
.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_coupon:not(:first-of-type) > span:hover {
  background-color: #21c4bc;
}
.bx_ordercart .bx_sort_container a,
.bx_item_list_you_looked_horizontal .bx_catalog_item .bx_catalog_item_title a {
  color: #00a8a6;
}
.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blocktwo a,
.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blockone a {
  color: #FFF;
  background: #00a8a6;
}
.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blocktwo a:hover,
.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blockone a {
  background: #26a8ab;
}
.sale_order_full_table input[name="BuyButton"] {
  background-color: #00adab;
}
.sale_order_full_table input[name="BuyButton"] {
  background-color: #26a8ab;
}
.bx_ordercart .bx_item_detail_size_small_noadaptive ul li:active a,
.bx_ordercart .bx_item_detail_size_small_noadaptive ul li.bx_active a,
.bx_ordercart .bx_item_detail_size_small_noadaptive ul li:hover a {
  border-color: #26a8ab;
}
.color_link {
  color: #009897 !important;
}
116  25956|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/themes/orange/theme.min.css|57586ed6a.scroll-to-top.ROUND_COLOR,a.scroll-to-top.RECT_COLOR{background-color:#FF6D00;}a.scroll-to-top.ROUND_COLOR:hover,a.scroll-to-top.RECT_COLOR:hover{background-color:#d88c4b;}ul li::before{color:#f05600;}.basket_print i{background-color:#e66200;}.rss_feed_icon{background:#f05600;color:#000;}.start_promo .item i.title a,.start_promo .item i.price a,.start_promo .item i.title span,.start_promo .item i.price span,.start_promo .item span.main_wrap i:after,.start_promo .item p span,.wrap_tizer .wrap_outer,.wrap_tizer .wrap_outer .outer_text,.wrap_tizer .wrap_outer .inner_text{background:#fa6b00;}.start_promo .item i.title span,.start_promo .item i.price span{box-shadow:-4px 1px 0px 4px #fa6b00, 4px 1px 0px 4px #fa6b00;}.start_promo .item i.price span{box-shadow:-4px 0px 0px 4px #fa6b00, 4px 0px 0px 4px #fa6b00;}.module-map .infoBox .close_info:hover{background-color:#f05600;}#header ul.menu.full>li.search_row #search-submit-button:hover,#header ul.menu.full>li.search_row #search-submit-button.hover{border:transparent;}#header .catalog_menu ul.menu>li,#header ul.menu.adaptive:not(.opened) li.menu_opener,#header ul.menu.full.opened li:not(.search_row):hover,#header ul.menu.full.opened li.current{border-bottom:1px solid #b85b00;}#header .catalog_menu ul.menu>li:not(.current):not(.stretch):hover{border-bottom:1px solid #bd4a00;border-right:1px solid #bd4a00;}#header ul.menu.full.opened li:not(.search_row):hover,#header ul.menu.full.opened li.current{border-top:1px solid #fa6b00;}#header .catalog_menu ul.menu>li.current>a{color:#fff;border-left:1px solid #f56900;}#header .catalog_menu ul.menu>li{border-right:1px solid #b85b00;}.header-cart-block .cart span.icon i{background-position:0px -84px;}ul.menu li .child .child_wrapp,.breadcrumbs .dropdown,.authorization-cols .form-block{border-top:2px solid #f05600;}.catalog_detail ul.tabs.main_tabs{border-bottom:2px solid #f05600;}ul.menu li b.space,.breadcrumbs .drop b.space,.hint .triangle{border-bottom:6px solid #f05600;}.basket_button,.basket_button span,.button30,.button30 span,.popup .soc-avt .row a{color:#fff;}#footer .footer_inner .line,#header .basket_fly .opener .basket_count,.page_not_found td.image img{background:#f05600;}#bx-soa-order-form .btn.btn-default{background:#f05600;border-color:#f05600;}#bx-soa-order-form .btn.btn-default:hover{background:#d88946;border-color:#d88946;}ul.tabs li.cur .triangle,.view-list .view-header i.triangle{border-top:5px solid #e66200 !important;}.basket_button.add span{background-position:0px -6px;}.basket_button.read_more span{background-position:1px -448px;}.basket_button.added span{background-position:0px -45px;}.front_slider_wrapp .extended_pagination>li.active i.triangle{border-right-color:#e66200;}.catalog_detail .extended_info a.compare_item i{background-position:-32px -65px;}.catalog_detail .extended_info a.wish_item i{background-position:3px -72px;}.display_list a.compare_item i{background-position:-32px -3px;}.display_list a.wish_item i{background-position:-3px -2px;}.display_list a.compare_item:hover i,.display_list a.compare_item.added i{background-position:-32px -65px;}.display_list a.wish_item:hover i,.display_list a.wish_item.added i{background-position:-3px -63px;}.popup .form .form_head{border-bottom-color:#f05600;}.item_slider .thumbs i.triangle{border-bottom:5px solid #f05600;}blockquote:before{background-color:#f05600;}.module-gallery-list li .fancy_hover:hover{border:2px solid #f05600;}.smartfilter .bx_ui_slider_track .bx_ui_slider_range,.bx_filter .bx_ui_slider_pricebar_V{background:#f05600;}.catalog_block .catalog_item .basket_button.read_more span{background-position:1px -408px;}.catalog_block .catalog_item .basket_button.to-cart span{background-position:0 -7px;}.catalog_block .catalog_item:hover .basket_button span{color:#fff;background-position:0px -87px;}.catalog_block .catalog_item:hover .basket_button.read_more span{background-position:1px -448px !important;}.catalog_item .basket_button.in-cart span,.basket_button.in-cart span{background-position:0px -127px !important;}.catalog_item:hover .basket_button.added span{color:#fff;}.bx_filter_container #modef .triangle,.left_block .internal_sections_list .child_wrapp .triangle{border-right:6px solid #f05600;}#order_form_div .sale_order_table .ps_logo img:hover,#order_form_div .sale_order_table .ps_logo input[type=radio]:checked+label img,#order_form_div .sale_order_table.delivery label:hover img,#order_form_div .sale_order_table.delivery input[type=radio]:checked+label img,#order_form_div div.ps_logo.selected img,#order_form_div .account label:hover img,#order_form_div .account img.active{border:2px solid #f05600;}.front_slider_wrapp .extended_pagination>li.active span,a.b-share-popup__item:hover .b-share-popup__item__text{color:#fff !important;}ul.tabs li.cur span,ul.tabs li.cur:hover span,.front_slider_wrapp a.read_more{color:#fff;}.left_menu>li.current>a,.left_menu>li:not(.exit):hover{background:#f05600;}a i.arrow b{background-position:-36px 0px;}.top-h-row .search #search-submit-button:hover i,.top-h-row .search #search-submit-button.hover i{background-position:top center;}.catalog_detail a.compare_item:hover .icon i{background-position:-32px -65px;}.catalog_detail a.wish_item:hover .icon i{background-position:2px -45px;}ul.menu li.current a i{background-position:-61px 0px;}.button30.ask_question span.show_form,.button30.ask_question span.hide_form{background-position:5px -605px;}.button30.ask_question span.hide_form{color:#000;}.button30.ask_question span.hide_form:hover{color:#fff;}.question-list .q .ic b{background-position:-38px -188px;}.question-list .q.op .ic b{background-position:-8px -188px;}.number_list a.current span{color:#fff !important;}.basket_button span,.compare_button span{background-position:0px -87px;}.bx_filter_container_title .hint.active .hint_icon,.bx_filter_container_title .hint.active .hint_icon,.bx_filter_container_title .hint.active .hint_icon:hover,#header .basket_fly .opener .basket_count:not(.empty).count{color:#fff;}.left_block .internal_sections_list li.item:hover>a,.left_block .internal_sections_list li.item.cur>a{color:#fff;}.left_block .internal_sections_list li *{-webkit-transition:none;-moz-transition:none;-o-transition:none;transition:none;}a.compare_item i{background-position:-31px -1px;}a.wish_item i{background-position:-2px -1px;}a.compare_item:hover i{background-position:-31px -33px;}a.wish_item:hover i{background-position:-2px -32px;}a.compare_item.added i{background-position:-31px -63px;}a.wish_item.added i{background-position:-2px -62px;}.module_products_list .basket_button.to-cart span{background-position:0 -7px;}.module_products_list .basket_button.to-cart:hover span{background-position:0px -87px;}.basket_button.in-cart span{background-position:0px -127px;}.popup .close:hover i,.popup .grey .close i,.popup-window-close-icon.popup-window-titlebar-close-icon:hover:after{background-position:-1px -59px;}.card_popup_frame.popup .but_row a.to_basket .icon i{background-position:-5px -170px;}.soc-serv-main .button30 span,.reviews-expanded .button30.add_review span,.catalog_detail .basket_button.one_click span,.button30.review_preview span,.popup .grey .pop-up-title{color:#000;text-shadow:0 1px 0px rgba(255,255,255,0.5);-moz-text-shadow:0 1px 0px rgba(255,255,255,0.5);-o-text-shadow:0 1px 0px rgba(255,255,255,0.5);-webkit-text-shadow:0 1px 0px rgba(255,255,255,0.5);}.module-order-history .status.delivered{color:#fff;}.jobs_wrapp .item a:not(.opened):hover .icon i,.staff_wrapp .section .section_title:not(.opened):hover .icon i{background-position:-31px -33px;}.jobs_wrapp .item a.opened:hover .icon i,.staff_wrapp .section .section_title.opened:hover .icon i{background-position:0 -34px;}.button30.add_review span{background-position:4px -286px;}.button30.send_review span{background-position:4px -365px;}.card_popup_frame.popup .but_row a.to_delay .icon i{background-position:-48px -257px;}.compare_button span{background-position:-32px -64px;}#header .basket_fly .opener .basket_count .icon i{background-position:-7px -89px;}#header .basket_fly .opener .basket_count.empty:hover .icon i{background-position:-7px -47px;}#header .basket_fly .opener .basket_count.empty .icon i{background-position:-7px -5px;}#header .basket_fly .opener .wish_count .icon i{background-position:-48px -424px;}#header .basket_fly .opener .wish_count:hover .icon i{background-position:-48px -383px;}ul.menu li a{color:#000;}.catalog_menu ul.menu li a{color:#fff;}ul.menu li a i{background-position:-2px -20px;}.catalog_menu ul.menu li a i{background-position:-61px 0px;}a i.arrow.down b{background-position:-36px -35px;}.catalog_item:hover .basket_button span{color:#fff;}ul.specials_slider .basket_button span{background-position:0 -7px;}ul.specials_slider .basket_button:hover span,ul.specials_slider li:hover .basket_button span{background-position:0px -87px;}ul.specials_slider .basket_button.read_more span{background-position:1px -408px;}ul.specials_slider li:hover .basket_button.read_more span{background-position:1px -448px !important;}.top_slider_wrapp .flex-direction-nav li a.flex-next{background-position:-58px -60px;}.top_slider_wrapp .flex-direction-nav li:hover a.flex-prev{background-position:-3px -60px;}.top_slider_wrapp .flex-direction-nav li a.flex-prev{background-position:-3px 0px;}#header .basket_fly .opener .wish_count.empty:hover .icon i{background-position:-48px -341px;}#header .basket_fly .opener .wish_count.empty .icon i{background-position:-48px -299px;}#bx-soa-order .bx-soa-section .bx-soa-section-title:before{background-color:#FF6D00;}#bx-soa-order div[class*=bx-sls] .quick-locations .quick-location-tag{border-color:#FF6D00;color:#FF6D00;}#bx-soa-order div[class*=bx-sls] .quick-locations .quick-location-tag:hover{background-color:#FF6D00;color:#fff;}#bx-soa-order .bx-soa .form-group .radio-inline.checked label:before,#bx-soa-order .bx-soa .form-group .radio-inline label:hover:before,#bx-soa-order .bx-soa-pp-company:hover .bx-soa-pp-company-graf-container:before,#bx-soa-order .bx-soa-pp-company.bx-selected .bx-soa-pp-company-graf-container:before{background-color:#FF6D00;}#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company.bx-selected .bx-soa-pp-company-graf-container,#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company:hover .bx-soa-pp-company-graf-container{border-color:#FF6D00;}#bx-soa-order .bx-soa-pp-desc-container .bx-soa-pp-company:before,#bx-soa-order .bx-soa-pp-desc-container .checkbox label:hover:before,#bx-soa-order .bx-soa-pp-desc-container .checkbox label.checked:before{background-color:#FF6D00;}#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company:hover .bx-soa-pp-company-smalltitle,#bx-soa-order .bx-soa-more .bx-soa-more-btn .pull-left{color:#FF6D00;}#bx-soa-order .bx-soa-coupon-input:hover:after,#bx-soa-order .bx-soa-coupon-item .bx-soa-coupon-remove:hover{background-color:#FF6D00;}#bx-soa-order div[class*=bx-sls] .bx-ui-sls-clear:hover:before{background-color:#FF6D00;}@media all and (max-width:950px){.header_wrap.colored #header .center_block .main-nav{background:#fa6b00;}}@media all and (max-width:768px){body .top_slider_wrapp .flex-direction-nav li a{background-image:url(../../images/arrows_big.png);}body .top_slider_wrapp .flex-direction-nav li a.flex-next{background-position:-30px -94px;}body .top_slider_wrapp .flex-direction-nav li a.flex-prev{background-position:0 -127px;}body .top_slider_wrapp .flex-direction-nav li a.flex-prev:hover{background-position:0 -94px;}body .flex-control-paging li a.flex-active, body .flex-control-paging li:hover a:not(.touch){background:#fa6b00;background:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzAwYWFlMiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMwMDhmYzciIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);background:-moz-linear-gradient(top,#fa6b00 0%,#e06700 100%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0%,#fa6b00),color-stop(100%,#e06700));background:-webkit-linear-gradient(top,#fa6b00 0%,#e06700 100%);background:-o-linear-gradient(top,#fa6b00 0%,#e06700 100%);background:-ms-linear-gradient(top,#fa6b00 0%,#e06700 100%);background:linear-gradient(to bottom,#fa6b00 0%,#e06700 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='@bcolor_00aae2',endColorstr='@bcolor_008fc7',GradientType=0);}}@media all and (max-width:600px){#header ul.menu.full.opened>li, .has_menu #header .center_block .main-nav{background-color:#fa6b00;}.has_menu #header .center_block .main-nav:hover{background:#e28950 none repeat scroll 0 0;}#header ul.menu.full.opened li.current{background:#e06700;}}@media all and (max-width:550px){body #footer .footer_inner .line{border-top:4px solid #f05600;}.basket_wrapp .empty_cart:not(.bcart).wraps_icon_block.basket .count span, .basket_wrapp .basket_empty .wraps_icon_block.basket .count span{color:#FFF;background:#fa6b00;}}#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li:hover>a,#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li.opened>a,#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li.current>a{background:#e28950;}#header .wrapper_middle_menu.wrap_menu ul.menu.opened>li{background:#e66200;}.button.transparent,.h_color_white .header_wrap .menu>li.current>a span,.h_color_white.wrapper #header ul.menu li .child .child_wrapp,.m_color_white.wrapper #header ul.menu li .child .child_wrapp,.basket_normal .popup.card_popup_frame .basket_popup_wrapp,.basket_sort ul.tabs li.cur div,.smartfilter .bx_ui_slider_track .bx_ui_slider_handle,.bx_filter .button,.bx_filter_vertical input[type="checkbox"]:checked+label.sku,.sku_props .bx_item_detail_size ul li.active,.bx_size_scroller_container .bx_size ul li.bx_active,.bx_filter .bx_filter_param_label.active .bx_filter_param_btn,.bx_catalog_item_scu .bx_item_detail_scu ul li.active span.cnt,.item_slider .thumbs li.current,.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-left-column,.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-center-column,.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-right-column,.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-left-column,.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-center-column,.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-right-column,.bx_element input[type=radio]:checked+label .bx_logotype,.bx_element label.selected .bx_logotype{border-color:#d88946;}a,.link,.button.transparent,.button.transparent:hover,.specials_slider_wrapp ul.tabs>li span,.tab_slider_wrapp ul.tabs>li span,.basket_wrapp .basket_block .link:hover+.wraps_icon_block+.text .title,.stores .stores_list .item a span,.phones .order_wrap_btn,.footer_bottom .all_menu_block ul li a:hover,.footer_bottom .submenu_top .menu_item a:hover,.avtorization-call.enter:hover span,.top-h-row .h-user-block a:hover,ul.menu .child li.menu_item a,#header .catalog_menu ul.menu>li.current>a,ul.menu .child .depth3 a,ul.menu .child li.menu_title a:hover,#header ul.menu li .child.submenu .child_wrapp a:not(.title),.img_block_capcha .reload,.h_color_white .center_block .menu.full>li:hover>a,.m_color_white #header .wrapper_middle_menu .menu.bottom>li:hover>a,.m_color_white #header .wrapper_middle_menu .menu.bottom>li.hover>a,body #header ul.menu li .child.line .child_wrapp>a:hover,.basket_sort ul.tabs li .wrap_li>span *,.basket_sort ul.tabs li .wrap_li>span,.bx_filter_parameters_box_title:hover,.bx_filter .bx_filter_popup_result a,.left_block .internal_sections_list .child_wrapp .child li.cur>a,.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item.cur,.left_block .internal_sections_list .child_wrapp a:hover,.ajax_load_btn:hover .more_text_ajax,.breadcrumbs a:hover span,.tabs-head li.current span,.item-stock .store_view,.reviews-post-reply-buttons a:hover,h4.hover,.button.transparent.white:hover,.button.white_bg,.item .child_container .child_wrapp .menu_item.current a,.item .child_container .child_wrapp .menu_item:hover a{color:#e66200;}button.button,input.button,.button,#header ul.menu.full.opened li:not(.search_row):hover,#header ul.menu.full>li.search_row #search-submit-button:hover,table.title-search-result td.title-search-all a .icon,.flex-direction-nav li:hover,.flex-direction-nav li:first-child:hover,.top_slider_wrapp .flex-direction-nav li:hover,.like_icons .wish_item.added,.like_icons .compare_item.added,.light .stores .all_map,.block_wr.dark,.popup .close:hover,.header_wrap #header .middle-h-row .logo_wrapp .logo a,.h_color_colored .header_wrap #header,.registraion-page .top p:after,.has_menu.m_color_colored #header .catalog_menu,.module-cart .remove-cell a:hover,.cart_shell .remove-cell a:hover,.bx_item_set_hor .bx_item_set_hor_item a.remove,.bx_filter .bx_filter_popup_result,.bx_filter .bx_filter_parameters_box_title:before,.bx_filter_vertical input[type="checkbox"]+label:before,.filter input[type="checkbox"]+label:before,.filter input[type="radio"]+label:before,.bx_filter label.pal:hover .bx_filter_param_btn,.bx_filter .bx_filter_param_label.active .bx_filter_param_btn,.bx_filter_vertical input[type="checkbox"]:checked+label.sku,.left_block .internal_sections_list li.cur,.left_block .internal_sections_list li:hover,.left_block .internal_sections_list .title .inner_block:hover:before,.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item.cur:before,.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item:hover:before,.left_block .internal_sections_list .child_wrapp ul.child li.cur:after,.left_block .internal_sections_list .child_wrapp ul.child li:hover:after,body #content .props_list tr td>span:before,body #content .props_list tr td>.txt:before,.module-pagination .nums .cur,.more_text_ajax:before,.captcha_reload:before,.sku_props .bx_item_detail_size ul li.active,.bx_size_scroller_container .bx_size ul li.bx_active,.bx_catalog_item_scu .bx_item_detail_scu ul li.active span:not(.cnt_item),.ik_select_list .ik_select_list_inner ul li.ik_select_active,.bx_filter_select_popup ul li label.selected,.filter_opener.opened,.no_goods .no_products:before,.wr_scrollbar .scrollbar .handle,.remove:hover,a i.arrow,.popup-window-close-icon.popup-window-titlebar-close-icon:hover,.bx_kit_item .bx_kit_item_add,.catalog_detail .offers_table td.opener:hover .opener_icon,.opener_icon:hover,.char_name .hint .icon:hover,.char_name .hint.active .icon,.location-block-wrapper .bx-sls .bx-ui-sls-clear:before,h4:hover .opener_icon,.bg_block:before,#order_form_div input[type="submit"],.module-order-history .item_name:hover .icon,.module-order-history .item_name:hover .icon,.faq.list .item .q:hover .opener_icon,.jobs_wrapp .item .name tr:hover .opener_icon{color:#FFF;background:#fa6b00;}.catalog_detail .bx-modal-container .btn.btn-add{color:#FFF;background:#fa6b00;}.catalog_detail .bx-modal-container .btn.btn-add:hover{background:#d88946;}.colored #header .catalog_menu ul.menu>li,header .wrap_menu{background:#f06600;}#header .catalog_menu ul.menu>li .dropdown>li.current a{background:#e06000;}.tabs-head li.current:before{background-color:#fa6b00;}.like_icons .compare_item.added i,.like_icons .wish_item.added i{background-color:#fa6b00;}.icon_error_block:after{background-color:#fa6b00 !important;}.flex-direction-nav li:first-child,.flex-direction-nav li,.flex-direction-nav li:hover{border-bottom-width:0px;}.specials_slider_wrapp ul.tabs li.cur span,.tab_slider_wrapp ul.tabs li.cur span,.popup .popup-intro{border-bottom-color:#d88946;}.button:hover,.like_icons .compare_item.added:hover,.like_icons .wish_item.added:hover,.light .stores .all_map:hover{background:#d88946;}.like_icons .compare_item.added:hover i,.like_icons .wish_item.added:hover i{background-color:#d88946;}.wrapper_middle_menu.wrap_menu.mobile:hover{background:#d88946;}.header_wrap #header .catalog_menu.menu_colored .inc_menu ul.menu>li:not(.current):hover>a{background:#ff760f;}header .menu_top_block li .dropdown>li:hover>a,header .menu_top_block li:not(.catalog).dropdown>li.current>a:not(.section),header .menu_top_block li.catalog>.dropdown>li:hover>a:before{background:#FF6D00;}header .menu_colored .menu_top_block>li.current>a,header .menu_dark .menu_top_block.menu>li.current>a,header .menu_dark .menu_top_block.menu>li.current:hover>a,.menu_top_block.catalog_block .dropdown>li.full:hover>a:before,.menu_top_block.catalog_block .dropdown>li.full.current>a,header .menu_top_block li.catalog>.dropdown>li.current>a,.left_menu>li.current>a,.left_menu>li:hover>a:before{background:#e06000;}header .menu_top_block>li.catalog>a,header .menu_top_block>li.catalog.current>a,header .menu_top_block>li.catalog{background-color:#FF6D00;}header .catalog_menu .menu_top_block.menu li.catalog li.full.current>a:after,header .catalog_menu .menu_top_block.menu li.catalog li.full:hover>a:after,.menu_top_block.catalog_block .dropdown>li.full:hover>a:after,.left_menu>li.has-childs:hover>a:after{color:#f56900;}header .menu_top_block li .dropdown>li.menu_item>a:hover,.menu_top_block.catalog_block .dropdown>li.full>.dropdown>li>a:not(.section):hover,.menu_top_block.catalog_block .dropdown>li.full:hover>a,.left_menu>li:hover>a{color:#e66200;}.phone_block .phone_wrap .icons{color:#e66200;}header .menu_top_block li.catalog>.dropdown>li:hover>a,header .menu_top_block li.catalog>.dropdown>li>.dropdown>li.current>a:not(.section){color:#e66200;}header .menu_top_block li .dropdown>li.current>a.section1,.menu_top_block li .dropdown>li>a.section1:hover,#header .catalog_menu.menu_light ul.menu>li.current>a,#header .catalog_menu.menu_light ul.menu>li:hover>a{color:#e66200;}.subscribe-form:before{background:#f56900;}.subscribe-form input.send_btn{background-color:#f56900;}.bx_ordercart .bx_ordercart_order_pay .bx_bt_button{background:#f56900;}.subscribe-form input.send_btn:hover{background-color:#d88946;}.bx_ordercart .bx_ordercart_order_pay .bx_bt_button:hover{background:#d88946;}.bx_ordercart .bx_item_detail_size_small_noadaptive .bx_size ul li.bx_active a{background:#d88946;color:#fff;}.bx_ordercart .bx_item_detail_size_small_noadaptive .bx_size ul li:not(.bx_active):hover a{color:#e66200;}a.dark_link:hover,.dark_link:hover span,.dl:hover a,.selected a.dark_link,.current a.dark_link{color:#e66200 !important;}.menu_top_block.catalog_block .dropdown>li.full>.dropdown>li>a,header .menu_top_block.catalogfirst li.full>.dropdown>li:not(.current)>a{color:#e66200;}.middle_phone .phone_wrap .icons,.top_slider_wrapp .flexslider .slides>li:after{background-color:#f56900;}.basket_fly .basket_wrapp .basket_fly .wraps_icon_block.delay .count span{background-color:#f56900;}.basket_normal .basket_wrapp .wraps_icon_block.basket .count span{background-color:#f56900;}.bx_filter .bx_filter_parameters_box_title:hover:after{color:#e66200;}.bx_filter .bx_filter_param_label.active .bx_filter_btn_color_icon,.bx_catalog_item_scu ul li.active .cnt_item,.bx_scu_scroller_container ul li.bx_active .cnt_item{box-shadow:0px 0px 0px 2px #fff inset, 0px 0px 0px 2px #f56900;}.bx_filter_vertical input[type="checkbox"]:not(:checked)+label.sku:hover span,.sku_props .bx_item_detail_size ul li:not(.active):hover span,.bx_item_list_you_looked_horizontal .bx_item_detail_size ul li:hover span{color:#e66200;}.bx_filter_vertical input[type="checkbox"]+label.sku:hover,.sku_props .bx_item_detail_size ul li:hover,.bx_item_list_you_looked_horizontal .bx_item_detail_size ul li:hover{border-color:#e66200;}.more_text_ajax:after{background-color:#f56900;}.list_item .description_wrapp .like_icons span.added{color:#e66200;}.bx_ordercart .bx_sort_container a.current:after{background:#e28950;}.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_order_pay_center .checkout{color:#f56900;border-color:#e66200;}.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_order_pay_center .checkout:hover{color:#fff;border-color:#e28950;background:#e28950;}.button.transparent:not(.text):hover{border-color:#e28950;background:#e28950;color:#fff;}.button.transparent.grey_br:hover{border-color:#e28950;background:#fff;}.bx_ordercart tbody td.control a:first-of-type:hover,.bx_ordercart #basket_items_delayed tbody td.control a:last-of-type:hover,.bx_ordercart #basket_items_subscribed tbody td.control a:first-of-type:hover,.bx_ordercart #basket_items_not_available tbody td.control a:last-of-type:hover,.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_coupon:not(:first-of-type)>span:hover{background-color:#e28950;}.bx_ordercart .bx_sort_container a,.bx_item_list_you_looked_horizontal .bx_catalog_item .bx_catalog_item_title a{color:#f56900;}.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blocktwo a,.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blockone a{color:#FFF;background:#f56900;}.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blocktwo a:hover,.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blockone a{background:#d88946;}.sale_order_full_table input[name="BuyButton"]{background-color:#fa6b00;}.sale_order_full_table input[name="BuyButton"]{background-color:#d88946;}.bx_ordercart .bx_item_detail_size_small_noadaptive ul li:active a,.bx_ordercart .bx_item_detail_size_small_noadaptive ul li.bx_active a,.bx_ordercart .bx_item_detail_size_small_noadaptive ul li:hover a{border-color:#d88946;}.color_link{color:#e66200 !important;}112  28695|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/themes/orange/theme.css|23f9fc57a.scroll-to-top.ROUND_COLOR,
a.scroll-to-top.RECT_COLOR {
  background-color: #FF6D00;
}
a.scroll-to-top.ROUND_COLOR:hover,
a.scroll-to-top.RECT_COLOR:hover {
  background-color: #d88c4b;
}
ul li::before {
  color: #f05600;
}
.basket_print i {
  background-color: #e66200;
}
.rss_feed_icon {
  background: #f05600;
  color: #000;
}
.start_promo .item i.title a,
.start_promo .item i.price a,
.start_promo .item i.title span,
.start_promo .item i.price span,
.start_promo .item span.main_wrap i:after,
.start_promo .item p span,
.wrap_tizer .wrap_outer,
.wrap_tizer .wrap_outer .outer_text,
.wrap_tizer .wrap_outer .inner_text {
  background: #fa6b00;
}
.start_promo .item i.title span,
.start_promo .item i.price span {
  box-shadow: -4px 1px 0px 4px #fa6b00, 4px 1px 0px 4px #fa6b00;
}
.start_promo .item i.price span {
  box-shadow: -4px 0px 0px 4px #fa6b00, 4px 0px 0px 4px #fa6b00;
}
.module-map .infoBox .close_info:hover {
  background-color: #f05600;
}
#header ul.menu.full > li.search_row #search-submit-button:hover,
#header ul.menu.full > li.search_row #search-submit-button.hover {
  border: transparent;
}
#header .catalog_menu ul.menu > li,
#header ul.menu.adaptive:not(.opened) li.menu_opener,
#header ul.menu.full.opened li:not(.search_row):hover,
#header ul.menu.full.opened li.current {
  border-bottom: 1px solid #b85b00;
}
#header .catalog_menu ul.menu > li:not(.current):not(.stretch):hover {
  border-bottom: 1px solid #bd4a00;
  border-right: 1px solid #bd4a00;
}
#header ul.menu.full.opened li:not(.search_row):hover,
#header ul.menu.full.opened li.current {
  border-top: 1px solid #fa6b00;
}
#header .catalog_menu ul.menu > li.current > a {
  color: #fff;
  border-left: 1px solid #f56900;
}
#header .catalog_menu ul.menu > li {
  border-right: 1px solid #b85b00;
}
.header-cart-block .cart span.icon i {
  background-position: 0px -84px;
}
ul.menu li .child .child_wrapp,
.breadcrumbs .dropdown,
.authorization-cols .form-block {
  border-top: 2px solid #f05600;
}
.catalog_detail ul.tabs.main_tabs {
  border-bottom: 2px solid #f05600;
}
ul.menu li b.space,
.breadcrumbs .drop b.space,
.hint .triangle {
  border-bottom: 6px solid #f05600;
}
.basket_button,
.basket_button span,
.button30,
.button30 span,
.popup .soc-avt .row a {
  color: #fff;
}
#footer .footer_inner .line,
#header .basket_fly .opener .basket_count,
.page_not_found td.image img {
  background: #f05600;
}
#bx-soa-order-form .btn.btn-default {
  background: #f05600;
  border-color: #f05600;
}
#bx-soa-order-form .btn.btn-default:hover {
  background: #d88946;
  border-color: #d88946;
}
ul.tabs li.cur .triangle,
.view-list .view-header i.triangle {
  border-top: 5px solid #e66200 !important;
}
.basket_button.add span {
  background-position: 0px -6px;
}
.basket_button.read_more span {
  background-position: 1px -448px;
}
.basket_button.added span {
  background-position: 0px -45px;
}
.front_slider_wrapp .extended_pagination > li.active i.triangle {
  border-right-color: #e66200;
}
.catalog_detail .extended_info a.compare_item i {
  background-position: -32px -65px;
}
.catalog_detail .extended_info a.wish_item i {
  background-position: 3px -72px;
}
.display_list a.compare_item i {
  background-position: -32px -3px;
}
.display_list a.wish_item i {
  background-position: -3px -2px;
}
.display_list a.compare_item:hover i,
.display_list a.compare_item.added i {
  background-position: -32px -65px;
}
.display_list a.wish_item:hover i,
.display_list a.wish_item.added i {
  background-position: -3px -63px;
}
.popup .form .form_head {
  border-bottom-color: #f05600;
}
.item_slider .thumbs i.triangle {
  border-bottom: 5px solid #f05600;
}
blockquote:before {
  background-color: #f05600;
}
.module-gallery-list li .fancy_hover:hover {
  border: 2px solid #f05600;
}
.smartfilter .bx_ui_slider_track .bx_ui_slider_range,
.bx_filter .bx_ui_slider_pricebar_V {
  background: #f05600;
}
.catalog_block .catalog_item .basket_button.read_more span {
  background-position: 1px -408px;
}
.catalog_block .catalog_item .basket_button.to-cart span {
  background-position: 0 -7px;
}
.catalog_block .catalog_item:hover .basket_button span {
  color: #fff;
  background-position: 0px -87px;
}
.catalog_block .catalog_item:hover .basket_button.read_more span {
  background-position: 1px -448px !important;
}
.catalog_item .basket_button.in-cart span,
.basket_button.in-cart span {
  background-position: 0px -127px !important;
}
.catalog_item:hover .basket_button.added span {
  color: #fff;
}
.bx_filter_container #modef .triangle,
.left_block .internal_sections_list .child_wrapp .triangle {
  border-right: 6px solid #f05600;
}
#order_form_div .sale_order_table .ps_logo img:hover,
#order_form_div .sale_order_table .ps_logo input[type=radio]:checked + label img,
#order_form_div .sale_order_table.delivery label:hover img,
#order_form_div .sale_order_table.delivery input[type=radio]:checked + label img,
#order_form_div div.ps_logo.selected img,
#order_form_div .account label:hover img,
#order_form_div .account img.active {
  border: 2px solid #f05600;
}
.front_slider_wrapp .extended_pagination > li.active span,
a.b-share-popup__item:hover .b-share-popup__item__text {
  color: #fff !important;
}
ul.tabs li.cur span,
ul.tabs li.cur:hover span,
.front_slider_wrapp a.read_more {
  color: #fff;
}
.left_menu > li.current >a,
.left_menu > li:not(.exit):hover {
  background: #f05600;
}
a i.arrow b {
  background-position: -36px 0px;
}
.top-h-row .search #search-submit-button:hover i,
.top-h-row .search #search-submit-button.hover i {
  background-position: top center;
}
.catalog_detail a.compare_item:hover .icon i {
  background-position: -32px -65px;
}
.catalog_detail a.wish_item:hover .icon i {
  background-position: 2px -45px;
}
ul.menu li.current a i {
  background-position: -61px 0px;
}
.button30.ask_question span.show_form,
.button30.ask_question span.hide_form {
  background-position: 5px -605px;
}
.button30.ask_question span.hide_form {
  color: #000;
}
.button30.ask_question span.hide_form:hover {
  color: #fff;
}
.question-list .q .ic b {
  background-position: -38px -188px;
}
.question-list .q.op .ic b {
  background-position: -8px -188px;
}
.number_list a.current span {
  color: #fff !important;
}
.basket_button span,
.compare_button span {
  background-position: 0px -87px;
}
.bx_filter_container_title .hint.active .hint_icon,
.bx_filter_container_title .hint.active .hint_icon,
.bx_filter_container_title .hint.active .hint_icon:hover,
#header .basket_fly .opener .basket_count:not(.empty) .count {
  color: #fff;
}
.left_block .internal_sections_list li.item:hover > a,
.left_block .internal_sections_list li.item.cur > a {
  color: #fff;
}
.left_block .internal_sections_list li * {
  -webkit-transition: none;
  -moz-transition: none;
  -o-transition: none;
  transition: none;
}
a.compare_item i {
  background-position: -31px -1px;
}
a.wish_item i {
  background-position: -2px -1px;
}
a.compare_item:hover i {
  background-position: -31px -33px;
}
a.wish_item:hover i {
  background-position: -2px -32px;
}
a.compare_item.added i {
  background-position: -31px -63px;
}
a.wish_item.added i {
  background-position: -2px -62px;
}
.module_products_list .basket_button.to-cart span {
  background-position: 0 -7px;
}
.module_products_list .basket_button.to-cart:hover span {
  background-position: 0px -87px;
}
.basket_button.in-cart span {
  background-position: 0px -127px;
}
.popup .close:hover i,
.popup .grey .close i,
.popup-window-close-icon.popup-window-titlebar-close-icon:hover:after {
  background-position: -1px -59px;
}
.card_popup_frame.popup .but_row a.to_basket .icon i {
  background-position: -5px -170px;
}
.soc-serv-main .button30 span,
.reviews-expanded .button30.add_review span,
.catalog_detail .basket_button.one_click span,
.button30.review_preview span,
.popup .grey .pop-up-title {
  color: #000;
  text-shadow: 0 1px 0px rgba(255,255,255,0.5);
  -moz-text-shadow: 0 1px 0px rgba(255,255,255,0.5);
  -o-text-shadow: 0 1px 0px rgba(255,255,255,0.5);
  -webkit-text-shadow: 0 1px 0px rgba(255,255,255,0.5);
}
.module-order-history .status.delivered {
  color: #fff;
}
.jobs_wrapp .item a:not(.opened):hover .icon i,
.staff_wrapp .section .section_title:not(.opened):hover .icon i {
  background-position: -31px -33px;
}
.jobs_wrapp .item a.opened:hover .icon i,
.staff_wrapp .section .section_title.opened:hover .icon i {
  background-position: 0 -34px;
}
.button30.add_review span {
  background-position: 4px -286px;
}
.button30.send_review span {
  background-position: 4px -365px;
}
.card_popup_frame.popup .but_row a.to_delay .icon i {
  background-position: -48px -257px;
}
.compare_button span {
  background-position: -32px -64px;
}
#header .basket_fly .opener .basket_count .icon i {
  background-position: -7px -89px;
}
#header .basket_fly .opener .basket_count.empty:hover .icon i {
  background-position: -7px -47px;
}
#header .basket_fly .opener .basket_count.empty .icon i {
  background-position: -7px -5px;
}
#header .basket_fly .opener .wish_count .icon i {
  background-position: -48px -424px;
}
#header .basket_fly .opener .wish_count:hover .icon i {
  background-position: -48px -383px;
}
ul.menu li a {
  color: #000;
}
.catalog_menu ul.menu li a {
  color: #fff;
}
ul.menu li a i {
  background-position: -2px -20px;
}
.catalog_menu ul.menu li a i {
  background-position: -61px 0px;
}
a i.arrow.down b {
  background-position: -36px -35px;
}
.catalog_item:hover .basket_button span {
  color: #fff;
}
ul.specials_slider .basket_button span {
  background-position: 0 -7px;
}
ul.specials_slider .basket_button:hover span,
ul.specials_slider li:hover .basket_button span {
  background-position: 0px -87px;
}
ul.specials_slider  .basket_button.read_more span {
  background-position: 1px -408px;
}
ul.specials_slider li:hover .basket_button.read_more span {
  background-position: 1px -448px !important;
}
.top_slider_wrapp .flex-direction-nav li a.flex-next {
  background-position: -58px -60px;
}
.top_slider_wrapp .flex-direction-nav li:hover a.flex-prev {
  background-position: -3px -60px;
}
.top_slider_wrapp .flex-direction-nav li a.flex-prev {
  background-position: -3px 0px;
}
#header .basket_fly .opener .wish_count.empty:hover .icon i {
  background-position: -48px -341px;
}
#header .basket_fly .opener .wish_count.empty .icon i {
  background-position: -48px -299px;
}
#bx-soa-order .bx-soa-section .bx-soa-section-title:before {
  background-color: #FF6D00;
}
#bx-soa-order div[class*=bx-sls] .quick-locations .quick-location-tag {
  border-color: #FF6D00;
  color: #FF6D00;
}
#bx-soa-order div[class*=bx-sls] .quick-locations .quick-location-tag:hover {
  background-color: #FF6D00;
  color: #fff;
}
#bx-soa-order .bx-soa .form-group .radio-inline.checked label:before,
#bx-soa-order .bx-soa .form-group .radio-inline label:hover:before,
#bx-soa-order .bx-soa-pp-company:hover .bx-soa-pp-company-graf-container:before,
#bx-soa-order .bx-soa-pp-company.bx-selected .bx-soa-pp-company-graf-container:before {
  background-color: #FF6D00;
}
#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company.bx-selected .bx-soa-pp-company-graf-container,
#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company:hover .bx-soa-pp-company-graf-container {
  border-color: #FF6D00;
}
#bx-soa-order .bx-soa-pp-desc-container .bx-soa-pp-company:before,
#bx-soa-order .bx-soa-pp-desc-container .checkbox label:hover:before,
#bx-soa-order .bx-soa-pp-desc-container .checkbox label.checked:before {
  background-color: #FF6D00;
}
#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company:hover .bx-soa-pp-company-smalltitle,
#bx-soa-order .bx-soa-more .bx-soa-more-btn .pull-left {
  color: #FF6D00;
}
#bx-soa-order .bx-soa-coupon-input:hover:after,
#bx-soa-order .bx-soa-coupon-item .bx-soa-coupon-remove:hover {
  background-color: #FF6D00;
}
#bx-soa-order div[class*=bx-sls] .bx-ui-sls-clear:hover:before {
  background-color: #FF6D00;
}
@media all and (max-width: 950px) {
  .header_wrap.colored #header .center_block .main-nav {
    background: #fa6b00;
  }
}
@media all and (max-width: 768px) {
  body .top_slider_wrapp .flex-direction-nav li a {
    background-image: url(../../images/arrows_big.png);
  }
  body .top_slider_wrapp .flex-direction-nav li a.flex-next {
    background-position: -30px -94px;
  }
  body .top_slider_wrapp .flex-direction-nav li a.flex-prev {
    background-position: 0 -127px;
  }
  body .top_slider_wrapp .flex-direction-nav li a.flex-prev:hover {
    background-position: 0 -94px;
  }
  body .flex-control-paging li a.flex-active,
  body .flex-control-paging li:hover a:not(.touch) {
    background: #fa6b00;
    background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzAwYWFlMiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMwMDhmYzciIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);
    background: -moz-linear-gradient(top,#fa6b00 0%,#e06700 100%);
    background: -webkit-gradient(linear,left top,left bottom,color-stop(0%,#fa6b00),color-stop(100%,#e06700));
    background: -webkit-linear-gradient(top,#fa6b00 0%,#e06700 100%);
    background: -o-linear-gradient(top,#fa6b00 0%,#e06700 100%);
    background: -ms-linear-gradient(top,#fa6b00 0%,#e06700 100%);
    background: linear-gradient(to bottom,#fa6b00 0%,#e06700 100%);
    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='@bcolor_00aae2',endColorstr='@bcolor_008fc7',GradientType=0);
  }
}
@media all and (max-width: 600px) {
  #header ul.menu.full.opened > li,
  .has_menu #header .center_block .main-nav {
    background-color: #fa6b00;
  }
  .has_menu #header .center_block .main-nav:hover {
    background: #e28950 none repeat scroll 0 0;
  }
  #header ul.menu.full.opened li.current {
    background: #e06700;
  }
}
@media all and (max-width: 550px) {
  body #footer .footer_inner .line {
    border-top: 4px solid #f05600;
  }
  .basket_wrapp .empty_cart:not(.bcart) .wraps_icon_block.basket .count span,
  .basket_wrapp .basket_empty .wraps_icon_block.basket .count span {
    color: #FFF;
    background: #fa6b00;
  }
}
#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li:hover>a,
#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li.opened>a,
#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li.current > a {
  background: #e28950;
}
#header .wrapper_middle_menu.wrap_menu ul.menu.opened > li {
  background: #e66200;
}
.button.transparent,
.h_color_white .header_wrap .menu > li.current > a span,
.h_color_white.wrapper #header ul.menu li .child .child_wrapp,
.m_color_white.wrapper #header ul.menu li .child .child_wrapp,
.basket_normal .popup.card_popup_frame .basket_popup_wrapp,
.basket_sort ul.tabs li.cur div,
.smartfilter .bx_ui_slider_track .bx_ui_slider_handle,
.bx_filter .button,
.bx_filter_vertical input[type="checkbox"]:checked + label.sku,
.sku_props .bx_item_detail_size ul li.active,
.bx_size_scroller_container .bx_size ul li.bx_active,
.bx_filter .bx_filter_param_label.active .bx_filter_param_btn,
.bx_catalog_item_scu .bx_item_detail_scu ul li.active span.cnt,
.item_slider .thumbs li.current,
.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-left-column,
.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-center-column,
.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-right-column,
.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-left-column,
.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-center-column,
.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-right-column,
.bx_element input[type=radio]:checked + label .bx_logotype,
.bx_element label.selected .bx_logotype {
  border-color: #d88946;
}
a,
.link,
.button.transparent,
.button.transparent:hover,
.specials_slider_wrapp ul.tabs > li span,
.tab_slider_wrapp ul.tabs > li span,
.basket_wrapp .basket_block .link:hover + .wraps_icon_block + .text .title,
.stores .stores_list .item a span,
.phones .order_wrap_btn,
.footer_bottom .all_menu_block ul li a:hover,
.footer_bottom .submenu_top .menu_item a:hover,
.avtorization-call.enter:hover span,
.top-h-row .h-user-block a:hover,
ul.menu .child li.menu_item a,
#header .catalog_menu ul.menu > li.current > a,
ul.menu .child .depth3 a,
ul.menu .child li.menu_title a:hover,
#header ul.menu li .child.submenu .child_wrapp a:not(.title),
.img_block_capcha .reload,
.h_color_white .center_block .menu.full > li:hover > a,
.m_color_white #header .wrapper_middle_menu .menu.bottom > li:hover > a,
.m_color_white #header .wrapper_middle_menu .menu.bottom > li.hover > a,
body #header ul.menu li .child.line .child_wrapp > a:hover,
.basket_sort ul.tabs li .wrap_li > span *,
.basket_sort ul.tabs li .wrap_li > span,
.bx_filter_parameters_box_title:hover,
.bx_filter .bx_filter_popup_result a,
.left_block .internal_sections_list .child_wrapp .child li.cur > a,
.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item.cur,
.left_block .internal_sections_list .child_wrapp a:hover,
.ajax_load_btn:hover .more_text_ajax,
.breadcrumbs a:hover span,
.tabs-head li.current span,
.item-stock .store_view,
.reviews-post-reply-buttons a:hover,
h4.hover,
.button.transparent.white:hover,
.button.white_bg,
.item .child_container .child_wrapp .menu_item.current a,
.item .child_container .child_wrapp .menu_item:hover a {
  color: #e66200;
}
button.button,
input.button,
.button,
#header ul.menu.full.opened li:not(.search_row):hover,
#header ul.menu.full > li.search_row #search-submit-button:hover,
table.title-search-result td.title-search-all a .icon,
.flex-direction-nav li:hover,
.flex-direction-nav li:first-child:hover,
.top_slider_wrapp .flex-direction-nav li:hover,
.like_icons .wish_item.added,
.like_icons .compare_item.added,
.light .stores .all_map,
.block_wr.dark,
.popup .close:hover,
.header_wrap #header .middle-h-row .logo_wrapp .logo a,
.h_color_colored .header_wrap #header,
.registraion-page .top p:after,
.has_menu.m_color_colored #header .catalog_menu,
.module-cart .remove-cell a:hover,
.cart_shell .remove-cell a:hover,
.bx_item_set_hor .bx_item_set_hor_item a.remove,
.bx_filter .bx_filter_popup_result,
.bx_filter .bx_filter_parameters_box_title:before,
.bx_filter_vertical input[type="checkbox"] + label:before,
.filter input[type="checkbox"] + label:before,
.filter input[type="radio"] + label:before,
.bx_filter label.pal:hover .bx_filter_param_btn,
.bx_filter .bx_filter_param_label.active .bx_filter_param_btn,
.bx_filter_vertical input[type="checkbox"]:checked + label.sku,
.left_block .internal_sections_list li.cur,
.left_block .internal_sections_list li:hover,
.left_block .internal_sections_list .title .inner_block:hover:before,
.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item.cur:before,
.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item:hover:before,
.left_block .internal_sections_list .child_wrapp ul.child li.cur:after,
.left_block .internal_sections_list .child_wrapp ul.child li:hover:after,
body #content .props_list tr td > span:before,
body #content .props_list tr td > .txt:before,
.module-pagination .nums .cur,
.more_text_ajax:before,
.captcha_reload:before,
.sku_props .bx_item_detail_size ul li.active,
.bx_size_scroller_container .bx_size ul li.bx_active,
.bx_catalog_item_scu .bx_item_detail_scu ul li.active span:not(.cnt_item),
.ik_select_list .ik_select_list_inner ul li.ik_select_active,
.bx_filter_select_popup ul li label.selected,
.filter_opener.opened,
.no_goods .no_products:before,
.wr_scrollbar .scrollbar .handle,
.remove:hover,
a i.arrow,
.popup-window-close-icon.popup-window-titlebar-close-icon:hover,
.bx_kit_item .bx_kit_item_add,
.catalog_detail .offers_table td.opener:hover .opener_icon,
.opener_icon:hover,
.char_name .hint .icon:hover,
.char_name .hint.active .icon,
.location-block-wrapper .bx-sls .bx-ui-sls-clear:before,
h4:hover .opener_icon,
.bg_block:before,
#order_form_div input[type="submit"],
.module-order-history .item_name:hover .icon,
.module-order-history .item_name:hover .icon,
.faq.list .item .q:hover .opener_icon,
.jobs_wrapp .item .name tr:hover .opener_icon {
  color: #FFF;
  background: #fa6b00;
}
.catalog_detail .bx-modal-container .btn.btn-add {
  color: #FFF;
  background: #fa6b00;
}
.catalog_detail .bx-modal-container .btn.btn-add:hover {
  background: #d88946;
}
.colored #header .catalog_menu ul.menu > li,
header .wrap_menu {
  background: #f06600;
}
#header .catalog_menu ul.menu > li .dropdown >li.current a {
  background: #e06000;
}
.tabs-head li.current:before {
  background-color: #fa6b00;
}
.like_icons .compare_item.added i,
.like_icons .wish_item.added i {
  background-color: #fa6b00;
}
.icon_error_block:after {
  background-color: #fa6b00 !important;
}
.flex-direction-nav li:first-child,
.flex-direction-nav li,
.flex-direction-nav li:hover {
  border-bottom-width: 0px;
}
.specials_slider_wrapp ul.tabs li.cur span,
.tab_slider_wrapp ul.tabs li.cur span,
.popup .popup-intro {
  border-bottom-color: #d88946;
}
.button:hover,
.like_icons .compare_item.added:hover,
.like_icons .wish_item.added:hover,
.light .stores .all_map:hover {
  background: #d88946;
}
.like_icons .compare_item.added:hover i,
.like_icons .wish_item.added:hover i {
  background-color: #d88946;
}
.wrapper_middle_menu.wrap_menu.mobile:hover {
  background: #d88946;
}
.header_wrap #header .catalog_menu.menu_colored .inc_menu  ul.menu > li:not(.current):hover > a {
  background: #ff760f;
}
header .menu_top_block li .dropdown>li:hover>a,
header .menu_top_block li:not(.catalog) .dropdown>li.current >a:not(.section),
header .menu_top_block li.catalog>.dropdown>li:hover>a:before {
  background: #FF6D00;
}
header .menu_colored .menu_top_block >li.current >a,
header .menu_dark .menu_top_block.menu >li.current >a,
header .menu_dark .menu_top_block.menu >li.current:hover >a,
.menu_top_block.catalog_block .dropdown >li.full:hover>a:before,
.menu_top_block.catalog_block .dropdown >li.full.current>a,
header .menu_top_block li.catalog>.dropdown>li.current>a,
.left_menu > li.current> a,
.left_menu > li:hover> a:before {
  background: #e06000;
}
header .menu_top_block >li.catalog >a,
header .menu_top_block >li.catalog.current >a,
header .menu_top_block >li.catalog {
  background-color: #FF6D00;
}
header .catalog_menu .menu_top_block.menu li.catalog li.full.current >a:after,
header .catalog_menu .menu_top_block.menu li.catalog li.full:hover >a:after,
.menu_top_block.catalog_block .dropdown >li.full:hover>a:after,
.left_menu > li.has-childs:hover> a:after {
  color: #f56900;
}
header .menu_top_block li .dropdown>li.menu_item>a:hover,
.menu_top_block.catalog_block .dropdown>li.full>.dropdown>li>a:not(.section):hover,
.menu_top_block.catalog_block .dropdown>li.full:hover>a,
.left_menu > li:hover> a {
  color: #e66200;
}
.phone_block .phone_wrap .icons {
  color: #e66200;
}
header .menu_top_block li.catalog>.dropdown>li:hover>a,
header .menu_top_block li.catalog>.dropdown>li>.dropdown>li.current>a:not(.section) {
  color: #e66200;
}
header .menu_top_block li .dropdown>li.current >a.section1,
.menu_top_block li .dropdown>li >a.section1:hover,
#header .catalog_menu.menu_light ul.menu > li.current > a,
#header .catalog_menu.menu_light ul.menu > li:hover > a {
  color: #e66200;
}
.subscribe-form:before {
  background: #f56900;
}
.subscribe-form input.send_btn {
  background-color: #f56900;
}
.bx_ordercart .bx_ordercart_order_pay .bx_bt_button {
  background: #f56900;
}
.subscribe-form input.send_btn:hover {
  background-color: #d88946;
}
.bx_ordercart .bx_ordercart_order_pay .bx_bt_button:hover {
  background: #d88946;
}
.bx_ordercart .bx_item_detail_size_small_noadaptive .bx_size ul li.bx_active a {
  background: #d88946;
  color: #fff;
}
.bx_ordercart .bx_item_detail_size_small_noadaptive .bx_size ul li:not(.bx_active):hover a {
  color: #e66200;
}
a.dark_link:hover,
.dark_link:hover span,
.dl:hover a,
.selected a.dark_link,
.current a.dark_link {
  color: #e66200 !important;
}
.menu_top_block.catalog_block .dropdown>li.full>.dropdown>li>a,
header .menu_top_block.catalogfirst li.full>.dropdown>li:not(.current)>a {
  color: #e66200;
}
.middle_phone .phone_wrap .icons,
.top_slider_wrapp .flexslider .slides > li:after {
  background-color: #f56900;
}
.basket_fly .basket_wrapp .basket_fly .wraps_icon_block.delay .count span {
  background-color: #f56900;
}
.basket_normal .basket_wrapp .wraps_icon_block.basket .count span {
  background-color: #f56900;
}
.bx_filter .bx_filter_parameters_box_title:hover:after {
  color: #e66200;
}
.bx_filter .bx_filter_param_label.active .bx_filter_btn_color_icon,
.bx_catalog_item_scu ul li.active .cnt_item,
.bx_scu_scroller_container ul li.bx_active .cnt_item {
  box-shadow: 0px 0px 0px 2px #fff inset, 0px 0px 0px 2px #f56900;
}
.bx_filter_vertical input[type="checkbox"]:not(:checked) + label.sku:hover span,
.sku_props .bx_item_detail_size ul li:not(.active):hover span,
.bx_item_list_you_looked_horizontal .bx_item_detail_size ul li:hover span {
  color: #e66200;
}
.bx_filter_vertical input[type="checkbox"] + label.sku:hover,
.sku_props .bx_item_detail_size ul li:hover,
.bx_item_list_you_looked_horizontal .bx_item_detail_size ul li:hover {
  border-color: #e66200;
}
.more_text_ajax:after {
  background-color: #f56900;
}
.list_item .description_wrapp .like_icons span.added {
  color: #e66200;
}
.bx_ordercart .bx_sort_container a.current:after {
  background: #e28950;
}
.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_order_pay_center .checkout {
  color: #f56900;
  border-color: #e66200;
}
.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_order_pay_center .checkout:hover {
  color: #fff;
  border-color: #e28950;
  background: #e28950;
}
.button.transparent:not(.text):hover {
  border-color: #e28950;
  background: #e28950;
  color: #fff;
}
.button.transparent.grey_br:hover {
  border-color: #e28950;
  background: #fff;
}
.bx_ordercart tbody td.control a:first-of-type:hover,
.bx_ordercart #basket_items_delayed tbody td.control a:last-of-type:hover,
.bx_ordercart #basket_items_subscribed  tbody td.control a:first-of-type:hover,
.bx_ordercart #basket_items_not_available  tbody td.control a:last-of-type:hover,
.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_coupon:not(:first-of-type) > span:hover {
  background-color: #e28950;
}
.bx_ordercart .bx_sort_container a,
.bx_item_list_you_looked_horizontal .bx_catalog_item .bx_catalog_item_title a {
  color: #f56900;
}
.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blocktwo a,
.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blockone a {
  color: #FFF;
  background: #f56900;
}
.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blocktwo a:hover,
.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blockone a {
  background: #d88946;
}
.sale_order_full_table input[name="BuyButton"] {
  background-color: #fa6b00;
}
.sale_order_full_table input[name="BuyButton"] {
  background-color: #d88946;
}
.bx_ordercart .bx_item_detail_size_small_noadaptive ul li:active a,
.bx_ordercart .bx_item_detail_size_small_noadaptive ul li.bx_active a,
.bx_ordercart .bx_item_detail_size_small_noadaptive ul li:hover a {
  border-color: #d88946;
}
.color_link {
  color: #e66200 !important;
}
113  25956|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/themes/red/theme.min.css|938467d4a.scroll-to-top.ROUND_COLOR,a.scroll-to-top.RECT_COLOR{background-color:#DE002B;}a.scroll-to-top.ROUND_COLOR:hover,a.scroll-to-top.RECT_COLOR:hover{background-color:#d2304a;}ul li::before{color:#cf0036;}.basket_print i{background-color:#c50026;}.rss_feed_icon{background:#cf0036;color:#000;}.start_promo .item i.title a,.start_promo .item i.price a,.start_promo .item i.title span,.start_promo .item i.price span,.start_promo .item span.main_wrap i:after,.start_promo .item p span,.wrap_tizer .wrap_outer,.wrap_tizer .wrap_outer .outer_text,.wrap_tizer .wrap_outer .inner_text{background:#d9002a;}.start_promo .item i.title span,.start_promo .item i.price span{box-shadow:-4px 1px 0px 4px #d9002a, 4px 1px 0px 4px #d9002a;}.start_promo .item i.price span{box-shadow:-4px 0px 0px 4px #d9002a, 4px 0px 0px 4px #d9002a;}.module-map .infoBox .close_info:hover{background-color:#cf0036;}#header ul.menu.full>li.search_row #search-submit-button:hover,#header ul.menu.full>li.search_row #search-submit-button.hover{border:transparent;}#header .catalog_menu ul.menu>li,#header ul.menu.adaptive:not(.opened) li.menu_opener,#header ul.menu.full.opened li:not(.search_row):hover,#header ul.menu.full.opened li.current{border-bottom:1px solid #970013;}#header .catalog_menu ul.menu>li:not(.current):not(.stretch):hover{border-bottom:1px solid #9c0023;border-right:1px solid #9c0023;}#header ul.menu.full.opened li:not(.search_row):hover,#header ul.menu.full.opened li.current{border-top:1px solid #d9002a;}#header .catalog_menu ul.menu>li.current>a{color:#fff;border-left:1px solid #d40029;}#header .catalog_menu ul.menu>li{border-right:1px solid #970013;}.header-cart-block .cart span.icon i{background-position:0px -84px;}ul.menu li .child .child_wrapp,.breadcrumbs .dropdown,.authorization-cols .form-block{border-top:2px solid #cf0036;}.catalog_detail ul.tabs.main_tabs{border-bottom:2px solid #cf0036;}ul.menu li b.space,.breadcrumbs .drop b.space,.hint .triangle{border-bottom:6px solid #cf0036;}.basket_button,.basket_button span,.button30,.button30 span,.popup .soc-avt .row a{color:#fff;}#footer .footer_inner .line,#header .basket_fly .opener .basket_count,.page_not_found td.image img{background:#cf0036;}#bx-soa-order-form .btn.btn-default{background:#cf0036;border-color:#cf0036;}#bx-soa-order-form .btn.btn-default:hover{background:#d02c47;border-color:#d02c47;}ul.tabs li.cur .triangle,.view-list .view-header i.triangle{border-top:5px solid #c50026 !important;}.basket_button.add span{background-position:0px -6px;}.basket_button.read_more span{background-position:1px -448px;}.basket_button.added span{background-position:0px -45px;}.front_slider_wrapp .extended_pagination>li.active i.triangle{border-right-color:#c50026;}.catalog_detail .extended_info a.compare_item i{background-position:-32px -65px;}.catalog_detail .extended_info a.wish_item i{background-position:3px -72px;}.display_list a.compare_item i{background-position:-32px -3px;}.display_list a.wish_item i{background-position:-3px -2px;}.display_list a.compare_item:hover i,.display_list a.compare_item.added i{background-position:-32px -65px;}.display_list a.wish_item:hover i,.display_list a.wish_item.added i{background-position:-3px -63px;}.popup .form .form_head{border-bottom-color:#cf0036;}.item_slider .thumbs i.triangle{border-bottom:5px solid #cf0036;}blockquote:before{background-color:#cf0036;}.module-gallery-list li .fancy_hover:hover{border:2px solid #cf0036;}.smartfilter .bx_ui_slider_track .bx_ui_slider_range,.bx_filter .bx_ui_slider_pricebar_V{background:#cf0036;}.catalog_block .catalog_item .basket_button.read_more span{background-position:1px -408px;}.catalog_block .catalog_item .basket_button.to-cart span{background-position:0 -7px;}.catalog_block .catalog_item:hover .basket_button span{color:#fff;background-position:0px -87px;}.catalog_block .catalog_item:hover .basket_button.read_more span{background-position:1px -448px !important;}.catalog_item .basket_button.in-cart span,.basket_button.in-cart span{background-position:0px -127px !important;}.catalog_item:hover .basket_button.added span{color:#fff;}.bx_filter_container #modef .triangle,.left_block .internal_sections_list .child_wrapp .triangle{border-right:6px solid #cf0036;}#order_form_div .sale_order_table .ps_logo img:hover,#order_form_div .sale_order_table .ps_logo input[type=radio]:checked+label img,#order_form_div .sale_order_table.delivery label:hover img,#order_form_div .sale_order_table.delivery input[type=radio]:checked+label img,#order_form_div div.ps_logo.selected img,#order_form_div .account label:hover img,#order_form_div .account img.active{border:2px solid #cf0036;}.front_slider_wrapp .extended_pagination>li.active span,a.b-share-popup__item:hover .b-share-popup__item__text{color:#fff !important;}ul.tabs li.cur span,ul.tabs li.cur:hover span,.front_slider_wrapp a.read_more{color:#fff;}.left_menu>li.current>a,.left_menu>li:not(.exit):hover{background:#cf0036;}a i.arrow b{background-position:-36px 0px;}.top-h-row .search #search-submit-button:hover i,.top-h-row .search #search-submit-button.hover i{background-position:top center;}.catalog_detail a.compare_item:hover .icon i{background-position:-32px -65px;}.catalog_detail a.wish_item:hover .icon i{background-position:2px -45px;}ul.menu li.current a i{background-position:-61px 0px;}.button30.ask_question span.show_form,.button30.ask_question span.hide_form{background-position:5px -605px;}.button30.ask_question span.hide_form{color:#000;}.button30.ask_question span.hide_form:hover{color:#fff;}.question-list .q .ic b{background-position:-38px -188px;}.question-list .q.op .ic b{background-position:-8px -188px;}.number_list a.current span{color:#fff !important;}.basket_button span,.compare_button span{background-position:0px -87px;}.bx_filter_container_title .hint.active .hint_icon,.bx_filter_container_title .hint.active .hint_icon,.bx_filter_container_title .hint.active .hint_icon:hover,#header .basket_fly .opener .basket_count:not(.empty).count{color:#fff;}.left_block .internal_sections_list li.item:hover>a,.left_block .internal_sections_list li.item.cur>a{color:#fff;}.left_block .internal_sections_list li *{-webkit-transition:none;-moz-transition:none;-o-transition:none;transition:none;}a.compare_item i{background-position:-31px -1px;}a.wish_item i{background-position:-2px -1px;}a.compare_item:hover i{background-position:-31px -33px;}a.wish_item:hover i{background-position:-2px -32px;}a.compare_item.added i{background-position:-31px -63px;}a.wish_item.added i{background-position:-2px -62px;}.module_products_list .basket_button.to-cart span{background-position:0 -7px;}.module_products_list .basket_button.to-cart:hover span{background-position:0px -87px;}.basket_button.in-cart span{background-position:0px -127px;}.popup .close:hover i,.popup .grey .close i,.popup-window-close-icon.popup-window-titlebar-close-icon:hover:after{background-position:-1px -59px;}.card_popup_frame.popup .but_row a.to_basket .icon i{background-position:-5px -170px;}.soc-serv-main .button30 span,.reviews-expanded .button30.add_review span,.catalog_detail .basket_button.one_click span,.button30.review_preview span,.popup .grey .pop-up-title{color:#000;text-shadow:0 1px 0px rgba(255,255,255,0.5);-moz-text-shadow:0 1px 0px rgba(255,255,255,0.5);-o-text-shadow:0 1px 0px rgba(255,255,255,0.5);-webkit-text-shadow:0 1px 0px rgba(255,255,255,0.5);}.module-order-history .status.delivered{color:#fff;}.jobs_wrapp .item a:not(.opened):hover .icon i,.staff_wrapp .section .section_title:not(.opened):hover .icon i{background-position:-31px -33px;}.jobs_wrapp .item a.opened:hover .icon i,.staff_wrapp .section .section_title.opened:hover .icon i{background-position:0 -34px;}.button30.add_review span{background-position:4px -286px;}.button30.send_review span{background-position:4px -365px;}.card_popup_frame.popup .but_row a.to_delay .icon i{background-position:-48px -257px;}.compare_button span{background-position:-32px -64px;}#header .basket_fly .opener .basket_count .icon i{background-position:-7px -89px;}#header .basket_fly .opener .basket_count.empty:hover .icon i{background-position:-7px -47px;}#header .basket_fly .opener .basket_count.empty .icon i{background-position:-7px -5px;}#header .basket_fly .opener .wish_count .icon i{background-position:-48px -424px;}#header .basket_fly .opener .wish_count:hover .icon i{background-position:-48px -383px;}ul.menu li a{color:#000;}.catalog_menu ul.menu li a{color:#fff;}ul.menu li a i{background-position:-2px -20px;}.catalog_menu ul.menu li a i{background-position:-61px 0px;}a i.arrow.down b{background-position:-36px -35px;}.catalog_item:hover .basket_button span{color:#fff;}ul.specials_slider .basket_button span{background-position:0 -7px;}ul.specials_slider .basket_button:hover span,ul.specials_slider li:hover .basket_button span{background-position:0px -87px;}ul.specials_slider .basket_button.read_more span{background-position:1px -408px;}ul.specials_slider li:hover .basket_button.read_more span{background-position:1px -448px !important;}.top_slider_wrapp .flex-direction-nav li a.flex-next{background-position:-58px -60px;}.top_slider_wrapp .flex-direction-nav li:hover a.flex-prev{background-position:-3px -60px;}.top_slider_wrapp .flex-direction-nav li a.flex-prev{background-position:-3px 0px;}#header .basket_fly .opener .wish_count.empty:hover .icon i{background-position:-48px -341px;}#header .basket_fly .opener .wish_count.empty .icon i{background-position:-48px -299px;}#bx-soa-order .bx-soa-section .bx-soa-section-title:before{background-color:#DE002B;}#bx-soa-order div[class*=bx-sls] .quick-locations .quick-location-tag{border-color:#DE002B;color:#DE002B;}#bx-soa-order div[class*=bx-sls] .quick-locations .quick-location-tag:hover{background-color:#DE002B;color:#fff;}#bx-soa-order .bx-soa .form-group .radio-inline.checked label:before,#bx-soa-order .bx-soa .form-group .radio-inline label:hover:before,#bx-soa-order .bx-soa-pp-company:hover .bx-soa-pp-company-graf-container:before,#bx-soa-order .bx-soa-pp-company.bx-selected .bx-soa-pp-company-graf-container:before{background-color:#DE002B;}#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company.bx-selected .bx-soa-pp-company-graf-container,#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company:hover .bx-soa-pp-company-graf-container{border-color:#DE002B;}#bx-soa-order .bx-soa-pp-desc-container .bx-soa-pp-company:before,#bx-soa-order .bx-soa-pp-desc-container .checkbox label:hover:before,#bx-soa-order .bx-soa-pp-desc-container .checkbox label.checked:before{background-color:#DE002B;}#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company:hover .bx-soa-pp-company-smalltitle,#bx-soa-order .bx-soa-more .bx-soa-more-btn .pull-left{color:#DE002B;}#bx-soa-order .bx-soa-coupon-input:hover:after,#bx-soa-order .bx-soa-coupon-item .bx-soa-coupon-remove:hover{background-color:#DE002B;}#bx-soa-order div[class*=bx-sls] .bx-ui-sls-clear:hover:before{background-color:#DE002B;}@media all and (max-width:950px){.header_wrap.colored #header .center_block .main-nav{background:#d9002a;}}@media all and (max-width:768px){body .top_slider_wrapp .flex-direction-nav li a{background-image:url(../../images/arrows_big.png);}body .top_slider_wrapp .flex-direction-nav li a.flex-next{background-position:-30px -94px;}body .top_slider_wrapp .flex-direction-nav li a.flex-prev{background-position:0 -127px;}body .top_slider_wrapp .flex-direction-nav li a.flex-prev:hover{background-position:0 -94px;}body .flex-control-paging li a.flex-active, body .flex-control-paging li:hover a:not(.touch){background:#d9002a;background:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzAwYWFlMiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMwMDhmYzciIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);background:-moz-linear-gradient(top,#d9002a 0%,#bf001f 100%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0%,#d9002a),color-stop(100%,#bf001f));background:-webkit-linear-gradient(top,#d9002a 0%,#bf001f 100%);background:-o-linear-gradient(top,#d9002a 0%,#bf001f 100%);background:-ms-linear-gradient(top,#d9002a 0%,#bf001f 100%);background:linear-gradient(to bottom,#d9002a 0%,#bf001f 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='@bcolor_00aae2',endColorstr='@bcolor_008fc7',GradientType=0);}}@media all and (max-width:600px){#header ul.menu.full.opened>li, .has_menu #header .center_block .main-nav{background-color:#d9002a;}.has_menu #header .center_block .main-nav:hover{background:#de335a none repeat scroll 0 0;}#header ul.menu.full.opened li.current{background:#bf001f;}}@media all and (max-width:550px){body #footer .footer_inner .line{border-top:4px solid #cf0036;}.basket_wrapp .empty_cart:not(.bcart).wraps_icon_block.basket .count span, .basket_wrapp .basket_empty .wraps_icon_block.basket .count span{color:#FFF;background:#d9002a;}}#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li:hover>a,#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li.opened>a,#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li.current>a{background:#de335a;}#header .wrapper_middle_menu.wrap_menu ul.menu.opened>li{background:#c50026;}.button.transparent,.h_color_white .header_wrap .menu>li.current>a span,.h_color_white.wrapper #header ul.menu li .child .child_wrapp,.m_color_white.wrapper #header ul.menu li .child .child_wrapp,.basket_normal .popup.card_popup_frame .basket_popup_wrapp,.basket_sort ul.tabs li.cur div,.smartfilter .bx_ui_slider_track .bx_ui_slider_handle,.bx_filter .button,.bx_filter_vertical input[type="checkbox"]:checked+label.sku,.sku_props .bx_item_detail_size ul li.active,.bx_size_scroller_container .bx_size ul li.bx_active,.bx_filter .bx_filter_param_label.active .bx_filter_param_btn,.bx_catalog_item_scu .bx_item_detail_scu ul li.active span.cnt,.item_slider .thumbs li.current,.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-left-column,.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-center-column,.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-right-column,.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-left-column,.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-center-column,.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-right-column,.bx_element input[type=radio]:checked+label .bx_logotype,.bx_element label.selected .bx_logotype{border-color:#d02c47;}a,.link,.button.transparent,.button.transparent:hover,.specials_slider_wrapp ul.tabs>li span,.tab_slider_wrapp ul.tabs>li span,.basket_wrapp .basket_block .link:hover+.wraps_icon_block+.text .title,.stores .stores_list .item a span,.phones .order_wrap_btn,.footer_bottom .all_menu_block ul li a:hover,.footer_bottom .submenu_top .menu_item a:hover,.avtorization-call.enter:hover span,.top-h-row .h-user-block a:hover,ul.menu .child li.menu_item a,#header .catalog_menu ul.menu>li.current>a,ul.menu .child .depth3 a,ul.menu .child li.menu_title a:hover,#header ul.menu li .child.submenu .child_wrapp a:not(.title),.img_block_capcha .reload,.h_color_white .center_block .menu.full>li:hover>a,.m_color_white #header .wrapper_middle_menu .menu.bottom>li:hover>a,.m_color_white #header .wrapper_middle_menu .menu.bottom>li.hover>a,body #header ul.menu li .child.line .child_wrapp>a:hover,.basket_sort ul.tabs li .wrap_li>span *,.basket_sort ul.tabs li .wrap_li>span,.bx_filter_parameters_box_title:hover,.bx_filter .bx_filter_popup_result a,.left_block .internal_sections_list .child_wrapp .child li.cur>a,.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item.cur,.left_block .internal_sections_list .child_wrapp a:hover,.ajax_load_btn:hover .more_text_ajax,.breadcrumbs a:hover span,.tabs-head li.current span,.item-stock .store_view,.reviews-post-reply-buttons a:hover,h4.hover,.button.transparent.white:hover,.button.white_bg,.item .child_container .child_wrapp .menu_item.current a,.item .child_container .child_wrapp .menu_item:hover a{color:#c50026;}button.button,input.button,.button,#header ul.menu.full.opened li:not(.search_row):hover,#header ul.menu.full>li.search_row #search-submit-button:hover,table.title-search-result td.title-search-all a .icon,.flex-direction-nav li:hover,.flex-direction-nav li:first-child:hover,.top_slider_wrapp .flex-direction-nav li:hover,.like_icons .wish_item.added,.like_icons .compare_item.added,.light .stores .all_map,.block_wr.dark,.popup .close:hover,.header_wrap #header .middle-h-row .logo_wrapp .logo a,.h_color_colored .header_wrap #header,.registraion-page .top p:after,.has_menu.m_color_colored #header .catalog_menu,.module-cart .remove-cell a:hover,.cart_shell .remove-cell a:hover,.bx_item_set_hor .bx_item_set_hor_item a.remove,.bx_filter .bx_filter_popup_result,.bx_filter .bx_filter_parameters_box_title:before,.bx_filter_vertical input[type="checkbox"]+label:before,.filter input[type="checkbox"]+label:before,.filter input[type="radio"]+label:before,.bx_filter label.pal:hover .bx_filter_param_btn,.bx_filter .bx_filter_param_label.active .bx_filter_param_btn,.bx_filter_vertical input[type="checkbox"]:checked+label.sku,.left_block .internal_sections_list li.cur,.left_block .internal_sections_list li:hover,.left_block .internal_sections_list .title .inner_block:hover:before,.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item.cur:before,.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item:hover:before,.left_block .internal_sections_list .child_wrapp ul.child li.cur:after,.left_block .internal_sections_list .child_wrapp ul.child li:hover:after,body #content .props_list tr td>span:before,body #content .props_list tr td>.txt:before,.module-pagination .nums .cur,.more_text_ajax:before,.captcha_reload:before,.sku_props .bx_item_detail_size ul li.active,.bx_size_scroller_container .bx_size ul li.bx_active,.bx_catalog_item_scu .bx_item_detail_scu ul li.active span:not(.cnt_item),.ik_select_list .ik_select_list_inner ul li.ik_select_active,.bx_filter_select_popup ul li label.selected,.filter_opener.opened,.no_goods .no_products:before,.wr_scrollbar .scrollbar .handle,.remove:hover,a i.arrow,.popup-window-close-icon.popup-window-titlebar-close-icon:hover,.bx_kit_item .bx_kit_item_add,.catalog_detail .offers_table td.opener:hover .opener_icon,.opener_icon:hover,.char_name .hint .icon:hover,.char_name .hint.active .icon,.location-block-wrapper .bx-sls .bx-ui-sls-clear:before,h4:hover .opener_icon,.bg_block:before,#order_form_div input[type="submit"],.module-order-history .item_name:hover .icon,.module-order-history .item_name:hover .icon,.faq.list .item .q:hover .opener_icon,.jobs_wrapp .item .name tr:hover .opener_icon{color:#FFF;background:#d9002a;}.catalog_detail .bx-modal-container .btn.btn-add{color:#FFF;background:#d9002a;}.catalog_detail .bx-modal-container .btn.btn-add:hover{background:#d02c47;}.colored #header .catalog_menu ul.menu>li,header .wrap_menu{background:#cf0028;}#header .catalog_menu ul.menu>li .dropdown>li.current a{background:#bf0025;}.tabs-head li.current:before{background-color:#d9002a;}.like_icons .compare_item.added i,.like_icons .wish_item.added i{background-color:#d9002a;}.icon_error_block:after{background-color:#d9002a !important;}.flex-direction-nav li:first-child,.flex-direction-nav li,.flex-direction-nav li:hover{border-bottom-width:0px;}.specials_slider_wrapp ul.tabs li.cur span,.tab_slider_wrapp ul.tabs li.cur span,.popup .popup-intro{border-bottom-color:#d02c47;}.button:hover,.like_icons .compare_item.added:hover,.like_icons .wish_item.added:hover,.light .stores .all_map:hover{background:#d02c47;}.like_icons .compare_item.added:hover i,.like_icons .wish_item.added:hover i{background-color:#d02c47;}.wrapper_middle_menu.wrap_menu.mobile:hover{background:#d02c47;}.header_wrap #header .catalog_menu.menu_colored .inc_menu ul.menu>li:not(.current):hover>a{background:#ed002e;}header .menu_top_block li .dropdown>li:hover>a,header .menu_top_block li:not(.catalog).dropdown>li.current>a:not(.section),header .menu_top_block li.catalog>.dropdown>li:hover>a:before{background:#DE002B;}header .menu_colored .menu_top_block>li.current>a,header .menu_dark .menu_top_block.menu>li.current>a,header .menu_dark .menu_top_block.menu>li.current:hover>a,.menu_top_block.catalog_block .dropdown>li.full:hover>a:before,.menu_top_block.catalog_block .dropdown>li.full.current>a,header .menu_top_block li.catalog>.dropdown>li.current>a,.left_menu>li.current>a,.left_menu>li:hover>a:before{background:#bf0025;}header .menu_top_block>li.catalog>a,header .menu_top_block>li.catalog.current>a,header .menu_top_block>li.catalog{background-color:#DE002B;}header .catalog_menu .menu_top_block.menu li.catalog li.full.current>a:after,header .catalog_menu .menu_top_block.menu li.catalog li.full:hover>a:after,.menu_top_block.catalog_block .dropdown>li.full:hover>a:after,.left_menu>li.has-childs:hover>a:after{color:#d40029;}header .menu_top_block li .dropdown>li.menu_item>a:hover,.menu_top_block.catalog_block .dropdown>li.full>.dropdown>li>a:not(.section):hover,.menu_top_block.catalog_block .dropdown>li.full:hover>a,.left_menu>li:hover>a{color:#c50026;}.phone_block .phone_wrap .icons{color:#c50026;}header .menu_top_block li.catalog>.dropdown>li:hover>a,header .menu_top_block li.catalog>.dropdown>li>.dropdown>li.current>a:not(.section){color:#c50026;}header .menu_top_block li .dropdown>li.current>a.section1,.menu_top_block li .dropdown>li>a.section1:hover,#header .catalog_menu.menu_light ul.menu>li.current>a,#header .catalog_menu.menu_light ul.menu>li:hover>a{color:#c50026;}.subscribe-form:before{background:#d40029;}.subscribe-form input.send_btn{background-color:#d40029;}.bx_ordercart .bx_ordercart_order_pay .bx_bt_button{background:#d40029;}.subscribe-form input.send_btn:hover{background-color:#d02c47;}.bx_ordercart .bx_ordercart_order_pay .bx_bt_button:hover{background:#d02c47;}.bx_ordercart .bx_item_detail_size_small_noadaptive .bx_size ul li.bx_active a{background:#d02c47;color:#fff;}.bx_ordercart .bx_item_detail_size_small_noadaptive .bx_size ul li:not(.bx_active):hover a{color:#c50026;}a.dark_link:hover,.dark_link:hover span,.dl:hover a,.selected a.dark_link,.current a.dark_link{color:#c50026 !important;}.menu_top_block.catalog_block .dropdown>li.full>.dropdown>li>a,header .menu_top_block.catalogfirst li.full>.dropdown>li:not(.current)>a{color:#c50026;}.middle_phone .phone_wrap .icons,.top_slider_wrapp .flexslider .slides>li:after{background-color:#d40029;}.basket_fly .basket_wrapp .basket_fly .wraps_icon_block.delay .count span{background-color:#d40029;}.basket_normal .basket_wrapp .wraps_icon_block.basket .count span{background-color:#d40029;}.bx_filter .bx_filter_parameters_box_title:hover:after{color:#c50026;}.bx_filter .bx_filter_param_label.active .bx_filter_btn_color_icon,.bx_catalog_item_scu ul li.active .cnt_item,.bx_scu_scroller_container ul li.bx_active .cnt_item{box-shadow:0px 0px 0px 2px #fff inset, 0px 0px 0px 2px #d40029;}.bx_filter_vertical input[type="checkbox"]:not(:checked)+label.sku:hover span,.sku_props .bx_item_detail_size ul li:not(.active):hover span,.bx_item_list_you_looked_horizontal .bx_item_detail_size ul li:hover span{color:#c50026;}.bx_filter_vertical input[type="checkbox"]+label.sku:hover,.sku_props .bx_item_detail_size ul li:hover,.bx_item_list_you_looked_horizontal .bx_item_detail_size ul li:hover{border-color:#c50026;}.more_text_ajax:after{background-color:#d40029;}.list_item .description_wrapp .like_icons span.added{color:#c50026;}.bx_ordercart .bx_sort_container a.current:after{background:#de335a;}.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_order_pay_center .checkout{color:#d40029;border-color:#c50026;}.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_order_pay_center .checkout:hover{color:#fff;border-color:#de335a;background:#de335a;}.button.transparent:not(.text):hover{border-color:#de335a;background:#de335a;color:#fff;}.button.transparent.grey_br:hover{border-color:#de335a;background:#fff;}.bx_ordercart tbody td.control a:first-of-type:hover,.bx_ordercart #basket_items_delayed tbody td.control a:last-of-type:hover,.bx_ordercart #basket_items_subscribed tbody td.control a:first-of-type:hover,.bx_ordercart #basket_items_not_available tbody td.control a:last-of-type:hover,.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_coupon:not(:first-of-type)>span:hover{background-color:#de335a;}.bx_ordercart .bx_sort_container a,.bx_item_list_you_looked_horizontal .bx_catalog_item .bx_catalog_item_title a{color:#d40029;}.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blocktwo a,.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blockone a{color:#FFF;background:#d40029;}.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blocktwo a:hover,.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blockone a{background:#d02c47;}.sale_order_full_table input[name="BuyButton"]{background-color:#d9002a;}.sale_order_full_table input[name="BuyButton"]{background-color:#d02c47;}.bx_ordercart .bx_item_detail_size_small_noadaptive ul li:active a,.bx_ordercart .bx_item_detail_size_small_noadaptive ul li.bx_active a,.bx_ordercart .bx_item_detail_size_small_noadaptive ul li:hover a{border-color:#d02c47;}.color_link{color:#c50026 !important;}109  28695|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/themes/red/theme.css|8bd7a2e7a.scroll-to-top.ROUND_COLOR,
a.scroll-to-top.RECT_COLOR {
  background-color: #DE002B;
}
a.scroll-to-top.ROUND_COLOR:hover,
a.scroll-to-top.RECT_COLOR:hover {
  background-color: #d2304a;
}
ul li::before {
  color: #cf0036;
}
.basket_print i {
  background-color: #c50026;
}
.rss_feed_icon {
  background: #cf0036;
  color: #000;
}
.start_promo .item i.title a,
.start_promo .item i.price a,
.start_promo .item i.title span,
.start_promo .item i.price span,
.start_promo .item span.main_wrap i:after,
.start_promo .item p span,
.wrap_tizer .wrap_outer,
.wrap_tizer .wrap_outer .outer_text,
.wrap_tizer .wrap_outer .inner_text {
  background: #d9002a;
}
.start_promo .item i.title span,
.start_promo .item i.price span {
  box-shadow: -4px 1px 0px 4px #d9002a, 4px 1px 0px 4px #d9002a;
}
.start_promo .item i.price span {
  box-shadow: -4px 0px 0px 4px #d9002a, 4px 0px 0px 4px #d9002a;
}
.module-map .infoBox .close_info:hover {
  background-color: #cf0036;
}
#header ul.menu.full > li.search_row #search-submit-button:hover,
#header ul.menu.full > li.search_row #search-submit-button.hover {
  border: transparent;
}
#header .catalog_menu ul.menu > li,
#header ul.menu.adaptive:not(.opened) li.menu_opener,
#header ul.menu.full.opened li:not(.search_row):hover,
#header ul.menu.full.opened li.current {
  border-bottom: 1px solid #970013;
}
#header .catalog_menu ul.menu > li:not(.current):not(.stretch):hover {
  border-bottom: 1px solid #9c0023;
  border-right: 1px solid #9c0023;
}
#header ul.menu.full.opened li:not(.search_row):hover,
#header ul.menu.full.opened li.current {
  border-top: 1px solid #d9002a;
}
#header .catalog_menu ul.menu > li.current > a {
  color: #fff;
  border-left: 1px solid #d40029;
}
#header .catalog_menu ul.menu > li {
  border-right: 1px solid #970013;
}
.header-cart-block .cart span.icon i {
  background-position: 0px -84px;
}
ul.menu li .child .child_wrapp,
.breadcrumbs .dropdown,
.authorization-cols .form-block {
  border-top: 2px solid #cf0036;
}
.catalog_detail ul.tabs.main_tabs {
  border-bottom: 2px solid #cf0036;
}
ul.menu li b.space,
.breadcrumbs .drop b.space,
.hint .triangle {
  border-bottom: 6px solid #cf0036;
}
.basket_button,
.basket_button span,
.button30,
.button30 span,
.popup .soc-avt .row a {
  color: #fff;
}
#footer .footer_inner .line,
#header .basket_fly .opener .basket_count,
.page_not_found td.image img {
  background: #cf0036;
}
#bx-soa-order-form .btn.btn-default {
  background: #cf0036;
  border-color: #cf0036;
}
#bx-soa-order-form .btn.btn-default:hover {
  background: #d02c47;
  border-color: #d02c47;
}
ul.tabs li.cur .triangle,
.view-list .view-header i.triangle {
  border-top: 5px solid #c50026 !important;
}
.basket_button.add span {
  background-position: 0px -6px;
}
.basket_button.read_more span {
  background-position: 1px -448px;
}
.basket_button.added span {
  background-position: 0px -45px;
}
.front_slider_wrapp .extended_pagination > li.active i.triangle {
  border-right-color: #c50026;
}
.catalog_detail .extended_info a.compare_item i {
  background-position: -32px -65px;
}
.catalog_detail .extended_info a.wish_item i {
  background-position: 3px -72px;
}
.display_list a.compare_item i {
  background-position: -32px -3px;
}
.display_list a.wish_item i {
  background-position: -3px -2px;
}
.display_list a.compare_item:hover i,
.display_list a.compare_item.added i {
  background-position: -32px -65px;
}
.display_list a.wish_item:hover i,
.display_list a.wish_item.added i {
  background-position: -3px -63px;
}
.popup .form .form_head {
  border-bottom-color: #cf0036;
}
.item_slider .thumbs i.triangle {
  border-bottom: 5px solid #cf0036;
}
blockquote:before {
  background-color: #cf0036;
}
.module-gallery-list li .fancy_hover:hover {
  border: 2px solid #cf0036;
}
.smartfilter .bx_ui_slider_track .bx_ui_slider_range,
.bx_filter .bx_ui_slider_pricebar_V {
  background: #cf0036;
}
.catalog_block .catalog_item .basket_button.read_more span {
  background-position: 1px -408px;
}
.catalog_block .catalog_item .basket_button.to-cart span {
  background-position: 0 -7px;
}
.catalog_block .catalog_item:hover .basket_button span {
  color: #fff;
  background-position: 0px -87px;
}
.catalog_block .catalog_item:hover .basket_button.read_more span {
  background-position: 1px -448px !important;
}
.catalog_item .basket_button.in-cart span,
.basket_button.in-cart span {
  background-position: 0px -127px !important;
}
.catalog_item:hover .basket_button.added span {
  color: #fff;
}
.bx_filter_container #modef .triangle,
.left_block .internal_sections_list .child_wrapp .triangle {
  border-right: 6px solid #cf0036;
}
#order_form_div .sale_order_table .ps_logo img:hover,
#order_form_div .sale_order_table .ps_logo input[type=radio]:checked + label img,
#order_form_div .sale_order_table.delivery label:hover img,
#order_form_div .sale_order_table.delivery input[type=radio]:checked + label img,
#order_form_div div.ps_logo.selected img,
#order_form_div .account label:hover img,
#order_form_div .account img.active {
  border: 2px solid #cf0036;
}
.front_slider_wrapp .extended_pagination > li.active span,
a.b-share-popup__item:hover .b-share-popup__item__text {
  color: #fff !important;
}
ul.tabs li.cur span,
ul.tabs li.cur:hover span,
.front_slider_wrapp a.read_more {
  color: #fff;
}
.left_menu > li.current >a,
.left_menu > li:not(.exit):hover {
  background: #cf0036;
}
a i.arrow b {
  background-position: -36px 0px;
}
.top-h-row .search #search-submit-button:hover i,
.top-h-row .search #search-submit-button.hover i {
  background-position: top center;
}
.catalog_detail a.compare_item:hover .icon i {
  background-position: -32px -65px;
}
.catalog_detail a.wish_item:hover .icon i {
  background-position: 2px -45px;
}
ul.menu li.current a i {
  background-position: -61px 0px;
}
.button30.ask_question span.show_form,
.button30.ask_question span.hide_form {
  background-position: 5px -605px;
}
.button30.ask_question span.hide_form {
  color: #000;
}
.button30.ask_question span.hide_form:hover {
  color: #fff;
}
.question-list .q .ic b {
  background-position: -38px -188px;
}
.question-list .q.op .ic b {
  background-position: -8px -188px;
}
.number_list a.current span {
  color: #fff !important;
}
.basket_button span,
.compare_button span {
  background-position: 0px -87px;
}
.bx_filter_container_title .hint.active .hint_icon,
.bx_filter_container_title .hint.active .hint_icon,
.bx_filter_container_title .hint.active .hint_icon:hover,
#header .basket_fly .opener .basket_count:not(.empty) .count {
  color: #fff;
}
.left_block .internal_sections_list li.item:hover > a,
.left_block .internal_sections_list li.item.cur > a {
  color: #fff;
}
.left_block .internal_sections_list li * {
  -webkit-transition: none;
  -moz-transition: none;
  -o-transition: none;
  transition: none;
}
a.compare_item i {
  background-position: -31px -1px;
}
a.wish_item i {
  background-position: -2px -1px;
}
a.compare_item:hover i {
  background-position: -31px -33px;
}
a.wish_item:hover i {
  background-position: -2px -32px;
}
a.compare_item.added i {
  background-position: -31px -63px;
}
a.wish_item.added i {
  background-position: -2px -62px;
}
.module_products_list .basket_button.to-cart span {
  background-position: 0 -7px;
}
.module_products_list .basket_button.to-cart:hover span {
  background-position: 0px -87px;
}
.basket_button.in-cart span {
  background-position: 0px -127px;
}
.popup .close:hover i,
.popup .grey .close i,
.popup-window-close-icon.popup-window-titlebar-close-icon:hover:after {
  background-position: -1px -59px;
}
.card_popup_frame.popup .but_row a.to_basket .icon i {
  background-position: -5px -170px;
}
.soc-serv-main .button30 span,
.reviews-expanded .button30.add_review span,
.catalog_detail .basket_button.one_click span,
.button30.review_preview span,
.popup .grey .pop-up-title {
  color: #000;
  text-shadow: 0 1px 0px rgba(255,255,255,0.5);
  -moz-text-shadow: 0 1px 0px rgba(255,255,255,0.5);
  -o-text-shadow: 0 1px 0px rgba(255,255,255,0.5);
  -webkit-text-shadow: 0 1px 0px rgba(255,255,255,0.5);
}
.module-order-history .status.delivered {
  color: #fff;
}
.jobs_wrapp .item a:not(.opened):hover .icon i,
.staff_wrapp .section .section_title:not(.opened):hover .icon i {
  background-position: -31px -33px;
}
.jobs_wrapp .item a.opened:hover .icon i,
.staff_wrapp .section .section_title.opened:hover .icon i {
  background-position: 0 -34px;
}
.button30.add_review span {
  background-position: 4px -286px;
}
.button30.send_review span {
  background-position: 4px -365px;
}
.card_popup_frame.popup .but_row a.to_delay .icon i {
  background-position: -48px -257px;
}
.compare_button span {
  background-position: -32px -64px;
}
#header .basket_fly .opener .basket_count .icon i {
  background-position: -7px -89px;
}
#header .basket_fly .opener .basket_count.empty:hover .icon i {
  background-position: -7px -47px;
}
#header .basket_fly .opener .basket_count.empty .icon i {
  background-position: -7px -5px;
}
#header .basket_fly .opener .wish_count .icon i {
  background-position: -48px -424px;
}
#header .basket_fly .opener .wish_count:hover .icon i {
  background-position: -48px -383px;
}
ul.menu li a {
  color: #000;
}
.catalog_menu ul.menu li a {
  color: #fff;
}
ul.menu li a i {
  background-position: -2px -20px;
}
.catalog_menu ul.menu li a i {
  background-position: -61px 0px;
}
a i.arrow.down b {
  background-position: -36px -35px;
}
.catalog_item:hover .basket_button span {
  color: #fff;
}
ul.specials_slider .basket_button span {
  background-position: 0 -7px;
}
ul.specials_slider .basket_button:hover span,
ul.specials_slider li:hover .basket_button span {
  background-position: 0px -87px;
}
ul.specials_slider  .basket_button.read_more span {
  background-position: 1px -408px;
}
ul.specials_slider li:hover .basket_button.read_more span {
  background-position: 1px -448px !important;
}
.top_slider_wrapp .flex-direction-nav li a.flex-next {
  background-position: -58px -60px;
}
.top_slider_wrapp .flex-direction-nav li:hover a.flex-prev {
  background-position: -3px -60px;
}
.top_slider_wrapp .flex-direction-nav li a.flex-prev {
  background-position: -3px 0px;
}
#header .basket_fly .opener .wish_count.empty:hover .icon i {
  background-position: -48px -341px;
}
#header .basket_fly .opener .wish_count.empty .icon i {
  background-position: -48px -299px;
}
#bx-soa-order .bx-soa-section .bx-soa-section-title:before {
  background-color: #DE002B;
}
#bx-soa-order div[class*=bx-sls] .quick-locations .quick-location-tag {
  border-color: #DE002B;
  color: #DE002B;
}
#bx-soa-order div[class*=bx-sls] .quick-locations .quick-location-tag:hover {
  background-color: #DE002B;
  color: #fff;
}
#bx-soa-order .bx-soa .form-group .radio-inline.checked label:before,
#bx-soa-order .bx-soa .form-group .radio-inline label:hover:before,
#bx-soa-order .bx-soa-pp-company:hover .bx-soa-pp-company-graf-container:before,
#bx-soa-order .bx-soa-pp-company.bx-selected .bx-soa-pp-company-graf-container:before {
  background-color: #DE002B;
}
#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company.bx-selected .bx-soa-pp-company-graf-container,
#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company:hover .bx-soa-pp-company-graf-container {
  border-color: #DE002B;
}
#bx-soa-order .bx-soa-pp-desc-container .bx-soa-pp-company:before,
#bx-soa-order .bx-soa-pp-desc-container .checkbox label:hover:before,
#bx-soa-order .bx-soa-pp-desc-container .checkbox label.checked:before {
  background-color: #DE002B;
}
#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company:hover .bx-soa-pp-company-smalltitle,
#bx-soa-order .bx-soa-more .bx-soa-more-btn .pull-left {
  color: #DE002B;
}
#bx-soa-order .bx-soa-coupon-input:hover:after,
#bx-soa-order .bx-soa-coupon-item .bx-soa-coupon-remove:hover {
  background-color: #DE002B;
}
#bx-soa-order div[class*=bx-sls] .bx-ui-sls-clear:hover:before {
  background-color: #DE002B;
}
@media all and (max-width: 950px) {
  .header_wrap.colored #header .center_block .main-nav {
    background: #d9002a;
  }
}
@media all and (max-width: 768px) {
  body .top_slider_wrapp .flex-direction-nav li a {
    background-image: url(../../images/arrows_big.png);
  }
  body .top_slider_wrapp .flex-direction-nav li a.flex-next {
    background-position: -30px -94px;
  }
  body .top_slider_wrapp .flex-direction-nav li a.flex-prev {
    background-position: 0 -127px;
  }
  body .top_slider_wrapp .flex-direction-nav li a.flex-prev:hover {
    background-position: 0 -94px;
  }
  body .flex-control-paging li a.flex-active,
  body .flex-control-paging li:hover a:not(.touch) {
    background: #d9002a;
    background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzAwYWFlMiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMwMDhmYzciIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);
    background: -moz-linear-gradient(top,#d9002a 0%,#bf001f 100%);
    background: -webkit-gradient(linear,left top,left bottom,color-stop(0%,#d9002a),color-stop(100%,#bf001f));
    background: -webkit-linear-gradient(top,#d9002a 0%,#bf001f 100%);
    background: -o-linear-gradient(top,#d9002a 0%,#bf001f 100%);
    background: -ms-linear-gradient(top,#d9002a 0%,#bf001f 100%);
    background: linear-gradient(to bottom,#d9002a 0%,#bf001f 100%);
    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='@bcolor_00aae2',endColorstr='@bcolor_008fc7',GradientType=0);
  }
}
@media all and (max-width: 600px) {
  #header ul.menu.full.opened > li,
  .has_menu #header .center_block .main-nav {
    background-color: #d9002a;
  }
  .has_menu #header .center_block .main-nav:hover {
    background: #de335a none repeat scroll 0 0;
  }
  #header ul.menu.full.opened li.current {
    background: #bf001f;
  }
}
@media all and (max-width: 550px) {
  body #footer .footer_inner .line {
    border-top: 4px solid #cf0036;
  }
  .basket_wrapp .empty_cart:not(.bcart) .wraps_icon_block.basket .count span,
  .basket_wrapp .basket_empty .wraps_icon_block.basket .count span {
    color: #FFF;
    background: #d9002a;
  }
}
#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li:hover>a,
#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li.opened>a,
#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li.current > a {
  background: #de335a;
}
#header .wrapper_middle_menu.wrap_menu ul.menu.opened > li {
  background: #c50026;
}
.button.transparent,
.h_color_white .header_wrap .menu > li.current > a span,
.h_color_white.wrapper #header ul.menu li .child .child_wrapp,
.m_color_white.wrapper #header ul.menu li .child .child_wrapp,
.basket_normal .popup.card_popup_frame .basket_popup_wrapp,
.basket_sort ul.tabs li.cur div,
.smartfilter .bx_ui_slider_track .bx_ui_slider_handle,
.bx_filter .button,
.bx_filter_vertical input[type="checkbox"]:checked + label.sku,
.sku_props .bx_item_detail_size ul li.active,
.bx_size_scroller_container .bx_size ul li.bx_active,
.bx_filter .bx_filter_param_label.active .bx_filter_param_btn,
.bx_catalog_item_scu .bx_item_detail_scu ul li.active span.cnt,
.item_slider .thumbs li.current,
.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-left-column,
.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-center-column,
.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-right-column,
.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-left-column,
.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-center-column,
.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-right-column,
.bx_element input[type=radio]:checked + label .bx_logotype,
.bx_element label.selected .bx_logotype {
  border-color: #d02c47;
}
a,
.link,
.button.transparent,
.button.transparent:hover,
.specials_slider_wrapp ul.tabs > li span,
.tab_slider_wrapp ul.tabs > li span,
.basket_wrapp .basket_block .link:hover + .wraps_icon_block + .text .title,
.stores .stores_list .item a span,
.phones .order_wrap_btn,
.footer_bottom .all_menu_block ul li a:hover,
.footer_bottom .submenu_top .menu_item a:hover,
.avtorization-call.enter:hover span,
.top-h-row .h-user-block a:hover,
ul.menu .child li.menu_item a,
#header .catalog_menu ul.menu > li.current > a,
ul.menu .child .depth3 a,
ul.menu .child li.menu_title a:hover,
#header ul.menu li .child.submenu .child_wrapp a:not(.title),
.img_block_capcha .reload,
.h_color_white .center_block .menu.full > li:hover > a,
.m_color_white #header .wrapper_middle_menu .menu.bottom > li:hover > a,
.m_color_white #header .wrapper_middle_menu .menu.bottom > li.hover > a,
body #header ul.menu li .child.line .child_wrapp > a:hover,
.basket_sort ul.tabs li .wrap_li > span *,
.basket_sort ul.tabs li .wrap_li > span,
.bx_filter_parameters_box_title:hover,
.bx_filter .bx_filter_popup_result a,
.left_block .internal_sections_list .child_wrapp .child li.cur > a,
.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item.cur,
.left_block .internal_sections_list .child_wrapp a:hover,
.ajax_load_btn:hover .more_text_ajax,
.breadcrumbs a:hover span,
.tabs-head li.current span,
.item-stock .store_view,
.reviews-post-reply-buttons a:hover,
h4.hover,
.button.transparent.white:hover,
.button.white_bg,
.item .child_container .child_wrapp .menu_item.current a,
.item .child_container .child_wrapp .menu_item:hover a {
  color: #c50026;
}
button.button,
input.button,
.button,
#header ul.menu.full.opened li:not(.search_row):hover,
#header ul.menu.full > li.search_row #search-submit-button:hover,
table.title-search-result td.title-search-all a .icon,
.flex-direction-nav li:hover,
.flex-direction-nav li:first-child:hover,
.top_slider_wrapp .flex-direction-nav li:hover,
.like_icons .wish_item.added,
.like_icons .compare_item.added,
.light .stores .all_map,
.block_wr.dark,
.popup .close:hover,
.header_wrap #header .middle-h-row .logo_wrapp .logo a,
.h_color_colored .header_wrap #header,
.registraion-page .top p:after,
.has_menu.m_color_colored #header .catalog_menu,
.module-cart .remove-cell a:hover,
.cart_shell .remove-cell a:hover,
.bx_item_set_hor .bx_item_set_hor_item a.remove,
.bx_filter .bx_filter_popup_result,
.bx_filter .bx_filter_parameters_box_title:before,
.bx_filter_vertical input[type="checkbox"] + label:before,
.filter input[type="checkbox"] + label:before,
.filter input[type="radio"] + label:before,
.bx_filter label.pal:hover .bx_filter_param_btn,
.bx_filter .bx_filter_param_label.active .bx_filter_param_btn,
.bx_filter_vertical input[type="checkbox"]:checked + label.sku,
.left_block .internal_sections_list li.cur,
.left_block .internal_sections_list li:hover,
.left_block .internal_sections_list .title .inner_block:hover:before,
.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item.cur:before,
.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item:hover:before,
.left_block .internal_sections_list .child_wrapp ul.child li.cur:after,
.left_block .internal_sections_list .child_wrapp ul.child li:hover:after,
body #content .props_list tr td > span:before,
body #content .props_list tr td > .txt:before,
.module-pagination .nums .cur,
.more_text_ajax:before,
.captcha_reload:before,
.sku_props .bx_item_detail_size ul li.active,
.bx_size_scroller_container .bx_size ul li.bx_active,
.bx_catalog_item_scu .bx_item_detail_scu ul li.active span:not(.cnt_item),
.ik_select_list .ik_select_list_inner ul li.ik_select_active,
.bx_filter_select_popup ul li label.selected,
.filter_opener.opened,
.no_goods .no_products:before,
.wr_scrollbar .scrollbar .handle,
.remove:hover,
a i.arrow,
.popup-window-close-icon.popup-window-titlebar-close-icon:hover,
.bx_kit_item .bx_kit_item_add,
.catalog_detail .offers_table td.opener:hover .opener_icon,
.opener_icon:hover,
.char_name .hint .icon:hover,
.char_name .hint.active .icon,
.location-block-wrapper .bx-sls .bx-ui-sls-clear:before,
h4:hover .opener_icon,
.bg_block:before,
#order_form_div input[type="submit"],
.module-order-history .item_name:hover .icon,
.module-order-history .item_name:hover .icon,
.faq.list .item .q:hover .opener_icon,
.jobs_wrapp .item .name tr:hover .opener_icon {
  color: #FFF;
  background: #d9002a;
}
.catalog_detail .bx-modal-container .btn.btn-add {
  color: #FFF;
  background: #d9002a;
}
.catalog_detail .bx-modal-container .btn.btn-add:hover {
  background: #d02c47;
}
.colored #header .catalog_menu ul.menu > li,
header .wrap_menu {
  background: #cf0028;
}
#header .catalog_menu ul.menu > li .dropdown >li.current a {
  background: #bf0025;
}
.tabs-head li.current:before {
  background-color: #d9002a;
}
.like_icons .compare_item.added i,
.like_icons .wish_item.added i {
  background-color: #d9002a;
}
.icon_error_block:after {
  background-color: #d9002a !important;
}
.flex-direction-nav li:first-child,
.flex-direction-nav li,
.flex-direction-nav li:hover {
  border-bottom-width: 0px;
}
.specials_slider_wrapp ul.tabs li.cur span,
.tab_slider_wrapp ul.tabs li.cur span,
.popup .popup-intro {
  border-bottom-color: #d02c47;
}
.button:hover,
.like_icons .compare_item.added:hover,
.like_icons .wish_item.added:hover,
.light .stores .all_map:hover {
  background: #d02c47;
}
.like_icons .compare_item.added:hover i,
.like_icons .wish_item.added:hover i {
  background-color: #d02c47;
}
.wrapper_middle_menu.wrap_menu.mobile:hover {
  background: #d02c47;
}
.header_wrap #header .catalog_menu.menu_colored .inc_menu  ul.menu > li:not(.current):hover > a {
  background: #ed002e;
}
header .menu_top_block li .dropdown>li:hover>a,
header .menu_top_block li:not(.catalog) .dropdown>li.current >a:not(.section),
header .menu_top_block li.catalog>.dropdown>li:hover>a:before {
  background: #DE002B;
}
header .menu_colored .menu_top_block >li.current >a,
header .menu_dark .menu_top_block.menu >li.current >a,
header .menu_dark .menu_top_block.menu >li.current:hover >a,
.menu_top_block.catalog_block .dropdown >li.full:hover>a:before,
.menu_top_block.catalog_block .dropdown >li.full.current>a,
header .menu_top_block li.catalog>.dropdown>li.current>a,
.left_menu > li.current> a,
.left_menu > li:hover> a:before {
  background: #bf0025;
}
header .menu_top_block >li.catalog >a,
header .menu_top_block >li.catalog.current >a,
header .menu_top_block >li.catalog {
  background-color: #DE002B;
}
header .catalog_menu .menu_top_block.menu li.catalog li.full.current >a:after,
header .catalog_menu .menu_top_block.menu li.catalog li.full:hover >a:after,
.menu_top_block.catalog_block .dropdown >li.full:hover>a:after,
.left_menu > li.has-childs:hover> a:after {
  color: #d40029;
}
header .menu_top_block li .dropdown>li.menu_item>a:hover,
.menu_top_block.catalog_block .dropdown>li.full>.dropdown>li>a:not(.section):hover,
.menu_top_block.catalog_block .dropdown>li.full:hover>a,
.left_menu > li:hover> a {
  color: #c50026;
}
.phone_block .phone_wrap .icons {
  color: #c50026;
}
header .menu_top_block li.catalog>.dropdown>li:hover>a,
header .menu_top_block li.catalog>.dropdown>li>.dropdown>li.current>a:not(.section) {
  color: #c50026;
}
header .menu_top_block li .dropdown>li.current >a.section1,
.menu_top_block li .dropdown>li >a.section1:hover,
#header .catalog_menu.menu_light ul.menu > li.current > a,
#header .catalog_menu.menu_light ul.menu > li:hover > a {
  color: #c50026;
}
.subscribe-form:before {
  background: #d40029;
}
.subscribe-form input.send_btn {
  background-color: #d40029;
}
.bx_ordercart .bx_ordercart_order_pay .bx_bt_button {
  background: #d40029;
}
.subscribe-form input.send_btn:hover {
  background-color: #d02c47;
}
.bx_ordercart .bx_ordercart_order_pay .bx_bt_button:hover {
  background: #d02c47;
}
.bx_ordercart .bx_item_detail_size_small_noadaptive .bx_size ul li.bx_active a {
  background: #d02c47;
  color: #fff;
}
.bx_ordercart .bx_item_detail_size_small_noadaptive .bx_size ul li:not(.bx_active):hover a {
  color: #c50026;
}
a.dark_link:hover,
.dark_link:hover span,
.dl:hover a,
.selected a.dark_link,
.current a.dark_link {
  color: #c50026 !important;
}
.menu_top_block.catalog_block .dropdown>li.full>.dropdown>li>a,
header .menu_top_block.catalogfirst li.full>.dropdown>li:not(.current)>a {
  color: #c50026;
}
.middle_phone .phone_wrap .icons,
.top_slider_wrapp .flexslider .slides > li:after {
  background-color: #d40029;
}
.basket_fly .basket_wrapp .basket_fly .wraps_icon_block.delay .count span {
  background-color: #d40029;
}
.basket_normal .basket_wrapp .wraps_icon_block.basket .count span {
  background-color: #d40029;
}
.bx_filter .bx_filter_parameters_box_title:hover:after {
  color: #c50026;
}
.bx_filter .bx_filter_param_label.active .bx_filter_btn_color_icon,
.bx_catalog_item_scu ul li.active .cnt_item,
.bx_scu_scroller_container ul li.bx_active .cnt_item {
  box-shadow: 0px 0px 0px 2px #fff inset, 0px 0px 0px 2px #d40029;
}
.bx_filter_vertical input[type="checkbox"]:not(:checked) + label.sku:hover span,
.sku_props .bx_item_detail_size ul li:not(.active):hover span,
.bx_item_list_you_looked_horizontal .bx_item_detail_size ul li:hover span {
  color: #c50026;
}
.bx_filter_vertical input[type="checkbox"] + label.sku:hover,
.sku_props .bx_item_detail_size ul li:hover,
.bx_item_list_you_looked_horizontal .bx_item_detail_size ul li:hover {
  border-color: #c50026;
}
.more_text_ajax:after {
  background-color: #d40029;
}
.list_item .description_wrapp .like_icons span.added {
  color: #c50026;
}
.bx_ordercart .bx_sort_container a.current:after {
  background: #de335a;
}
.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_order_pay_center .checkout {
  color: #d40029;
  border-color: #c50026;
}
.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_order_pay_center .checkout:hover {
  color: #fff;
  border-color: #de335a;
  background: #de335a;
}
.button.transparent:not(.text):hover {
  border-color: #de335a;
  background: #de335a;
  color: #fff;
}
.button.transparent.grey_br:hover {
  border-color: #de335a;
  background: #fff;
}
.bx_ordercart tbody td.control a:first-of-type:hover,
.bx_ordercart #basket_items_delayed tbody td.control a:last-of-type:hover,
.bx_ordercart #basket_items_subscribed  tbody td.control a:first-of-type:hover,
.bx_ordercart #basket_items_not_available  tbody td.control a:last-of-type:hover,
.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_coupon:not(:first-of-type) > span:hover {
  background-color: #de335a;
}
.bx_ordercart .bx_sort_container a,
.bx_item_list_you_looked_horizontal .bx_catalog_item .bx_catalog_item_title a {
  color: #d40029;
}
.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blocktwo a,
.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blockone a {
  color: #FFF;
  background: #d40029;
}
.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blocktwo a:hover,
.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blockone a {
  background: #d02c47;
}
.sale_order_full_table input[name="BuyButton"] {
  background-color: #d9002a;
}
.sale_order_full_table input[name="BuyButton"] {
  background-color: #d02c47;
}
.bx_ordercart .bx_item_detail_size_small_noadaptive ul li:active a,
.bx_ordercart .bx_item_detail_size_small_noadaptive ul li.bx_active a,
.bx_ordercart .bx_item_detail_size_small_noadaptive ul li:hover a {
  border-color: #d02c47;
}
.color_link {
  color: #c50026 !important;
}
115  25956|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/themes/yellow/theme.min.css|ec4720ea.scroll-to-top.ROUND_COLOR,a.scroll-to-top.RECT_COLOR{background-color:#FFAD00;}a.scroll-to-top.ROUND_COLOR:hover,a.scroll-to-top.RECT_COLOR:hover{background-color:#d8af4b;}ul li::before{color:#f09300;}.basket_print i{background-color:#e69c00;}.rss_feed_icon{background:#f09300;color:#000;}.start_promo .item i.title a,.start_promo .item i.price a,.start_promo .item i.title span,.start_promo .item i.price span,.start_promo .item span.main_wrap i:after,.start_promo .item p span,.wrap_tizer .wrap_outer,.wrap_tizer .wrap_outer .outer_text,.wrap_tizer .wrap_outer .inner_text{background:#faaa00;}.start_promo .item i.title span,.start_promo .item i.price span{box-shadow:-4px 1px 0px 4px #faaa00, 4px 1px 0px 4px #faaa00;}.start_promo .item i.price span{box-shadow:-4px 0px 0px 4px #faaa00, 4px 0px 0px 4px #faaa00;}.module-map .infoBox .close_info:hover{background-color:#f09300;}#header ul.menu.full>li.search_row #search-submit-button:hover,#header ul.menu.full>li.search_row #search-submit-button.hover{border:transparent;}#header .catalog_menu ul.menu>li,#header ul.menu.adaptive:not(.opened) li.menu_opener,#header ul.menu.full.opened li:not(.search_row):hover,#header ul.menu.full.opened li.current{border-bottom:1px solid #b88900;}#header .catalog_menu ul.menu>li:not(.current):not(.stretch):hover{border-bottom:1px solid #bd7a00;border-right:1px solid #bd7a00;}#header ul.menu.full.opened li:not(.search_row):hover,#header ul.menu.full.opened li.current{border-top:1px solid #faaa00;}#header .catalog_menu ul.menu>li.current>a{color:#fff;border-left:1px solid #f5a600;}#header .catalog_menu ul.menu>li{border-right:1px solid #b88900;}.header-cart-block .cart span.icon i{background-position:0px -84px;}ul.menu li .child .child_wrapp,.breadcrumbs .dropdown,.authorization-cols .form-block{border-top:2px solid #f09300;}.catalog_detail ul.tabs.main_tabs{border-bottom:2px solid #f09300;}ul.menu li b.space,.breadcrumbs .drop b.space,.hint .triangle{border-bottom:6px solid #f09300;}.basket_button,.basket_button span,.button30,.button30 span,.popup .soc-avt .row a{color:#fff;}#footer .footer_inner .line,#header .basket_fly .opener .basket_count,.page_not_found td.image img{background:#f09300;}#bx-soa-order-form .btn.btn-default{background:#f09300;border-color:#f09300;}#bx-soa-order-form .btn.btn-default:hover{background:#d8ae46;border-color:#d8ae46;}ul.tabs li.cur .triangle,.view-list .view-header i.triangle{border-top:5px solid #e69c00 !important;}.basket_button.add span{background-position:0px -6px;}.basket_button.read_more span{background-position:1px -448px;}.basket_button.added span{background-position:0px -45px;}.front_slider_wrapp .extended_pagination>li.active i.triangle{border-right-color:#e69c00;}.catalog_detail .extended_info a.compare_item i{background-position:-32px -65px;}.catalog_detail .extended_info a.wish_item i{background-position:3px -72px;}.display_list a.compare_item i{background-position:-32px -3px;}.display_list a.wish_item i{background-position:-3px -2px;}.display_list a.compare_item:hover i,.display_list a.compare_item.added i{background-position:-32px -65px;}.display_list a.wish_item:hover i,.display_list a.wish_item.added i{background-position:-3px -63px;}.popup .form .form_head{border-bottom-color:#f09300;}.item_slider .thumbs i.triangle{border-bottom:5px solid #f09300;}blockquote:before{background-color:#f09300;}.module-gallery-list li .fancy_hover:hover{border:2px solid #f09300;}.smartfilter .bx_ui_slider_track .bx_ui_slider_range,.bx_filter .bx_ui_slider_pricebar_V{background:#f09300;}.catalog_block .catalog_item .basket_button.read_more span{background-position:1px -408px;}.catalog_block .catalog_item .basket_button.to-cart span{background-position:0 -7px;}.catalog_block .catalog_item:hover .basket_button span{color:#fff;background-position:0px -87px;}.catalog_block .catalog_item:hover .basket_button.read_more span{background-position:1px -448px !important;}.catalog_item .basket_button.in-cart span,.basket_button.in-cart span{background-position:0px -127px !important;}.catalog_item:hover .basket_button.added span{color:#fff;}.bx_filter_container #modef .triangle,.left_block .internal_sections_list .child_wrapp .triangle{border-right:6px solid #f09300;}#order_form_div .sale_order_table .ps_logo img:hover,#order_form_div .sale_order_table .ps_logo input[type=radio]:checked+label img,#order_form_div .sale_order_table.delivery label:hover img,#order_form_div .sale_order_table.delivery input[type=radio]:checked+label img,#order_form_div div.ps_logo.selected img,#order_form_div .account label:hover img,#order_form_div .account img.active{border:2px solid #f09300;}.front_slider_wrapp .extended_pagination>li.active span,a.b-share-popup__item:hover .b-share-popup__item__text{color:#fff !important;}ul.tabs li.cur span,ul.tabs li.cur:hover span,.front_slider_wrapp a.read_more{color:#fff;}.left_menu>li.current>a,.left_menu>li:not(.exit):hover{background:#f09300;}a i.arrow b{background-position:-36px 0px;}.top-h-row .search #search-submit-button:hover i,.top-h-row .search #search-submit-button.hover i{background-position:top center;}.catalog_detail a.compare_item:hover .icon i{background-position:-32px -65px;}.catalog_detail a.wish_item:hover .icon i{background-position:2px -45px;}ul.menu li.current a i{background-position:-61px 0px;}.button30.ask_question span.show_form,.button30.ask_question span.hide_form{background-position:5px -605px;}.button30.ask_question span.hide_form{color:#000;}.button30.ask_question span.hide_form:hover{color:#fff;}.question-list .q .ic b{background-position:-38px -188px;}.question-list .q.op .ic b{background-position:-8px -188px;}.number_list a.current span{color:#fff !important;}.basket_button span,.compare_button span{background-position:0px -87px;}.bx_filter_container_title .hint.active .hint_icon,.bx_filter_container_title .hint.active .hint_icon,.bx_filter_container_title .hint.active .hint_icon:hover,#header .basket_fly .opener .basket_count:not(.empty).count{color:#fff;}.left_block .internal_sections_list li.item:hover>a,.left_block .internal_sections_list li.item.cur>a{color:#fff;}.left_block .internal_sections_list li *{-webkit-transition:none;-moz-transition:none;-o-transition:none;transition:none;}a.compare_item i{background-position:-31px -1px;}a.wish_item i{background-position:-2px -1px;}a.compare_item:hover i{background-position:-31px -33px;}a.wish_item:hover i{background-position:-2px -32px;}a.compare_item.added i{background-position:-31px -63px;}a.wish_item.added i{background-position:-2px -62px;}.module_products_list .basket_button.to-cart span{background-position:0 -7px;}.module_products_list .basket_button.to-cart:hover span{background-position:0px -87px;}.basket_button.in-cart span{background-position:0px -127px;}.popup .close:hover i,.popup .grey .close i,.popup-window-close-icon.popup-window-titlebar-close-icon:hover:after{background-position:-1px -59px;}.card_popup_frame.popup .but_row a.to_basket .icon i{background-position:-5px -170px;}.soc-serv-main .button30 span,.reviews-expanded .button30.add_review span,.catalog_detail .basket_button.one_click span,.button30.review_preview span,.popup .grey .pop-up-title{color:#000;text-shadow:0 1px 0px rgba(255,255,255,0.5);-moz-text-shadow:0 1px 0px rgba(255,255,255,0.5);-o-text-shadow:0 1px 0px rgba(255,255,255,0.5);-webkit-text-shadow:0 1px 0px rgba(255,255,255,0.5);}.module-order-history .status.delivered{color:#fff;}.jobs_wrapp .item a:not(.opened):hover .icon i,.staff_wrapp .section .section_title:not(.opened):hover .icon i{background-position:-31px -33px;}.jobs_wrapp .item a.opened:hover .icon i,.staff_wrapp .section .section_title.opened:hover .icon i{background-position:0 -34px;}.button30.add_review span{background-position:4px -286px;}.button30.send_review span{background-position:4px -365px;}.card_popup_frame.popup .but_row a.to_delay .icon i{background-position:-48px -257px;}.compare_button span{background-position:-32px -64px;}#header .basket_fly .opener .basket_count .icon i{background-position:-7px -89px;}#header .basket_fly .opener .basket_count.empty:hover .icon i{background-position:-7px -47px;}#header .basket_fly .opener .basket_count.empty .icon i{background-position:-7px -5px;}#header .basket_fly .opener .wish_count .icon i{background-position:-48px -424px;}#header .basket_fly .opener .wish_count:hover .icon i{background-position:-48px -383px;}ul.menu li a{color:#000;}.catalog_menu ul.menu li a{color:#fff;}ul.menu li a i{background-position:-2px -20px;}.catalog_menu ul.menu li a i{background-position:-61px 0px;}a i.arrow.down b{background-position:-36px -35px;}.catalog_item:hover .basket_button span{color:#fff;}ul.specials_slider .basket_button span{background-position:0 -7px;}ul.specials_slider .basket_button:hover span,ul.specials_slider li:hover .basket_button span{background-position:0px -87px;}ul.specials_slider .basket_button.read_more span{background-position:1px -408px;}ul.specials_slider li:hover .basket_button.read_more span{background-position:1px -448px !important;}.top_slider_wrapp .flex-direction-nav li a.flex-next{background-position:-58px -60px;}.top_slider_wrapp .flex-direction-nav li:hover a.flex-prev{background-position:-3px -60px;}.top_slider_wrapp .flex-direction-nav li a.flex-prev{background-position:-3px 0px;}#header .basket_fly .opener .wish_count.empty:hover .icon i{background-position:-48px -341px;}#header .basket_fly .opener .wish_count.empty .icon i{background-position:-48px -299px;}#bx-soa-order .bx-soa-section .bx-soa-section-title:before{background-color:#FFAD00;}#bx-soa-order div[class*=bx-sls] .quick-locations .quick-location-tag{border-color:#FFAD00;color:#FFAD00;}#bx-soa-order div[class*=bx-sls] .quick-locations .quick-location-tag:hover{background-color:#FFAD00;color:#fff;}#bx-soa-order .bx-soa .form-group .radio-inline.checked label:before,#bx-soa-order .bx-soa .form-group .radio-inline label:hover:before,#bx-soa-order .bx-soa-pp-company:hover .bx-soa-pp-company-graf-container:before,#bx-soa-order .bx-soa-pp-company.bx-selected .bx-soa-pp-company-graf-container:before{background-color:#FFAD00;}#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company.bx-selected .bx-soa-pp-company-graf-container,#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company:hover .bx-soa-pp-company-graf-container{border-color:#FFAD00;}#bx-soa-order .bx-soa-pp-desc-container .bx-soa-pp-company:before,#bx-soa-order .bx-soa-pp-desc-container .checkbox label:hover:before,#bx-soa-order .bx-soa-pp-desc-container .checkbox label.checked:before{background-color:#FFAD00;}#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company:hover .bx-soa-pp-company-smalltitle,#bx-soa-order .bx-soa-more .bx-soa-more-btn .pull-left{color:#FFAD00;}#bx-soa-order .bx-soa-coupon-input:hover:after,#bx-soa-order .bx-soa-coupon-item .bx-soa-coupon-remove:hover{background-color:#FFAD00;}#bx-soa-order div[class*=bx-sls] .bx-ui-sls-clear:hover:before{background-color:#FFAD00;}@media all and (max-width:950px){.header_wrap.colored #header .center_block .main-nav{background:#faaa00;}}@media all and (max-width:768px){body .top_slider_wrapp .flex-direction-nav li a{background-image:url(../../images/arrows_big.png);}body .top_slider_wrapp .flex-direction-nav li a.flex-next{background-position:-30px -94px;}body .top_slider_wrapp .flex-direction-nav li a.flex-prev{background-position:0 -127px;}body .top_slider_wrapp .flex-direction-nav li a.flex-prev:hover{background-position:0 -94px;}body .flex-control-paging li a.flex-active, body .flex-control-paging li:hover a:not(.touch){background:#faaa00;background:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzAwYWFlMiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMwMDhmYzciIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);background:-moz-linear-gradient(top,#faaa00 0%,#e0a000 100%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0%,#faaa00),color-stop(100%,#e0a000));background:-webkit-linear-gradient(top,#faaa00 0%,#e0a000 100%);background:-o-linear-gradient(top,#faaa00 0%,#e0a000 100%);background:-ms-linear-gradient(top,#faaa00 0%,#e0a000 100%);background:linear-gradient(to bottom,#faaa00 0%,#e0a000 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='@bcolor_00aae2',endColorstr='@bcolor_008fc7',GradientType=0);}}@media all and (max-width:600px){#header ul.menu.full.opened>li, .has_menu #header .center_block .main-nav{background-color:#faaa00;}.has_menu #header .center_block .main-nav:hover{background:#e2ae50 none repeat scroll 0 0;}#header ul.menu.full.opened li.current{background:#e0a000;}}@media all and (max-width:550px){body #footer .footer_inner .line{border-top:4px solid #f09300;}.basket_wrapp .empty_cart:not(.bcart).wraps_icon_block.basket .count span, .basket_wrapp .basket_empty .wraps_icon_block.basket .count span{color:#FFF;background:#faaa00;}}#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li:hover>a,#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li.opened>a,#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li.current>a{background:#e2ae50;}#header .wrapper_middle_menu.wrap_menu ul.menu.opened>li{background:#e69c00;}.button.transparent,.h_color_white .header_wrap .menu>li.current>a span,.h_color_white.wrapper #header ul.menu li .child .child_wrapp,.m_color_white.wrapper #header ul.menu li .child .child_wrapp,.basket_normal .popup.card_popup_frame .basket_popup_wrapp,.basket_sort ul.tabs li.cur div,.smartfilter .bx_ui_slider_track .bx_ui_slider_handle,.bx_filter .button,.bx_filter_vertical input[type="checkbox"]:checked+label.sku,.sku_props .bx_item_detail_size ul li.active,.bx_size_scroller_container .bx_size ul li.bx_active,.bx_filter .bx_filter_param_label.active .bx_filter_param_btn,.bx_catalog_item_scu .bx_item_detail_scu ul li.active span.cnt,.item_slider .thumbs li.current,.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-left-column,.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-center-column,.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-right-column,.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-left-column,.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-center-column,.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-right-column,.bx_element input[type=radio]:checked+label .bx_logotype,.bx_element label.selected .bx_logotype{border-color:#d8ae46;}a,.link,.button.transparent,.button.transparent:hover,.specials_slider_wrapp ul.tabs>li span,.tab_slider_wrapp ul.tabs>li span,.basket_wrapp .basket_block .link:hover+.wraps_icon_block+.text .title,.stores .stores_list .item a span,.phones .order_wrap_btn,.footer_bottom .all_menu_block ul li a:hover,.footer_bottom .submenu_top .menu_item a:hover,.avtorization-call.enter:hover span,.top-h-row .h-user-block a:hover,ul.menu .child li.menu_item a,#header .catalog_menu ul.menu>li.current>a,ul.menu .child .depth3 a,ul.menu .child li.menu_title a:hover,#header ul.menu li .child.submenu .child_wrapp a:not(.title),.img_block_capcha .reload,.h_color_white .center_block .menu.full>li:hover>a,.m_color_white #header .wrapper_middle_menu .menu.bottom>li:hover>a,.m_color_white #header .wrapper_middle_menu .menu.bottom>li.hover>a,body #header ul.menu li .child.line .child_wrapp>a:hover,.basket_sort ul.tabs li .wrap_li>span *,.basket_sort ul.tabs li .wrap_li>span,.bx_filter_parameters_box_title:hover,.bx_filter .bx_filter_popup_result a,.left_block .internal_sections_list .child_wrapp .child li.cur>a,.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item.cur,.left_block .internal_sections_list .child_wrapp a:hover,.ajax_load_btn:hover .more_text_ajax,.breadcrumbs a:hover span,.tabs-head li.current span,.item-stock .store_view,.reviews-post-reply-buttons a:hover,h4.hover,.button.transparent.white:hover,.button.white_bg,.item .child_container .child_wrapp .menu_item.current a,.item .child_container .child_wrapp .menu_item:hover a{color:#e69c00;}button.button,input.button,.button,#header ul.menu.full.opened li:not(.search_row):hover,#header ul.menu.full>li.search_row #search-submit-button:hover,table.title-search-result td.title-search-all a .icon,.flex-direction-nav li:hover,.flex-direction-nav li:first-child:hover,.top_slider_wrapp .flex-direction-nav li:hover,.like_icons .wish_item.added,.like_icons .compare_item.added,.light .stores .all_map,.block_wr.dark,.popup .close:hover,.header_wrap #header .middle-h-row .logo_wrapp .logo a,.h_color_colored .header_wrap #header,.registraion-page .top p:after,.has_menu.m_color_colored #header .catalog_menu,.module-cart .remove-cell a:hover,.cart_shell .remove-cell a:hover,.bx_item_set_hor .bx_item_set_hor_item a.remove,.bx_filter .bx_filter_popup_result,.bx_filter .bx_filter_parameters_box_title:before,.bx_filter_vertical input[type="checkbox"]+label:before,.filter input[type="checkbox"]+label:before,.filter input[type="radio"]+label:before,.bx_filter label.pal:hover .bx_filter_param_btn,.bx_filter .bx_filter_param_label.active .bx_filter_param_btn,.bx_filter_vertical input[type="checkbox"]:checked+label.sku,.left_block .internal_sections_list li.cur,.left_block .internal_sections_list li:hover,.left_block .internal_sections_list .title .inner_block:hover:before,.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item.cur:before,.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item:hover:before,.left_block .internal_sections_list .child_wrapp ul.child li.cur:after,.left_block .internal_sections_list .child_wrapp ul.child li:hover:after,body #content .props_list tr td>span:before,body #content .props_list tr td>.txt:before,.module-pagination .nums .cur,.more_text_ajax:before,.captcha_reload:before,.sku_props .bx_item_detail_size ul li.active,.bx_size_scroller_container .bx_size ul li.bx_active,.bx_catalog_item_scu .bx_item_detail_scu ul li.active span:not(.cnt_item),.ik_select_list .ik_select_list_inner ul li.ik_select_active,.bx_filter_select_popup ul li label.selected,.filter_opener.opened,.no_goods .no_products:before,.wr_scrollbar .scrollbar .handle,.remove:hover,a i.arrow,.popup-window-close-icon.popup-window-titlebar-close-icon:hover,.bx_kit_item .bx_kit_item_add,.catalog_detail .offers_table td.opener:hover .opener_icon,.opener_icon:hover,.char_name .hint .icon:hover,.char_name .hint.active .icon,.location-block-wrapper .bx-sls .bx-ui-sls-clear:before,h4:hover .opener_icon,.bg_block:before,#order_form_div input[type="submit"],.module-order-history .item_name:hover .icon,.module-order-history .item_name:hover .icon,.faq.list .item .q:hover .opener_icon,.jobs_wrapp .item .name tr:hover .opener_icon{color:#FFF;background:#faaa00;}.catalog_detail .bx-modal-container .btn.btn-add{color:#FFF;background:#faaa00;}.catalog_detail .bx-modal-container .btn.btn-add:hover{background:#d8ae46;}.colored #header .catalog_menu ul.menu>li,header .wrap_menu{background:#f0a300;}#header .catalog_menu ul.menu>li .dropdown>li.current a{background:#e09800;}.tabs-head li.current:before{background-color:#faaa00;}.like_icons .compare_item.added i,.like_icons .wish_item.added i{background-color:#faaa00;}.icon_error_block:after{background-color:#faaa00 !important;}.flex-direction-nav li:first-child,.flex-direction-nav li,.flex-direction-nav li:hover{border-bottom-width:0px;}.specials_slider_wrapp ul.tabs li.cur span,.tab_slider_wrapp ul.tabs li.cur span,.popup .popup-intro{border-bottom-color:#d8ae46;}.button:hover,.like_icons .compare_item.added:hover,.like_icons .wish_item.added:hover,.light .stores .all_map:hover{background:#d8ae46;}.like_icons .compare_item.added:hover i,.like_icons .wish_item.added:hover i{background-color:#d8ae46;}.wrapper_middle_menu.wrap_menu.mobile:hover{background:#d8ae46;}.header_wrap #header .catalog_menu.menu_colored .inc_menu ul.menu>li:not(.current):hover>a{background:#ffb20f;}header .menu_top_block li .dropdown>li:hover>a,header .menu_top_block li:not(.catalog).dropdown>li.current>a:not(.section),header .menu_top_block li.catalog>.dropdown>li:hover>a:before{background:#FFAD00;}header .menu_colored .menu_top_block>li.current>a,header .menu_dark .menu_top_block.menu>li.current>a,header .menu_dark .menu_top_block.menu>li.current:hover>a,.menu_top_block.catalog_block .dropdown>li.full:hover>a:before,.menu_top_block.catalog_block .dropdown>li.full.current>a,header .menu_top_block li.catalog>.dropdown>li.current>a,.left_menu>li.current>a,.left_menu>li:hover>a:before{background:#e09800;}header .menu_top_block>li.catalog>a,header .menu_top_block>li.catalog.current>a,header .menu_top_block>li.catalog{background-color:#FFAD00;}header .catalog_menu .menu_top_block.menu li.catalog li.full.current>a:after,header .catalog_menu .menu_top_block.menu li.catalog li.full:hover>a:after,.menu_top_block.catalog_block .dropdown>li.full:hover>a:after,.left_menu>li.has-childs:hover>a:after{color:#f5a600;}header .menu_top_block li .dropdown>li.menu_item>a:hover,.menu_top_block.catalog_block .dropdown>li.full>.dropdown>li>a:not(.section):hover,.menu_top_block.catalog_block .dropdown>li.full:hover>a,.left_menu>li:hover>a{color:#e69c00;}.phone_block .phone_wrap .icons{color:#e69c00;}header .menu_top_block li.catalog>.dropdown>li:hover>a,header .menu_top_block li.catalog>.dropdown>li>.dropdown>li.current>a:not(.section){color:#e69c00;}header .menu_top_block li .dropdown>li.current>a.section1,.menu_top_block li .dropdown>li>a.section1:hover,#header .catalog_menu.menu_light ul.menu>li.current>a,#header .catalog_menu.menu_light ul.menu>li:hover>a{color:#e69c00;}.subscribe-form:before{background:#f5a600;}.subscribe-form input.send_btn{background-color:#f5a600;}.bx_ordercart .bx_ordercart_order_pay .bx_bt_button{background:#f5a600;}.subscribe-form input.send_btn:hover{background-color:#d8ae46;}.bx_ordercart .bx_ordercart_order_pay .bx_bt_button:hover{background:#d8ae46;}.bx_ordercart .bx_item_detail_size_small_noadaptive .bx_size ul li.bx_active a{background:#d8ae46;color:#fff;}.bx_ordercart .bx_item_detail_size_small_noadaptive .bx_size ul li:not(.bx_active):hover a{color:#e69c00;}a.dark_link:hover,.dark_link:hover span,.dl:hover a,.selected a.dark_link,.current a.dark_link{color:#e69c00 !important;}.menu_top_block.catalog_block .dropdown>li.full>.dropdown>li>a,header .menu_top_block.catalogfirst li.full>.dropdown>li:not(.current)>a{color:#e69c00;}.middle_phone .phone_wrap .icons,.top_slider_wrapp .flexslider .slides>li:after{background-color:#f5a600;}.basket_fly .basket_wrapp .basket_fly .wraps_icon_block.delay .count span{background-color:#f5a600;}.basket_normal .basket_wrapp .wraps_icon_block.basket .count span{background-color:#f5a600;}.bx_filter .bx_filter_parameters_box_title:hover:after{color:#e69c00;}.bx_filter .bx_filter_param_label.active .bx_filter_btn_color_icon,.bx_catalog_item_scu ul li.active .cnt_item,.bx_scu_scroller_container ul li.bx_active .cnt_item{box-shadow:0px 0px 0px 2px #fff inset, 0px 0px 0px 2px #f5a600;}.bx_filter_vertical input[type="checkbox"]:not(:checked)+label.sku:hover span,.sku_props .bx_item_detail_size ul li:not(.active):hover span,.bx_item_list_you_looked_horizontal .bx_item_detail_size ul li:hover span{color:#e69c00;}.bx_filter_vertical input[type="checkbox"]+label.sku:hover,.sku_props .bx_item_detail_size ul li:hover,.bx_item_list_you_looked_horizontal .bx_item_detail_size ul li:hover{border-color:#e69c00;}.more_text_ajax:after{background-color:#f5a600;}.list_item .description_wrapp .like_icons span.added{color:#e69c00;}.bx_ordercart .bx_sort_container a.current:after{background:#e2ae50;}.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_order_pay_center .checkout{color:#f5a600;border-color:#e69c00;}.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_order_pay_center .checkout:hover{color:#fff;border-color:#e2ae50;background:#e2ae50;}.button.transparent:not(.text):hover{border-color:#e2ae50;background:#e2ae50;color:#fff;}.button.transparent.grey_br:hover{border-color:#e2ae50;background:#fff;}.bx_ordercart tbody td.control a:first-of-type:hover,.bx_ordercart #basket_items_delayed tbody td.control a:last-of-type:hover,.bx_ordercart #basket_items_subscribed tbody td.control a:first-of-type:hover,.bx_ordercart #basket_items_not_available tbody td.control a:last-of-type:hover,.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_coupon:not(:first-of-type)>span:hover{background-color:#e2ae50;}.bx_ordercart .bx_sort_container a,.bx_item_list_you_looked_horizontal .bx_catalog_item .bx_catalog_item_title a{color:#f5a600;}.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blocktwo a,.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blockone a{color:#FFF;background:#f5a600;}.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blocktwo a:hover,.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blockone a{background:#d8ae46;}.sale_order_full_table input[name="BuyButton"]{background-color:#faaa00;}.sale_order_full_table input[name="BuyButton"]{background-color:#d8ae46;}.bx_ordercart .bx_item_detail_size_small_noadaptive ul li:active a,.bx_ordercart .bx_item_detail_size_small_noadaptive ul li.bx_active a,.bx_ordercart .bx_item_detail_size_small_noadaptive ul li:hover a{border-color:#d8ae46;}.color_link{color:#e69c00 !important;}112  28695|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/themes/yellow/theme.css|aaf32ff4a.scroll-to-top.ROUND_COLOR,
a.scroll-to-top.RECT_COLOR {
  background-color: #FFAD00;
}
a.scroll-to-top.ROUND_COLOR:hover,
a.scroll-to-top.RECT_COLOR:hover {
  background-color: #d8af4b;
}
ul li::before {
  color: #f09300;
}
.basket_print i {
  background-color: #e69c00;
}
.rss_feed_icon {
  background: #f09300;
  color: #000;
}
.start_promo .item i.title a,
.start_promo .item i.price a,
.start_promo .item i.title span,
.start_promo .item i.price span,
.start_promo .item span.main_wrap i:after,
.start_promo .item p span,
.wrap_tizer .wrap_outer,
.wrap_tizer .wrap_outer .outer_text,
.wrap_tizer .wrap_outer .inner_text {
  background: #faaa00;
}
.start_promo .item i.title span,
.start_promo .item i.price span {
  box-shadow: -4px 1px 0px 4px #faaa00, 4px 1px 0px 4px #faaa00;
}
.start_promo .item i.price span {
  box-shadow: -4px 0px 0px 4px #faaa00, 4px 0px 0px 4px #faaa00;
}
.module-map .infoBox .close_info:hover {
  background-color: #f09300;
}
#header ul.menu.full > li.search_row #search-submit-button:hover,
#header ul.menu.full > li.search_row #search-submit-button.hover {
  border: transparent;
}
#header .catalog_menu ul.menu > li,
#header ul.menu.adaptive:not(.opened) li.menu_opener,
#header ul.menu.full.opened li:not(.search_row):hover,
#header ul.menu.full.opened li.current {
  border-bottom: 1px solid #b88900;
}
#header .catalog_menu ul.menu > li:not(.current):not(.stretch):hover {
  border-bottom: 1px solid #bd7a00;
  border-right: 1px solid #bd7a00;
}
#header ul.menu.full.opened li:not(.search_row):hover,
#header ul.menu.full.opened li.current {
  border-top: 1px solid #faaa00;
}
#header .catalog_menu ul.menu > li.current > a {
  color: #fff;
  border-left: 1px solid #f5a600;
}
#header .catalog_menu ul.menu > li {
  border-right: 1px solid #b88900;
}
.header-cart-block .cart span.icon i {
  background-position: 0px -84px;
}
ul.menu li .child .child_wrapp,
.breadcrumbs .dropdown,
.authorization-cols .form-block {
  border-top: 2px solid #f09300;
}
.catalog_detail ul.tabs.main_tabs {
  border-bottom: 2px solid #f09300;
}
ul.menu li b.space,
.breadcrumbs .drop b.space,
.hint .triangle {
  border-bottom: 6px solid #f09300;
}
.basket_button,
.basket_button span,
.button30,
.button30 span,
.popup .soc-avt .row a {
  color: #fff;
}
#footer .footer_inner .line,
#header .basket_fly .opener .basket_count,
.page_not_found td.image img {
  background: #f09300;
}
#bx-soa-order-form .btn.btn-default {
  background: #f09300;
  border-color: #f09300;
}
#bx-soa-order-form .btn.btn-default:hover {
  background: #d8ae46;
  border-color: #d8ae46;
}
ul.tabs li.cur .triangle,
.view-list .view-header i.triangle {
  border-top: 5px solid #e69c00 !important;
}
.basket_button.add span {
  background-position: 0px -6px;
}
.basket_button.read_more span {
  background-position: 1px -448px;
}
.basket_button.added span {
  background-position: 0px -45px;
}
.front_slider_wrapp .extended_pagination > li.active i.triangle {
  border-right-color: #e69c00;
}
.catalog_detail .extended_info a.compare_item i {
  background-position: -32px -65px;
}
.catalog_detail .extended_info a.wish_item i {
  background-position: 3px -72px;
}
.display_list a.compare_item i {
  background-position: -32px -3px;
}
.display_list a.wish_item i {
  background-position: -3px -2px;
}
.display_list a.compare_item:hover i,
.display_list a.compare_item.added i {
  background-position: -32px -65px;
}
.display_list a.wish_item:hover i,
.display_list a.wish_item.added i {
  background-position: -3px -63px;
}
.popup .form .form_head {
  border-bottom-color: #f09300;
}
.item_slider .thumbs i.triangle {
  border-bottom: 5px solid #f09300;
}
blockquote:before {
  background-color: #f09300;
}
.module-gallery-list li .fancy_hover:hover {
  border: 2px solid #f09300;
}
.smartfilter .bx_ui_slider_track .bx_ui_slider_range,
.bx_filter .bx_ui_slider_pricebar_V {
  background: #f09300;
}
.catalog_block .catalog_item .basket_button.read_more span {
  background-position: 1px -408px;
}
.catalog_block .catalog_item .basket_button.to-cart span {
  background-position: 0 -7px;
}
.catalog_block .catalog_item:hover .basket_button span {
  color: #fff;
  background-position: 0px -87px;
}
.catalog_block .catalog_item:hover .basket_button.read_more span {
  background-position: 1px -448px !important;
}
.catalog_item .basket_button.in-cart span,
.basket_button.in-cart span {
  background-position: 0px -127px !important;
}
.catalog_item:hover .basket_button.added span {
  color: #fff;
}
.bx_filter_container #modef .triangle,
.left_block .internal_sections_list .child_wrapp .triangle {
  border-right: 6px solid #f09300;
}
#order_form_div .sale_order_table .ps_logo img:hover,
#order_form_div .sale_order_table .ps_logo input[type=radio]:checked + label img,
#order_form_div .sale_order_table.delivery label:hover img,
#order_form_div .sale_order_table.delivery input[type=radio]:checked + label img,
#order_form_div div.ps_logo.selected img,
#order_form_div .account label:hover img,
#order_form_div .account img.active {
  border: 2px solid #f09300;
}
.front_slider_wrapp .extended_pagination > li.active span,
a.b-share-popup__item:hover .b-share-popup__item__text {
  color: #fff !important;
}
ul.tabs li.cur span,
ul.tabs li.cur:hover span,
.front_slider_wrapp a.read_more {
  color: #fff;
}
.left_menu > li.current >a,
.left_menu > li:not(.exit):hover {
  background: #f09300;
}
a i.arrow b {
  background-position: -36px 0px;
}
.top-h-row .search #search-submit-button:hover i,
.top-h-row .search #search-submit-button.hover i {
  background-position: top center;
}
.catalog_detail a.compare_item:hover .icon i {
  background-position: -32px -65px;
}
.catalog_detail a.wish_item:hover .icon i {
  background-position: 2px -45px;
}
ul.menu li.current a i {
  background-position: -61px 0px;
}
.button30.ask_question span.show_form,
.button30.ask_question span.hide_form {
  background-position: 5px -605px;
}
.button30.ask_question span.hide_form {
  color: #000;
}
.button30.ask_question span.hide_form:hover {
  color: #fff;
}
.question-list .q .ic b {
  background-position: -38px -188px;
}
.question-list .q.op .ic b {
  background-position: -8px -188px;
}
.number_list a.current span {
  color: #fff !important;
}
.basket_button span,
.compare_button span {
  background-position: 0px -87px;
}
.bx_filter_container_title .hint.active .hint_icon,
.bx_filter_container_title .hint.active .hint_icon,
.bx_filter_container_title .hint.active .hint_icon:hover,
#header .basket_fly .opener .basket_count:not(.empty) .count {
  color: #fff;
}
.left_block .internal_sections_list li.item:hover > a,
.left_block .internal_sections_list li.item.cur > a {
  color: #fff;
}
.left_block .internal_sections_list li * {
  -webkit-transition: none;
  -moz-transition: none;
  -o-transition: none;
  transition: none;
}
a.compare_item i {
  background-position: -31px -1px;
}
a.wish_item i {
  background-position: -2px -1px;
}
a.compare_item:hover i {
  background-position: -31px -33px;
}
a.wish_item:hover i {
  background-position: -2px -32px;
}
a.compare_item.added i {
  background-position: -31px -63px;
}
a.wish_item.added i {
  background-position: -2px -62px;
}
.module_products_list .basket_button.to-cart span {
  background-position: 0 -7px;
}
.module_products_list .basket_button.to-cart:hover span {
  background-position: 0px -87px;
}
.basket_button.in-cart span {
  background-position: 0px -127px;
}
.popup .close:hover i,
.popup .grey .close i,
.popup-window-close-icon.popup-window-titlebar-close-icon:hover:after {
  background-position: -1px -59px;
}
.card_popup_frame.popup .but_row a.to_basket .icon i {
  background-position: -5px -170px;
}
.soc-serv-main .button30 span,
.reviews-expanded .button30.add_review span,
.catalog_detail .basket_button.one_click span,
.button30.review_preview span,
.popup .grey .pop-up-title {
  color: #000;
  text-shadow: 0 1px 0px rgba(255,255,255,0.5);
  -moz-text-shadow: 0 1px 0px rgba(255,255,255,0.5);
  -o-text-shadow: 0 1px 0px rgba(255,255,255,0.5);
  -webkit-text-shadow: 0 1px 0px rgba(255,255,255,0.5);
}
.module-order-history .status.delivered {
  color: #fff;
}
.jobs_wrapp .item a:not(.opened):hover .icon i,
.staff_wrapp .section .section_title:not(.opened):hover .icon i {
  background-position: -31px -33px;
}
.jobs_wrapp .item a.opened:hover .icon i,
.staff_wrapp .section .section_title.opened:hover .icon i {
  background-position: 0 -34px;
}
.button30.add_review span {
  background-position: 4px -286px;
}
.button30.send_review span {
  background-position: 4px -365px;
}
.card_popup_frame.popup .but_row a.to_delay .icon i {
  background-position: -48px -257px;
}
.compare_button span {
  background-position: -32px -64px;
}
#header .basket_fly .opener .basket_count .icon i {
  background-position: -7px -89px;
}
#header .basket_fly .opener .basket_count.empty:hover .icon i {
  background-position: -7px -47px;
}
#header .basket_fly .opener .basket_count.empty .icon i {
  background-position: -7px -5px;
}
#header .basket_fly .opener .wish_count .icon i {
  background-position: -48px -424px;
}
#header .basket_fly .opener .wish_count:hover .icon i {
  background-position: -48px -383px;
}
ul.menu li a {
  color: #000;
}
.catalog_menu ul.menu li a {
  color: #fff;
}
ul.menu li a i {
  background-position: -2px -20px;
}
.catalog_menu ul.menu li a i {
  background-position: -61px 0px;
}
a i.arrow.down b {
  background-position: -36px -35px;
}
.catalog_item:hover .basket_button span {
  color: #fff;
}
ul.specials_slider .basket_button span {
  background-position: 0 -7px;
}
ul.specials_slider .basket_button:hover span,
ul.specials_slider li:hover .basket_button span {
  background-position: 0px -87px;
}
ul.specials_slider  .basket_button.read_more span {
  background-position: 1px -408px;
}
ul.specials_slider li:hover .basket_button.read_more span {
  background-position: 1px -448px !important;
}
.top_slider_wrapp .flex-direction-nav li a.flex-next {
  background-position: -58px -60px;
}
.top_slider_wrapp .flex-direction-nav li:hover a.flex-prev {
  background-position: -3px -60px;
}
.top_slider_wrapp .flex-direction-nav li a.flex-prev {
  background-position: -3px 0px;
}
#header .basket_fly .opener .wish_count.empty:hover .icon i {
  background-position: -48px -341px;
}
#header .basket_fly .opener .wish_count.empty .icon i {
  background-position: -48px -299px;
}
#bx-soa-order .bx-soa-section .bx-soa-section-title:before {
  background-color: #FFAD00;
}
#bx-soa-order div[class*=bx-sls] .quick-locations .quick-location-tag {
  border-color: #FFAD00;
  color: #FFAD00;
}
#bx-soa-order div[class*=bx-sls] .quick-locations .quick-location-tag:hover {
  background-color: #FFAD00;
  color: #fff;
}
#bx-soa-order .bx-soa .form-group .radio-inline.checked label:before,
#bx-soa-order .bx-soa .form-group .radio-inline label:hover:before,
#bx-soa-order .bx-soa-pp-company:hover .bx-soa-pp-company-graf-container:before,
#bx-soa-order .bx-soa-pp-company.bx-selected .bx-soa-pp-company-graf-container:before {
  background-color: #FFAD00;
}
#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company.bx-selected .bx-soa-pp-company-graf-container,
#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company:hover .bx-soa-pp-company-graf-container {
  border-color: #FFAD00;
}
#bx-soa-order .bx-soa-pp-desc-container .bx-soa-pp-company:before,
#bx-soa-order .bx-soa-pp-desc-container .checkbox label:hover:before,
#bx-soa-order .bx-soa-pp-desc-container .checkbox label.checked:before {
  background-color: #FFAD00;
}
#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company:hover .bx-soa-pp-company-smalltitle,
#bx-soa-order .bx-soa-more .bx-soa-more-btn .pull-left {
  color: #FFAD00;
}
#bx-soa-order .bx-soa-coupon-input:hover:after,
#bx-soa-order .bx-soa-coupon-item .bx-soa-coupon-remove:hover {
  background-color: #FFAD00;
}
#bx-soa-order div[class*=bx-sls] .bx-ui-sls-clear:hover:before {
  background-color: #FFAD00;
}
@media all and (max-width: 950px) {
  .header_wrap.colored #header .center_block .main-nav {
    background: #faaa00;
  }
}
@media all and (max-width: 768px) {
  body .top_slider_wrapp .flex-direction-nav li a {
    background-image: url(../../images/arrows_big.png);
  }
  body .top_slider_wrapp .flex-direction-nav li a.flex-next {
    background-position: -30px -94px;
  }
  body .top_slider_wrapp .flex-direction-nav li a.flex-prev {
    background-position: 0 -127px;
  }
  body .top_slider_wrapp .flex-direction-nav li a.flex-prev:hover {
    background-position: 0 -94px;
  }
  body .flex-control-paging li a.flex-active,
  body .flex-control-paging li:hover a:not(.touch) {
    background: #faaa00;
    background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzAwYWFlMiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMwMDhmYzciIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);
    background: -moz-linear-gradient(top,#faaa00 0%,#e0a000 100%);
    background: -webkit-gradient(linear,left top,left bottom,color-stop(0%,#faaa00),color-stop(100%,#e0a000));
    background: -webkit-linear-gradient(top,#faaa00 0%,#e0a000 100%);
    background: -o-linear-gradient(top,#faaa00 0%,#e0a000 100%);
    background: -ms-linear-gradient(top,#faaa00 0%,#e0a000 100%);
    background: linear-gradient(to bottom,#faaa00 0%,#e0a000 100%);
    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='@bcolor_00aae2',endColorstr='@bcolor_008fc7',GradientType=0);
  }
}
@media all and (max-width: 600px) {
  #header ul.menu.full.opened > li,
  .has_menu #header .center_block .main-nav {
    background-color: #faaa00;
  }
  .has_menu #header .center_block .main-nav:hover {
    background: #e2ae50 none repeat scroll 0 0;
  }
  #header ul.menu.full.opened li.current {
    background: #e0a000;
  }
}
@media all and (max-width: 550px) {
  body #footer .footer_inner .line {
    border-top: 4px solid #f09300;
  }
  .basket_wrapp .empty_cart:not(.bcart) .wraps_icon_block.basket .count span,
  .basket_wrapp .basket_empty .wraps_icon_block.basket .count span {
    color: #FFF;
    background: #faaa00;
  }
}
#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li:hover>a,
#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li.opened>a,
#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li.current > a {
  background: #e2ae50;
}
#header .wrapper_middle_menu.wrap_menu ul.menu.opened > li {
  background: #e69c00;
}
.button.transparent,
.h_color_white .header_wrap .menu > li.current > a span,
.h_color_white.wrapper #header ul.menu li .child .child_wrapp,
.m_color_white.wrapper #header ul.menu li .child .child_wrapp,
.basket_normal .popup.card_popup_frame .basket_popup_wrapp,
.basket_sort ul.tabs li.cur div,
.smartfilter .bx_ui_slider_track .bx_ui_slider_handle,
.bx_filter .button,
.bx_filter_vertical input[type="checkbox"]:checked + label.sku,
.sku_props .bx_item_detail_size ul li.active,
.bx_size_scroller_container .bx_size ul li.bx_active,
.bx_filter .bx_filter_param_label.active .bx_filter_param_btn,
.bx_catalog_item_scu .bx_item_detail_scu ul li.active span.cnt,
.item_slider .thumbs li.current,
.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-left-column,
.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-center-column,
.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-right-column,
.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-left-column,
.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-center-column,
.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-right-column,
.bx_element input[type=radio]:checked + label .bx_logotype,
.bx_element label.selected .bx_logotype {
  border-color: #d8ae46;
}
a,
.link,
.button.transparent,
.button.transparent:hover,
.specials_slider_wrapp ul.tabs > li span,
.tab_slider_wrapp ul.tabs > li span,
.basket_wrapp .basket_block .link:hover + .wraps_icon_block + .text .title,
.stores .stores_list .item a span,
.phones .order_wrap_btn,
.footer_bottom .all_menu_block ul li a:hover,
.footer_bottom .submenu_top .menu_item a:hover,
.avtorization-call.enter:hover span,
.top-h-row .h-user-block a:hover,
ul.menu .child li.menu_item a,
#header .catalog_menu ul.menu > li.current > a,
ul.menu .child .depth3 a,
ul.menu .child li.menu_title a:hover,
#header ul.menu li .child.submenu .child_wrapp a:not(.title),
.img_block_capcha .reload,
.h_color_white .center_block .menu.full > li:hover > a,
.m_color_white #header .wrapper_middle_menu .menu.bottom > li:hover > a,
.m_color_white #header .wrapper_middle_menu .menu.bottom > li.hover > a,
body #header ul.menu li .child.line .child_wrapp > a:hover,
.basket_sort ul.tabs li .wrap_li > span *,
.basket_sort ul.tabs li .wrap_li > span,
.bx_filter_parameters_box_title:hover,
.bx_filter .bx_filter_popup_result a,
.left_block .internal_sections_list .child_wrapp .child li.cur > a,
.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item.cur,
.left_block .internal_sections_list .child_wrapp a:hover,
.ajax_load_btn:hover .more_text_ajax,
.breadcrumbs a:hover span,
.tabs-head li.current span,
.item-stock .store_view,
.reviews-post-reply-buttons a:hover,
h4.hover,
.button.transparent.white:hover,
.button.white_bg,
.item .child_container .child_wrapp .menu_item.current a,
.item .child_container .child_wrapp .menu_item:hover a {
  color: #e69c00;
}
button.button,
input.button,
.button,
#header ul.menu.full.opened li:not(.search_row):hover,
#header ul.menu.full > li.search_row #search-submit-button:hover,
table.title-search-result td.title-search-all a .icon,
.flex-direction-nav li:hover,
.flex-direction-nav li:first-child:hover,
.top_slider_wrapp .flex-direction-nav li:hover,
.like_icons .wish_item.added,
.like_icons .compare_item.added,
.light .stores .all_map,
.block_wr.dark,
.popup .close:hover,
.header_wrap #header .middle-h-row .logo_wrapp .logo a,
.h_color_colored .header_wrap #header,
.registraion-page .top p:after,
.has_menu.m_color_colored #header .catalog_menu,
.module-cart .remove-cell a:hover,
.cart_shell .remove-cell a:hover,
.bx_item_set_hor .bx_item_set_hor_item a.remove,
.bx_filter .bx_filter_popup_result,
.bx_filter .bx_filter_parameters_box_title:before,
.bx_filter_vertical input[type="checkbox"] + label:before,
.filter input[type="checkbox"] + label:before,
.filter input[type="radio"] + label:before,
.bx_filter label.pal:hover .bx_filter_param_btn,
.bx_filter .bx_filter_param_label.active .bx_filter_param_btn,
.bx_filter_vertical input[type="checkbox"]:checked + label.sku,
.left_block .internal_sections_list li.cur,
.left_block .internal_sections_list li:hover,
.left_block .internal_sections_list .title .inner_block:hover:before,
.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item.cur:before,
.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item:hover:before,
.left_block .internal_sections_list .child_wrapp ul.child li.cur:after,
.left_block .internal_sections_list .child_wrapp ul.child li:hover:after,
body #content .props_list tr td > span:before,
body #content .props_list tr td > .txt:before,
.module-pagination .nums .cur,
.more_text_ajax:before,
.captcha_reload:before,
.sku_props .bx_item_detail_size ul li.active,
.bx_size_scroller_container .bx_size ul li.bx_active,
.bx_catalog_item_scu .bx_item_detail_scu ul li.active span:not(.cnt_item),
.ik_select_list .ik_select_list_inner ul li.ik_select_active,
.bx_filter_select_popup ul li label.selected,
.filter_opener.opened,
.no_goods .no_products:before,
.wr_scrollbar .scrollbar .handle,
.remove:hover,
a i.arrow,
.popup-window-close-icon.popup-window-titlebar-close-icon:hover,
.bx_kit_item .bx_kit_item_add,
.catalog_detail .offers_table td.opener:hover .opener_icon,
.opener_icon:hover,
.char_name .hint .icon:hover,
.char_name .hint.active .icon,
.location-block-wrapper .bx-sls .bx-ui-sls-clear:before,
h4:hover .opener_icon,
.bg_block:before,
#order_form_div input[type="submit"],
.module-order-history .item_name:hover .icon,
.module-order-history .item_name:hover .icon,
.faq.list .item .q:hover .opener_icon,
.jobs_wrapp .item .name tr:hover .opener_icon {
  color: #FFF;
  background: #faaa00;
}
.catalog_detail .bx-modal-container .btn.btn-add {
  color: #FFF;
  background: #faaa00;
}
.catalog_detail .bx-modal-container .btn.btn-add:hover {
  background: #d8ae46;
}
.colored #header .catalog_menu ul.menu > li,
header .wrap_menu {
  background: #f0a300;
}
#header .catalog_menu ul.menu > li .dropdown >li.current a {
  background: #e09800;
}
.tabs-head li.current:before {
  background-color: #faaa00;
}
.like_icons .compare_item.added i,
.like_icons .wish_item.added i {
  background-color: #faaa00;
}
.icon_error_block:after {
  background-color: #faaa00 !important;
}
.flex-direction-nav li:first-child,
.flex-direction-nav li,
.flex-direction-nav li:hover {
  border-bottom-width: 0px;
}
.specials_slider_wrapp ul.tabs li.cur span,
.tab_slider_wrapp ul.tabs li.cur span,
.popup .popup-intro {
  border-bottom-color: #d8ae46;
}
.button:hover,
.like_icons .compare_item.added:hover,
.like_icons .wish_item.added:hover,
.light .stores .all_map:hover {
  background: #d8ae46;
}
.like_icons .compare_item.added:hover i,
.like_icons .wish_item.added:hover i {
  background-color: #d8ae46;
}
.wrapper_middle_menu.wrap_menu.mobile:hover {
  background: #d8ae46;
}
.header_wrap #header .catalog_menu.menu_colored .inc_menu  ul.menu > li:not(.current):hover > a {
  background: #ffb20f;
}
header .menu_top_block li .dropdown>li:hover>a,
header .menu_top_block li:not(.catalog) .dropdown>li.current >a:not(.section),
header .menu_top_block li.catalog>.dropdown>li:hover>a:before {
  background: #FFAD00;
}
header .menu_colored .menu_top_block >li.current >a,
header .menu_dark .menu_top_block.menu >li.current >a,
header .menu_dark .menu_top_block.menu >li.current:hover >a,
.menu_top_block.catalog_block .dropdown >li.full:hover>a:before,
.menu_top_block.catalog_block .dropdown >li.full.current>a,
header .menu_top_block li.catalog>.dropdown>li.current>a,
.left_menu > li.current> a,
.left_menu > li:hover> a:before {
  background: #e09800;
}
header .menu_top_block >li.catalog >a,
header .menu_top_block >li.catalog.current >a,
header .menu_top_block >li.catalog {
  background-color: #FFAD00;
}
header .catalog_menu .menu_top_block.menu li.catalog li.full.current >a:after,
header .catalog_menu .menu_top_block.menu li.catalog li.full:hover >a:after,
.menu_top_block.catalog_block .dropdown >li.full:hover>a:after,
.left_menu > li.has-childs:hover> a:after {
  color: #f5a600;
}
header .menu_top_block li .dropdown>li.menu_item>a:hover,
.menu_top_block.catalog_block .dropdown>li.full>.dropdown>li>a:not(.section):hover,
.menu_top_block.catalog_block .dropdown>li.full:hover>a,
.left_menu > li:hover> a {
  color: #e69c00;
}
.phone_block .phone_wrap .icons {
  color: #e69c00;
}
header .menu_top_block li.catalog>.dropdown>li:hover>a,
header .menu_top_block li.catalog>.dropdown>li>.dropdown>li.current>a:not(.section) {
  color: #e69c00;
}
header .menu_top_block li .dropdown>li.current >a.section1,
.menu_top_block li .dropdown>li >a.section1:hover,
#header .catalog_menu.menu_light ul.menu > li.current > a,
#header .catalog_menu.menu_light ul.menu > li:hover > a {
  color: #e69c00;
}
.subscribe-form:before {
  background: #f5a600;
}
.subscribe-form input.send_btn {
  background-color: #f5a600;
}
.bx_ordercart .bx_ordercart_order_pay .bx_bt_button {
  background: #f5a600;
}
.subscribe-form input.send_btn:hover {
  background-color: #d8ae46;
}
.bx_ordercart .bx_ordercart_order_pay .bx_bt_button:hover {
  background: #d8ae46;
}
.bx_ordercart .bx_item_detail_size_small_noadaptive .bx_size ul li.bx_active a {
  background: #d8ae46;
  color: #fff;
}
.bx_ordercart .bx_item_detail_size_small_noadaptive .bx_size ul li:not(.bx_active):hover a {
  color: #e69c00;
}
a.dark_link:hover,
.dark_link:hover span,
.dl:hover a,
.selected a.dark_link,
.current a.dark_link {
  color: #e69c00 !important;
}
.menu_top_block.catalog_block .dropdown>li.full>.dropdown>li>a,
header .menu_top_block.catalogfirst li.full>.dropdown>li:not(.current)>a {
  color: #e69c00;
}
.middle_phone .phone_wrap .icons,
.top_slider_wrapp .flexslider .slides > li:after {
  background-color: #f5a600;
}
.basket_fly .basket_wrapp .basket_fly .wraps_icon_block.delay .count span {
  background-color: #f5a600;
}
.basket_normal .basket_wrapp .wraps_icon_block.basket .count span {
  background-color: #f5a600;
}
.bx_filter .bx_filter_parameters_box_title:hover:after {
  color: #e69c00;
}
.bx_filter .bx_filter_param_label.active .bx_filter_btn_color_icon,
.bx_catalog_item_scu ul li.active .cnt_item,
.bx_scu_scroller_container ul li.bx_active .cnt_item {
  box-shadow: 0px 0px 0px 2px #fff inset, 0px 0px 0px 2px #f5a600;
}
.bx_filter_vertical input[type="checkbox"]:not(:checked) + label.sku:hover span,
.sku_props .bx_item_detail_size ul li:not(.active):hover span,
.bx_item_list_you_looked_horizontal .bx_item_detail_size ul li:hover span {
  color: #e69c00;
}
.bx_filter_vertical input[type="checkbox"] + label.sku:hover,
.sku_props .bx_item_detail_size ul li:hover,
.bx_item_list_you_looked_horizontal .bx_item_detail_size ul li:hover {
  border-color: #e69c00;
}
.more_text_ajax:after {
  background-color: #f5a600;
}
.list_item .description_wrapp .like_icons span.added {
  color: #e69c00;
}
.bx_ordercart .bx_sort_container a.current:after {
  background: #e2ae50;
}
.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_order_pay_center .checkout {
  color: #f5a600;
  border-color: #e69c00;
}
.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_order_pay_center .checkout:hover {
  color: #fff;
  border-color: #e2ae50;
  background: #e2ae50;
}
.button.transparent:not(.text):hover {
  border-color: #e2ae50;
  background: #e2ae50;
  color: #fff;
}
.button.transparent.grey_br:hover {
  border-color: #e2ae50;
  background: #fff;
}
.bx_ordercart tbody td.control a:first-of-type:hover,
.bx_ordercart #basket_items_delayed tbody td.control a:last-of-type:hover,
.bx_ordercart #basket_items_subscribed  tbody td.control a:first-of-type:hover,
.bx_ordercart #basket_items_not_available  tbody td.control a:last-of-type:hover,
.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_coupon:not(:first-of-type) > span:hover {
  background-color: #e2ae50;
}
.bx_ordercart .bx_sort_container a,
.bx_item_list_you_looked_horizontal .bx_catalog_item .bx_catalog_item_title a {
  color: #f5a600;
}
.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blocktwo a,
.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blockone a {
  color: #FFF;
  background: #f5a600;
}
.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blocktwo a:hover,
.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blockone a {
  background: #d8ae46;
}
.sale_order_full_table input[name="BuyButton"] {
  background-color: #faaa00;
}
.sale_order_full_table input[name="BuyButton"] {
  background-color: #d8ae46;
}
.bx_ordercart .bx_item_detail_size_small_noadaptive ul li:active a,
.bx_ordercart .bx_item_detail_size_small_noadaptive ul li.bx_active a,
.bx_ordercart .bx_item_detail_size_small_noadaptive ul li:hover a {
  border-color: #d8ae46;
}
.color_link {
  color: #e69c00 !important;
}
121  25956|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/themes/irish_green/theme.min.css|9895b195a.scroll-to-top.ROUND_COLOR,a.scroll-to-top.RECT_COLOR{background-color:#6DB900;}a.scroll-to-top.ROUND_COLOR:hover,a.scroll-to-top.RECT_COLOR:hover{background-color:#76b528;}ul li::before{color:#6faa00;}.basket_print i{background-color:#5ea000;}.rss_feed_icon{background:#6faa00;color:#000;}.start_promo .item i.title a,.start_promo .item i.price a,.start_promo .item i.title span,.start_promo .item i.price span,.start_promo .item span.main_wrap i:after,.start_promo .item p span,.wrap_tizer .wrap_outer,.wrap_tizer .wrap_outer .outer_text,.wrap_tizer .wrap_outer .inner_text{background:#6ab400;}.start_promo .item i.title span,.start_promo .item i.price span{box-shadow:-4px 1px 0px 4px #6ab400, 4px 1px 0px 4px #6ab400;}.start_promo .item i.price span{box-shadow:-4px 0px 0px 4px #6ab400, 4px 0px 0px 4px #6ab400;}.module-map .infoBox .close_info:hover{background-color:#6faa00;}#header ul.menu.full>li.search_row #search-submit-button:hover,#header ul.menu.full>li.search_row #search-submit-button.hover{border:transparent;}#header .catalog_menu ul.menu>li,#header ul.menu.adaptive:not(.opened) li.menu_opener,#header ul.menu.full.opened li:not(.search_row):hover,#header ul.menu.full.opened li.current{border-bottom:1px solid #3b7200;}#header .catalog_menu ul.menu>li:not(.current):not(.stretch):hover{border-bottom:1px solid #4a7700;border-right:1px solid #4a7700;}#header ul.menu.full.opened li:not(.search_row):hover,#header ul.menu.full.opened li.current{border-top:1px solid #6ab400;}#header .catalog_menu ul.menu>li.current>a{color:#fff;border-left:1px solid #67af00;}#header .catalog_menu ul.menu>li{border-right:1px solid #3b7200;}.header-cart-block .cart span.icon i{background-position:0px -84px;}ul.menu li .child .child_wrapp,.breadcrumbs .dropdown,.authorization-cols .form-block{border-top:2px solid #6faa00;}.catalog_detail ul.tabs.main_tabs{border-bottom:2px solid #6faa00;}ul.menu li b.space,.breadcrumbs .drop b.space,.hint .triangle{border-bottom:6px solid #6faa00;}.basket_button,.basket_button span,.button30,.button30 span,.popup .soc-avt .row a{color:#fff;}#footer .footer_inner .line,#header .basket_fly .opener .basket_count,.page_not_found td.image img{background:#6faa00;}#bx-soa-order-form .btn.btn-default{background:#6faa00;border-color:#6faa00;}#bx-soa-order-form .btn.btn-default:hover{background:#74b226;border-color:#74b226;}ul.tabs li.cur .triangle,.view-list .view-header i.triangle{border-top:5px solid #5ea000 !important;}.basket_button.add span{background-position:0px -6px;}.basket_button.read_more span{background-position:1px -448px;}.basket_button.added span{background-position:0px -45px;}.front_slider_wrapp .extended_pagination>li.active i.triangle{border-right-color:#5ea000;}.catalog_detail .extended_info a.compare_item i{background-position:-32px -65px;}.catalog_detail .extended_info a.wish_item i{background-position:3px -72px;}.display_list a.compare_item i{background-position:-32px -3px;}.display_list a.wish_item i{background-position:-3px -2px;}.display_list a.compare_item:hover i,.display_list a.compare_item.added i{background-position:-32px -65px;}.display_list a.wish_item:hover i,.display_list a.wish_item.added i{background-position:-3px -63px;}.popup .form .form_head{border-bottom-color:#6faa00;}.item_slider .thumbs i.triangle{border-bottom:5px solid #6faa00;}blockquote:before{background-color:#6faa00;}.module-gallery-list li .fancy_hover:hover{border:2px solid #6faa00;}.smartfilter .bx_ui_slider_track .bx_ui_slider_range,.bx_filter .bx_ui_slider_pricebar_V{background:#6faa00;}.catalog_block .catalog_item .basket_button.read_more span{background-position:1px -408px;}.catalog_block .catalog_item .basket_button.to-cart span{background-position:0 -7px;}.catalog_block .catalog_item:hover .basket_button span{color:#fff;background-position:0px -87px;}.catalog_block .catalog_item:hover .basket_button.read_more span{background-position:1px -448px !important;}.catalog_item .basket_button.in-cart span,.basket_button.in-cart span{background-position:0px -127px !important;}.catalog_item:hover .basket_button.added span{color:#fff;}.bx_filter_container #modef .triangle,.left_block .internal_sections_list .child_wrapp .triangle{border-right:6px solid #6faa00;}#order_form_div .sale_order_table .ps_logo img:hover,#order_form_div .sale_order_table .ps_logo input[type=radio]:checked+label img,#order_form_div .sale_order_table.delivery label:hover img,#order_form_div .sale_order_table.delivery input[type=radio]:checked+label img,#order_form_div div.ps_logo.selected img,#order_form_div .account label:hover img,#order_form_div .account img.active{border:2px solid #6faa00;}.front_slider_wrapp .extended_pagination>li.active span,a.b-share-popup__item:hover .b-share-popup__item__text{color:#fff !important;}ul.tabs li.cur span,ul.tabs li.cur:hover span,.front_slider_wrapp a.read_more{color:#fff;}.left_menu>li.current>a,.left_menu>li:not(.exit):hover{background:#6faa00;}a i.arrow b{background-position:-36px 0px;}.top-h-row .search #search-submit-button:hover i,.top-h-row .search #search-submit-button.hover i{background-position:top center;}.catalog_detail a.compare_item:hover .icon i{background-position:-32px -65px;}.catalog_detail a.wish_item:hover .icon i{background-position:2px -45px;}ul.menu li.current a i{background-position:-61px 0px;}.button30.ask_question span.show_form,.button30.ask_question span.hide_form{background-position:5px -605px;}.button30.ask_question span.hide_form{color:#000;}.button30.ask_question span.hide_form:hover{color:#fff;}.question-list .q .ic b{background-position:-38px -188px;}.question-list .q.op .ic b{background-position:-8px -188px;}.number_list a.current span{color:#fff !important;}.basket_button span,.compare_button span{background-position:0px -87px;}.bx_filter_container_title .hint.active .hint_icon,.bx_filter_container_title .hint.active .hint_icon,.bx_filter_container_title .hint.active .hint_icon:hover,#header .basket_fly .opener .basket_count:not(.empty).count{color:#fff;}.left_block .internal_sections_list li.item:hover>a,.left_block .internal_sections_list li.item.cur>a{color:#fff;}.left_block .internal_sections_list li *{-webkit-transition:none;-moz-transition:none;-o-transition:none;transition:none;}a.compare_item i{background-position:-31px -1px;}a.wish_item i{background-position:-2px -1px;}a.compare_item:hover i{background-position:-31px -33px;}a.wish_item:hover i{background-position:-2px -32px;}a.compare_item.added i{background-position:-31px -63px;}a.wish_item.added i{background-position:-2px -62px;}.module_products_list .basket_button.to-cart span{background-position:0 -7px;}.module_products_list .basket_button.to-cart:hover span{background-position:0px -87px;}.basket_button.in-cart span{background-position:0px -127px;}.popup .close:hover i,.popup .grey .close i,.popup-window-close-icon.popup-window-titlebar-close-icon:hover:after{background-position:-1px -59px;}.card_popup_frame.popup .but_row a.to_basket .icon i{background-position:-5px -170px;}.soc-serv-main .button30 span,.reviews-expanded .button30.add_review span,.catalog_detail .basket_button.one_click span,.button30.review_preview span,.popup .grey .pop-up-title{color:#000;text-shadow:0 1px 0px rgba(255,255,255,0.5);-moz-text-shadow:0 1px 0px rgba(255,255,255,0.5);-o-text-shadow:0 1px 0px rgba(255,255,255,0.5);-webkit-text-shadow:0 1px 0px rgba(255,255,255,0.5);}.module-order-history .status.delivered{color:#fff;}.jobs_wrapp .item a:not(.opened):hover .icon i,.staff_wrapp .section .section_title:not(.opened):hover .icon i{background-position:-31px -33px;}.jobs_wrapp .item a.opened:hover .icon i,.staff_wrapp .section .section_title.opened:hover .icon i{background-position:0 -34px;}.button30.add_review span{background-position:4px -286px;}.button30.send_review span{background-position:4px -365px;}.card_popup_frame.popup .but_row a.to_delay .icon i{background-position:-48px -257px;}.compare_button span{background-position:-32px -64px;}#header .basket_fly .opener .basket_count .icon i{background-position:-7px -89px;}#header .basket_fly .opener .basket_count.empty:hover .icon i{background-position:-7px -47px;}#header .basket_fly .opener .basket_count.empty .icon i{background-position:-7px -5px;}#header .basket_fly .opener .wish_count .icon i{background-position:-48px -424px;}#header .basket_fly .opener .wish_count:hover .icon i{background-position:-48px -383px;}ul.menu li a{color:#000;}.catalog_menu ul.menu li a{color:#fff;}ul.menu li a i{background-position:-2px -20px;}.catalog_menu ul.menu li a i{background-position:-61px 0px;}a i.arrow.down b{background-position:-36px -35px;}.catalog_item:hover .basket_button span{color:#fff;}ul.specials_slider .basket_button span{background-position:0 -7px;}ul.specials_slider .basket_button:hover span,ul.specials_slider li:hover .basket_button span{background-position:0px -87px;}ul.specials_slider .basket_button.read_more span{background-position:1px -408px;}ul.specials_slider li:hover .basket_button.read_more span{background-position:1px -448px !important;}.top_slider_wrapp .flex-direction-nav li a.flex-next{background-position:-58px -60px;}.top_slider_wrapp .flex-direction-nav li:hover a.flex-prev{background-position:-3px -60px;}.top_slider_wrapp .flex-direction-nav li a.flex-prev{background-position:-3px 0px;}#header .basket_fly .opener .wish_count.empty:hover .icon i{background-position:-48px -341px;}#header .basket_fly .opener .wish_count.empty .icon i{background-position:-48px -299px;}#bx-soa-order .bx-soa-section .bx-soa-section-title:before{background-color:#6DB900;}#bx-soa-order div[class*=bx-sls] .quick-locations .quick-location-tag{border-color:#6DB900;color:#6DB900;}#bx-soa-order div[class*=bx-sls] .quick-locations .quick-location-tag:hover{background-color:#6DB900;color:#fff;}#bx-soa-order .bx-soa .form-group .radio-inline.checked label:before,#bx-soa-order .bx-soa .form-group .radio-inline label:hover:before,#bx-soa-order .bx-soa-pp-company:hover .bx-soa-pp-company-graf-container:before,#bx-soa-order .bx-soa-pp-company.bx-selected .bx-soa-pp-company-graf-container:before{background-color:#6DB900;}#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company.bx-selected .bx-soa-pp-company-graf-container,#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company:hover .bx-soa-pp-company-graf-container{border-color:#6DB900;}#bx-soa-order .bx-soa-pp-desc-container .bx-soa-pp-company:before,#bx-soa-order .bx-soa-pp-desc-container .checkbox label:hover:before,#bx-soa-order .bx-soa-pp-desc-container .checkbox label.checked:before{background-color:#6DB900;}#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company:hover .bx-soa-pp-company-smalltitle,#bx-soa-order .bx-soa-more .bx-soa-more-btn .pull-left{color:#6DB900;}#bx-soa-order .bx-soa-coupon-input:hover:after,#bx-soa-order .bx-soa-coupon-item .bx-soa-coupon-remove:hover{background-color:#6DB900;}#bx-soa-order div[class*=bx-sls] .bx-ui-sls-clear:hover:before{background-color:#6DB900;}@media all and (max-width:950px){.header_wrap.colored #header .center_block .main-nav{background:#6ab400;}}@media all and (max-width:768px){body .top_slider_wrapp .flex-direction-nav li a{background-image:url(../../images/arrows_big.png);}body .top_slider_wrapp .flex-direction-nav li a.flex-next{background-position:-30px -94px;}body .top_slider_wrapp .flex-direction-nav li a.flex-prev{background-position:0 -127px;}body .top_slider_wrapp .flex-direction-nav li a.flex-prev:hover{background-position:0 -94px;}body .flex-control-paging li a.flex-active, body .flex-control-paging li:hover a:not(.touch){background:#6ab400;background:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzAwYWFlMiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMwMDhmYzciIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);background:-moz-linear-gradient(top,#6ab400 0%,#569a00 100%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0%,#6ab400),color-stop(100%,#569a00));background:-webkit-linear-gradient(top,#6ab400 0%,#569a00 100%);background:-o-linear-gradient(top,#6ab400 0%,#569a00 100%);background:-ms-linear-gradient(top,#6ab400 0%,#569a00 100%);background:linear-gradient(to bottom,#6ab400 0%,#569a00 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='@bcolor_00aae2',endColorstr='@bcolor_008fc7',GradientType=0);}}@media all and (max-width:600px){#header ul.menu.full.opened>li, .has_menu #header .center_block .main-nav{background-color:#6ab400;}.has_menu #header .center_block .main-nav:hover{background:#8bcb21 none repeat scroll 0 0;}#header ul.menu.full.opened li.current{background:#569a00;}}@media all and (max-width:550px){body #footer .footer_inner .line{border-top:4px solid #6faa00;}.basket_wrapp .empty_cart:not(.bcart).wraps_icon_block.basket .count span, .basket_wrapp .basket_empty .wraps_icon_block.basket .count span{color:#FFF;background:#6ab400;}}#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li:hover>a,#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li.opened>a,#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li.current>a{background:#8bcb21;}#header .wrapper_middle_menu.wrap_menu ul.menu.opened>li{background:#5ea000;}.button.transparent,.h_color_white .header_wrap .menu>li.current>a span,.h_color_white.wrapper #header ul.menu li .child .child_wrapp,.m_color_white.wrapper #header ul.menu li .child .child_wrapp,.basket_normal .popup.card_popup_frame .basket_popup_wrapp,.basket_sort ul.tabs li.cur div,.smartfilter .bx_ui_slider_track .bx_ui_slider_handle,.bx_filter .button,.bx_filter_vertical input[type="checkbox"]:checked+label.sku,.sku_props .bx_item_detail_size ul li.active,.bx_size_scroller_container .bx_size ul li.bx_active,.bx_filter .bx_filter_param_label.active .bx_filter_param_btn,.bx_catalog_item_scu .bx_item_detail_scu ul li.active span.cnt,.item_slider .thumbs li.current,.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-left-column,.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-center-column,.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-right-column,.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-left-column,.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-center-column,.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-right-column,.bx_element input[type=radio]:checked+label .bx_logotype,.bx_element label.selected .bx_logotype{border-color:#74b226;}a,.link,.button.transparent,.button.transparent:hover,.specials_slider_wrapp ul.tabs>li span,.tab_slider_wrapp ul.tabs>li span,.basket_wrapp .basket_block .link:hover+.wraps_icon_block+.text .title,.stores .stores_list .item a span,.phones .order_wrap_btn,.footer_bottom .all_menu_block ul li a:hover,.footer_bottom .submenu_top .menu_item a:hover,.avtorization-call.enter:hover span,.top-h-row .h-user-block a:hover,ul.menu .child li.menu_item a,#header .catalog_menu ul.menu>li.current>a,ul.menu .child .depth3 a,ul.menu .child li.menu_title a:hover,#header ul.menu li .child.submenu .child_wrapp a:not(.title),.img_block_capcha .reload,.h_color_white .center_block .menu.full>li:hover>a,.m_color_white #header .wrapper_middle_menu .menu.bottom>li:hover>a,.m_color_white #header .wrapper_middle_menu .menu.bottom>li.hover>a,body #header ul.menu li .child.line .child_wrapp>a:hover,.basket_sort ul.tabs li .wrap_li>span *,.basket_sort ul.tabs li .wrap_li>span,.bx_filter_parameters_box_title:hover,.bx_filter .bx_filter_popup_result a,.left_block .internal_sections_list .child_wrapp .child li.cur>a,.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item.cur,.left_block .internal_sections_list .child_wrapp a:hover,.ajax_load_btn:hover .more_text_ajax,.breadcrumbs a:hover span,.tabs-head li.current span,.item-stock .store_view,.reviews-post-reply-buttons a:hover,h4.hover,.button.transparent.white:hover,.button.white_bg,.item .child_container .child_wrapp .menu_item.current a,.item .child_container .child_wrapp .menu_item:hover a{color:#5ea000;}button.button,input.button,.button,#header ul.menu.full.opened li:not(.search_row):hover,#header ul.menu.full>li.search_row #search-submit-button:hover,table.title-search-result td.title-search-all a .icon,.flex-direction-nav li:hover,.flex-direction-nav li:first-child:hover,.top_slider_wrapp .flex-direction-nav li:hover,.like_icons .wish_item.added,.like_icons .compare_item.added,.light .stores .all_map,.block_wr.dark,.popup .close:hover,.header_wrap #header .middle-h-row .logo_wrapp .logo a,.h_color_colored .header_wrap #header,.registraion-page .top p:after,.has_menu.m_color_colored #header .catalog_menu,.module-cart .remove-cell a:hover,.cart_shell .remove-cell a:hover,.bx_item_set_hor .bx_item_set_hor_item a.remove,.bx_filter .bx_filter_popup_result,.bx_filter .bx_filter_parameters_box_title:before,.bx_filter_vertical input[type="checkbox"]+label:before,.filter input[type="checkbox"]+label:before,.filter input[type="radio"]+label:before,.bx_filter label.pal:hover .bx_filter_param_btn,.bx_filter .bx_filter_param_label.active .bx_filter_param_btn,.bx_filter_vertical input[type="checkbox"]:checked+label.sku,.left_block .internal_sections_list li.cur,.left_block .internal_sections_list li:hover,.left_block .internal_sections_list .title .inner_block:hover:before,.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item.cur:before,.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item:hover:before,.left_block .internal_sections_list .child_wrapp ul.child li.cur:after,.left_block .internal_sections_list .child_wrapp ul.child li:hover:after,body #content .props_list tr td>span:before,body #content .props_list tr td>.txt:before,.module-pagination .nums .cur,.more_text_ajax:before,.captcha_reload:before,.sku_props .bx_item_detail_size ul li.active,.bx_size_scroller_container .bx_size ul li.bx_active,.bx_catalog_item_scu .bx_item_detail_scu ul li.active span:not(.cnt_item),.ik_select_list .ik_select_list_inner ul li.ik_select_active,.bx_filter_select_popup ul li label.selected,.filter_opener.opened,.no_goods .no_products:before,.wr_scrollbar .scrollbar .handle,.remove:hover,a i.arrow,.popup-window-close-icon.popup-window-titlebar-close-icon:hover,.bx_kit_item .bx_kit_item_add,.catalog_detail .offers_table td.opener:hover .opener_icon,.opener_icon:hover,.char_name .hint .icon:hover,.char_name .hint.active .icon,.location-block-wrapper .bx-sls .bx-ui-sls-clear:before,h4:hover .opener_icon,.bg_block:before,#order_form_div input[type="submit"],.module-order-history .item_name:hover .icon,.module-order-history .item_name:hover .icon,.faq.list .item .q:hover .opener_icon,.jobs_wrapp .item .name tr:hover .opener_icon{color:#FFF;background:#6ab400;}.catalog_detail .bx-modal-container .btn.btn-add{color:#FFF;background:#6ab400;}.catalog_detail .bx-modal-container .btn.btn-add:hover{background:#74b226;}.colored #header .catalog_menu ul.menu>li,header .wrap_menu{background:#64aa00;}#header .catalog_menu ul.menu>li .dropdown>li.current a{background:#5b9a00;}.tabs-head li.current:before{background-color:#6ab400;}.like_icons .compare_item.added i,.like_icons .wish_item.added i{background-color:#6ab400;}.icon_error_block:after{background-color:#6ab400 !important;}.flex-direction-nav li:first-child,.flex-direction-nav li,.flex-direction-nav li:hover{border-bottom-width:0px;}.specials_slider_wrapp ul.tabs li.cur span,.tab_slider_wrapp ul.tabs li.cur span,.popup .popup-intro{border-bottom-color:#74b226;}.button:hover,.like_icons .compare_item.added:hover,.like_icons .wish_item.added:hover,.light .stores .all_map:hover{background:#74b226;}.like_icons .compare_item.added:hover i,.like_icons .wish_item.added:hover i{background-color:#74b226;}.wrapper_middle_menu.wrap_menu.mobile:hover{background:#74b226;}.header_wrap #header .catalog_menu.menu_colored .inc_menu ul.menu>li:not(.current):hover>a{background:#76c800;}header .menu_top_block li .dropdown>li:hover>a,header .menu_top_block li:not(.catalog).dropdown>li.current>a:not(.section),header .menu_top_block li.catalog>.dropdown>li:hover>a:before{background:#6DB900;}header .menu_colored .menu_top_block>li.current>a,header .menu_dark .menu_top_block.menu>li.current>a,header .menu_dark .menu_top_block.menu>li.current:hover>a,.menu_top_block.catalog_block .dropdown>li.full:hover>a:before,.menu_top_block.catalog_block .dropdown>li.full.current>a,header .menu_top_block li.catalog>.dropdown>li.current>a,.left_menu>li.current>a,.left_menu>li:hover>a:before{background:#5b9a00;}header .menu_top_block>li.catalog>a,header .menu_top_block>li.catalog.current>a,header .menu_top_block>li.catalog{background-color:#6DB900;}header .catalog_menu .menu_top_block.menu li.catalog li.full.current>a:after,header .catalog_menu .menu_top_block.menu li.catalog li.full:hover>a:after,.menu_top_block.catalog_block .dropdown>li.full:hover>a:after,.left_menu>li.has-childs:hover>a:after{color:#67af00;}header .menu_top_block li .dropdown>li.menu_item>a:hover,.menu_top_block.catalog_block .dropdown>li.full>.dropdown>li>a:not(.section):hover,.menu_top_block.catalog_block .dropdown>li.full:hover>a,.left_menu>li:hover>a{color:#5ea000;}.phone_block .phone_wrap .icons{color:#5ea000;}header .menu_top_block li.catalog>.dropdown>li:hover>a,header .menu_top_block li.catalog>.dropdown>li>.dropdown>li.current>a:not(.section){color:#5ea000;}header .menu_top_block li .dropdown>li.current>a.section1,.menu_top_block li .dropdown>li>a.section1:hover,#header .catalog_menu.menu_light ul.menu>li.current>a,#header .catalog_menu.menu_light ul.menu>li:hover>a{color:#5ea000;}.subscribe-form:before{background:#67af00;}.subscribe-form input.send_btn{background-color:#67af00;}.bx_ordercart .bx_ordercart_order_pay .bx_bt_button{background:#67af00;}.subscribe-form input.send_btn:hover{background-color:#74b226;}.bx_ordercart .bx_ordercart_order_pay .bx_bt_button:hover{background:#74b226;}.bx_ordercart .bx_item_detail_size_small_noadaptive .bx_size ul li.bx_active a{background:#74b226;color:#fff;}.bx_ordercart .bx_item_detail_size_small_noadaptive .bx_size ul li:not(.bx_active):hover a{color:#5ea000;}a.dark_link:hover,.dark_link:hover span,.dl:hover a,.selected a.dark_link,.current a.dark_link{color:#5ea000 !important;}.menu_top_block.catalog_block .dropdown>li.full>.dropdown>li>a,header .menu_top_block.catalogfirst li.full>.dropdown>li:not(.current)>a{color:#5ea000;}.middle_phone .phone_wrap .icons,.top_slider_wrapp .flexslider .slides>li:after{background-color:#67af00;}.basket_fly .basket_wrapp .basket_fly .wraps_icon_block.delay .count span{background-color:#67af00;}.basket_normal .basket_wrapp .wraps_icon_block.basket .count span{background-color:#67af00;}.bx_filter .bx_filter_parameters_box_title:hover:after{color:#5ea000;}.bx_filter .bx_filter_param_label.active .bx_filter_btn_color_icon,.bx_catalog_item_scu ul li.active .cnt_item,.bx_scu_scroller_container ul li.bx_active .cnt_item{box-shadow:0px 0px 0px 2px #fff inset, 0px 0px 0px 2px #67af00;}.bx_filter_vertical input[type="checkbox"]:not(:checked)+label.sku:hover span,.sku_props .bx_item_detail_size ul li:not(.active):hover span,.bx_item_list_you_looked_horizontal .bx_item_detail_size ul li:hover span{color:#5ea000;}.bx_filter_vertical input[type="checkbox"]+label.sku:hover,.sku_props .bx_item_detail_size ul li:hover,.bx_item_list_you_looked_horizontal .bx_item_detail_size ul li:hover{border-color:#5ea000;}.more_text_ajax:after{background-color:#67af00;}.list_item .description_wrapp .like_icons span.added{color:#5ea000;}.bx_ordercart .bx_sort_container a.current:after{background:#8bcb21;}.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_order_pay_center .checkout{color:#67af00;border-color:#5ea000;}.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_order_pay_center .checkout:hover{color:#fff;border-color:#8bcb21;background:#8bcb21;}.button.transparent:not(.text):hover{border-color:#8bcb21;background:#8bcb21;color:#fff;}.button.transparent.grey_br:hover{border-color:#8bcb21;background:#fff;}.bx_ordercart tbody td.control a:first-of-type:hover,.bx_ordercart #basket_items_delayed tbody td.control a:last-of-type:hover,.bx_ordercart #basket_items_subscribed tbody td.control a:first-of-type:hover,.bx_ordercart #basket_items_not_available tbody td.control a:last-of-type:hover,.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_coupon:not(:first-of-type)>span:hover{background-color:#8bcb21;}.bx_ordercart .bx_sort_container a,.bx_item_list_you_looked_horizontal .bx_catalog_item .bx_catalog_item_title a{color:#67af00;}.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blocktwo a,.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blockone a{color:#FFF;background:#67af00;}.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blocktwo a:hover,.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blockone a{background:#74b226;}.sale_order_full_table input[name="BuyButton"]{background-color:#6ab400;}.sale_order_full_table input[name="BuyButton"]{background-color:#74b226;}.bx_ordercart .bx_item_detail_size_small_noadaptive ul li:active a,.bx_ordercart .bx_item_detail_size_small_noadaptive ul li.bx_active a,.bx_ordercart .bx_item_detail_size_small_noadaptive ul li:hover a{border-color:#74b226;}.color_link{color:#5ea000 !important;}117  28695|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/themes/irish_green/theme.css|e03cb5b6a.scroll-to-top.ROUND_COLOR,
a.scroll-to-top.RECT_COLOR {
  background-color: #6DB900;
}
a.scroll-to-top.ROUND_COLOR:hover,
a.scroll-to-top.RECT_COLOR:hover {
  background-color: #76b528;
}
ul li::before {
  color: #6faa00;
}
.basket_print i {
  background-color: #5ea000;
}
.rss_feed_icon {
  background: #6faa00;
  color: #000;
}
.start_promo .item i.title a,
.start_promo .item i.price a,
.start_promo .item i.title span,
.start_promo .item i.price span,
.start_promo .item span.main_wrap i:after,
.start_promo .item p span,
.wrap_tizer .wrap_outer,
.wrap_tizer .wrap_outer .outer_text,
.wrap_tizer .wrap_outer .inner_text {
  background: #6ab400;
}
.start_promo .item i.title span,
.start_promo .item i.price span {
  box-shadow: -4px 1px 0px 4px #6ab400, 4px 1px 0px 4px #6ab400;
}
.start_promo .item i.price span {
  box-shadow: -4px 0px 0px 4px #6ab400, 4px 0px 0px 4px #6ab400;
}
.module-map .infoBox .close_info:hover {
  background-color: #6faa00;
}
#header ul.menu.full > li.search_row #search-submit-button:hover,
#header ul.menu.full > li.search_row #search-submit-button.hover {
  border: transparent;
}
#header .catalog_menu ul.menu > li,
#header ul.menu.adaptive:not(.opened) li.menu_opener,
#header ul.menu.full.opened li:not(.search_row):hover,
#header ul.menu.full.opened li.current {
  border-bottom: 1px solid #3b7200;
}
#header .catalog_menu ul.menu > li:not(.current):not(.stretch):hover {
  border-bottom: 1px solid #4a7700;
  border-right: 1px solid #4a7700;
}
#header ul.menu.full.opened li:not(.search_row):hover,
#header ul.menu.full.opened li.current {
  border-top: 1px solid #6ab400;
}
#header .catalog_menu ul.menu > li.current > a {
  color: #fff;
  border-left: 1px solid #67af00;
}
#header .catalog_menu ul.menu > li {
  border-right: 1px solid #3b7200;
}
.header-cart-block .cart span.icon i {
  background-position: 0px -84px;
}
ul.menu li .child .child_wrapp,
.breadcrumbs .dropdown,
.authorization-cols .form-block {
  border-top: 2px solid #6faa00;
}
.catalog_detail ul.tabs.main_tabs {
  border-bottom: 2px solid #6faa00;
}
ul.menu li b.space,
.breadcrumbs .drop b.space,
.hint .triangle {
  border-bottom: 6px solid #6faa00;
}
.basket_button,
.basket_button span,
.button30,
.button30 span,
.popup .soc-avt .row a {
  color: #fff;
}
#footer .footer_inner .line,
#header .basket_fly .opener .basket_count,
.page_not_found td.image img {
  background: #6faa00;
}
#bx-soa-order-form .btn.btn-default {
  background: #6faa00;
  border-color: #6faa00;
}
#bx-soa-order-form .btn.btn-default:hover {
  background: #74b226;
  border-color: #74b226;
}
ul.tabs li.cur .triangle,
.view-list .view-header i.triangle {
  border-top: 5px solid #5ea000 !important;
}
.basket_button.add span {
  background-position: 0px -6px;
}
.basket_button.read_more span {
  background-position: 1px -448px;
}
.basket_button.added span {
  background-position: 0px -45px;
}
.front_slider_wrapp .extended_pagination > li.active i.triangle {
  border-right-color: #5ea000;
}
.catalog_detail .extended_info a.compare_item i {
  background-position: -32px -65px;
}
.catalog_detail .extended_info a.wish_item i {
  background-position: 3px -72px;
}
.display_list a.compare_item i {
  background-position: -32px -3px;
}
.display_list a.wish_item i {
  background-position: -3px -2px;
}
.display_list a.compare_item:hover i,
.display_list a.compare_item.added i {
  background-position: -32px -65px;
}
.display_list a.wish_item:hover i,
.display_list a.wish_item.added i {
  background-position: -3px -63px;
}
.popup .form .form_head {
  border-bottom-color: #6faa00;
}
.item_slider .thumbs i.triangle {
  border-bottom: 5px solid #6faa00;
}
blockquote:before {
  background-color: #6faa00;
}
.module-gallery-list li .fancy_hover:hover {
  border: 2px solid #6faa00;
}
.smartfilter .bx_ui_slider_track .bx_ui_slider_range,
.bx_filter .bx_ui_slider_pricebar_V {
  background: #6faa00;
}
.catalog_block .catalog_item .basket_button.read_more span {
  background-position: 1px -408px;
}
.catalog_block .catalog_item .basket_button.to-cart span {
  background-position: 0 -7px;
}
.catalog_block .catalog_item:hover .basket_button span {
  color: #fff;
  background-position: 0px -87px;
}
.catalog_block .catalog_item:hover .basket_button.read_more span {
  background-position: 1px -448px !important;
}
.catalog_item .basket_button.in-cart span,
.basket_button.in-cart span {
  background-position: 0px -127px !important;
}
.catalog_item:hover .basket_button.added span {
  color: #fff;
}
.bx_filter_container #modef .triangle,
.left_block .internal_sections_list .child_wrapp .triangle {
  border-right: 6px solid #6faa00;
}
#order_form_div .sale_order_table .ps_logo img:hover,
#order_form_div .sale_order_table .ps_logo input[type=radio]:checked + label img,
#order_form_div .sale_order_table.delivery label:hover img,
#order_form_div .sale_order_table.delivery input[type=radio]:checked + label img,
#order_form_div div.ps_logo.selected img,
#order_form_div .account label:hover img,
#order_form_div .account img.active {
  border: 2px solid #6faa00;
}
.front_slider_wrapp .extended_pagination > li.active span,
a.b-share-popup__item:hover .b-share-popup__item__text {
  color: #fff !important;
}
ul.tabs li.cur span,
ul.tabs li.cur:hover span,
.front_slider_wrapp a.read_more {
  color: #fff;
}
.left_menu > li.current >a,
.left_menu > li:not(.exit):hover {
  background: #6faa00;
}
a i.arrow b {
  background-position: -36px 0px;
}
.top-h-row .search #search-submit-button:hover i,
.top-h-row .search #search-submit-button.hover i {
  background-position: top center;
}
.catalog_detail a.compare_item:hover .icon i {
  background-position: -32px -65px;
}
.catalog_detail a.wish_item:hover .icon i {
  background-position: 2px -45px;
}
ul.menu li.current a i {
  background-position: -61px 0px;
}
.button30.ask_question span.show_form,
.button30.ask_question span.hide_form {
  background-position: 5px -605px;
}
.button30.ask_question span.hide_form {
  color: #000;
}
.button30.ask_question span.hide_form:hover {
  color: #fff;
}
.question-list .q .ic b {
  background-position: -38px -188px;
}
.question-list .q.op .ic b {
  background-position: -8px -188px;
}
.number_list a.current span {
  color: #fff !important;
}
.basket_button span,
.compare_button span {
  background-position: 0px -87px;
}
.bx_filter_container_title .hint.active .hint_icon,
.bx_filter_container_title .hint.active .hint_icon,
.bx_filter_container_title .hint.active .hint_icon:hover,
#header .basket_fly .opener .basket_count:not(.empty) .count {
  color: #fff;
}
.left_block .internal_sections_list li.item:hover > a,
.left_block .internal_sections_list li.item.cur > a {
  color: #fff;
}
.left_block .internal_sections_list li * {
  -webkit-transition: none;
  -moz-transition: none;
  -o-transition: none;
  transition: none;
}
a.compare_item i {
  background-position: -31px -1px;
}
a.wish_item i {
  background-position: -2px -1px;
}
a.compare_item:hover i {
  background-position: -31px -33px;
}
a.wish_item:hover i {
  background-position: -2px -32px;
}
a.compare_item.added i {
  background-position: -31px -63px;
}
a.wish_item.added i {
  background-position: -2px -62px;
}
.module_products_list .basket_button.to-cart span {
  background-position: 0 -7px;
}
.module_products_list .basket_button.to-cart:hover span {
  background-position: 0px -87px;
}
.basket_button.in-cart span {
  background-position: 0px -127px;
}
.popup .close:hover i,
.popup .grey .close i,
.popup-window-close-icon.popup-window-titlebar-close-icon:hover:after {
  background-position: -1px -59px;
}
.card_popup_frame.popup .but_row a.to_basket .icon i {
  background-position: -5px -170px;
}
.soc-serv-main .button30 span,
.reviews-expanded .button30.add_review span,
.catalog_detail .basket_button.one_click span,
.button30.review_preview span,
.popup .grey .pop-up-title {
  color: #000;
  text-shadow: 0 1px 0px rgba(255,255,255,0.5);
  -moz-text-shadow: 0 1px 0px rgba(255,255,255,0.5);
  -o-text-shadow: 0 1px 0px rgba(255,255,255,0.5);
  -webkit-text-shadow: 0 1px 0px rgba(255,255,255,0.5);
}
.module-order-history .status.delivered {
  color: #fff;
}
.jobs_wrapp .item a:not(.opened):hover .icon i,
.staff_wrapp .section .section_title:not(.opened):hover .icon i {
  background-position: -31px -33px;
}
.jobs_wrapp .item a.opened:hover .icon i,
.staff_wrapp .section .section_title.opened:hover .icon i {
  background-position: 0 -34px;
}
.button30.add_review span {
  background-position: 4px -286px;
}
.button30.send_review span {
  background-position: 4px -365px;
}
.card_popup_frame.popup .but_row a.to_delay .icon i {
  background-position: -48px -257px;
}
.compare_button span {
  background-position: -32px -64px;
}
#header .basket_fly .opener .basket_count .icon i {
  background-position: -7px -89px;
}
#header .basket_fly .opener .basket_count.empty:hover .icon i {
  background-position: -7px -47px;
}
#header .basket_fly .opener .basket_count.empty .icon i {
  background-position: -7px -5px;
}
#header .basket_fly .opener .wish_count .icon i {
  background-position: -48px -424px;
}
#header .basket_fly .opener .wish_count:hover .icon i {
  background-position: -48px -383px;
}
ul.menu li a {
  color: #000;
}
.catalog_menu ul.menu li a {
  color: #fff;
}
ul.menu li a i {
  background-position: -2px -20px;
}
.catalog_menu ul.menu li a i {
  background-position: -61px 0px;
}
a i.arrow.down b {
  background-position: -36px -35px;
}
.catalog_item:hover .basket_button span {
  color: #fff;
}
ul.specials_slider .basket_button span {
  background-position: 0 -7px;
}
ul.specials_slider .basket_button:hover span,
ul.specials_slider li:hover .basket_button span {
  background-position: 0px -87px;
}
ul.specials_slider  .basket_button.read_more span {
  background-position: 1px -408px;
}
ul.specials_slider li:hover .basket_button.read_more span {
  background-position: 1px -448px !important;
}
.top_slider_wrapp .flex-direction-nav li a.flex-next {
  background-position: -58px -60px;
}
.top_slider_wrapp .flex-direction-nav li:hover a.flex-prev {
  background-position: -3px -60px;
}
.top_slider_wrapp .flex-direction-nav li a.flex-prev {
  background-position: -3px 0px;
}
#header .basket_fly .opener .wish_count.empty:hover .icon i {
  background-position: -48px -341px;
}
#header .basket_fly .opener .wish_count.empty .icon i {
  background-position: -48px -299px;
}
#bx-soa-order .bx-soa-section .bx-soa-section-title:before {
  background-color: #6DB900;
}
#bx-soa-order div[class*=bx-sls] .quick-locations .quick-location-tag {
  border-color: #6DB900;
  color: #6DB900;
}
#bx-soa-order div[class*=bx-sls] .quick-locations .quick-location-tag:hover {
  background-color: #6DB900;
  color: #fff;
}
#bx-soa-order .bx-soa .form-group .radio-inline.checked label:before,
#bx-soa-order .bx-soa .form-group .radio-inline label:hover:before,
#bx-soa-order .bx-soa-pp-company:hover .bx-soa-pp-company-graf-container:before,
#bx-soa-order .bx-soa-pp-company.bx-selected .bx-soa-pp-company-graf-container:before {
  background-color: #6DB900;
}
#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company.bx-selected .bx-soa-pp-company-graf-container,
#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company:hover .bx-soa-pp-company-graf-container {
  border-color: #6DB900;
}
#bx-soa-order .bx-soa-pp-desc-container .bx-soa-pp-company:before,
#bx-soa-order .bx-soa-pp-desc-container .checkbox label:hover:before,
#bx-soa-order .bx-soa-pp-desc-container .checkbox label.checked:before {
  background-color: #6DB900;
}
#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company:hover .bx-soa-pp-company-smalltitle,
#bx-soa-order .bx-soa-more .bx-soa-more-btn .pull-left {
  color: #6DB900;
}
#bx-soa-order .bx-soa-coupon-input:hover:after,
#bx-soa-order .bx-soa-coupon-item .bx-soa-coupon-remove:hover {
  background-color: #6DB900;
}
#bx-soa-order div[class*=bx-sls] .bx-ui-sls-clear:hover:before {
  background-color: #6DB900;
}
@media all and (max-width: 950px) {
  .header_wrap.colored #header .center_block .main-nav {
    background: #6ab400;
  }
}
@media all and (max-width: 768px) {
  body .top_slider_wrapp .flex-direction-nav li a {
    background-image: url(../../images/arrows_big.png);
  }
  body .top_slider_wrapp .flex-direction-nav li a.flex-next {
    background-position: -30px -94px;
  }
  body .top_slider_wrapp .flex-direction-nav li a.flex-prev {
    background-position: 0 -127px;
  }
  body .top_slider_wrapp .flex-direction-nav li a.flex-prev:hover {
    background-position: 0 -94px;
  }
  body .flex-control-paging li a.flex-active,
  body .flex-control-paging li:hover a:not(.touch) {
    background: #6ab400;
    background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzAwYWFlMiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMwMDhmYzciIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);
    background: -moz-linear-gradient(top,#6ab400 0%,#569a00 100%);
    background: -webkit-gradient(linear,left top,left bottom,color-stop(0%,#6ab400),color-stop(100%,#569a00));
    background: -webkit-linear-gradient(top,#6ab400 0%,#569a00 100%);
    background: -o-linear-gradient(top,#6ab400 0%,#569a00 100%);
    background: -ms-linear-gradient(top,#6ab400 0%,#569a00 100%);
    background: linear-gradient(to bottom,#6ab400 0%,#569a00 100%);
    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='@bcolor_00aae2',endColorstr='@bcolor_008fc7',GradientType=0);
  }
}
@media all and (max-width: 600px) {
  #header ul.menu.full.opened > li,
  .has_menu #header .center_block .main-nav {
    background-color: #6ab400;
  }
  .has_menu #header .center_block .main-nav:hover {
    background: #8bcb21 none repeat scroll 0 0;
  }
  #header ul.menu.full.opened li.current {
    background: #569a00;
  }
}
@media all and (max-width: 550px) {
  body #footer .footer_inner .line {
    border-top: 4px solid #6faa00;
  }
  .basket_wrapp .empty_cart:not(.bcart) .wraps_icon_block.basket .count span,
  .basket_wrapp .basket_empty .wraps_icon_block.basket .count span {
    color: #FFF;
    background: #6ab400;
  }
}
#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li:hover>a,
#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li.opened>a,
#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li.current > a {
  background: #8bcb21;
}
#header .wrapper_middle_menu.wrap_menu ul.menu.opened > li {
  background: #5ea000;
}
.button.transparent,
.h_color_white .header_wrap .menu > li.current > a span,
.h_color_white.wrapper #header ul.menu li .child .child_wrapp,
.m_color_white.wrapper #header ul.menu li .child .child_wrapp,
.basket_normal .popup.card_popup_frame .basket_popup_wrapp,
.basket_sort ul.tabs li.cur div,
.smartfilter .bx_ui_slider_track .bx_ui_slider_handle,
.bx_filter .button,
.bx_filter_vertical input[type="checkbox"]:checked + label.sku,
.sku_props .bx_item_detail_size ul li.active,
.bx_size_scroller_container .bx_size ul li.bx_active,
.bx_filter .bx_filter_param_label.active .bx_filter_param_btn,
.bx_catalog_item_scu .bx_item_detail_scu ul li.active span.cnt,
.item_slider .thumbs li.current,
.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-left-column,
.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-center-column,
.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-right-column,
.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-left-column,
.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-center-column,
.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-right-column,
.bx_element input[type=radio]:checked + label .bx_logotype,
.bx_element label.selected .bx_logotype {
  border-color: #74b226;
}
a,
.link,
.button.transparent,
.button.transparent:hover,
.specials_slider_wrapp ul.tabs > li span,
.tab_slider_wrapp ul.tabs > li span,
.basket_wrapp .basket_block .link:hover + .wraps_icon_block + .text .title,
.stores .stores_list .item a span,
.phones .order_wrap_btn,
.footer_bottom .all_menu_block ul li a:hover,
.footer_bottom .submenu_top .menu_item a:hover,
.avtorization-call.enter:hover span,
.top-h-row .h-user-block a:hover,
ul.menu .child li.menu_item a,
#header .catalog_menu ul.menu > li.current > a,
ul.menu .child .depth3 a,
ul.menu .child li.menu_title a:hover,
#header ul.menu li .child.submenu .child_wrapp a:not(.title),
.img_block_capcha .reload,
.h_color_white .center_block .menu.full > li:hover > a,
.m_color_white #header .wrapper_middle_menu .menu.bottom > li:hover > a,
.m_color_white #header .wrapper_middle_menu .menu.bottom > li.hover > a,
body #header ul.menu li .child.line .child_wrapp > a:hover,
.basket_sort ul.tabs li .wrap_li > span *,
.basket_sort ul.tabs li .wrap_li > span,
.bx_filter_parameters_box_title:hover,
.bx_filter .bx_filter_popup_result a,
.left_block .internal_sections_list .child_wrapp .child li.cur > a,
.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item.cur,
.left_block .internal_sections_list .child_wrapp a:hover,
.ajax_load_btn:hover .more_text_ajax,
.breadcrumbs a:hover span,
.tabs-head li.current span,
.item-stock .store_view,
.reviews-post-reply-buttons a:hover,
h4.hover,
.button.transparent.white:hover,
.button.white_bg,
.item .child_container .child_wrapp .menu_item.current a,
.item .child_container .child_wrapp .menu_item:hover a {
  color: #5ea000;
}
button.button,
input.button,
.button,
#header ul.menu.full.opened li:not(.search_row):hover,
#header ul.menu.full > li.search_row #search-submit-button:hover,
table.title-search-result td.title-search-all a .icon,
.flex-direction-nav li:hover,
.flex-direction-nav li:first-child:hover,
.top_slider_wrapp .flex-direction-nav li:hover,
.like_icons .wish_item.added,
.like_icons .compare_item.added,
.light .stores .all_map,
.block_wr.dark,
.popup .close:hover,
.header_wrap #header .middle-h-row .logo_wrapp .logo a,
.h_color_colored .header_wrap #header,
.registraion-page .top p:after,
.has_menu.m_color_colored #header .catalog_menu,
.module-cart .remove-cell a:hover,
.cart_shell .remove-cell a:hover,
.bx_item_set_hor .bx_item_set_hor_item a.remove,
.bx_filter .bx_filter_popup_result,
.bx_filter .bx_filter_parameters_box_title:before,
.bx_filter_vertical input[type="checkbox"] + label:before,
.filter input[type="checkbox"] + label:before,
.filter input[type="radio"] + label:before,
.bx_filter label.pal:hover .bx_filter_param_btn,
.bx_filter .bx_filter_param_label.active .bx_filter_param_btn,
.bx_filter_vertical input[type="checkbox"]:checked + label.sku,
.left_block .internal_sections_list li.cur,
.left_block .internal_sections_list li:hover,
.left_block .internal_sections_list .title .inner_block:hover:before,
.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item.cur:before,
.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item:hover:before,
.left_block .internal_sections_list .child_wrapp ul.child li.cur:after,
.left_block .internal_sections_list .child_wrapp ul.child li:hover:after,
body #content .props_list tr td > span:before,
body #content .props_list tr td > .txt:before,
.module-pagination .nums .cur,
.more_text_ajax:before,
.captcha_reload:before,
.sku_props .bx_item_detail_size ul li.active,
.bx_size_scroller_container .bx_size ul li.bx_active,
.bx_catalog_item_scu .bx_item_detail_scu ul li.active span:not(.cnt_item),
.ik_select_list .ik_select_list_inner ul li.ik_select_active,
.bx_filter_select_popup ul li label.selected,
.filter_opener.opened,
.no_goods .no_products:before,
.wr_scrollbar .scrollbar .handle,
.remove:hover,
a i.arrow,
.popup-window-close-icon.popup-window-titlebar-close-icon:hover,
.bx_kit_item .bx_kit_item_add,
.catalog_detail .offers_table td.opener:hover .opener_icon,
.opener_icon:hover,
.char_name .hint .icon:hover,
.char_name .hint.active .icon,
.location-block-wrapper .bx-sls .bx-ui-sls-clear:before,
h4:hover .opener_icon,
.bg_block:before,
#order_form_div input[type="submit"],
.module-order-history .item_name:hover .icon,
.module-order-history .item_name:hover .icon,
.faq.list .item .q:hover .opener_icon,
.jobs_wrapp .item .name tr:hover .opener_icon {
  color: #FFF;
  background: #6ab400;
}
.catalog_detail .bx-modal-container .btn.btn-add {
  color: #FFF;
  background: #6ab400;
}
.catalog_detail .bx-modal-container .btn.btn-add:hover {
  background: #74b226;
}
.colored #header .catalog_menu ul.menu > li,
header .wrap_menu {
  background: #64aa00;
}
#header .catalog_menu ul.menu > li .dropdown >li.current a {
  background: #5b9a00;
}
.tabs-head li.current:before {
  background-color: #6ab400;
}
.like_icons .compare_item.added i,
.like_icons .wish_item.added i {
  background-color: #6ab400;
}
.icon_error_block:after {
  background-color: #6ab400 !important;
}
.flex-direction-nav li:first-child,
.flex-direction-nav li,
.flex-direction-nav li:hover {
  border-bottom-width: 0px;
}
.specials_slider_wrapp ul.tabs li.cur span,
.tab_slider_wrapp ul.tabs li.cur span,
.popup .popup-intro {
  border-bottom-color: #74b226;
}
.button:hover,
.like_icons .compare_item.added:hover,
.like_icons .wish_item.added:hover,
.light .stores .all_map:hover {
  background: #74b226;
}
.like_icons .compare_item.added:hover i,
.like_icons .wish_item.added:hover i {
  background-color: #74b226;
}
.wrapper_middle_menu.wrap_menu.mobile:hover {
  background: #74b226;
}
.header_wrap #header .catalog_menu.menu_colored .inc_menu  ul.menu > li:not(.current):hover > a {
  background: #76c800;
}
header .menu_top_block li .dropdown>li:hover>a,
header .menu_top_block li:not(.catalog) .dropdown>li.current >a:not(.section),
header .menu_top_block li.catalog>.dropdown>li:hover>a:before {
  background: #6DB900;
}
header .menu_colored .menu_top_block >li.current >a,
header .menu_dark .menu_top_block.menu >li.current >a,
header .menu_dark .menu_top_block.menu >li.current:hover >a,
.menu_top_block.catalog_block .dropdown >li.full:hover>a:before,
.menu_top_block.catalog_block .dropdown >li.full.current>a,
header .menu_top_block li.catalog>.dropdown>li.current>a,
.left_menu > li.current> a,
.left_menu > li:hover> a:before {
  background: #5b9a00;
}
header .menu_top_block >li.catalog >a,
header .menu_top_block >li.catalog.current >a,
header .menu_top_block >li.catalog {
  background-color: #6DB900;
}
header .catalog_menu .menu_top_block.menu li.catalog li.full.current >a:after,
header .catalog_menu .menu_top_block.menu li.catalog li.full:hover >a:after,
.menu_top_block.catalog_block .dropdown >li.full:hover>a:after,
.left_menu > li.has-childs:hover> a:after {
  color: #67af00;
}
header .menu_top_block li .dropdown>li.menu_item>a:hover,
.menu_top_block.catalog_block .dropdown>li.full>.dropdown>li>a:not(.section):hover,
.menu_top_block.catalog_block .dropdown>li.full:hover>a,
.left_menu > li:hover> a {
  color: #5ea000;
}
.phone_block .phone_wrap .icons {
  color: #5ea000;
}
header .menu_top_block li.catalog>.dropdown>li:hover>a,
header .menu_top_block li.catalog>.dropdown>li>.dropdown>li.current>a:not(.section) {
  color: #5ea000;
}
header .menu_top_block li .dropdown>li.current >a.section1,
.menu_top_block li .dropdown>li >a.section1:hover,
#header .catalog_menu.menu_light ul.menu > li.current > a,
#header .catalog_menu.menu_light ul.menu > li:hover > a {
  color: #5ea000;
}
.subscribe-form:before {
  background: #67af00;
}
.subscribe-form input.send_btn {
  background-color: #67af00;
}
.bx_ordercart .bx_ordercart_order_pay .bx_bt_button {
  background: #67af00;
}
.subscribe-form input.send_btn:hover {
  background-color: #74b226;
}
.bx_ordercart .bx_ordercart_order_pay .bx_bt_button:hover {
  background: #74b226;
}
.bx_ordercart .bx_item_detail_size_small_noadaptive .bx_size ul li.bx_active a {
  background: #74b226;
  color: #fff;
}
.bx_ordercart .bx_item_detail_size_small_noadaptive .bx_size ul li:not(.bx_active):hover a {
  color: #5ea000;
}
a.dark_link:hover,
.dark_link:hover span,
.dl:hover a,
.selected a.dark_link,
.current a.dark_link {
  color: #5ea000 !important;
}
.menu_top_block.catalog_block .dropdown>li.full>.dropdown>li>a,
header .menu_top_block.catalogfirst li.full>.dropdown>li:not(.current)>a {
  color: #5ea000;
}
.middle_phone .phone_wrap .icons,
.top_slider_wrapp .flexslider .slides > li:after {
  background-color: #67af00;
}
.basket_fly .basket_wrapp .basket_fly .wraps_icon_block.delay .count span {
  background-color: #67af00;
}
.basket_normal .basket_wrapp .wraps_icon_block.basket .count span {
  background-color: #67af00;
}
.bx_filter .bx_filter_parameters_box_title:hover:after {
  color: #5ea000;
}
.bx_filter .bx_filter_param_label.active .bx_filter_btn_color_icon,
.bx_catalog_item_scu ul li.active .cnt_item,
.bx_scu_scroller_container ul li.bx_active .cnt_item {
  box-shadow: 0px 0px 0px 2px #fff inset, 0px 0px 0px 2px #67af00;
}
.bx_filter_vertical input[type="checkbox"]:not(:checked) + label.sku:hover span,
.sku_props .bx_item_detail_size ul li:not(.active):hover span,
.bx_item_list_you_looked_horizontal .bx_item_detail_size ul li:hover span {
  color: #5ea000;
}
.bx_filter_vertical input[type="checkbox"] + label.sku:hover,
.sku_props .bx_item_detail_size ul li:hover,
.bx_item_list_you_looked_horizontal .bx_item_detail_size ul li:hover {
  border-color: #5ea000;
}
.more_text_ajax:after {
  background-color: #67af00;
}
.list_item .description_wrapp .like_icons span.added {
  color: #5ea000;
}
.bx_ordercart .bx_sort_container a.current:after {
  background: #8bcb21;
}
.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_order_pay_center .checkout {
  color: #67af00;
  border-color: #5ea000;
}
.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_order_pay_center .checkout:hover {
  color: #fff;
  border-color: #8bcb21;
  background: #8bcb21;
}
.button.transparent:not(.text):hover {
  border-color: #8bcb21;
  background: #8bcb21;
  color: #fff;
}
.button.transparent.grey_br:hover {
  border-color: #8bcb21;
  background: #fff;
}
.bx_ordercart tbody td.control a:first-of-type:hover,
.bx_ordercart #basket_items_delayed tbody td.control a:last-of-type:hover,
.bx_ordercart #basket_items_subscribed  tbody td.control a:first-of-type:hover,
.bx_ordercart #basket_items_not_available  tbody td.control a:last-of-type:hover,
.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_coupon:not(:first-of-type) > span:hover {
  background-color: #8bcb21;
}
.bx_ordercart .bx_sort_container a,
.bx_item_list_you_looked_horizontal .bx_catalog_item .bx_catalog_item_title a {
  color: #67af00;
}
.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blocktwo a,
.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blockone a {
  color: #FFF;
  background: #67af00;
}
.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blocktwo a:hover,
.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blockone a {
  background: #74b226;
}
.sale_order_full_table input[name="BuyButton"] {
  background-color: #6ab400;
}
.sale_order_full_table input[name="BuyButton"] {
  background-color: #74b226;
}
.bx_ordercart .bx_item_detail_size_small_noadaptive ul li:active a,
.bx_ordercart .bx_item_detail_size_small_noadaptive ul li.bx_active a,
.bx_ordercart .bx_item_detail_size_small_noadaptive ul li:hover a {
  border-color: #74b226;
}
.color_link {
  color: #5ea000 !important;
}
116  25956|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/themes/orchid/theme.min.css|6c2f6db0a.scroll-to-top.ROUND_COLOR,a.scroll-to-top.RECT_COLOR{background-color:#D75CB6;}a.scroll-to-top.ROUND_COLOR:hover,a.scroll-to-top.RECT_COLOR:hover{background-color:#c097b4;}ul li::before{color:#d54fba;}.basket_print i{background-color:#d346ad;}.rss_feed_icon{background:#d54fba;color:#000;}.start_promo .item i.title a,.start_promo .item i.price a,.start_promo .item i.title span,.start_promo .item i.price span,.start_promo .item span.main_wrap i:after,.start_promo .item p span,.wrap_tizer .wrap_outer,.wrap_tizer .wrap_outer .outer_text,.wrap_tizer .wrap_outer .inner_text{background:#d757b5;}.start_promo .item i.title span,.start_promo .item i.price span{box-shadow:-4px 1px 0px 4px #d757b5, 4px 1px 0px 4px #d757b5;}.start_promo .item i.price span{box-shadow:-4px 0px 0px 4px #d757b5, 4px 0px 0px 4px #d757b5;}.module-map .infoBox .close_info:hover{background-color:#d54fba;}#header ul.menu.full>li.search_row #search-submit-button:hover,#header ul.menu.full>li.search_row #search-submit-button.hover{border:transparent;}#header .catalog_menu ul.menu>li,#header ul.menu.adaptive:not(.opened) li.menu_opener,#header ul.menu.full.opened li:not(.search_row):hover,#header ul.menu.full.opened li.current{border-bottom:1px solid #be2d8e;}#header .catalog_menu ul.menu>li:not(.current):not(.stretch):hover{border-bottom:1px solid #c22ea0;border-right:1px solid #c22ea0;}#header ul.menu.full.opened li:not(.search_row):hover,#header ul.menu.full.opened li.current{border-top:1px solid #d757b5;}#header .catalog_menu ul.menu>li.current>a{color:#fff;border-left:1px solid #d653b3;}#header .catalog_menu ul.menu>li{border-right:1px solid #be2d8e;}.header-cart-block .cart span.icon i{background-position:0px -84px;}ul.menu li .child .child_wrapp,.breadcrumbs .dropdown,.authorization-cols .form-block{border-top:2px solid #d54fba;}.catalog_detail ul.tabs.main_tabs{border-bottom:2px solid #d54fba;}ul.menu li b.space,.breadcrumbs .drop b.space,.hint .triangle{border-bottom:6px solid #d54fba;}.basket_button,.basket_button span,.button30,.button30 span,.popup .soc-avt .row a{color:#fff;}#footer .footer_inner .line,#header .basket_fly .opener .basket_count,.page_not_found td.image img{background:#d54fba;}#bx-soa-order-form .btn.btn-default{background:#d54fba;border-color:#d54fba;}#bx-soa-order-form .btn.btn-default:hover{background:#bf93b2;border-color:#bf93b2;}ul.tabs li.cur .triangle,.view-list .view-header i.triangle{border-top:5px solid #d346ad !important;}.basket_button.add span{background-position:0px -6px;}.basket_button.read_more span{background-position:1px -448px;}.basket_button.added span{background-position:0px -45px;}.front_slider_wrapp .extended_pagination>li.active i.triangle{border-right-color:#d346ad;}.catalog_detail .extended_info a.compare_item i{background-position:-32px -65px;}.catalog_detail .extended_info a.wish_item i{background-position:3px -72px;}.display_list a.compare_item i{background-position:-32px -3px;}.display_list a.wish_item i{background-position:-3px -2px;}.display_list a.compare_item:hover i,.display_list a.compare_item.added i{background-position:-32px -65px;}.display_list a.wish_item:hover i,.display_list a.wish_item.added i{background-position:-3px -63px;}.popup .form .form_head{border-bottom-color:#d54fba;}.item_slider .thumbs i.triangle{border-bottom:5px solid #d54fba;}blockquote:before{background-color:#d54fba;}.module-gallery-list li .fancy_hover:hover{border:2px solid #d54fba;}.smartfilter .bx_ui_slider_track .bx_ui_slider_range,.bx_filter .bx_ui_slider_pricebar_V{background:#d54fba;}.catalog_block .catalog_item .basket_button.read_more span{background-position:1px -408px;}.catalog_block .catalog_item .basket_button.to-cart span{background-position:0 -7px;}.catalog_block .catalog_item:hover .basket_button span{color:#fff;background-position:0px -87px;}.catalog_block .catalog_item:hover .basket_button.read_more span{background-position:1px -448px !important;}.catalog_item .basket_button.in-cart span,.basket_button.in-cart span{background-position:0px -127px !important;}.catalog_item:hover .basket_button.added span{color:#fff;}.bx_filter_container #modef .triangle,.left_block .internal_sections_list .child_wrapp .triangle{border-right:6px solid #d54fba;}#order_form_div .sale_order_table .ps_logo img:hover,#order_form_div .sale_order_table .ps_logo input[type=radio]:checked+label img,#order_form_div .sale_order_table.delivery label:hover img,#order_form_div .sale_order_table.delivery input[type=radio]:checked+label img,#order_form_div div.ps_logo.selected img,#order_form_div .account label:hover img,#order_form_div .account img.active{border:2px solid #d54fba;}.front_slider_wrapp .extended_pagination>li.active span,a.b-share-popup__item:hover .b-share-popup__item__text{color:#fff !important;}ul.tabs li.cur span,ul.tabs li.cur:hover span,.front_slider_wrapp a.read_more{color:#fff;}.left_menu>li.current>a,.left_menu>li:not(.exit):hover{background:#d54fba;}a i.arrow b{background-position:-36px 0px;}.top-h-row .search #search-submit-button:hover i,.top-h-row .search #search-submit-button.hover i{background-position:top center;}.catalog_detail a.compare_item:hover .icon i{background-position:-32px -65px;}.catalog_detail a.wish_item:hover .icon i{background-position:2px -45px;}ul.menu li.current a i{background-position:-61px 0px;}.button30.ask_question span.show_form,.button30.ask_question span.hide_form{background-position:5px -605px;}.button30.ask_question span.hide_form{color:#000;}.button30.ask_question span.hide_form:hover{color:#fff;}.question-list .q .ic b{background-position:-38px -188px;}.question-list .q.op .ic b{background-position:-8px -188px;}.number_list a.current span{color:#fff !important;}.basket_button span,.compare_button span{background-position:0px -87px;}.bx_filter_container_title .hint.active .hint_icon,.bx_filter_container_title .hint.active .hint_icon,.bx_filter_container_title .hint.active .hint_icon:hover,#header .basket_fly .opener .basket_count:not(.empty).count{color:#fff;}.left_block .internal_sections_list li.item:hover>a,.left_block .internal_sections_list li.item.cur>a{color:#fff;}.left_block .internal_sections_list li *{-webkit-transition:none;-moz-transition:none;-o-transition:none;transition:none;}a.compare_item i{background-position:-31px -1px;}a.wish_item i{background-position:-2px -1px;}a.compare_item:hover i{background-position:-31px -33px;}a.wish_item:hover i{background-position:-2px -32px;}a.compare_item.added i{background-position:-31px -63px;}a.wish_item.added i{background-position:-2px -62px;}.module_products_list .basket_button.to-cart span{background-position:0 -7px;}.module_products_list .basket_button.to-cart:hover span{background-position:0px -87px;}.basket_button.in-cart span{background-position:0px -127px;}.popup .close:hover i,.popup .grey .close i,.popup-window-close-icon.popup-window-titlebar-close-icon:hover:after{background-position:-1px -59px;}.card_popup_frame.popup .but_row a.to_basket .icon i{background-position:-5px -170px;}.soc-serv-main .button30 span,.reviews-expanded .button30.add_review span,.catalog_detail .basket_button.one_click span,.button30.review_preview span,.popup .grey .pop-up-title{color:#000;text-shadow:0 1px 0px rgba(255,255,255,0.5);-moz-text-shadow:0 1px 0px rgba(255,255,255,0.5);-o-text-shadow:0 1px 0px rgba(255,255,255,0.5);-webkit-text-shadow:0 1px 0px rgba(255,255,255,0.5);}.module-order-history .status.delivered{color:#fff;}.jobs_wrapp .item a:not(.opened):hover .icon i,.staff_wrapp .section .section_title:not(.opened):hover .icon i{background-position:-31px -33px;}.jobs_wrapp .item a.opened:hover .icon i,.staff_wrapp .section .section_title.opened:hover .icon i{background-position:0 -34px;}.button30.add_review span{background-position:4px -286px;}.button30.send_review span{background-position:4px -365px;}.card_popup_frame.popup .but_row a.to_delay .icon i{background-position:-48px -257px;}.compare_button span{background-position:-32px -64px;}#header .basket_fly .opener .basket_count .icon i{background-position:-7px -89px;}#header .basket_fly .opener .basket_count.empty:hover .icon i{background-position:-7px -47px;}#header .basket_fly .opener .basket_count.empty .icon i{background-position:-7px -5px;}#header .basket_fly .opener .wish_count .icon i{background-position:-48px -424px;}#header .basket_fly .opener .wish_count:hover .icon i{background-position:-48px -383px;}ul.menu li a{color:#000;}.catalog_menu ul.menu li a{color:#fff;}ul.menu li a i{background-position:-2px -20px;}.catalog_menu ul.menu li a i{background-position:-61px 0px;}a i.arrow.down b{background-position:-36px -35px;}.catalog_item:hover .basket_button span{color:#fff;}ul.specials_slider .basket_button span{background-position:0 -7px;}ul.specials_slider .basket_button:hover span,ul.specials_slider li:hover .basket_button span{background-position:0px -87px;}ul.specials_slider .basket_button.read_more span{background-position:1px -408px;}ul.specials_slider li:hover .basket_button.read_more span{background-position:1px -448px !important;}.top_slider_wrapp .flex-direction-nav li a.flex-next{background-position:-58px -60px;}.top_slider_wrapp .flex-direction-nav li:hover a.flex-prev{background-position:-3px -60px;}.top_slider_wrapp .flex-direction-nav li a.flex-prev{background-position:-3px 0px;}#header .basket_fly .opener .wish_count.empty:hover .icon i{background-position:-48px -341px;}#header .basket_fly .opener .wish_count.empty .icon i{background-position:-48px -299px;}#bx-soa-order .bx-soa-section .bx-soa-section-title:before{background-color:#D75CB6;}#bx-soa-order div[class*=bx-sls] .quick-locations .quick-location-tag{border-color:#D75CB6;color:#D75CB6;}#bx-soa-order div[class*=bx-sls] .quick-locations .quick-location-tag:hover{background-color:#D75CB6;color:#fff;}#bx-soa-order .bx-soa .form-group .radio-inline.checked label:before,#bx-soa-order .bx-soa .form-group .radio-inline label:hover:before,#bx-soa-order .bx-soa-pp-company:hover .bx-soa-pp-company-graf-container:before,#bx-soa-order .bx-soa-pp-company.bx-selected .bx-soa-pp-company-graf-container:before{background-color:#D75CB6;}#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company.bx-selected .bx-soa-pp-company-graf-container,#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company:hover .bx-soa-pp-company-graf-container{border-color:#D75CB6;}#bx-soa-order .bx-soa-pp-desc-container .bx-soa-pp-company:before,#bx-soa-order .bx-soa-pp-desc-container .checkbox label:hover:before,#bx-soa-order .bx-soa-pp-desc-container .checkbox label.checked:before{background-color:#D75CB6;}#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company:hover .bx-soa-pp-company-smalltitle,#bx-soa-order .bx-soa-more .bx-soa-more-btn .pull-left{color:#D75CB6;}#bx-soa-order .bx-soa-coupon-input:hover:after,#bx-soa-order .bx-soa-coupon-item .bx-soa-coupon-remove:hover{background-color:#D75CB6;}#bx-soa-order div[class*=bx-sls] .bx-ui-sls-clear:hover:before{background-color:#D75CB6;}@media all and (max-width:950px){.header_wrap.colored #header .center_block .main-nav{background:#d757b5;}}@media all and (max-width:768px){body .top_slider_wrapp .flex-direction-nav li a{background-image:url(../../images/arrows_big.png);}body .top_slider_wrapp .flex-direction-nav li a.flex-next{background-position:-30px -94px;}body .top_slider_wrapp .flex-direction-nav li a.flex-prev{background-position:0 -127px;}body .top_slider_wrapp .flex-direction-nav li a.flex-prev:hover{background-position:0 -94px;}body .flex-control-paging li a.flex-active, body .flex-control-paging li:hover a:not(.touch){background:#d757b5;background:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzAwYWFlMiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMwMDhmYzciIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);background:-moz-linear-gradient(top,#d757b5 0%,#d242a7 100%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0%,#d757b5),color-stop(100%,#d242a7));background:-webkit-linear-gradient(top,#d757b5 0%,#d242a7 100%);background:-o-linear-gradient(top,#d757b5 0%,#d242a7 100%);background:-ms-linear-gradient(top,#d757b5 0%,#d242a7 100%);background:linear-gradient(to bottom,#d757b5 0%,#d242a7 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='@bcolor_00aae2',endColorstr='@bcolor_008fc7',GradientType=0);}}@media all and (max-width:600px){#header ul.menu.full.opened>li, .has_menu #header .center_block .main-nav{background-color:#d757b5;}.has_menu #header .center_block .main-nav:hover{background:#cc9ac0 none repeat scroll 0 0;}#header ul.menu.full.opened li.current{background:#d242a7;}}@media all and (max-width:550px){body #footer .footer_inner .line{border-top:4px solid #d54fba;}.basket_wrapp .empty_cart:not(.bcart).wraps_icon_block.basket .count span, .basket_wrapp .basket_empty .wraps_icon_block.basket .count span{color:#FFF;background:#d757b5;}}#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li:hover>a,#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li.opened>a,#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li.current>a{background:#cc9ac0;}#header .wrapper_middle_menu.wrap_menu ul.menu.opened>li{background:#d346ad;}.button.transparent,.h_color_white .header_wrap .menu>li.current>a span,.h_color_white.wrapper #header ul.menu li .child .child_wrapp,.m_color_white.wrapper #header ul.menu li .child .child_wrapp,.basket_normal .popup.card_popup_frame .basket_popup_wrapp,.basket_sort ul.tabs li.cur div,.smartfilter .bx_ui_slider_track .bx_ui_slider_handle,.bx_filter .button,.bx_filter_vertical input[type="checkbox"]:checked+label.sku,.sku_props .bx_item_detail_size ul li.active,.bx_size_scroller_container .bx_size ul li.bx_active,.bx_filter .bx_filter_param_label.active .bx_filter_param_btn,.bx_catalog_item_scu .bx_item_detail_scu ul li.active span.cnt,.item_slider .thumbs li.current,.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-left-column,.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-center-column,.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-right-column,.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-left-column,.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-center-column,.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-right-column,.bx_element input[type=radio]:checked+label .bx_logotype,.bx_element label.selected .bx_logotype{border-color:#bf93b2;}a,.link,.button.transparent,.button.transparent:hover,.specials_slider_wrapp ul.tabs>li span,.tab_slider_wrapp ul.tabs>li span,.basket_wrapp .basket_block .link:hover+.wraps_icon_block+.text .title,.stores .stores_list .item a span,.phones .order_wrap_btn,.footer_bottom .all_menu_block ul li a:hover,.footer_bottom .submenu_top .menu_item a:hover,.avtorization-call.enter:hover span,.top-h-row .h-user-block a:hover,ul.menu .child li.menu_item a,#header .catalog_menu ul.menu>li.current>a,ul.menu .child .depth3 a,ul.menu .child li.menu_title a:hover,#header ul.menu li .child.submenu .child_wrapp a:not(.title),.img_block_capcha .reload,.h_color_white .center_block .menu.full>li:hover>a,.m_color_white #header .wrapper_middle_menu .menu.bottom>li:hover>a,.m_color_white #header .wrapper_middle_menu .menu.bottom>li.hover>a,body #header ul.menu li .child.line .child_wrapp>a:hover,.basket_sort ul.tabs li .wrap_li>span *,.basket_sort ul.tabs li .wrap_li>span,.bx_filter_parameters_box_title:hover,.bx_filter .bx_filter_popup_result a,.left_block .internal_sections_list .child_wrapp .child li.cur>a,.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item.cur,.left_block .internal_sections_list .child_wrapp a:hover,.ajax_load_btn:hover .more_text_ajax,.breadcrumbs a:hover span,.tabs-head li.current span,.item-stock .store_view,.reviews-post-reply-buttons a:hover,h4.hover,.button.transparent.white:hover,.button.white_bg,.item .child_container .child_wrapp .menu_item.current a,.item .child_container .child_wrapp .menu_item:hover a{color:#d346ad;}button.button,input.button,.button,#header ul.menu.full.opened li:not(.search_row):hover,#header ul.menu.full>li.search_row #search-submit-button:hover,table.title-search-result td.title-search-all a .icon,.flex-direction-nav li:hover,.flex-direction-nav li:first-child:hover,.top_slider_wrapp .flex-direction-nav li:hover,.like_icons .wish_item.added,.like_icons .compare_item.added,.light .stores .all_map,.block_wr.dark,.popup .close:hover,.header_wrap #header .middle-h-row .logo_wrapp .logo a,.h_color_colored .header_wrap #header,.registraion-page .top p:after,.has_menu.m_color_colored #header .catalog_menu,.module-cart .remove-cell a:hover,.cart_shell .remove-cell a:hover,.bx_item_set_hor .bx_item_set_hor_item a.remove,.bx_filter .bx_filter_popup_result,.bx_filter .bx_filter_parameters_box_title:before,.bx_filter_vertical input[type="checkbox"]+label:before,.filter input[type="checkbox"]+label:before,.filter input[type="radio"]+label:before,.bx_filter label.pal:hover .bx_filter_param_btn,.bx_filter .bx_filter_param_label.active .bx_filter_param_btn,.bx_filter_vertical input[type="checkbox"]:checked+label.sku,.left_block .internal_sections_list li.cur,.left_block .internal_sections_list li:hover,.left_block .internal_sections_list .title .inner_block:hover:before,.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item.cur:before,.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item:hover:before,.left_block .internal_sections_list .child_wrapp ul.child li.cur:after,.left_block .internal_sections_list .child_wrapp ul.child li:hover:after,body #content .props_list tr td>span:before,body #content .props_list tr td>.txt:before,.module-pagination .nums .cur,.more_text_ajax:before,.captcha_reload:before,.sku_props .bx_item_detail_size ul li.active,.bx_size_scroller_container .bx_size ul li.bx_active,.bx_catalog_item_scu .bx_item_detail_scu ul li.active span:not(.cnt_item),.ik_select_list .ik_select_list_inner ul li.ik_select_active,.bx_filter_select_popup ul li label.selected,.filter_opener.opened,.no_goods .no_products:before,.wr_scrollbar .scrollbar .handle,.remove:hover,a i.arrow,.popup-window-close-icon.popup-window-titlebar-close-icon:hover,.bx_kit_item .bx_kit_item_add,.catalog_detail .offers_table td.opener:hover .opener_icon,.opener_icon:hover,.char_name .hint .icon:hover,.char_name .hint.active .icon,.location-block-wrapper .bx-sls .bx-ui-sls-clear:before,h4:hover .opener_icon,.bg_block:before,#order_form_div input[type="submit"],.module-order-history .item_name:hover .icon,.module-order-history .item_name:hover .icon,.faq.list .item .q:hover .opener_icon,.jobs_wrapp .item .name tr:hover .opener_icon{color:#FFF;background:#d757b5;}.catalog_detail .bx-modal-container .btn.btn-add{color:#FFF;background:#d757b5;}.catalog_detail .bx-modal-container .btn.btn-add:hover{background:#bf93b2;}.colored #header .catalog_menu ul.menu>li,header .wrap_menu{background:#d450b0;}#header .catalog_menu ul.menu>li .dropdown>li.current a{background:#d242ac;}.tabs-head li.current:before{background-color:#d757b5;}.like_icons .compare_item.added i,.like_icons .wish_item.added i{background-color:#d757b5;}.icon_error_block:after{background-color:#d757b5 !important;}.flex-direction-nav li:first-child,.flex-direction-nav li,.flex-direction-nav li:hover{border-bottom-width:0px;}.specials_slider_wrapp ul.tabs li.cur span,.tab_slider_wrapp ul.tabs li.cur span,.popup .popup-intro{border-bottom-color:#bf93b2;}.button:hover,.like_icons .compare_item.added:hover,.like_icons .wish_item.added:hover,.light .stores .all_map:hover{background:#bf93b2;}.like_icons .compare_item.added:hover i,.like_icons .wish_item.added:hover i{background-color:#bf93b2;}.wrapper_middle_menu.wrap_menu.mobile:hover{background:#bf93b2;}.header_wrap #header .catalog_menu.menu_colored .inc_menu ul.menu>li:not(.current):hover>a{background:#da68bc;}header .menu_top_block li .dropdown>li:hover>a,header .menu_top_block li:not(.catalog).dropdown>li.current>a:not(.section),header .menu_top_block li.catalog>.dropdown>li:hover>a:before{background:#D75CB6;}header .menu_colored .menu_top_block>li.current>a,header .menu_dark .menu_top_block.menu>li.current>a,header .menu_dark .menu_top_block.menu>li.current:hover>a,.menu_top_block.catalog_block .dropdown>li.full:hover>a:before,.menu_top_block.catalog_block .dropdown>li.full.current>a,header .menu_top_block li.catalog>.dropdown>li.current>a,.left_menu>li.current>a,.left_menu>li:hover>a:before{background:#d242ac;}header .menu_top_block>li.catalog>a,header .menu_top_block>li.catalog.current>a,header .menu_top_block>li.catalog{background-color:#D75CB6;}header .catalog_menu .menu_top_block.menu li.catalog li.full.current>a:after,header .catalog_menu .menu_top_block.menu li.catalog li.full:hover>a:after,.menu_top_block.catalog_block .dropdown>li.full:hover>a:after,.left_menu>li.has-childs:hover>a:after{color:#d653b3;}header .menu_top_block li .dropdown>li.menu_item>a:hover,.menu_top_block.catalog_block .dropdown>li.full>.dropdown>li>a:not(.section):hover,.menu_top_block.catalog_block .dropdown>li.full:hover>a,.left_menu>li:hover>a{color:#d346ad;}.phone_block .phone_wrap .icons{color:#d346ad;}header .menu_top_block li.catalog>.dropdown>li:hover>a,header .menu_top_block li.catalog>.dropdown>li>.dropdown>li.current>a:not(.section){color:#d346ad;}header .menu_top_block li .dropdown>li.current>a.section1,.menu_top_block li .dropdown>li>a.section1:hover,#header .catalog_menu.menu_light ul.menu>li.current>a,#header .catalog_menu.menu_light ul.menu>li:hover>a{color:#d346ad;}.subscribe-form:before{background:#d653b3;}.subscribe-form input.send_btn{background-color:#d653b3;}.bx_ordercart .bx_ordercart_order_pay .bx_bt_button{background:#d653b3;}.subscribe-form input.send_btn:hover{background-color:#bf93b2;}.bx_ordercart .bx_ordercart_order_pay .bx_bt_button:hover{background:#bf93b2;}.bx_ordercart .bx_item_detail_size_small_noadaptive .bx_size ul li.bx_active a{background:#bf93b2;color:#fff;}.bx_ordercart .bx_item_detail_size_small_noadaptive .bx_size ul li:not(.bx_active):hover a{color:#d346ad;}a.dark_link:hover,.dark_link:hover span,.dl:hover a,.selected a.dark_link,.current a.dark_link{color:#d346ad !important;}.menu_top_block.catalog_block .dropdown>li.full>.dropdown>li>a,header .menu_top_block.catalogfirst li.full>.dropdown>li:not(.current)>a{color:#d346ad;}.middle_phone .phone_wrap .icons,.top_slider_wrapp .flexslider .slides>li:after{background-color:#d653b3;}.basket_fly .basket_wrapp .basket_fly .wraps_icon_block.delay .count span{background-color:#d653b3;}.basket_normal .basket_wrapp .wraps_icon_block.basket .count span{background-color:#d653b3;}.bx_filter .bx_filter_parameters_box_title:hover:after{color:#d346ad;}.bx_filter .bx_filter_param_label.active .bx_filter_btn_color_icon,.bx_catalog_item_scu ul li.active .cnt_item,.bx_scu_scroller_container ul li.bx_active .cnt_item{box-shadow:0px 0px 0px 2px #fff inset, 0px 0px 0px 2px #d653b3;}.bx_filter_vertical input[type="checkbox"]:not(:checked)+label.sku:hover span,.sku_props .bx_item_detail_size ul li:not(.active):hover span,.bx_item_list_you_looked_horizontal .bx_item_detail_size ul li:hover span{color:#d346ad;}.bx_filter_vertical input[type="checkbox"]+label.sku:hover,.sku_props .bx_item_detail_size ul li:hover,.bx_item_list_you_looked_horizontal .bx_item_detail_size ul li:hover{border-color:#d346ad;}.more_text_ajax:after{background-color:#d653b3;}.list_item .description_wrapp .like_icons span.added{color:#d346ad;}.bx_ordercart .bx_sort_container a.current:after{background:#cc9ac0;}.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_order_pay_center .checkout{color:#d653b3;border-color:#d346ad;}.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_order_pay_center .checkout:hover{color:#fff;border-color:#cc9ac0;background:#cc9ac0;}.button.transparent:not(.text):hover{border-color:#cc9ac0;background:#cc9ac0;color:#fff;}.button.transparent.grey_br:hover{border-color:#cc9ac0;background:#fff;}.bx_ordercart tbody td.control a:first-of-type:hover,.bx_ordercart #basket_items_delayed tbody td.control a:last-of-type:hover,.bx_ordercart #basket_items_subscribed tbody td.control a:first-of-type:hover,.bx_ordercart #basket_items_not_available tbody td.control a:last-of-type:hover,.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_coupon:not(:first-of-type)>span:hover{background-color:#cc9ac0;}.bx_ordercart .bx_sort_container a,.bx_item_list_you_looked_horizontal .bx_catalog_item .bx_catalog_item_title a{color:#d653b3;}.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blocktwo a,.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blockone a{color:#FFF;background:#d653b3;}.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blocktwo a:hover,.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blockone a{background:#bf93b2;}.sale_order_full_table input[name="BuyButton"]{background-color:#d757b5;}.sale_order_full_table input[name="BuyButton"]{background-color:#bf93b2;}.bx_ordercart .bx_item_detail_size_small_noadaptive ul li:active a,.bx_ordercart .bx_item_detail_size_small_noadaptive ul li.bx_active a,.bx_ordercart .bx_item_detail_size_small_noadaptive ul li:hover a{border-color:#bf93b2;}.color_link{color:#d346ad !important;}112  28695|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/themes/orchid/theme.css|2a068c97a.scroll-to-top.ROUND_COLOR,
a.scroll-to-top.RECT_COLOR {
  background-color: #D75CB6;
}
a.scroll-to-top.ROUND_COLOR:hover,
a.scroll-to-top.RECT_COLOR:hover {
  background-color: #c097b4;
}
ul li::before {
  color: #d54fba;
}
.basket_print i {
  background-color: #d346ad;
}
.rss_feed_icon {
  background: #d54fba;
  color: #000;
}
.start_promo .item i.title a,
.start_promo .item i.price a,
.start_promo .item i.title span,
.start_promo .item i.price span,
.start_promo .item span.main_wrap i:after,
.start_promo .item p span,
.wrap_tizer .wrap_outer,
.wrap_tizer .wrap_outer .outer_text,
.wrap_tizer .wrap_outer .inner_text {
  background: #d757b5;
}
.start_promo .item i.title span,
.start_promo .item i.price span {
  box-shadow: -4px 1px 0px 4px #d757b5, 4px 1px 0px 4px #d757b5;
}
.start_promo .item i.price span {
  box-shadow: -4px 0px 0px 4px #d757b5, 4px 0px 0px 4px #d757b5;
}
.module-map .infoBox .close_info:hover {
  background-color: #d54fba;
}
#header ul.menu.full > li.search_row #search-submit-button:hover,
#header ul.menu.full > li.search_row #search-submit-button.hover {
  border: transparent;
}
#header .catalog_menu ul.menu > li,
#header ul.menu.adaptive:not(.opened) li.menu_opener,
#header ul.menu.full.opened li:not(.search_row):hover,
#header ul.menu.full.opened li.current {
  border-bottom: 1px solid #be2d8e;
}
#header .catalog_menu ul.menu > li:not(.current):not(.stretch):hover {
  border-bottom: 1px solid #c22ea0;
  border-right: 1px solid #c22ea0;
}
#header ul.menu.full.opened li:not(.search_row):hover,
#header ul.menu.full.opened li.current {
  border-top: 1px solid #d757b5;
}
#header .catalog_menu ul.menu > li.current > a {
  color: #fff;
  border-left: 1px solid #d653b3;
}
#header .catalog_menu ul.menu > li {
  border-right: 1px solid #be2d8e;
}
.header-cart-block .cart span.icon i {
  background-position: 0px -84px;
}
ul.menu li .child .child_wrapp,
.breadcrumbs .dropdown,
.authorization-cols .form-block {
  border-top: 2px solid #d54fba;
}
.catalog_detail ul.tabs.main_tabs {
  border-bottom: 2px solid #d54fba;
}
ul.menu li b.space,
.breadcrumbs .drop b.space,
.hint .triangle {
  border-bottom: 6px solid #d54fba;
}
.basket_button,
.basket_button span,
.button30,
.button30 span,
.popup .soc-avt .row a {
  color: #fff;
}
#footer .footer_inner .line,
#header .basket_fly .opener .basket_count,
.page_not_found td.image img {
  background: #d54fba;
}
#bx-soa-order-form .btn.btn-default {
  background: #d54fba;
  border-color: #d54fba;
}
#bx-soa-order-form .btn.btn-default:hover {
  background: #bf93b2;
  border-color: #bf93b2;
}
ul.tabs li.cur .triangle,
.view-list .view-header i.triangle {
  border-top: 5px solid #d346ad !important;
}
.basket_button.add span {
  background-position: 0px -6px;
}
.basket_button.read_more span {
  background-position: 1px -448px;
}
.basket_button.added span {
  background-position: 0px -45px;
}
.front_slider_wrapp .extended_pagination > li.active i.triangle {
  border-right-color: #d346ad;
}
.catalog_detail .extended_info a.compare_item i {
  background-position: -32px -65px;
}
.catalog_detail .extended_info a.wish_item i {
  background-position: 3px -72px;
}
.display_list a.compare_item i {
  background-position: -32px -3px;
}
.display_list a.wish_item i {
  background-position: -3px -2px;
}
.display_list a.compare_item:hover i,
.display_list a.compare_item.added i {
  background-position: -32px -65px;
}
.display_list a.wish_item:hover i,
.display_list a.wish_item.added i {
  background-position: -3px -63px;
}
.popup .form .form_head {
  border-bottom-color: #d54fba;
}
.item_slider .thumbs i.triangle {
  border-bottom: 5px solid #d54fba;
}
blockquote:before {
  background-color: #d54fba;
}
.module-gallery-list li .fancy_hover:hover {
  border: 2px solid #d54fba;
}
.smartfilter .bx_ui_slider_track .bx_ui_slider_range,
.bx_filter .bx_ui_slider_pricebar_V {
  background: #d54fba;
}
.catalog_block .catalog_item .basket_button.read_more span {
  background-position: 1px -408px;
}
.catalog_block .catalog_item .basket_button.to-cart span {
  background-position: 0 -7px;
}
.catalog_block .catalog_item:hover .basket_button span {
  color: #fff;
  background-position: 0px -87px;
}
.catalog_block .catalog_item:hover .basket_button.read_more span {
  background-position: 1px -448px !important;
}
.catalog_item .basket_button.in-cart span,
.basket_button.in-cart span {
  background-position: 0px -127px !important;
}
.catalog_item:hover .basket_button.added span {
  color: #fff;
}
.bx_filter_container #modef .triangle,
.left_block .internal_sections_list .child_wrapp .triangle {
  border-right: 6px solid #d54fba;
}
#order_form_div .sale_order_table .ps_logo img:hover,
#order_form_div .sale_order_table .ps_logo input[type=radio]:checked + label img,
#order_form_div .sale_order_table.delivery label:hover img,
#order_form_div .sale_order_table.delivery input[type=radio]:checked + label img,
#order_form_div div.ps_logo.selected img,
#order_form_div .account label:hover img,
#order_form_div .account img.active {
  border: 2px solid #d54fba;
}
.front_slider_wrapp .extended_pagination > li.active span,
a.b-share-popup__item:hover .b-share-popup__item__text {
  color: #fff !important;
}
ul.tabs li.cur span,
ul.tabs li.cur:hover span,
.front_slider_wrapp a.read_more {
  color: #fff;
}
.left_menu > li.current >a,
.left_menu > li:not(.exit):hover {
  background: #d54fba;
}
a i.arrow b {
  background-position: -36px 0px;
}
.top-h-row .search #search-submit-button:hover i,
.top-h-row .search #search-submit-button.hover i {
  background-position: top center;
}
.catalog_detail a.compare_item:hover .icon i {
  background-position: -32px -65px;
}
.catalog_detail a.wish_item:hover .icon i {
  background-position: 2px -45px;
}
ul.menu li.current a i {
  background-position: -61px 0px;
}
.button30.ask_question span.show_form,
.button30.ask_question span.hide_form {
  background-position: 5px -605px;
}
.button30.ask_question span.hide_form {
  color: #000;
}
.button30.ask_question span.hide_form:hover {
  color: #fff;
}
.question-list .q .ic b {
  background-position: -38px -188px;
}
.question-list .q.op .ic b {
  background-position: -8px -188px;
}
.number_list a.current span {
  color: #fff !important;
}
.basket_button span,
.compare_button span {
  background-position: 0px -87px;
}
.bx_filter_container_title .hint.active .hint_icon,
.bx_filter_container_title .hint.active .hint_icon,
.bx_filter_container_title .hint.active .hint_icon:hover,
#header .basket_fly .opener .basket_count:not(.empty) .count {
  color: #fff;
}
.left_block .internal_sections_list li.item:hover > a,
.left_block .internal_sections_list li.item.cur > a {
  color: #fff;
}
.left_block .internal_sections_list li * {
  -webkit-transition: none;
  -moz-transition: none;
  -o-transition: none;
  transition: none;
}
a.compare_item i {
  background-position: -31px -1px;
}
a.wish_item i {
  background-position: -2px -1px;
}
a.compare_item:hover i {
  background-position: -31px -33px;
}
a.wish_item:hover i {
  background-position: -2px -32px;
}
a.compare_item.added i {
  background-position: -31px -63px;
}
a.wish_item.added i {
  background-position: -2px -62px;
}
.module_products_list .basket_button.to-cart span {
  background-position: 0 -7px;
}
.module_products_list .basket_button.to-cart:hover span {
  background-position: 0px -87px;
}
.basket_button.in-cart span {
  background-position: 0px -127px;
}
.popup .close:hover i,
.popup .grey .close i,
.popup-window-close-icon.popup-window-titlebar-close-icon:hover:after {
  background-position: -1px -59px;
}
.card_popup_frame.popup .but_row a.to_basket .icon i {
  background-position: -5px -170px;
}
.soc-serv-main .button30 span,
.reviews-expanded .button30.add_review span,
.catalog_detail .basket_button.one_click span,
.button30.review_preview span,
.popup .grey .pop-up-title {
  color: #000;
  text-shadow: 0 1px 0px rgba(255,255,255,0.5);
  -moz-text-shadow: 0 1px 0px rgba(255,255,255,0.5);
  -o-text-shadow: 0 1px 0px rgba(255,255,255,0.5);
  -webkit-text-shadow: 0 1px 0px rgba(255,255,255,0.5);
}
.module-order-history .status.delivered {
  color: #fff;
}
.jobs_wrapp .item a:not(.opened):hover .icon i,
.staff_wrapp .section .section_title:not(.opened):hover .icon i {
  background-position: -31px -33px;
}
.jobs_wrapp .item a.opened:hover .icon i,
.staff_wrapp .section .section_title.opened:hover .icon i {
  background-position: 0 -34px;
}
.button30.add_review span {
  background-position: 4px -286px;
}
.button30.send_review span {
  background-position: 4px -365px;
}
.card_popup_frame.popup .but_row a.to_delay .icon i {
  background-position: -48px -257px;
}
.compare_button span {
  background-position: -32px -64px;
}
#header .basket_fly .opener .basket_count .icon i {
  background-position: -7px -89px;
}
#header .basket_fly .opener .basket_count.empty:hover .icon i {
  background-position: -7px -47px;
}
#header .basket_fly .opener .basket_count.empty .icon i {
  background-position: -7px -5px;
}
#header .basket_fly .opener .wish_count .icon i {
  background-position: -48px -424px;
}
#header .basket_fly .opener .wish_count:hover .icon i {
  background-position: -48px -383px;
}
ul.menu li a {
  color: #000;
}
.catalog_menu ul.menu li a {
  color: #fff;
}
ul.menu li a i {
  background-position: -2px -20px;
}
.catalog_menu ul.menu li a i {
  background-position: -61px 0px;
}
a i.arrow.down b {
  background-position: -36px -35px;
}
.catalog_item:hover .basket_button span {
  color: #fff;
}
ul.specials_slider .basket_button span {
  background-position: 0 -7px;
}
ul.specials_slider .basket_button:hover span,
ul.specials_slider li:hover .basket_button span {
  background-position: 0px -87px;
}
ul.specials_slider  .basket_button.read_more span {
  background-position: 1px -408px;
}
ul.specials_slider li:hover .basket_button.read_more span {
  background-position: 1px -448px !important;
}
.top_slider_wrapp .flex-direction-nav li a.flex-next {
  background-position: -58px -60px;
}
.top_slider_wrapp .flex-direction-nav li:hover a.flex-prev {
  background-position: -3px -60px;
}
.top_slider_wrapp .flex-direction-nav li a.flex-prev {
  background-position: -3px 0px;
}
#header .basket_fly .opener .wish_count.empty:hover .icon i {
  background-position: -48px -341px;
}
#header .basket_fly .opener .wish_count.empty .icon i {
  background-position: -48px -299px;
}
#bx-soa-order .bx-soa-section .bx-soa-section-title:before {
  background-color: #D75CB6;
}
#bx-soa-order div[class*=bx-sls] .quick-locations .quick-location-tag {
  border-color: #D75CB6;
  color: #D75CB6;
}
#bx-soa-order div[class*=bx-sls] .quick-locations .quick-location-tag:hover {
  background-color: #D75CB6;
  color: #fff;
}
#bx-soa-order .bx-soa .form-group .radio-inline.checked label:before,
#bx-soa-order .bx-soa .form-group .radio-inline label:hover:before,
#bx-soa-order .bx-soa-pp-company:hover .bx-soa-pp-company-graf-container:before,
#bx-soa-order .bx-soa-pp-company.bx-selected .bx-soa-pp-company-graf-container:before {
  background-color: #D75CB6;
}
#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company.bx-selected .bx-soa-pp-company-graf-container,
#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company:hover .bx-soa-pp-company-graf-container {
  border-color: #D75CB6;
}
#bx-soa-order .bx-soa-pp-desc-container .bx-soa-pp-company:before,
#bx-soa-order .bx-soa-pp-desc-container .checkbox label:hover:before,
#bx-soa-order .bx-soa-pp-desc-container .checkbox label.checked:before {
  background-color: #D75CB6;
}
#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company:hover .bx-soa-pp-company-smalltitle,
#bx-soa-order .bx-soa-more .bx-soa-more-btn .pull-left {
  color: #D75CB6;
}
#bx-soa-order .bx-soa-coupon-input:hover:after,
#bx-soa-order .bx-soa-coupon-item .bx-soa-coupon-remove:hover {
  background-color: #D75CB6;
}
#bx-soa-order div[class*=bx-sls] .bx-ui-sls-clear:hover:before {
  background-color: #D75CB6;
}
@media all and (max-width: 950px) {
  .header_wrap.colored #header .center_block .main-nav {
    background: #d757b5;
  }
}
@media all and (max-width: 768px) {
  body .top_slider_wrapp .flex-direction-nav li a {
    background-image: url(../../images/arrows_big.png);
  }
  body .top_slider_wrapp .flex-direction-nav li a.flex-next {
    background-position: -30px -94px;
  }
  body .top_slider_wrapp .flex-direction-nav li a.flex-prev {
    background-position: 0 -127px;
  }
  body .top_slider_wrapp .flex-direction-nav li a.flex-prev:hover {
    background-position: 0 -94px;
  }
  body .flex-control-paging li a.flex-active,
  body .flex-control-paging li:hover a:not(.touch) {
    background: #d757b5;
    background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzAwYWFlMiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMwMDhmYzciIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);
    background: -moz-linear-gradient(top,#d757b5 0%,#d242a7 100%);
    background: -webkit-gradient(linear,left top,left bottom,color-stop(0%,#d757b5),color-stop(100%,#d242a7));
    background: -webkit-linear-gradient(top,#d757b5 0%,#d242a7 100%);
    background: -o-linear-gradient(top,#d757b5 0%,#d242a7 100%);
    background: -ms-linear-gradient(top,#d757b5 0%,#d242a7 100%);
    background: linear-gradient(to bottom,#d757b5 0%,#d242a7 100%);
    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='@bcolor_00aae2',endColorstr='@bcolor_008fc7',GradientType=0);
  }
}
@media all and (max-width: 600px) {
  #header ul.menu.full.opened > li,
  .has_menu #header .center_block .main-nav {
    background-color: #d757b5;
  }
  .has_menu #header .center_block .main-nav:hover {
    background: #cc9ac0 none repeat scroll 0 0;
  }
  #header ul.menu.full.opened li.current {
    background: #d242a7;
  }
}
@media all and (max-width: 550px) {
  body #footer .footer_inner .line {
    border-top: 4px solid #d54fba;
  }
  .basket_wrapp .empty_cart:not(.bcart) .wraps_icon_block.basket .count span,
  .basket_wrapp .basket_empty .wraps_icon_block.basket .count span {
    color: #FFF;
    background: #d757b5;
  }
}
#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li:hover>a,
#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li.opened>a,
#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li.current > a {
  background: #cc9ac0;
}
#header .wrapper_middle_menu.wrap_menu ul.menu.opened > li {
  background: #d346ad;
}
.button.transparent,
.h_color_white .header_wrap .menu > li.current > a span,
.h_color_white.wrapper #header ul.menu li .child .child_wrapp,
.m_color_white.wrapper #header ul.menu li .child .child_wrapp,
.basket_normal .popup.card_popup_frame .basket_popup_wrapp,
.basket_sort ul.tabs li.cur div,
.smartfilter .bx_ui_slider_track .bx_ui_slider_handle,
.bx_filter .button,
.bx_filter_vertical input[type="checkbox"]:checked + label.sku,
.sku_props .bx_item_detail_size ul li.active,
.bx_size_scroller_container .bx_size ul li.bx_active,
.bx_filter .bx_filter_param_label.active .bx_filter_param_btn,
.bx_catalog_item_scu .bx_item_detail_scu ul li.active span.cnt,
.item_slider .thumbs li.current,
.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-left-column,
.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-center-column,
.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-right-column,
.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-left-column,
.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-center-column,
.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-right-column,
.bx_element input[type=radio]:checked + label .bx_logotype,
.bx_element label.selected .bx_logotype {
  border-color: #bf93b2;
}
a,
.link,
.button.transparent,
.button.transparent:hover,
.specials_slider_wrapp ul.tabs > li span,
.tab_slider_wrapp ul.tabs > li span,
.basket_wrapp .basket_block .link:hover + .wraps_icon_block + .text .title,
.stores .stores_list .item a span,
.phones .order_wrap_btn,
.footer_bottom .all_menu_block ul li a:hover,
.footer_bottom .submenu_top .menu_item a:hover,
.avtorization-call.enter:hover span,
.top-h-row .h-user-block a:hover,
ul.menu .child li.menu_item a,
#header .catalog_menu ul.menu > li.current > a,
ul.menu .child .depth3 a,
ul.menu .child li.menu_title a:hover,
#header ul.menu li .child.submenu .child_wrapp a:not(.title),
.img_block_capcha .reload,
.h_color_white .center_block .menu.full > li:hover > a,
.m_color_white #header .wrapper_middle_menu .menu.bottom > li:hover > a,
.m_color_white #header .wrapper_middle_menu .menu.bottom > li.hover > a,
body #header ul.menu li .child.line .child_wrapp > a:hover,
.basket_sort ul.tabs li .wrap_li > span *,
.basket_sort ul.tabs li .wrap_li > span,
.bx_filter_parameters_box_title:hover,
.bx_filter .bx_filter_popup_result a,
.left_block .internal_sections_list .child_wrapp .child li.cur > a,
.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item.cur,
.left_block .internal_sections_list .child_wrapp a:hover,
.ajax_load_btn:hover .more_text_ajax,
.breadcrumbs a:hover span,
.tabs-head li.current span,
.item-stock .store_view,
.reviews-post-reply-buttons a:hover,
h4.hover,
.button.transparent.white:hover,
.button.white_bg,
.item .child_container .child_wrapp .menu_item.current a,
.item .child_container .child_wrapp .menu_item:hover a {
  color: #d346ad;
}
button.button,
input.button,
.button,
#header ul.menu.full.opened li:not(.search_row):hover,
#header ul.menu.full > li.search_row #search-submit-button:hover,
table.title-search-result td.title-search-all a .icon,
.flex-direction-nav li:hover,
.flex-direction-nav li:first-child:hover,
.top_slider_wrapp .flex-direction-nav li:hover,
.like_icons .wish_item.added,
.like_icons .compare_item.added,
.light .stores .all_map,
.block_wr.dark,
.popup .close:hover,
.header_wrap #header .middle-h-row .logo_wrapp .logo a,
.h_color_colored .header_wrap #header,
.registraion-page .top p:after,
.has_menu.m_color_colored #header .catalog_menu,
.module-cart .remove-cell a:hover,
.cart_shell .remove-cell a:hover,
.bx_item_set_hor .bx_item_set_hor_item a.remove,
.bx_filter .bx_filter_popup_result,
.bx_filter .bx_filter_parameters_box_title:before,
.bx_filter_vertical input[type="checkbox"] + label:before,
.filter input[type="checkbox"] + label:before,
.filter input[type="radio"] + label:before,
.bx_filter label.pal:hover .bx_filter_param_btn,
.bx_filter .bx_filter_param_label.active .bx_filter_param_btn,
.bx_filter_vertical input[type="checkbox"]:checked + label.sku,
.left_block .internal_sections_list li.cur,
.left_block .internal_sections_list li:hover,
.left_block .internal_sections_list .title .inner_block:hover:before,
.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item.cur:before,
.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item:hover:before,
.left_block .internal_sections_list .child_wrapp ul.child li.cur:after,
.left_block .internal_sections_list .child_wrapp ul.child li:hover:after,
body #content .props_list tr td > span:before,
body #content .props_list tr td > .txt:before,
.module-pagination .nums .cur,
.more_text_ajax:before,
.captcha_reload:before,
.sku_props .bx_item_detail_size ul li.active,
.bx_size_scroller_container .bx_size ul li.bx_active,
.bx_catalog_item_scu .bx_item_detail_scu ul li.active span:not(.cnt_item),
.ik_select_list .ik_select_list_inner ul li.ik_select_active,
.bx_filter_select_popup ul li label.selected,
.filter_opener.opened,
.no_goods .no_products:before,
.wr_scrollbar .scrollbar .handle,
.remove:hover,
a i.arrow,
.popup-window-close-icon.popup-window-titlebar-close-icon:hover,
.bx_kit_item .bx_kit_item_add,
.catalog_detail .offers_table td.opener:hover .opener_icon,
.opener_icon:hover,
.char_name .hint .icon:hover,
.char_name .hint.active .icon,
.location-block-wrapper .bx-sls .bx-ui-sls-clear:before,
h4:hover .opener_icon,
.bg_block:before,
#order_form_div input[type="submit"],
.module-order-history .item_name:hover .icon,
.module-order-history .item_name:hover .icon,
.faq.list .item .q:hover .opener_icon,
.jobs_wrapp .item .name tr:hover .opener_icon {
  color: #FFF;
  background: #d757b5;
}
.catalog_detail .bx-modal-container .btn.btn-add {
  color: #FFF;
  background: #d757b5;
}
.catalog_detail .bx-modal-container .btn.btn-add:hover {
  background: #bf93b2;
}
.colored #header .catalog_menu ul.menu > li,
header .wrap_menu {
  background: #d450b0;
}
#header .catalog_menu ul.menu > li .dropdown >li.current a {
  background: #d242ac;
}
.tabs-head li.current:before {
  background-color: #d757b5;
}
.like_icons .compare_item.added i,
.like_icons .wish_item.added i {
  background-color: #d757b5;
}
.icon_error_block:after {
  background-color: #d757b5 !important;
}
.flex-direction-nav li:first-child,
.flex-direction-nav li,
.flex-direction-nav li:hover {
  border-bottom-width: 0px;
}
.specials_slider_wrapp ul.tabs li.cur span,
.tab_slider_wrapp ul.tabs li.cur span,
.popup .popup-intro {
  border-bottom-color: #bf93b2;
}
.button:hover,
.like_icons .compare_item.added:hover,
.like_icons .wish_item.added:hover,
.light .stores .all_map:hover {
  background: #bf93b2;
}
.like_icons .compare_item.added:hover i,
.like_icons .wish_item.added:hover i {
  background-color: #bf93b2;
}
.wrapper_middle_menu.wrap_menu.mobile:hover {
  background: #bf93b2;
}
.header_wrap #header .catalog_menu.menu_colored .inc_menu  ul.menu > li:not(.current):hover > a {
  background: #da68bc;
}
header .menu_top_block li .dropdown>li:hover>a,
header .menu_top_block li:not(.catalog) .dropdown>li.current >a:not(.section),
header .menu_top_block li.catalog>.dropdown>li:hover>a:before {
  background: #D75CB6;
}
header .menu_colored .menu_top_block >li.current >a,
header .menu_dark .menu_top_block.menu >li.current >a,
header .menu_dark .menu_top_block.menu >li.current:hover >a,
.menu_top_block.catalog_block .dropdown >li.full:hover>a:before,
.menu_top_block.catalog_block .dropdown >li.full.current>a,
header .menu_top_block li.catalog>.dropdown>li.current>a,
.left_menu > li.current> a,
.left_menu > li:hover> a:before {
  background: #d242ac;
}
header .menu_top_block >li.catalog >a,
header .menu_top_block >li.catalog.current >a,
header .menu_top_block >li.catalog {
  background-color: #D75CB6;
}
header .catalog_menu .menu_top_block.menu li.catalog li.full.current >a:after,
header .catalog_menu .menu_top_block.menu li.catalog li.full:hover >a:after,
.menu_top_block.catalog_block .dropdown >li.full:hover>a:after,
.left_menu > li.has-childs:hover> a:after {
  color: #d653b3;
}
header .menu_top_block li .dropdown>li.menu_item>a:hover,
.menu_top_block.catalog_block .dropdown>li.full>.dropdown>li>a:not(.section):hover,
.menu_top_block.catalog_block .dropdown>li.full:hover>a,
.left_menu > li:hover> a {
  color: #d346ad;
}
.phone_block .phone_wrap .icons {
  color: #d346ad;
}
header .menu_top_block li.catalog>.dropdown>li:hover>a,
header .menu_top_block li.catalog>.dropdown>li>.dropdown>li.current>a:not(.section) {
  color: #d346ad;
}
header .menu_top_block li .dropdown>li.current >a.section1,
.menu_top_block li .dropdown>li >a.section1:hover,
#header .catalog_menu.menu_light ul.menu > li.current > a,
#header .catalog_menu.menu_light ul.menu > li:hover > a {
  color: #d346ad;
}
.subscribe-form:before {
  background: #d653b3;
}
.subscribe-form input.send_btn {
  background-color: #d653b3;
}
.bx_ordercart .bx_ordercart_order_pay .bx_bt_button {
  background: #d653b3;
}
.subscribe-form input.send_btn:hover {
  background-color: #bf93b2;
}
.bx_ordercart .bx_ordercart_order_pay .bx_bt_button:hover {
  background: #bf93b2;
}
.bx_ordercart .bx_item_detail_size_small_noadaptive .bx_size ul li.bx_active a {
  background: #bf93b2;
  color: #fff;
}
.bx_ordercart .bx_item_detail_size_small_noadaptive .bx_size ul li:not(.bx_active):hover a {
  color: #d346ad;
}
a.dark_link:hover,
.dark_link:hover span,
.dl:hover a,
.selected a.dark_link,
.current a.dark_link {
  color: #d346ad !important;
}
.menu_top_block.catalog_block .dropdown>li.full>.dropdown>li>a,
header .menu_top_block.catalogfirst li.full>.dropdown>li:not(.current)>a {
  color: #d346ad;
}
.middle_phone .phone_wrap .icons,
.top_slider_wrapp .flexslider .slides > li:after {
  background-color: #d653b3;
}
.basket_fly .basket_wrapp .basket_fly .wraps_icon_block.delay .count span {
  background-color: #d653b3;
}
.basket_normal .basket_wrapp .wraps_icon_block.basket .count span {
  background-color: #d653b3;
}
.bx_filter .bx_filter_parameters_box_title:hover:after {
  color: #d346ad;
}
.bx_filter .bx_filter_param_label.active .bx_filter_btn_color_icon,
.bx_catalog_item_scu ul li.active .cnt_item,
.bx_scu_scroller_container ul li.bx_active .cnt_item {
  box-shadow: 0px 0px 0px 2px #fff inset, 0px 0px 0px 2px #d653b3;
}
.bx_filter_vertical input[type="checkbox"]:not(:checked) + label.sku:hover span,
.sku_props .bx_item_detail_size ul li:not(.active):hover span,
.bx_item_list_you_looked_horizontal .bx_item_detail_size ul li:hover span {
  color: #d346ad;
}
.bx_filter_vertical input[type="checkbox"] + label.sku:hover,
.sku_props .bx_item_detail_size ul li:hover,
.bx_item_list_you_looked_horizontal .bx_item_detail_size ul li:hover {
  border-color: #d346ad;
}
.more_text_ajax:after {
  background-color: #d653b3;
}
.list_item .description_wrapp .like_icons span.added {
  color: #d346ad;
}
.bx_ordercart .bx_sort_container a.current:after {
  background: #cc9ac0;
}
.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_order_pay_center .checkout {
  color: #d653b3;
  border-color: #d346ad;
}
.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_order_pay_center .checkout:hover {
  color: #fff;
  border-color: #cc9ac0;
  background: #cc9ac0;
}
.button.transparent:not(.text):hover {
  border-color: #cc9ac0;
  background: #cc9ac0;
  color: #fff;
}
.button.transparent.grey_br:hover {
  border-color: #cc9ac0;
  background: #fff;
}
.bx_ordercart tbody td.control a:first-of-type:hover,
.bx_ordercart #basket_items_delayed tbody td.control a:last-of-type:hover,
.bx_ordercart #basket_items_subscribed  tbody td.control a:first-of-type:hover,
.bx_ordercart #basket_items_not_available  tbody td.control a:last-of-type:hover,
.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_coupon:not(:first-of-type) > span:hover {
  background-color: #cc9ac0;
}
.bx_ordercart .bx_sort_container a,
.bx_item_list_you_looked_horizontal .bx_catalog_item .bx_catalog_item_title a {
  color: #d653b3;
}
.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blocktwo a,
.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blockone a {
  color: #FFF;
  background: #d653b3;
}
.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blocktwo a:hover,
.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blockone a {
  background: #bf93b2;
}
.sale_order_full_table input[name="BuyButton"] {
  background-color: #d757b5;
}
.sale_order_full_table input[name="BuyButton"] {
  background-color: #bf93b2;
}
.bx_ordercart .bx_item_detail_size_small_noadaptive ul li:active a,
.bx_ordercart .bx_item_detail_size_small_noadaptive ul li.bx_active a,
.bx_ordercart .bx_item_detail_size_small_noadaptive ul li:hover a {
  border-color: #bf93b2;
}
.color_link {
  color: #d346ad !important;
}
115  25956|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/themes/green/theme.min.css|348c7e18a.scroll-to-top.ROUND_COLOR,a.scroll-to-top.RECT_COLOR{background-color:#009F4F;}a.scroll-to-top.ROUND_COLOR:hover,a.scroll-to-top.RECT_COLOR:hover{background-color:#23a065;}ul li::before{color:#00903e;}.basket_print i{background-color:#008642;}.rss_feed_icon{background:#00903e;color:#000;}.start_promo .item i.title a,.start_promo .item i.price a,.start_promo .item i.title span,.start_promo .item i.price span,.start_promo .item span.main_wrap i:after,.start_promo .item p span,.wrap_tizer .wrap_outer,.wrap_tizer .wrap_outer .outer_text,.wrap_tizer .wrap_outer .inner_text{background:#009a4c;}.start_promo .item i.title span,.start_promo .item i.price span{box-shadow:-4px 1px 0px 4px #009a4c, 4px 1px 0px 4px #009a4c;}.start_promo .item i.price span{box-shadow:-4px 0px 0px 4px #009a4c, 4px 0px 0px 4px #009a4c;}.module-map .infoBox .close_info:hover{background-color:#00903e;}#header ul.menu.full>li.search_row #search-submit-button:hover,#header ul.menu.full>li.search_row #search-submit-button.hover{border:transparent;}#header .catalog_menu ul.menu>li,#header ul.menu.adaptive:not(.opened) li.menu_opener,#header ul.menu.full.opened li:not(.search_row):hover,#header ul.menu.full.opened li.current{border-bottom:1px solid #005831;}#header .catalog_menu ul.menu>li:not(.current):not(.stretch):hover{border-bottom:1px solid #005d2b;border-right:1px solid #005d2b;}#header ul.menu.full.opened li:not(.search_row):hover,#header ul.menu.full.opened li.current{border-top:1px solid #009a4c;}#header .catalog_menu ul.menu>li.current>a{color:#fff;border-left:1px solid #00954a;}#header .catalog_menu ul.menu>li{border-right:1px solid #005831;}.header-cart-block .cart span.icon i{background-position:0px -84px;}ul.menu li .child .child_wrapp,.breadcrumbs .dropdown,.authorization-cols .form-block{border-top:2px solid #00903e;}.catalog_detail ul.tabs.main_tabs{border-bottom:2px solid #00903e;}ul.menu li b.space,.breadcrumbs .drop b.space,.hint .triangle{border-bottom:6px solid #00903e;}.basket_button,.basket_button span,.button30,.button30 span,.popup .soc-avt .row a{color:#fff;}#footer .footer_inner .line,#header .basket_fly .opener .basket_count,.page_not_found td.image img{background:#00903e;}#bx-soa-order-form .btn.btn-default{background:#00903e;border-color:#00903e;}#bx-soa-order-form .btn.btn-default:hover{background:#219c63;border-color:#219c63;}ul.tabs li.cur .triangle,.view-list .view-header i.triangle{border-top:5px solid #008642 !important;}.basket_button.add span{background-position:0px -6px;}.basket_button.read_more span{background-position:1px -448px;}.basket_button.added span{background-position:0px -45px;}.front_slider_wrapp .extended_pagination>li.active i.triangle{border-right-color:#008642;}.catalog_detail .extended_info a.compare_item i{background-position:-32px -65px;}.catalog_detail .extended_info a.wish_item i{background-position:3px -72px;}.display_list a.compare_item i{background-position:-32px -3px;}.display_list a.wish_item i{background-position:-3px -2px;}.display_list a.compare_item:hover i,.display_list a.compare_item.added i{background-position:-32px -65px;}.display_list a.wish_item:hover i,.display_list a.wish_item.added i{background-position:-3px -63px;}.popup .form .form_head{border-bottom-color:#00903e;}.item_slider .thumbs i.triangle{border-bottom:5px solid #00903e;}blockquote:before{background-color:#00903e;}.module-gallery-list li .fancy_hover:hover{border:2px solid #00903e;}.smartfilter .bx_ui_slider_track .bx_ui_slider_range,.bx_filter .bx_ui_slider_pricebar_V{background:#00903e;}.catalog_block .catalog_item .basket_button.read_more span{background-position:1px -408px;}.catalog_block .catalog_item .basket_button.to-cart span{background-position:0 -7px;}.catalog_block .catalog_item:hover .basket_button span{color:#fff;background-position:0px -87px;}.catalog_block .catalog_item:hover .basket_button.read_more span{background-position:1px -448px !important;}.catalog_item .basket_button.in-cart span,.basket_button.in-cart span{background-position:0px -127px !important;}.catalog_item:hover .basket_button.added span{color:#fff;}.bx_filter_container #modef .triangle,.left_block .internal_sections_list .child_wrapp .triangle{border-right:6px solid #00903e;}#order_form_div .sale_order_table .ps_logo img:hover,#order_form_div .sale_order_table .ps_logo input[type=radio]:checked+label img,#order_form_div .sale_order_table.delivery label:hover img,#order_form_div .sale_order_table.delivery input[type=radio]:checked+label img,#order_form_div div.ps_logo.selected img,#order_form_div .account label:hover img,#order_form_div .account img.active{border:2px solid #00903e;}.front_slider_wrapp .extended_pagination>li.active span,a.b-share-popup__item:hover .b-share-popup__item__text{color:#fff !important;}ul.tabs li.cur span,ul.tabs li.cur:hover span,.front_slider_wrapp a.read_more{color:#fff;}.left_menu>li.current>a,.left_menu>li:not(.exit):hover{background:#00903e;}a i.arrow b{background-position:-36px 0px;}.top-h-row .search #search-submit-button:hover i,.top-h-row .search #search-submit-button.hover i{background-position:top center;}.catalog_detail a.compare_item:hover .icon i{background-position:-32px -65px;}.catalog_detail a.wish_item:hover .icon i{background-position:2px -45px;}ul.menu li.current a i{background-position:-61px 0px;}.button30.ask_question span.show_form,.button30.ask_question span.hide_form{background-position:5px -605px;}.button30.ask_question span.hide_form{color:#000;}.button30.ask_question span.hide_form:hover{color:#fff;}.question-list .q .ic b{background-position:-38px -188px;}.question-list .q.op .ic b{background-position:-8px -188px;}.number_list a.current span{color:#fff !important;}.basket_button span,.compare_button span{background-position:0px -87px;}.bx_filter_container_title .hint.active .hint_icon,.bx_filter_container_title .hint.active .hint_icon,.bx_filter_container_title .hint.active .hint_icon:hover,#header .basket_fly .opener .basket_count:not(.empty).count{color:#fff;}.left_block .internal_sections_list li.item:hover>a,.left_block .internal_sections_list li.item.cur>a{color:#fff;}.left_block .internal_sections_list li *{-webkit-transition:none;-moz-transition:none;-o-transition:none;transition:none;}a.compare_item i{background-position:-31px -1px;}a.wish_item i{background-position:-2px -1px;}a.compare_item:hover i{background-position:-31px -33px;}a.wish_item:hover i{background-position:-2px -32px;}a.compare_item.added i{background-position:-31px -63px;}a.wish_item.added i{background-position:-2px -62px;}.module_products_list .basket_button.to-cart span{background-position:0 -7px;}.module_products_list .basket_button.to-cart:hover span{background-position:0px -87px;}.basket_button.in-cart span{background-position:0px -127px;}.popup .close:hover i,.popup .grey .close i,.popup-window-close-icon.popup-window-titlebar-close-icon:hover:after{background-position:-1px -59px;}.card_popup_frame.popup .but_row a.to_basket .icon i{background-position:-5px -170px;}.soc-serv-main .button30 span,.reviews-expanded .button30.add_review span,.catalog_detail .basket_button.one_click span,.button30.review_preview span,.popup .grey .pop-up-title{color:#000;text-shadow:0 1px 0px rgba(255,255,255,0.5);-moz-text-shadow:0 1px 0px rgba(255,255,255,0.5);-o-text-shadow:0 1px 0px rgba(255,255,255,0.5);-webkit-text-shadow:0 1px 0px rgba(255,255,255,0.5);}.module-order-history .status.delivered{color:#fff;}.jobs_wrapp .item a:not(.opened):hover .icon i,.staff_wrapp .section .section_title:not(.opened):hover .icon i{background-position:-31px -33px;}.jobs_wrapp .item a.opened:hover .icon i,.staff_wrapp .section .section_title.opened:hover .icon i{background-position:0 -34px;}.button30.add_review span{background-position:4px -286px;}.button30.send_review span{background-position:4px -365px;}.card_popup_frame.popup .but_row a.to_delay .icon i{background-position:-48px -257px;}.compare_button span{background-position:-32px -64px;}#header .basket_fly .opener .basket_count .icon i{background-position:-7px -89px;}#header .basket_fly .opener .basket_count.empty:hover .icon i{background-position:-7px -47px;}#header .basket_fly .opener .basket_count.empty .icon i{background-position:-7px -5px;}#header .basket_fly .opener .wish_count .icon i{background-position:-48px -424px;}#header .basket_fly .opener .wish_count:hover .icon i{background-position:-48px -383px;}ul.menu li a{color:#000;}.catalog_menu ul.menu li a{color:#fff;}ul.menu li a i{background-position:-2px -20px;}.catalog_menu ul.menu li a i{background-position:-61px 0px;}a i.arrow.down b{background-position:-36px -35px;}.catalog_item:hover .basket_button span{color:#fff;}ul.specials_slider .basket_button span{background-position:0 -7px;}ul.specials_slider .basket_button:hover span,ul.specials_slider li:hover .basket_button span{background-position:0px -87px;}ul.specials_slider .basket_button.read_more span{background-position:1px -408px;}ul.specials_slider li:hover .basket_button.read_more span{background-position:1px -448px !important;}.top_slider_wrapp .flex-direction-nav li a.flex-next{background-position:-58px -60px;}.top_slider_wrapp .flex-direction-nav li:hover a.flex-prev{background-position:-3px -60px;}.top_slider_wrapp .flex-direction-nav li a.flex-prev{background-position:-3px 0px;}#header .basket_fly .opener .wish_count.empty:hover .icon i{background-position:-48px -341px;}#header .basket_fly .opener .wish_count.empty .icon i{background-position:-48px -299px;}#bx-soa-order .bx-soa-section .bx-soa-section-title:before{background-color:#009F4F;}#bx-soa-order div[class*=bx-sls] .quick-locations .quick-location-tag{border-color:#009F4F;color:#009F4F;}#bx-soa-order div[class*=bx-sls] .quick-locations .quick-location-tag:hover{background-color:#009F4F;color:#fff;}#bx-soa-order .bx-soa .form-group .radio-inline.checked label:before,#bx-soa-order .bx-soa .form-group .radio-inline label:hover:before,#bx-soa-order .bx-soa-pp-company:hover .bx-soa-pp-company-graf-container:before,#bx-soa-order .bx-soa-pp-company.bx-selected .bx-soa-pp-company-graf-container:before{background-color:#009F4F;}#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company.bx-selected .bx-soa-pp-company-graf-container,#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company:hover .bx-soa-pp-company-graf-container{border-color:#009F4F;}#bx-soa-order .bx-soa-pp-desc-container .bx-soa-pp-company:before,#bx-soa-order .bx-soa-pp-desc-container .checkbox label:hover:before,#bx-soa-order .bx-soa-pp-desc-container .checkbox label.checked:before{background-color:#009F4F;}#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company:hover .bx-soa-pp-company-smalltitle,#bx-soa-order .bx-soa-more .bx-soa-more-btn .pull-left{color:#009F4F;}#bx-soa-order .bx-soa-coupon-input:hover:after,#bx-soa-order .bx-soa-coupon-item .bx-soa-coupon-remove:hover{background-color:#009F4F;}#bx-soa-order div[class*=bx-sls] .bx-ui-sls-clear:hover:before{background-color:#009F4F;}@media all and (max-width:950px){.header_wrap.colored #header .center_block .main-nav{background:#009a4c;}}@media all and (max-width:768px){body .top_slider_wrapp .flex-direction-nav li a{background-image:url(../../images/arrows_big.png);}body .top_slider_wrapp .flex-direction-nav li a.flex-next{background-position:-30px -94px;}body .top_slider_wrapp .flex-direction-nav li a.flex-prev{background-position:0 -127px;}body .top_slider_wrapp .flex-direction-nav li a.flex-prev:hover{background-position:0 -94px;}body .flex-control-paging li a.flex-active, body .flex-control-paging li:hover a:not(.touch){background:#009a4c;background:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzAwYWFlMiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMwMDhmYzciIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);background:-moz-linear-gradient(top,#009a4c 0%,#008044 100%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0%,#009a4c),color-stop(100%,#008044));background:-webkit-linear-gradient(top,#009a4c 0%,#008044 100%);background:-o-linear-gradient(top,#009a4c 0%,#008044 100%);background:-ms-linear-gradient(top,#009a4c 0%,#008044 100%);background:linear-gradient(to bottom,#009a4c 0%,#008044 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='@bcolor_00aae2',endColorstr='@bcolor_008fc7',GradientType=0);}}@media all and (max-width:600px){#header ul.menu.full.opened>li, .has_menu #header .center_block .main-nav{background-color:#009a4c;}.has_menu #header .center_block .main-nav:hover{background:#1db563 none repeat scroll 0 0;}#header ul.menu.full.opened li.current{background:#008044;}}@media all and (max-width:550px){body #footer .footer_inner .line{border-top:4px solid #00903e;}.basket_wrapp .empty_cart:not(.bcart).wraps_icon_block.basket .count span, .basket_wrapp .basket_empty .wraps_icon_block.basket .count span{color:#FFF;background:#009a4c;}}#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li:hover>a,#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li.opened>a,#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li.current>a{background:#1db563;}#header .wrapper_middle_menu.wrap_menu ul.menu.opened>li{background:#008642;}.button.transparent,.h_color_white .header_wrap .menu>li.current>a span,.h_color_white.wrapper #header ul.menu li .child .child_wrapp,.m_color_white.wrapper #header ul.menu li .child .child_wrapp,.basket_normal .popup.card_popup_frame .basket_popup_wrapp,.basket_sort ul.tabs li.cur div,.smartfilter .bx_ui_slider_track .bx_ui_slider_handle,.bx_filter .button,.bx_filter_vertical input[type="checkbox"]:checked+label.sku,.sku_props .bx_item_detail_size ul li.active,.bx_size_scroller_container .bx_size ul li.bx_active,.bx_filter .bx_filter_param_label.active .bx_filter_param_btn,.bx_catalog_item_scu .bx_item_detail_scu ul li.active span.cnt,.item_slider .thumbs li.current,.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-left-column,.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-center-column,.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-right-column,.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-left-column,.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-center-column,.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-right-column,.bx_element input[type=radio]:checked+label .bx_logotype,.bx_element label.selected .bx_logotype{border-color:#219c63;}a,.link,.button.transparent,.button.transparent:hover,.specials_slider_wrapp ul.tabs>li span,.tab_slider_wrapp ul.tabs>li span,.basket_wrapp .basket_block .link:hover+.wraps_icon_block+.text .title,.stores .stores_list .item a span,.phones .order_wrap_btn,.footer_bottom .all_menu_block ul li a:hover,.footer_bottom .submenu_top .menu_item a:hover,.avtorization-call.enter:hover span,.top-h-row .h-user-block a:hover,ul.menu .child li.menu_item a,#header .catalog_menu ul.menu>li.current>a,ul.menu .child .depth3 a,ul.menu .child li.menu_title a:hover,#header ul.menu li .child.submenu .child_wrapp a:not(.title),.img_block_capcha .reload,.h_color_white .center_block .menu.full>li:hover>a,.m_color_white #header .wrapper_middle_menu .menu.bottom>li:hover>a,.m_color_white #header .wrapper_middle_menu .menu.bottom>li.hover>a,body #header ul.menu li .child.line .child_wrapp>a:hover,.basket_sort ul.tabs li .wrap_li>span *,.basket_sort ul.tabs li .wrap_li>span,.bx_filter_parameters_box_title:hover,.bx_filter .bx_filter_popup_result a,.left_block .internal_sections_list .child_wrapp .child li.cur>a,.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item.cur,.left_block .internal_sections_list .child_wrapp a:hover,.ajax_load_btn:hover .more_text_ajax,.breadcrumbs a:hover span,.tabs-head li.current span,.item-stock .store_view,.reviews-post-reply-buttons a:hover,h4.hover,.button.transparent.white:hover,.button.white_bg,.item .child_container .child_wrapp .menu_item.current a,.item .child_container .child_wrapp .menu_item:hover a{color:#008642;}button.button,input.button,.button,#header ul.menu.full.opened li:not(.search_row):hover,#header ul.menu.full>li.search_row #search-submit-button:hover,table.title-search-result td.title-search-all a .icon,.flex-direction-nav li:hover,.flex-direction-nav li:first-child:hover,.top_slider_wrapp .flex-direction-nav li:hover,.like_icons .wish_item.added,.like_icons .compare_item.added,.light .stores .all_map,.block_wr.dark,.popup .close:hover,.header_wrap #header .middle-h-row .logo_wrapp .logo a,.h_color_colored .header_wrap #header,.registraion-page .top p:after,.has_menu.m_color_colored #header .catalog_menu,.module-cart .remove-cell a:hover,.cart_shell .remove-cell a:hover,.bx_item_set_hor .bx_item_set_hor_item a.remove,.bx_filter .bx_filter_popup_result,.bx_filter .bx_filter_parameters_box_title:before,.bx_filter_vertical input[type="checkbox"]+label:before,.filter input[type="checkbox"]+label:before,.filter input[type="radio"]+label:before,.bx_filter label.pal:hover .bx_filter_param_btn,.bx_filter .bx_filter_param_label.active .bx_filter_param_btn,.bx_filter_vertical input[type="checkbox"]:checked+label.sku,.left_block .internal_sections_list li.cur,.left_block .internal_sections_list li:hover,.left_block .internal_sections_list .title .inner_block:hover:before,.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item.cur:before,.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item:hover:before,.left_block .internal_sections_list .child_wrapp ul.child li.cur:after,.left_block .internal_sections_list .child_wrapp ul.child li:hover:after,body #content .props_list tr td>span:before,body #content .props_list tr td>.txt:before,.module-pagination .nums .cur,.more_text_ajax:before,.captcha_reload:before,.sku_props .bx_item_detail_size ul li.active,.bx_size_scroller_container .bx_size ul li.bx_active,.bx_catalog_item_scu .bx_item_detail_scu ul li.active span:not(.cnt_item),.ik_select_list .ik_select_list_inner ul li.ik_select_active,.bx_filter_select_popup ul li label.selected,.filter_opener.opened,.no_goods .no_products:before,.wr_scrollbar .scrollbar .handle,.remove:hover,a i.arrow,.popup-window-close-icon.popup-window-titlebar-close-icon:hover,.bx_kit_item .bx_kit_item_add,.catalog_detail .offers_table td.opener:hover .opener_icon,.opener_icon:hover,.char_name .hint .icon:hover,.char_name .hint.active .icon,.location-block-wrapper .bx-sls .bx-ui-sls-clear:before,h4:hover .opener_icon,.bg_block:before,#order_form_div input[type="submit"],.module-order-history .item_name:hover .icon,.module-order-history .item_name:hover .icon,.faq.list .item .q:hover .opener_icon,.jobs_wrapp .item .name tr:hover .opener_icon{color:#FFF;background:#009a4c;}.catalog_detail .bx-modal-container .btn.btn-add{color:#FFF;background:#009a4c;}.catalog_detail .bx-modal-container .btn.btn-add:hover{background:#219c63;}.colored #header .catalog_menu ul.menu>li,header .wrap_menu{background:#009047;}#header .catalog_menu ul.menu>li .dropdown>li.current a{background:#008040;}.tabs-head li.current:before{background-color:#009a4c;}.like_icons .compare_item.added i,.like_icons .wish_item.added i{background-color:#009a4c;}.icon_error_block:after{background-color:#009a4c !important;}.flex-direction-nav li:first-child,.flex-direction-nav li,.flex-direction-nav li:hover{border-bottom-width:0px;}.specials_slider_wrapp ul.tabs li.cur span,.tab_slider_wrapp ul.tabs li.cur span,.popup .popup-intro{border-bottom-color:#219c63;}.button:hover,.like_icons .compare_item.added:hover,.like_icons .wish_item.added:hover,.light .stores .all_map:hover{background:#219c63;}.like_icons .compare_item.added:hover i,.like_icons .wish_item.added:hover i{background-color:#219c63;}.wrapper_middle_menu.wrap_menu.mobile:hover{background:#219c63;}.header_wrap #header .catalog_menu.menu_colored .inc_menu ul.menu>li:not(.current):hover>a{background:#00ae57;}header .menu_top_block li .dropdown>li:hover>a,header .menu_top_block li:not(.catalog).dropdown>li.current>a:not(.section),header .menu_top_block li.catalog>.dropdown>li:hover>a:before{background:#009F4F;}header .menu_colored .menu_top_block>li.current>a,header .menu_dark .menu_top_block.menu>li.current>a,header .menu_dark .menu_top_block.menu>li.current:hover>a,.menu_top_block.catalog_block .dropdown>li.full:hover>a:before,.menu_top_block.catalog_block .dropdown>li.full.current>a,header .menu_top_block li.catalog>.dropdown>li.current>a,.left_menu>li.current>a,.left_menu>li:hover>a:before{background:#008040;}header .menu_top_block>li.catalog>a,header .menu_top_block>li.catalog.current>a,header .menu_top_block>li.catalog{background-color:#009F4F;}header .catalog_menu .menu_top_block.menu li.catalog li.full.current>a:after,header .catalog_menu .menu_top_block.menu li.catalog li.full:hover>a:after,.menu_top_block.catalog_block .dropdown>li.full:hover>a:after,.left_menu>li.has-childs:hover>a:after{color:#00954a;}header .menu_top_block li .dropdown>li.menu_item>a:hover,.menu_top_block.catalog_block .dropdown>li.full>.dropdown>li>a:not(.section):hover,.menu_top_block.catalog_block .dropdown>li.full:hover>a,.left_menu>li:hover>a{color:#008642;}.phone_block .phone_wrap .icons{color:#008642;}header .menu_top_block li.catalog>.dropdown>li:hover>a,header .menu_top_block li.catalog>.dropdown>li>.dropdown>li.current>a:not(.section){color:#008642;}header .menu_top_block li .dropdown>li.current>a.section1,.menu_top_block li .dropdown>li>a.section1:hover,#header .catalog_menu.menu_light ul.menu>li.current>a,#header .catalog_menu.menu_light ul.menu>li:hover>a{color:#008642;}.subscribe-form:before{background:#00954a;}.subscribe-form input.send_btn{background-color:#00954a;}.bx_ordercart .bx_ordercart_order_pay .bx_bt_button{background:#00954a;}.subscribe-form input.send_btn:hover{background-color:#219c63;}.bx_ordercart .bx_ordercart_order_pay .bx_bt_button:hover{background:#219c63;}.bx_ordercart .bx_item_detail_size_small_noadaptive .bx_size ul li.bx_active a{background:#219c63;color:#fff;}.bx_ordercart .bx_item_detail_size_small_noadaptive .bx_size ul li:not(.bx_active):hover a{color:#008642;}a.dark_link:hover,.dark_link:hover span,.dl:hover a,.selected a.dark_link,.current a.dark_link{color:#008642 !important;}.menu_top_block.catalog_block .dropdown>li.full>.dropdown>li>a,header .menu_top_block.catalogfirst li.full>.dropdown>li:not(.current)>a{color:#008642;}.middle_phone .phone_wrap .icons,.top_slider_wrapp .flexslider .slides>li:after{background-color:#00954a;}.basket_fly .basket_wrapp .basket_fly .wraps_icon_block.delay .count span{background-color:#00954a;}.basket_normal .basket_wrapp .wraps_icon_block.basket .count span{background-color:#00954a;}.bx_filter .bx_filter_parameters_box_title:hover:after{color:#008642;}.bx_filter .bx_filter_param_label.active .bx_filter_btn_color_icon,.bx_catalog_item_scu ul li.active .cnt_item,.bx_scu_scroller_container ul li.bx_active .cnt_item{box-shadow:0px 0px 0px 2px #fff inset, 0px 0px 0px 2px #00954a;}.bx_filter_vertical input[type="checkbox"]:not(:checked)+label.sku:hover span,.sku_props .bx_item_detail_size ul li:not(.active):hover span,.bx_item_list_you_looked_horizontal .bx_item_detail_size ul li:hover span{color:#008642;}.bx_filter_vertical input[type="checkbox"]+label.sku:hover,.sku_props .bx_item_detail_size ul li:hover,.bx_item_list_you_looked_horizontal .bx_item_detail_size ul li:hover{border-color:#008642;}.more_text_ajax:after{background-color:#00954a;}.list_item .description_wrapp .like_icons span.added{color:#008642;}.bx_ordercart .bx_sort_container a.current:after{background:#1db563;}.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_order_pay_center .checkout{color:#00954a;border-color:#008642;}.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_order_pay_center .checkout:hover{color:#fff;border-color:#1db563;background:#1db563;}.button.transparent:not(.text):hover{border-color:#1db563;background:#1db563;color:#fff;}.button.transparent.grey_br:hover{border-color:#1db563;background:#fff;}.bx_ordercart tbody td.control a:first-of-type:hover,.bx_ordercart #basket_items_delayed tbody td.control a:last-of-type:hover,.bx_ordercart #basket_items_subscribed tbody td.control a:first-of-type:hover,.bx_ordercart #basket_items_not_available tbody td.control a:last-of-type:hover,.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_coupon:not(:first-of-type)>span:hover{background-color:#1db563;}.bx_ordercart .bx_sort_container a,.bx_item_list_you_looked_horizontal .bx_catalog_item .bx_catalog_item_title a{color:#00954a;}.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blocktwo a,.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blockone a{color:#FFF;background:#00954a;}.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blocktwo a:hover,.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blockone a{background:#219c63;}.sale_order_full_table input[name="BuyButton"]{background-color:#009a4c;}.sale_order_full_table input[name="BuyButton"]{background-color:#219c63;}.bx_ordercart .bx_item_detail_size_small_noadaptive ul li:active a,.bx_ordercart .bx_item_detail_size_small_noadaptive ul li.bx_active a,.bx_ordercart .bx_item_detail_size_small_noadaptive ul li:hover a{border-color:#219c63;}.color_link{color:#008642 !important;}111  28695|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/themes/green/theme.css|3f167525a.scroll-to-top.ROUND_COLOR,
a.scroll-to-top.RECT_COLOR {
  background-color: #009F4F;
}
a.scroll-to-top.ROUND_COLOR:hover,
a.scroll-to-top.RECT_COLOR:hover {
  background-color: #23a065;
}
ul li::before {
  color: #00903e;
}
.basket_print i {
  background-color: #008642;
}
.rss_feed_icon {
  background: #00903e;
  color: #000;
}
.start_promo .item i.title a,
.start_promo .item i.price a,
.start_promo .item i.title span,
.start_promo .item i.price span,
.start_promo .item span.main_wrap i:after,
.start_promo .item p span,
.wrap_tizer .wrap_outer,
.wrap_tizer .wrap_outer .outer_text,
.wrap_tizer .wrap_outer .inner_text {
  background: #009a4c;
}
.start_promo .item i.title span,
.start_promo .item i.price span {
  box-shadow: -4px 1px 0px 4px #009a4c, 4px 1px 0px 4px #009a4c;
}
.start_promo .item i.price span {
  box-shadow: -4px 0px 0px 4px #009a4c, 4px 0px 0px 4px #009a4c;
}
.module-map .infoBox .close_info:hover {
  background-color: #00903e;
}
#header ul.menu.full > li.search_row #search-submit-button:hover,
#header ul.menu.full > li.search_row #search-submit-button.hover {
  border: transparent;
}
#header .catalog_menu ul.menu > li,
#header ul.menu.adaptive:not(.opened) li.menu_opener,
#header ul.menu.full.opened li:not(.search_row):hover,
#header ul.menu.full.opened li.current {
  border-bottom: 1px solid #005831;
}
#header .catalog_menu ul.menu > li:not(.current):not(.stretch):hover {
  border-bottom: 1px solid #005d2b;
  border-right: 1px solid #005d2b;
}
#header ul.menu.full.opened li:not(.search_row):hover,
#header ul.menu.full.opened li.current {
  border-top: 1px solid #009a4c;
}
#header .catalog_menu ul.menu > li.current > a {
  color: #fff;
  border-left: 1px solid #00954a;
}
#header .catalog_menu ul.menu > li {
  border-right: 1px solid #005831;
}
.header-cart-block .cart span.icon i {
  background-position: 0px -84px;
}
ul.menu li .child .child_wrapp,
.breadcrumbs .dropdown,
.authorization-cols .form-block {
  border-top: 2px solid #00903e;
}
.catalog_detail ul.tabs.main_tabs {
  border-bottom: 2px solid #00903e;
}
ul.menu li b.space,
.breadcrumbs .drop b.space,
.hint .triangle {
  border-bottom: 6px solid #00903e;
}
.basket_button,
.basket_button span,
.button30,
.button30 span,
.popup .soc-avt .row a {
  color: #fff;
}
#footer .footer_inner .line,
#header .basket_fly .opener .basket_count,
.page_not_found td.image img {
  background: #00903e;
}
#bx-soa-order-form .btn.btn-default {
  background: #00903e;
  border-color: #00903e;
}
#bx-soa-order-form .btn.btn-default:hover {
  background: #219c63;
  border-color: #219c63;
}
ul.tabs li.cur .triangle,
.view-list .view-header i.triangle {
  border-top: 5px solid #008642 !important;
}
.basket_button.add span {
  background-position: 0px -6px;
}
.basket_button.read_more span {
  background-position: 1px -448px;
}
.basket_button.added span {
  background-position: 0px -45px;
}
.front_slider_wrapp .extended_pagination > li.active i.triangle {
  border-right-color: #008642;
}
.catalog_detail .extended_info a.compare_item i {
  background-position: -32px -65px;
}
.catalog_detail .extended_info a.wish_item i {
  background-position: 3px -72px;
}
.display_list a.compare_item i {
  background-position: -32px -3px;
}
.display_list a.wish_item i {
  background-position: -3px -2px;
}
.display_list a.compare_item:hover i,
.display_list a.compare_item.added i {
  background-position: -32px -65px;
}
.display_list a.wish_item:hover i,
.display_list a.wish_item.added i {
  background-position: -3px -63px;
}
.popup .form .form_head {
  border-bottom-color: #00903e;
}
.item_slider .thumbs i.triangle {
  border-bottom: 5px solid #00903e;
}
blockquote:before {
  background-color: #00903e;
}
.module-gallery-list li .fancy_hover:hover {
  border: 2px solid #00903e;
}
.smartfilter .bx_ui_slider_track .bx_ui_slider_range,
.bx_filter .bx_ui_slider_pricebar_V {
  background: #00903e;
}
.catalog_block .catalog_item .basket_button.read_more span {
  background-position: 1px -408px;
}
.catalog_block .catalog_item .basket_button.to-cart span {
  background-position: 0 -7px;
}
.catalog_block .catalog_item:hover .basket_button span {
  color: #fff;
  background-position: 0px -87px;
}
.catalog_block .catalog_item:hover .basket_button.read_more span {
  background-position: 1px -448px !important;
}
.catalog_item .basket_button.in-cart span,
.basket_button.in-cart span {
  background-position: 0px -127px !important;
}
.catalog_item:hover .basket_button.added span {
  color: #fff;
}
.bx_filter_container #modef .triangle,
.left_block .internal_sections_list .child_wrapp .triangle {
  border-right: 6px solid #00903e;
}
#order_form_div .sale_order_table .ps_logo img:hover,
#order_form_div .sale_order_table .ps_logo input[type=radio]:checked + label img,
#order_form_div .sale_order_table.delivery label:hover img,
#order_form_div .sale_order_table.delivery input[type=radio]:checked + label img,
#order_form_div div.ps_logo.selected img,
#order_form_div .account label:hover img,
#order_form_div .account img.active {
  border: 2px solid #00903e;
}
.front_slider_wrapp .extended_pagination > li.active span,
a.b-share-popup__item:hover .b-share-popup__item__text {
  color: #fff !important;
}
ul.tabs li.cur span,
ul.tabs li.cur:hover span,
.front_slider_wrapp a.read_more {
  color: #fff;
}
.left_menu > li.current >a,
.left_menu > li:not(.exit):hover {
  background: #00903e;
}
a i.arrow b {
  background-position: -36px 0px;
}
.top-h-row .search #search-submit-button:hover i,
.top-h-row .search #search-submit-button.hover i {
  background-position: top center;
}
.catalog_detail a.compare_item:hover .icon i {
  background-position: -32px -65px;
}
.catalog_detail a.wish_item:hover .icon i {
  background-position: 2px -45px;
}
ul.menu li.current a i {
  background-position: -61px 0px;
}
.button30.ask_question span.show_form,
.button30.ask_question span.hide_form {
  background-position: 5px -605px;
}
.button30.ask_question span.hide_form {
  color: #000;
}
.button30.ask_question span.hide_form:hover {
  color: #fff;
}
.question-list .q .ic b {
  background-position: -38px -188px;
}
.question-list .q.op .ic b {
  background-position: -8px -188px;
}
.number_list a.current span {
  color: #fff !important;
}
.basket_button span,
.compare_button span {
  background-position: 0px -87px;
}
.bx_filter_container_title .hint.active .hint_icon,
.bx_filter_container_title .hint.active .hint_icon,
.bx_filter_container_title .hint.active .hint_icon:hover,
#header .basket_fly .opener .basket_count:not(.empty) .count {
  color: #fff;
}
.left_block .internal_sections_list li.item:hover > a,
.left_block .internal_sections_list li.item.cur > a {
  color: #fff;
}
.left_block .internal_sections_list li * {
  -webkit-transition: none;
  -moz-transition: none;
  -o-transition: none;
  transition: none;
}
a.compare_item i {
  background-position: -31px -1px;
}
a.wish_item i {
  background-position: -2px -1px;
}
a.compare_item:hover i {
  background-position: -31px -33px;
}
a.wish_item:hover i {
  background-position: -2px -32px;
}
a.compare_item.added i {
  background-position: -31px -63px;
}
a.wish_item.added i {
  background-position: -2px -62px;
}
.module_products_list .basket_button.to-cart span {
  background-position: 0 -7px;
}
.module_products_list .basket_button.to-cart:hover span {
  background-position: 0px -87px;
}
.basket_button.in-cart span {
  background-position: 0px -127px;
}
.popup .close:hover i,
.popup .grey .close i,
.popup-window-close-icon.popup-window-titlebar-close-icon:hover:after {
  background-position: -1px -59px;
}
.card_popup_frame.popup .but_row a.to_basket .icon i {
  background-position: -5px -170px;
}
.soc-serv-main .button30 span,
.reviews-expanded .button30.add_review span,
.catalog_detail .basket_button.one_click span,
.button30.review_preview span,
.popup .grey .pop-up-title {
  color: #000;
  text-shadow: 0 1px 0px rgba(255,255,255,0.5);
  -moz-text-shadow: 0 1px 0px rgba(255,255,255,0.5);
  -o-text-shadow: 0 1px 0px rgba(255,255,255,0.5);
  -webkit-text-shadow: 0 1px 0px rgba(255,255,255,0.5);
}
.module-order-history .status.delivered {
  color: #fff;
}
.jobs_wrapp .item a:not(.opened):hover .icon i,
.staff_wrapp .section .section_title:not(.opened):hover .icon i {
  background-position: -31px -33px;
}
.jobs_wrapp .item a.opened:hover .icon i,
.staff_wrapp .section .section_title.opened:hover .icon i {
  background-position: 0 -34px;
}
.button30.add_review span {
  background-position: 4px -286px;
}
.button30.send_review span {
  background-position: 4px -365px;
}
.card_popup_frame.popup .but_row a.to_delay .icon i {
  background-position: -48px -257px;
}
.compare_button span {
  background-position: -32px -64px;
}
#header .basket_fly .opener .basket_count .icon i {
  background-position: -7px -89px;
}
#header .basket_fly .opener .basket_count.empty:hover .icon i {
  background-position: -7px -47px;
}
#header .basket_fly .opener .basket_count.empty .icon i {
  background-position: -7px -5px;
}
#header .basket_fly .opener .wish_count .icon i {
  background-position: -48px -424px;
}
#header .basket_fly .opener .wish_count:hover .icon i {
  background-position: -48px -383px;
}
ul.menu li a {
  color: #000;
}
.catalog_menu ul.menu li a {
  color: #fff;
}
ul.menu li a i {
  background-position: -2px -20px;
}
.catalog_menu ul.menu li a i {
  background-position: -61px 0px;
}
a i.arrow.down b {
  background-position: -36px -35px;
}
.catalog_item:hover .basket_button span {
  color: #fff;
}
ul.specials_slider .basket_button span {
  background-position: 0 -7px;
}
ul.specials_slider .basket_button:hover span,
ul.specials_slider li:hover .basket_button span {
  background-position: 0px -87px;
}
ul.specials_slider  .basket_button.read_more span {
  background-position: 1px -408px;
}
ul.specials_slider li:hover .basket_button.read_more span {
  background-position: 1px -448px !important;
}
.top_slider_wrapp .flex-direction-nav li a.flex-next {
  background-position: -58px -60px;
}
.top_slider_wrapp .flex-direction-nav li:hover a.flex-prev {
  background-position: -3px -60px;
}
.top_slider_wrapp .flex-direction-nav li a.flex-prev {
  background-position: -3px 0px;
}
#header .basket_fly .opener .wish_count.empty:hover .icon i {
  background-position: -48px -341px;
}
#header .basket_fly .opener .wish_count.empty .icon i {
  background-position: -48px -299px;
}
#bx-soa-order .bx-soa-section .bx-soa-section-title:before {
  background-color: #009F4F;
}
#bx-soa-order div[class*=bx-sls] .quick-locations .quick-location-tag {
  border-color: #009F4F;
  color: #009F4F;
}
#bx-soa-order div[class*=bx-sls] .quick-locations .quick-location-tag:hover {
  background-color: #009F4F;
  color: #fff;
}
#bx-soa-order .bx-soa .form-group .radio-inline.checked label:before,
#bx-soa-order .bx-soa .form-group .radio-inline label:hover:before,
#bx-soa-order .bx-soa-pp-company:hover .bx-soa-pp-company-graf-container:before,
#bx-soa-order .bx-soa-pp-company.bx-selected .bx-soa-pp-company-graf-container:before {
  background-color: #009F4F;
}
#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company.bx-selected .bx-soa-pp-company-graf-container,
#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company:hover .bx-soa-pp-company-graf-container {
  border-color: #009F4F;
}
#bx-soa-order .bx-soa-pp-desc-container .bx-soa-pp-company:before,
#bx-soa-order .bx-soa-pp-desc-container .checkbox label:hover:before,
#bx-soa-order .bx-soa-pp-desc-container .checkbox label.checked:before {
  background-color: #009F4F;
}
#bx-soa-order .bx-soa-pp-item-container .bx-soa-pp-company:hover .bx-soa-pp-company-smalltitle,
#bx-soa-order .bx-soa-more .bx-soa-more-btn .pull-left {
  color: #009F4F;
}
#bx-soa-order .bx-soa-coupon-input:hover:after,
#bx-soa-order .bx-soa-coupon-item .bx-soa-coupon-remove:hover {
  background-color: #009F4F;
}
#bx-soa-order div[class*=bx-sls] .bx-ui-sls-clear:hover:before {
  background-color: #009F4F;
}
@media all and (max-width: 950px) {
  .header_wrap.colored #header .center_block .main-nav {
    background: #009a4c;
  }
}
@media all and (max-width: 768px) {
  body .top_slider_wrapp .flex-direction-nav li a {
    background-image: url(../../images/arrows_big.png);
  }
  body .top_slider_wrapp .flex-direction-nav li a.flex-next {
    background-position: -30px -94px;
  }
  body .top_slider_wrapp .flex-direction-nav li a.flex-prev {
    background-position: 0 -127px;
  }
  body .top_slider_wrapp .flex-direction-nav li a.flex-prev:hover {
    background-position: 0 -94px;
  }
  body .flex-control-paging li a.flex-active,
  body .flex-control-paging li:hover a:not(.touch) {
    background: #009a4c;
    background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzAwYWFlMiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMwMDhmYzciIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);
    background: -moz-linear-gradient(top,#009a4c 0%,#008044 100%);
    background: -webkit-gradient(linear,left top,left bottom,color-stop(0%,#009a4c),color-stop(100%,#008044));
    background: -webkit-linear-gradient(top,#009a4c 0%,#008044 100%);
    background: -o-linear-gradient(top,#009a4c 0%,#008044 100%);
    background: -ms-linear-gradient(top,#009a4c 0%,#008044 100%);
    background: linear-gradient(to bottom,#009a4c 0%,#008044 100%);
    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='@bcolor_00aae2',endColorstr='@bcolor_008fc7',GradientType=0);
  }
}
@media all and (max-width: 600px) {
  #header ul.menu.full.opened > li,
  .has_menu #header .center_block .main-nav {
    background-color: #009a4c;
  }
  .has_menu #header .center_block .main-nav:hover {
    background: #1db563 none repeat scroll 0 0;
  }
  #header ul.menu.full.opened li.current {
    background: #008044;
  }
}
@media all and (max-width: 550px) {
  body #footer .footer_inner .line {
    border-top: 4px solid #00903e;
  }
  .basket_wrapp .empty_cart:not(.bcart) .wraps_icon_block.basket .count span,
  .basket_wrapp .basket_empty .wraps_icon_block.basket .count span {
    color: #FFF;
    background: #009a4c;
  }
}
#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li:hover>a,
#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li.opened>a,
#header .wrapper_middle_menu.wrap_menu ul.mobile_menu li.current > a {
  background: #1db563;
}
#header .wrapper_middle_menu.wrap_menu ul.menu.opened > li {
  background: #008642;
}
.button.transparent,
.h_color_white .header_wrap .menu > li.current > a span,
.h_color_white.wrapper #header ul.menu li .child .child_wrapp,
.m_color_white.wrapper #header ul.menu li .child .child_wrapp,
.basket_normal .popup.card_popup_frame .basket_popup_wrapp,
.basket_sort ul.tabs li.cur div,
.smartfilter .bx_ui_slider_track .bx_ui_slider_handle,
.bx_filter .button,
.bx_filter_vertical input[type="checkbox"]:checked + label.sku,
.sku_props .bx_item_detail_size ul li.active,
.bx_size_scroller_container .bx_size ul li.bx_active,
.bx_filter .bx_filter_param_label.active .bx_filter_param_btn,
.bx_catalog_item_scu .bx_item_detail_scu ul li.active span.cnt,
.item_slider .thumbs li.current,
.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-left-column,
.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-center-column,
.popup-window.popup-window-titlebar .popup-window-top-row .popup-window-right-column,
.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-left-column,
.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-center-column,
.popup-window.popup-window-titlebar-light .popup-window-top-row .popup-window-right-column,
.bx_element input[type=radio]:checked + label .bx_logotype,
.bx_element label.selected .bx_logotype {
  border-color: #219c63;
}
a,
.link,
.button.transparent,
.button.transparent:hover,
.specials_slider_wrapp ul.tabs > li span,
.tab_slider_wrapp ul.tabs > li span,
.basket_wrapp .basket_block .link:hover + .wraps_icon_block + .text .title,
.stores .stores_list .item a span,
.phones .order_wrap_btn,
.footer_bottom .all_menu_block ul li a:hover,
.footer_bottom .submenu_top .menu_item a:hover,
.avtorization-call.enter:hover span,
.top-h-row .h-user-block a:hover,
ul.menu .child li.menu_item a,
#header .catalog_menu ul.menu > li.current > a,
ul.menu .child .depth3 a,
ul.menu .child li.menu_title a:hover,
#header ul.menu li .child.submenu .child_wrapp a:not(.title),
.img_block_capcha .reload,
.h_color_white .center_block .menu.full > li:hover > a,
.m_color_white #header .wrapper_middle_menu .menu.bottom > li:hover > a,
.m_color_white #header .wrapper_middle_menu .menu.bottom > li.hover > a,
body #header ul.menu li .child.line .child_wrapp > a:hover,
.basket_sort ul.tabs li .wrap_li > span *,
.basket_sort ul.tabs li .wrap_li > span,
.bx_filter_parameters_box_title:hover,
.bx_filter .bx_filter_popup_result a,
.left_block .internal_sections_list .child_wrapp .child li.cur > a,
.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item.cur,
.left_block .internal_sections_list .child_wrapp a:hover,
.ajax_load_btn:hover .more_text_ajax,
.breadcrumbs a:hover span,
.tabs-head li.current span,
.item-stock .store_view,
.reviews-post-reply-buttons a:hover,
h4.hover,
.button.transparent.white:hover,
.button.white_bg,
.item .child_container .child_wrapp .menu_item.current a,
.item .child_container .child_wrapp .menu_item:hover a {
  color: #008642;
}
button.button,
input.button,
.button,
#header ul.menu.full.opened li:not(.search_row):hover,
#header ul.menu.full > li.search_row #search-submit-button:hover,
table.title-search-result td.title-search-all a .icon,
.flex-direction-nav li:hover,
.flex-direction-nav li:first-child:hover,
.top_slider_wrapp .flex-direction-nav li:hover,
.like_icons .wish_item.added,
.like_icons .compare_item.added,
.light .stores .all_map,
.block_wr.dark,
.popup .close:hover,
.header_wrap #header .middle-h-row .logo_wrapp .logo a,
.h_color_colored .header_wrap #header,
.registraion-page .top p:after,
.has_menu.m_color_colored #header .catalog_menu,
.module-cart .remove-cell a:hover,
.cart_shell .remove-cell a:hover,
.bx_item_set_hor .bx_item_set_hor_item a.remove,
.bx_filter .bx_filter_popup_result,
.bx_filter .bx_filter_parameters_box_title:before,
.bx_filter_vertical input[type="checkbox"] + label:before,
.filter input[type="checkbox"] + label:before,
.filter input[type="radio"] + label:before,
.bx_filter label.pal:hover .bx_filter_param_btn,
.bx_filter .bx_filter_param_label.active .bx_filter_param_btn,
.bx_filter_vertical input[type="checkbox"]:checked + label.sku,
.left_block .internal_sections_list li.cur,
.left_block .internal_sections_list li:hover,
.left_block .internal_sections_list .title .inner_block:hover:before,
.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item.cur:before,
.left_block .internal_sections_list .child_wrapp .child li.depth3 a.menu_item:hover:before,
.left_block .internal_sections_list .child_wrapp ul.child li.cur:after,
.left_block .internal_sections_list .child_wrapp ul.child li:hover:after,
body #content .props_list tr td > span:before,
body #content .props_list tr td > .txt:before,
.module-pagination .nums .cur,
.more_text_ajax:before,
.captcha_reload:before,
.sku_props .bx_item_detail_size ul li.active,
.bx_size_scroller_container .bx_size ul li.bx_active,
.bx_catalog_item_scu .bx_item_detail_scu ul li.active span:not(.cnt_item),
.ik_select_list .ik_select_list_inner ul li.ik_select_active,
.bx_filter_select_popup ul li label.selected,
.filter_opener.opened,
.no_goods .no_products:before,
.wr_scrollbar .scrollbar .handle,
.remove:hover,
a i.arrow,
.popup-window-close-icon.popup-window-titlebar-close-icon:hover,
.bx_kit_item .bx_kit_item_add,
.catalog_detail .offers_table td.opener:hover .opener_icon,
.opener_icon:hover,
.char_name .hint .icon:hover,
.char_name .hint.active .icon,
.location-block-wrapper .bx-sls .bx-ui-sls-clear:before,
h4:hover .opener_icon,
.bg_block:before,
#order_form_div input[type="submit"],
.module-order-history .item_name:hover .icon,
.module-order-history .item_name:hover .icon,
.faq.list .item .q:hover .opener_icon,
.jobs_wrapp .item .name tr:hover .opener_icon {
  color: #FFF;
  background: #009a4c;
}
.catalog_detail .bx-modal-container .btn.btn-add {
  color: #FFF;
  background: #009a4c;
}
.catalog_detail .bx-modal-container .btn.btn-add:hover {
  background: #219c63;
}
.colored #header .catalog_menu ul.menu > li,
header .wrap_menu {
  background: #009047;
}
#header .catalog_menu ul.menu > li .dropdown >li.current a {
  background: #008040;
}
.tabs-head li.current:before {
  background-color: #009a4c;
}
.like_icons .compare_item.added i,
.like_icons .wish_item.added i {
  background-color: #009a4c;
}
.icon_error_block:after {
  background-color: #009a4c !important;
}
.flex-direction-nav li:first-child,
.flex-direction-nav li,
.flex-direction-nav li:hover {
  border-bottom-width: 0px;
}
.specials_slider_wrapp ul.tabs li.cur span,
.tab_slider_wrapp ul.tabs li.cur span,
.popup .popup-intro {
  border-bottom-color: #219c63;
}
.button:hover,
.like_icons .compare_item.added:hover,
.like_icons .wish_item.added:hover,
.light .stores .all_map:hover {
  background: #219c63;
}
.like_icons .compare_item.added:hover i,
.like_icons .wish_item.added:hover i {
  background-color: #219c63;
}
.wrapper_middle_menu.wrap_menu.mobile:hover {
  background: #219c63;
}
.header_wrap #header .catalog_menu.menu_colored .inc_menu  ul.menu > li:not(.current):hover > a {
  background: #00ae57;
}
header .menu_top_block li .dropdown>li:hover>a,
header .menu_top_block li:not(.catalog) .dropdown>li.current >a:not(.section),
header .menu_top_block li.catalog>.dropdown>li:hover>a:before {
  background: #009F4F;
}
header .menu_colored .menu_top_block >li.current >a,
header .menu_dark .menu_top_block.menu >li.current >a,
header .menu_dark .menu_top_block.menu >li.current:hover >a,
.menu_top_block.catalog_block .dropdown >li.full:hover>a:before,
.menu_top_block.catalog_block .dropdown >li.full.current>a,
header .menu_top_block li.catalog>.dropdown>li.current>a,
.left_menu > li.current> a,
.left_menu > li:hover> a:before {
  background: #008040;
}
header .menu_top_block >li.catalog >a,
header .menu_top_block >li.catalog.current >a,
header .menu_top_block >li.catalog {
  background-color: #009F4F;
}
header .catalog_menu .menu_top_block.menu li.catalog li.full.current >a:after,
header .catalog_menu .menu_top_block.menu li.catalog li.full:hover >a:after,
.menu_top_block.catalog_block .dropdown >li.full:hover>a:after,
.left_menu > li.has-childs:hover> a:after {
  color: #00954a;
}
header .menu_top_block li .dropdown>li.menu_item>a:hover,
.menu_top_block.catalog_block .dropdown>li.full>.dropdown>li>a:not(.section):hover,
.menu_top_block.catalog_block .dropdown>li.full:hover>a,
.left_menu > li:hover> a {
  color: #008642;
}
.phone_block .phone_wrap .icons {
  color: #008642;
}
header .menu_top_block li.catalog>.dropdown>li:hover>a,
header .menu_top_block li.catalog>.dropdown>li>.dropdown>li.current>a:not(.section) {
  color: #008642;
}
header .menu_top_block li .dropdown>li.current >a.section1,
.menu_top_block li .dropdown>li >a.section1:hover,
#header .catalog_menu.menu_light ul.menu > li.current > a,
#header .catalog_menu.menu_light ul.menu > li:hover > a {
  color: #008642;
}
.subscribe-form:before {
  background: #00954a;
}
.subscribe-form input.send_btn {
  background-color: #00954a;
}
.bx_ordercart .bx_ordercart_order_pay .bx_bt_button {
  background: #00954a;
}
.subscribe-form input.send_btn:hover {
  background-color: #219c63;
}
.bx_ordercart .bx_ordercart_order_pay .bx_bt_button:hover {
  background: #219c63;
}
.bx_ordercart .bx_item_detail_size_small_noadaptive .bx_size ul li.bx_active a {
  background: #219c63;
  color: #fff;
}
.bx_ordercart .bx_item_detail_size_small_noadaptive .bx_size ul li:not(.bx_active):hover a {
  color: #008642;
}
a.dark_link:hover,
.dark_link:hover span,
.dl:hover a,
.selected a.dark_link,
.current a.dark_link {
  color: #008642 !important;
}
.menu_top_block.catalog_block .dropdown>li.full>.dropdown>li>a,
header .menu_top_block.catalogfirst li.full>.dropdown>li:not(.current)>a {
  color: #008642;
}
.middle_phone .phone_wrap .icons,
.top_slider_wrapp .flexslider .slides > li:after {
  background-color: #00954a;
}
.basket_fly .basket_wrapp .basket_fly .wraps_icon_block.delay .count span {
  background-color: #00954a;
}
.basket_normal .basket_wrapp .wraps_icon_block.basket .count span {
  background-color: #00954a;
}
.bx_filter .bx_filter_parameters_box_title:hover:after {
  color: #008642;
}
.bx_filter .bx_filter_param_label.active .bx_filter_btn_color_icon,
.bx_catalog_item_scu ul li.active .cnt_item,
.bx_scu_scroller_container ul li.bx_active .cnt_item {
  box-shadow: 0px 0px 0px 2px #fff inset, 0px 0px 0px 2px #00954a;
}
.bx_filter_vertical input[type="checkbox"]:not(:checked) + label.sku:hover span,
.sku_props .bx_item_detail_size ul li:not(.active):hover span,
.bx_item_list_you_looked_horizontal .bx_item_detail_size ul li:hover span {
  color: #008642;
}
.bx_filter_vertical input[type="checkbox"] + label.sku:hover,
.sku_props .bx_item_detail_size ul li:hover,
.bx_item_list_you_looked_horizontal .bx_item_detail_size ul li:hover {
  border-color: #008642;
}
.more_text_ajax:after {
  background-color: #00954a;
}
.list_item .description_wrapp .like_icons span.added {
  color: #008642;
}
.bx_ordercart .bx_sort_container a.current:after {
  background: #1db563;
}
.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_order_pay_center .checkout {
  color: #00954a;
  border-color: #008642;
}
.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_order_pay_center .checkout:hover {
  color: #fff;
  border-color: #1db563;
  background: #1db563;
}
.button.transparent:not(.text):hover {
  border-color: #1db563;
  background: #1db563;
  color: #fff;
}
.button.transparent.grey_br:hover {
  border-color: #1db563;
  background: #fff;
}
.bx_ordercart tbody td.control a:first-of-type:hover,
.bx_ordercart #basket_items_delayed tbody td.control a:last-of-type:hover,
.bx_ordercart #basket_items_subscribed  tbody td.control a:first-of-type:hover,
.bx_ordercart #basket_items_not_available  tbody td.control a:last-of-type:hover,
.bx_ordercart .bx_ordercart_order_pay .bx_ordercart_coupon:not(:first-of-type) > span:hover {
  background-color: #1db563;
}
.bx_ordercart .bx_sort_container a,
.bx_item_list_you_looked_horizontal .bx_catalog_item .bx_catalog_item_title a {
  color: #00954a;
}
.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blocktwo a,
.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blockone a {
  color: #FFF;
  background: #00954a;
}
.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blocktwo a:hover,
.bx_item_list_you_looked_horizontal .bx_catalog_item_controls .bx_catalog_item_controls_blockone a {
  background: #219c63;
}
.sale_order_full_table input[name="BuyButton"] {
  background-color: #009a4c;
}
.sale_order_full_table input[name="BuyButton"] {
  background-color: #219c63;
}
.bx_ordercart .bx_item_detail_size_small_noadaptive ul li:active a,
.bx_ordercart .bx_item_detail_size_small_noadaptive ul li.bx_active a,
.bx_ordercart .bx_item_detail_size_small_noadaptive ul li:hover a {
  border-color: #219c63;
}
.color_link {
  color: #008642 !important;
}
103  76996|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/js/main.min.js|17cd9078function setLocationSKU(t){try{return void history.pushState(null,null,t)}catch(e){}location.hash="#"+t.substr(1)}function clearViewedProduct(){try{var t=arOptimusOptions.SITE_ID,e="OPTIMUS_VIEWED_ITEMS_"+t,a={path:"/",expires:30};"undefined"!=typeof BX.localStorage&&BX.localStorage.set(e,{},0),$.removeCookie(e,a)}catch(i){console.error(i)}}function setViewedProduct(t,e){try{var a=$.cookie.json;$.cookie.json=!0;var i=arOptimusOptions.SITE_ID,o="OPTIMUS_VIEWED_ITEMS_"+i,s={path:"/",expires:30};if("undefined"!=typeof BX.localStorage&&"undefined"!=typeof t&&"undefined"!=typeof e){var n="undefined"!=typeof e.PRODUCT_ID?e.PRODUCT_ID:t,r=BX.localStorage.get(o)?BX.localStorage.get(o):{},c=$.cookie(o)?$.cookie(o):{},d=0;for(var l in r)r[l].IS_LAST=!1,"undefined"==typeof c[l]&&delete r[l];for(var l in c)"undefined"==typeof r[l]&&delete c[l];for(var l in c)d++;"undefined"!=typeof r[n]&&r[n].ID!=t&&(delete r[n],delete c[n]),delete r[2243],delete c[2243];var u=(new Date).getTime();e.ID=t,e.ACTIVE_FROM=u,e.IS_LAST=!0,r[n]=e,c[n]=[u.toString(),e.PICTURE_ID],$.cookie(o,c,s),BX.localStorage.set(o,r,2592e3)}}catch(p){console.error(p)}finally{$.cookie.json=a}}function initSelects(t){var e=navigator.userAgent.match(/(iPad|iPhone|iPod)/g)?!0:!1;if(!e&&!$("#bx-soa-order").length){$(t).find(".wrapper select:visible").ikSelect({syntax:'<div class="ik_select_link"> 						<span class="ik_select_link_text"></span> 						<div class="trigger"></div> 					</div> 					<div class="ik_select_dropdown"> 						<div class="ik_select_list"> 						</div> 					</div>',dynamicWidth:!0,ddMaxHeight:112,customClass:"common_select",onShow:function(t){t.$dropdown.css("top",parseFloat(t.$dropdown.css("top"))-5+"px"),t.$dropdown.outerWidth()<t.$link.outerWidth()&&t.$dropdown.css("width",t.$link.outerWidth()),t.$dropdown.outerWidth()>t.$link.outerWidth()&&t.$dropdown.css("width",t.$link.outerWidth());var e=0,a=0;t.$dropdown.css("left",t.$link.offset().left),$(t.$listInnerUl).find("li").each(function(){$(this).hasClass("ik_select_option_disabled")||(++e,a+=$(this).outerHeight())}),112>a?t.$listInner.css("height","auto"):t.$listInner.css("height","112px"),t.$link.addClass("opened"),t.$listInner.addClass("scroller")},onHide:function(t){t.$link.removeClass("opened")}});var a;$(window).on("resize",function(){clearTimeout(a),a=setTimeout(function(){var t="";(t=$(".common_select-link.opened + select").ikSelect().data("plugin_ikSelect"))&&t.$dropdown.css("left",t.$link.offset().left+"px")},20)})}}function initHoverBlock(t){$(t).find(".catalog_item.item_wrap").on("mouseenter",function(){$(this).addClass("hover")}),$(t).find(".catalog_item.item_wrap").on("mouseleave",function(){$(this).removeClass("hover")})}function setStatusButton(){$.ajax({url:arOptimusOptions.SITE_DIR+"ajax/getAjaxBasket.php",type:"POST",success:function(t){if(t.BASKET)for(var e in t.BASKET)$(".to-cart[data-item="+t.BASKET[e]+"]").hide(),$(".counter_block[data-item="+t.BASKET[e]+"]").hide(),$(".in-cart[data-item="+t.BASKET[e]+"]").show(),$(".in-cart[data-item="+t.BASKET[e]+"]").closest(".button_block").addClass("wide");if(t.DELAY)for(var e in t.DELAY)$(".wish_item.to[data-item="+t.DELAY[e]+"]").hide(),$(".wish_item.in[data-item="+t.DELAY[e]+"]").show(),$(".wish_item[data-item="+t.DELAY[e]+"]").find(".value.added").length&&($(".wish_item[data-item="+t.DELAY[e]+"]").addClass("added"),$(".wish_item[data-item="+t.DELAY[e]+"]").find(".value").hide(),$(".wish_item[data-item="+t.DELAY[e]+"]").find(".value.added").show());if(t.SUBSCRIBE)for(var e in t.SUBSCRIBE)$(".to-subscribe[data-item="+t.SUBSCRIBE[e]+"]").hide(),$(".in-subscribe[data-item="+t.SUBSCRIBE[e]+"]").show();if(t.COMPARE)for(var e in t.COMPARE)$(".compare_item.to[data-item="+t.COMPARE[e]+"]").hide(),$(".compare_item.in[data-item="+t.COMPARE[e]+"]").show(),$(".compare_item[data-item="+t.COMPARE[e]+"]").find(".value.added").length&&($(".compare_item[data-item="+t.COMPARE[e]+"]").find(".value").hide(),$(".compare_item[data-item="+t.COMPARE[e]+"]").find(".value.added").show())}})}function scroll_block(t){var e=t.offset().top;$("header").outerHeight(!0,!0);if($(".stores_tab").length)$(".stores_tab").addClass("current").siblings().removeClass("current");else if($(".prices_tab").addClass("current").siblings().removeClass("current"),$(".prices_tab .opener").length&&!$(".prices_tab .opener .opened").length){var a=$(".prices_tab .opener").first();a.find(".opener_icon").addClass("opened"),a.parents("tr").addClass("nb"),a.parents("tr").next(".offer_stores").find(".stores_block_wrap").slideDown(200)}$("html,body").animate({scrollTop:e-30},150)}function replaceBasketPopup(t){"undefined"!=typeof t&&(t.w.hide(),t.o.hide())}function waitLayer(t,e){"undefined"!=typeof dataLayer&&"function"==typeof e?e():setTimeout(function(){waitLayer(t,e)},t)}function checkCounters(t){return"undefined"!=typeof t?"google"==t&&"Y"==arOptimusOptions.COUNTERS.GOOGLE_ECOMERCE&&arOptimusOptions.COUNTERS.GOOGLE_COUNTER>0?!0:"yandex"==t&&"Y"==arOptimusOptions.COUNTERS.YANDEX_ECOMERCE&&arOptimusOptions.COUNTERS.YANDEX_COUNTER>0?!0:!1:"Y"==arOptimusOptions.COUNTERS.YANDEX_ECOMERCE&&arOptimusOptions.COUNTERS.YANDEX_COUNTER>0||"Y"==arOptimusOptions.COUNTERS.GOOGLE_ECOMERCE&&arOptimusOptions.COUNTERS.GOOGLE_COUNTER>0?!0:!1}function addBasketCounter(t){checkCounters()&&$.ajax({url:arOptimusOptions.SITE_DIR+"ajax/goals.php",dataType:"json",type:"POST",data:{ID:t},success:function(t){t&&t.ID&&waitLayer(100,function(){dataLayer.push({event:arOptimusOptions.COUNTERS.GOOGLE_EVENTS.ADD2BASKET,ecommerce:{currencyCode:t.CURRENCY,add:{products:[{id:t.ID,name:t.NAME,price:t.PRICE,brand:t.BRAND,category:t.CATEGORY,quantity:t.QUANTITY}]}}})})}})}function purchaseCounter(t,e){checkCounters()&&$.ajax({url:arOptimusOptions.SITE_DIR+"ajax/goals.php",dataType:"json",type:"POST",data:{ORDER_ID:t,TYPE:e},success:function(t){var a=[];if(t.ITEMS)for(var i in t.ITEMS)a.push({id:t.ITEMS[i].ID,sku:t.ITEMS[i].ID,name:t.ITEMS[i].NAME,price:t.ITEMS[i].PRICE,brand:t.ITEMS[i].BRAND,category:t.ITEMS[i].CATEGORY,quantity:t.ITEMS[i].QUANTITY});t.ID&&waitLayer(100,function(){dataLayer.push({ecommerce:{purchase:{actionField:{id:t.ACCOUNT_NUMBER,shipping:t.PRICE_DELIVERY,tax:t.TAX_VALUE,list:e,revenue:t.PRICE},products:a}}})})}})}function viewItemCounter(t,e){checkCounters()&&$.ajax({url:arOptimusOptions.SITE_DIR+"ajax/goals.php",dataType:"json",type:"POST",data:{PRODUCT_ID:t,PRICE_ID:e},success:function(t){t.ID&&waitLayer(100,function(){dataLayer.push({ecommerce:{detail:{products:[{id:t.ID,name:t.NAME,price:t.PRICE,brand:t.BRAND,category:t.CATEGORY}]}}})})}})}function checkoutCounter(t,e,a){checkCounters("google")&&$.ajax({url:arOptimusOptions.SITE_DIR+"ajax/goals.php",dataType:"json",type:"POST",data:{BASKET:"Y"},success:function(a){var i=[];if(a.ITEMS)for(var o in a.ITEMS)i.push({id:a.ITEMS[o].ID,name:a.ITEMS[o].NAME,price:a.ITEMS[o].PRICE,brand:a.ITEMS[o].BRAND,category:a.ITEMS[o].CATEGORY,quantity:a.ITEMS[o].QUANTITY});i&&waitLayer(100,function(){dataLayer.push({event:arOptimusOptions.COUNTERS.GOOGLE_EVENTS.CHECKOUT_ORDER,ecommerce:{actionField:{step:t,option:e},products:i}})})}})}function delFromBasketCounter(t,e){checkCounters()&&$.ajax({url:arOptimusOptions.SITE_DIR+"ajax/goals.php",dataType:"json",type:"POST",data:{ID:t},success:function(t){t.ID&&waitLayer(100,function(){dataLayer.push({event:arOptimusOptions.COUNTERS.GOOGLE_EVENTS.REMOVE_BASKET,ecommerce:{remove:{products:[{id:t.ID,name:t.NAME,category:t.CATEGORY}]}}}),"function"==typeof e&&e()})}})}function setHeightCompany(){$(".md-50.img").height($(".md-50.big").outerHeight()-35)}function initSly(){var t=$(document).find(".frame"),e=(t.children("ul").eq(0),t.parent());arOptimusOptions.PAGES.CATALOG_PAGE&&(t.sly({horizontal:1,itemNav:"basic",smart:1,mouseDragging:0,touchDragging:0,releaseSwing:0,startAt:0,scrollBar:e.find(".scrollbar"),scrollBy:1,speed:300,elasticBounds:0,easing:"swing",dragHandle:1,dynamicHandle:1,clickBar:1,forward:e.find(".forward"),backward:e.find(".backward")}),t.sly("reload"))}function createTableCompare(t,e,a){try{var i=t.clone().removeAttr("id").addClass("clone");a.length?(a.remove(),e.html(""),e.html(i)):e.append(i)}catch(o){}finally{}}function isRealValue(t){return t&&"null"!==t&&"undefined"!==t}function rightScroll(t,e){var a=BX("prop_"+t+"_"+e);if(a){var i=parseInt(a.style.marginLeft);i>=0&&(a.style.marginLeft=i-20+"%")}}function leftScroll(t,e){var a=BX("prop_"+t+"_"+e);if(a){var i=parseInt(a.style.marginLeft);0>i&&(a.style.marginLeft=i+20+"%")}}function touchMenu(t){$(window).outerWidth()>600?$(t).each(function(){var t=$(this);t.on("touchend",function(e){t.find(".child").length&&!t.hasClass("hover")&&(e.preventDefault(),e.stopPropagation(),t.siblings().removeClass("hover"),t.addClass("hover"),$(".menu .child").css({display:"none"}),t.find(".child").css({display:"block"}))})}):$(t).off()}function touchItemBlock(t){$(t).each(function(){var t=$(this),e=t.closest(".catalog_item");t.on("touchend",function(a){if(!e.hasClass("hover")){a.preventDefault(),a.stopPropagation(),e.siblings().removeClass("hover"),e.siblings().blur(),e.closest(".catalog_block").find(".catalog_item").removeClass("hover"),e.addClass("hover"),e.addClass("touch");var i=1*t.closest(".tab").attr("data-hover"),o=1*t.closest(".tab").attr("data-unhover");t.closest(".tab").stop().animate({height:o},100),t.closest(".catalog_item").siblings().find(".buttons_block").stop().fadeOut(233),t.closest(".tab").fadeTo(100,1),t.closest(".tab").stop().css({height:i}),t.closest(".catalog_item").find(".buttons_block").fadeIn(450,"easeOutCirc")}})})}function touchBasket(t){"N"!==arOptimusOptions.THEME.SHOW_BASKET_ONADDTOCART&&($(window).outerWidth()>600?$(document).find(t).on("touchend",function(t){$(this).parent().find(".basket_popup_wrapp").length&&!$(this).hasClass("hover")&&(t.preventDefault(),t.stopPropagation(),$(this).addClass("hover"),$(this).parent().find(".basket_popup_wrapp").slideDown())}):$(t).off())}function initFull(){initSelects(document),initHoverBlock(document),touchItemBlock(".catalog_item a"),InitOrderCustom(),$("html.print").length?window.print():checkStickyFooter(),basketActions(),orderActions()}var basketTimeoutSlide,resizeEventTimer,funcDefined=function(t){try{return"function"==typeof t?!0:"function"==typeof window[t]}catch(e){return!1}};if(!funcDefined("setLocationSKU"),!funcDefined("trimPrice"))var trimPrice=function(t){return t=t.split(" ").join(""),t=t.split("&nbsp;").join("")};if(!funcDefined("markProductRemoveBasket"))var markProductRemoveBasket=function(t){$(".in-cart[data-item="+t+"]").hide(),$(".to-cart[data-item="+t+"]").show(),$(".to-cart[data-item="+t+"]").closest(".button_block").removeClass("wide"),$(".to-cart[data-item="+t+"]").closest(".counter_wrapp").find(".counter_block").show(),$(".counter_block[data-item="+t+"]").show(),$(".in-subscribe[data-item="+t+"]").hide(),$(".to-subscribe[data-item="+t+"]").show(),$(".wish_item[data-item="+t+"]").removeClass("added"),$(".wish_item[data-item="+t+"] .value:not(.added)").show(),$(".wish_item[data-item="+t+"] .value.added").hide()};if(!funcDefined("markProductAddBasket"))var markProductAddBasket=function(t){$(".to-cart[data-item="+t+"]").hide(),$(".to-cart[data-item="+t+"]").closest(".counter_wrapp").find(".counter_block").hide(),$(".to-cart[data-item="+t+"]").closest(".button_block").addClass("wide"),$(".in-cart[data-item="+t+"]").show(),$(".wish_item[data-item="+t+"]").removeClass("added"),$(".wish_item[data-item="+t+"] .value:not(.added)").show(),$(".wish_item[data-item="+t+"] .value.added").hide()};if(!funcDefined("markProductDelay"))var markProductDelay=function(t){$(".in-cart[data-item="+t+"]").hide(),$(".to-cart[data-item="+t+"]").show(),$(".to-cart[data-item="+t+"]").closest(".counter_wrapp").find(".counter_block").show(),$(".to-cart[data-item="+t+"]").closest(".button_block").removeClass("wide"),$(".wish_item[data-item="+t+"]").addClass("added"),$(".wish_item[data-item="+t+"] .value:not(.added)").hide(),$(".wish_item[data-item="+t+"] .value.added").css("display","block")};if(!funcDefined("markProductSubscribe"))var markProductSubscribe=function(t){$(".to-subscribe[data-item="+t+"]").hide(),$(".in-subscribe[data-item="+t+"]").css("display","block")};if(!funcDefined("basketFly"))var basketFly=function(t){$.post(arOptimusOptions.SITE_DIR+"ajax/basket_fly.php","PARAMS="+$("#basket_form").find("input#fly_basket_params").val(),$.proxy(function(e){var a=$(".opener .basket_count").hasClass("small");$(e).find(".basket_count").find(".items div").text();$("#basket_line .basket_fly").addClass("loaded").html(e),"refresh"==t&&$("li[data-type=AnDelCanBuy]").trigger("click"),window.matchMedia("(min-width: 769px)").matches&&("open"==t?a?"N"!==arOptimusOptions.THEME.SHOW_BASKET_ONADDTOCART&&$(".opener .basket_count").click():($(".opener .basket_count").removeClass("small"),$('.tabs_content.basket li[item-section="AnDelCanBuy"]').addClass("cur"),$('#basket_line ul.tabs li[item-section="AnDelCanBuy"]').addClass("cur")):"wish"==t?a?"N"!==arOptimusOptions.THEME.SHOW_BASKET_ONADDTOCART&&$(".opener .wish_count").click():($(".opener .wish_count").removeClass("small"),$('.tabs_content.basket li[item-section="DelDelCanBuy"]').addClass("cur"),$('#basket_line ul.tabs li[item-section="DelDelCanBuy"]').addClass("cur")):"N"!==arOptimusOptions.THEME.SHOW_BASKET_ONADDTOCART&&$(".opener .basket_count").click())}))};if(!funcDefined("clearViewedProduct"),!funcDefined("setViewedProduct"),!funcDefined("initSelects"),funcDefined("CheckTopMenuFullCatalogSubmenu")||(CheckTopMenuFullCatalogSubmenu=function(){var t=$(".menu_top_block"),e=t.parents(".wrap_menu"),a=e.actual("outerWidth"),i=e.offset().left,o=i+a,s=t.hasClass("catalogfirst"),n=$(".menu_top_block:visible li.full"),r=t.actual("outerWidth");$(".catalog_block.menu_top_block").length&&$(".catalog_block.menu_top_block").is(":visible")&&(n=$(".menu_top_block.catalog_block li.full")),n.each(function(){var t=$(this),e=t.find(">.dropdown");e.length&&(s?e.css({left:r+"px",width:a-r+"px","padding-left":"0px","padding-right":"0px"}):e.css({left:-1*t.offset().left+"px",width:$(window).width()-1+"px","padding-left":i+"px","padding-right":$(window).width()-o+"px"}),!isOnceInited&&s&&"top"==arOptimusOptions.THEME.MENU_POSITION&&t.on("mouseenter",function(){e.css("min-height",t.closest(".dropdown").actual("outerHeight")+"px")}))})}),$.fn.getMaxHeights=function(t,e,a){for(var i=this.map(function(e,a){var i=0;return $(a).css("height",""),i=1==t?$(a).actual("outerHeight"):$(a).actual("height")}).get(),o=0,s=i.length;s>o;++o)i[o]%2&&--i[o];return Math.max.apply(this,i)},$.fn.equalizeHeights=function(t,e,a){for(var i=this.map(function(i,o){var s=0,n=0;return e!==!1&&(s=parseInt($(o).find(e).actual("outerHeight"))),s&&(s+=12),$(o).css("height",""),n=1==t?$(o).actual("outerHeight")-s:$(o).actual("height")-s,a!==!1&&(a>n&&(n+=a-n),window.matchMedia("(max-width: 520px)").matches&&(n=300),window.matchMedia("(max-width: 400px)").matches&&(n=200)),n}).get(),o=0,s=i.length;s>o;++o)i[o]%2&&--i[o];return this.height(Math.max.apply(this,i))},$.fn.getFloatWidth=function(){var t=0;if($(this).length){var e=$(this)[0].getBoundingClientRect();(t=e.width)||(t=e.right-e.left)}return t},$.fn.sliceHeight=function(t){function e(e){if(e.each(function(){$(this).css("line-height",""),$(this).css("height","")}),"undefined"==typeof t.autoslicecount||t.autoslicecount!==!1){var a="undefined"!=typeof t.row&&t.row.length?e.first().parents(t.row).getFloatWidth():e.first().parents(".items").getFloatWidth(),i="undefined"!=typeof t.item&&t.item.length?$(t.item).first().getFloatWidth():e.first().hasClass("item")?e.first().getFloatWidth():e.first().parents(".item").getFloatWidth();a||(a=e.first().parents(".row").getFloatWidth()),a&&i&&(t.slice=Math.floor(a/i))}if(t.slice)for(var o=0;o<e.length;o+=t.slice)$(e.slice(o,o+t.slice)).equalizeHeights(t.outer,t.classNull,t.minHeight);if(t.lineheight){var s=parseInt(t.lineheight);isNaN(s)&&(s=0),e.each(function(){$(this).css("line-height",$(this).actual("height")+s+"px")})}}var t=$.extend({slice:null,outer:!1,lineheight:!1,autoslicecount:!0,classNull:!1,minHeight:!1,options:!1,resize:!0,row:!1,item:!1},t),a=$(this);e(a),t.resize&&BX.addCustomEvent("onWindowResize",function(t){ignoreResize.push(!0),e(a),ignoreResize.pop()})},$.fn.sliceHeightNoResize=function(t){function e(e){if(e.each(function(){$(this).css("line-height",""),$(this).css("height","")}),"undefined"==typeof t.autoslicecount||t.autoslicecount!==!1){var a=e.first().hasClass("item")?e.first().getFloatWidth():e.first().parents(".item").getFloatWidth(),i=e.first().parents(".items").getFloatWidth();i||(i=e.first().parents(".row").getFloatWidth()),i&&a&&(t.slice=Math.floor(i/a))}if(t.slice)for(var o=0;o<e.length;o+=t.slice)$(e.slice(o,o+t.slice)).equalizeHeights(t.outer,t.classNull,t.minHeight);if(t.lineheight){var s=parseInt(t.lineheight);isNaN(s)&&(s=0),e.each(function(){$(this).css("line-height",$(this).actual("height")+s+"px")})}}var t=$.extend({slice:null,outer:!1,lineheight:!1,autoslicecount:!0,classNull:!1,minHeight:!1,options:!1,resize:!0},t),a=$(this);e(a)},!funcDefined("initHoverBlock"),!funcDefined("setStatusButton"),!funcDefined("onLoadjqm"))var onLoadjqm=function(t,e,a,i,o,s,n){e.w.addClass("show").css({"margin-left":$(window).width()>e.w.outerWidth()?"-"+e.w.outerWidth()/2+"px":"-"+$(window).width()/2+"px",top:$(document).scrollTop()+($(window).height()>e.w.outerHeight()?($(window).height()-e.w.outerHeight())/2:10)+"px",opacity:1}),"undefined"==typeof a&&(a=""),"undefined"==typeof i&&(i=!1);var r=$("."+t+"_frame").width();$("."+t+"_frame").css("margin-left","-"+r/2+"px"),"order-popup-call"==t||("order-button"==t?$(".order-button_frame").find("div[product_name]").find("input").val(e.t.title).attr("readonly","readonly").css({overflow:"hidden","text-overflow":"ellipsis"}):"to-order"==t&&i?($(".to-order_frame").find('[data-sid="PRODUCT_NAME"]').val($(i).data("name")).attr("readonly","readonly").css({overflow:"hidden","text-overflow":"ellipsis"}),$(".to-order_frame").find('[data-sid="PRODUCT_ID"]').val($(i).attr("data-item"))):"services"==t&&i?$(".services_frame").find('[data-sid="SERVICE"]').val($(i).attr("data-title")):"resume"==t&&i?$(i).attr("data-jobs")&&$(".resume_frame").find('[data-sid="POST"]').attr("readonly","readonly").val($(i).attr("data-jobs")):"basket_error"==t?($(".basket_error_frame .pop-up-title").text(o),$(".basket_error_frame .ajax_text").html(a),initSelects(document),"Y"==s&&n&&$("<div class='popup_button_basket_wr'><span class='popup_button_basket big_btn button' data-item="+n.data("item")+"><span>"+BX.message("ERROR_BASKET_BUTTON")+"</span></span></div>").insertAfter($(".basket_error_frame .ajax_text"))):"one_click_buy"==t?($("#one_click_buy_form_button").on("click",function(){$(this).hasClass("clicked")||$("#one_click_buy_form").valid()&&($(this).addClass("clicked"),$("#one_click_buy_form").submit())}),$("#one_click_buy_form").submit(function(){return $("."+t+"_frame form input.error").length||$("."+t+"_frame form textarea.error").length?!1:($.ajax({url:$(this).attr("action"),data:$(this).serialize(),type:"POST",dataType:"json",error:function(t){alert("Error connecting server")},success:function(t){"Y"==t.result?($(".one_click_buy_result").show(),$(".one_click_buy_result_success").show(),purchaseCounter(t.message,arOptimusOptions.COUNTERS.TYPE.ONE_CLICK)):($(".one_click_buy_result").show(),$(".one_click_buy_result_fail").show(),$(".one_click_buy_result_text").html(t.message)),$(".one_click_buy_modules_button",self).removeClass("disabled"),$("#one_click_buy_form").hide(),$("#one_click_buy_form_result").show()}}),!1)})):"one_click_buy_basket"==t&&($("#one_click_buy_form_button").on("click",function(){$(this).hasClass("clicked")||$("#one_click_buy_form").valid()&&($(this).addClass("clicked"),$("#one_click_buy_form").submit())}),$("#one_click_buy_form").on("submit",function(){return $("."+t+"_frame form input.error").length||$("."+t+"_frame form textarea.error").length?!1:($.ajax({url:$(this).attr("action"),data:$(this).serialize(),type:"POST",dataType:"json",error:function(t){window.console&&console.log(t)},success:function(t){"Y"==t.result?($(".one_click_buy_result").show(),$(".one_click_buy_result_success").show(),purchaseCounter(t.message,arOptimusOptions.COUNTERS.TYPE.QUICK_ORDER)):($(".one_click_buy_result").show(),$(".one_click_buy_result_fail").show(),$(".one_click_buy_result_text").text(t.message)),$(".one_click_buy_modules_button",self).removeClass("disabled"),$("#one_click_buy_form").hide(),$("#one_click_buy_form_result").show()}}),!1)}))),$("."+t+"_frame").show()};if(!funcDefined("onHidejqm"))var onHidejqm=function(t,e){e.w.find(".one_click_buy_result_success").is(":visible")&&"one_click_buy_basket"==t&&(window.location.href=window.location.href),e.w.css("opacity",0).hide(),e.w.empty(),e.o.remove(),e.w.removeClass("show")};if(!funcDefined("oneClickBuy"))var oneClickBuy=function(t,e,a){var i="one_click_buy",o=1,s=!1,n=$(a).closest(".buy_block").find(".to-cart"),r=$(a).closest("tr").find(".to-cart");"undefined"!=typeof a&&(o=$(a).attr("data-quantity"),s=$(a).attr("data-props")),0>o&&(o=1);var c=n.data("props"),d=r.data("props"),l="",u="",p="N",m={},h=n.data("iblockid"),f=n.attr("data-item");c?l=c.split(";"):d&&(l=d.split(";")),n.data("part_props")&&(u=n.data("part_props")),n.data("add_props")&&(p=n.data("add_props")),m=fillBasketPropsExt(n,"prop",n.data("bakset_div")),m.iblockID=h,m.part_props=u,m.add_props=p,m.props=JSON.stringify(l),m.item=f,m.ocb_item="Y",$("body").find("."+i+"_frame").remove(),$("body").append('<div class="'+i+'_frame popup"></div>'),$("."+i+"_frame").jqm({trigger:"."+i+"_frame.popup",onHide:function(t){onHidejqm(i,t)},toTop:!1,onLoad:function(t){onLoadjqm(i,t)},ajax:arOptimusOptions.SITE_DIR+"ajax/one_click_buy.php?ELEMENT_ID="+t+"&IBLOCK_ID="+e+"&ELEMENT_QUANTITY="+o+"&OFFER_PROPS="+m.props}),$("."+i+"_frame.popup").click()};if(!funcDefined("oneClickBuyBasket"))var oneClickBuyBasket=function(){name="one_click_buy_basket",$("body").find("."+name+"_frame").remove(),$("body").append('<div class="'+name+'_frame popup"></div>'),$("."+name+"_frame").jqm({trigger:"."+name+"_frame.popup",onHide:function(t){onHidejqm(name,t)},onLoad:function(t){onLoadjqm(name,t)},ajax:arOptimusOptions.SITE_DIR+"ajax/one_click_buy_basket.php"}),$("."+name+"_frame.popup").click()};if(!funcDefined("scroll_block"),!funcDefined("jqmEd"))var jqmEd=function(t,e,a,i,o,s,n,r){return"undefined"==typeof i&&(i=""),"undefined"==typeof o&&(o=!1),$("body").find("."+t+"_frame").remove(),$("body").append('<div class="'+t+'_frame popup"></div>'),"undefined"==typeof a?$("."+t+"_frame").jqm({trigger:"."+t+"_frame.popup",onHide:function(e){onHidejqm(t,e)},onLoad:function(e){onLoadjqm(t,e,i,o)},ajax:arOptimusOptions.SITE_DIR+"ajax/form.php?form_id="+e+(i.length?"&"+i:"")}):("enter"==t?$("."+t+"_frame").jqm({trigger:a,onHide:function(e){onHidejqm(t,e)},onLoad:function(e){onLoadjqm(t,e,i,o)},ajax:arOptimusOptions.SITE_DIR+"ajax/auth.php"}):"basket_error"==t?$("."+t+"_frame").jqm({trigger:a,onHide:function(e){onHidejqm(t,e)},onLoad:function(e){onLoadjqm(t,e,i,o,s,n,r)},ajax:arOptimusOptions.SITE_DIR+"ajax/basket_error.php"}):$("."+t+"_frame").jqm({trigger:a,onHide:function(e){onHidejqm(t,e)},onLoad:function(e){onLoadjqm(t,e,i,o)},ajax:arOptimusOptions.SITE_DIR+"ajax/form.php?form_id="+e+(i.length?"&"+i:"")}),$(a).dblclick(function(){return!1})),!0};if(!funcDefined("replaceBasketPopup"),!funcDefined("waitLayer"),funcDefined("InitTopestMenuGummi")||(InitTopestMenuGummi=function(){function t(){var t=a.find(">li:not(.more)"),e=t.length;if(e)for(var i=0,o=0;e>o;++o){var r=t.eq(o),c=r.actual("outerWidth",{includeMargin:!0});n[o]=(i+=c)+(o!==e-1?s:0)}}function e(){var t=a.actual("innerWidth"),e=a.find(">li:not(.more),li.more>.dropdown>li"),s=e.length;if(s){for(var r=!1,c=s-1;c>=0;--c){var d=e.eq(c),l=d.parents(".more").length>0;if(!l&&n[c]>t){r||(r=!0,i.removeClass("hidden"));var u=d.clone();u.find(">a").addClass("dark_font"),u.prependTo(o),d.addClass("cloned")}}for(var c=0;s>c;++c){var d=e.eq(c),l=d.parents(".more").length>0;if(l&&n[c]<=t){c===s-1&&(r=!1,i.addClass("hidden"));var u=d.clone();u.find(">a").removeClass("dark_font"),u.insertBefore(i),d.addClass("cloned")}}a.find("li.cloned").remove()}}if(!isOnceInited){var a=$(".menu.topest"),i=a.find(">.more"),o=i.find(">.dropdown"),s=i.actual("outerWidth",{includeMargin:!0}),n=[];ignoreResize.push(!0),t(),e(),ignoreResize.pop(),$(window).resize(function(){ignoreResize.push(!0),e(),ignoreResize.pop()})}}),funcDefined("InitTopMenuGummi")||(InitTopMenuGummi=function(){function t(){var t=a.closest(".wrap_menu").find(".inc_menu .menu_top_block >li:not(.more)"),e=t.length;if(e)for(var i=0,o=0;e>o;++o){var s=t.eq(o),c=s.actual("outerWidth");r[o]=(i+=c)+(o!==e-1?n:0)}}function e(){var t=i.actual("innerWidth")-o.actual("innerWidth"),e=a.find(">li:not(.more):not(.catalog),li.more>.dropdown>li"),n=e.length;if(n){for(var d=!1,u=n-1;u>=0;--u){var p=e.eq(u),m=p.parents(".more").length>0;if(!m&&r[u]>t){d||(d=!0,s.removeClass("hidden"));var h=p.clone();h.find(">.dropdown").removeAttr("style").removeClass("toleft"),h.find(">a").addClass("dark_font").removeAttr("style"),h.prependTo(c),p.addClass("cloned")}}for(var u=0;n>u;++u){var p=e.eq(u),m=p.parents(".more").length>0;if(m&&r[u]<=t){u===n-1&&(d=!1,s.addClass("hidden"));var h=p.clone();h.find(">a").removeClass("dark_font"),h.insertBefore(s),p.addClass("cloned")}}a.find("li.cloned").remove();var f=a.find(">li:not(.more):not(.catalog)").length,_=t-r[f-1],b=Math.floor(_/(f+(s.hasClass("hidden")?0:1))),v=l+b,k=Math.floor(v/2),g=v-k;a.find(">li:not(.catalog):visible>a").each(function(){$(this).css({"padding-left":k+"px"}),$(this).css({"padding-right":g+"px"})});var w=v+_-(f+(s.is(":visible")?1:0))*b,C=Math.floor(w/2),E=w-C;a.find(">li:visible").last().find(">a").css({"padding-left":C+"px"}),a.find(">li:visible").last().find(">a").css({"padding-right":E+"px"}),CheckTopMenuFullCatalogSubmenu()}}var a=$(".menu_top_block"),i=a.parents(".wrap_menu"),o=i.find(".catalog_menu_ext"),s=a.find(">.more"),n=s.actual("outerWidth",{includeMargin:!0});s.addClass("hidden");var r=[],c=s.find(">.dropdown"),d=2*parseInt(s.find(">a").css("padding-left")),l=d;ignoreResize.push(!0),t(),e(),ignoreResize.pop(),$(window).resize(function(){ignoreResize.push(!0),e(),ignoreResize.pop()})}),!funcDefined("checkCounters"),!funcDefined("addBasketCounter"),!funcDefined("purchaseCounter"),!funcDefined("viewItemCounter"),!funcDefined("checkoutCounter"),!funcDefined("delFromBasketCounter"),!funcDefined("setHeightCompany"),!funcDefined("initSly"),!funcDefined("createTableCompare"),funcDefined("fillBasketPropsExt")||(fillBasketPropsExt=function(t,e,a){var i=0,o=null,s=!1,n={},r=null;if(r=BX(a)){if(o=r.getElementsByTagName("select"),o&&o.length)for(i=0;i<o.length;i++)if(!o[i].disabled)switch(o[i].type.toLowerCase()){case"select-one":n[o[i].name]=o[i].value,s=!0}if(o=r.getElementsByTagName("input"),o&&o.length)for(i=0;i<o.length;i++)if(!o[i].disabled)switch(o[i].type.toLowerCase()){case"hidden":n[o[i].name]=o[i].value,s=!0;break;case"radio":o[i].checked&&(n[o[i].name]=o[i].value,s=!0)}}return s||(n[e]=[],n[e][0]=0),n}),funcDefined("showBasketError")||(showBasketError=function(t,e,a,i){var o=e?e:BX.message("ERROR_BASKET_TITLE"),s="N",n="";void 0!==typeof a&&(s="Y"),void 0!==typeof i&&(n=i),$("body").append("<span class='add-error-bakset' style='display:none;'></span>"),jqmEd("basket_error","error-bakset",".add-error-bakset",t,this,o,s,n),$("body .add-error-bakset").click(),$("body .add-error-bakset").remove()}),!funcDefined("isRealValue"),!funcDefined("rightScroll"),!funcDefined("leftScroll"),funcDefined("InitOrderCustom")||(InitOrderCustom=function(){$(".ps_logo img").wrap('<div class="image"></div>'),$("#bx-soa-order .radio-inline").each(function(){"checked"==$(this).find("input").attr("checked")&&$(this).addClass("checked")}),$("#bx-soa-order .checkbox input[type=checkbox]").each(function(){"checked"==$(this).attr("checked")&&$(this).parent().addClass("checked")}),$("#bx-soa-order .bx-authform-starrequired").each(function(){var t=$(this).html();$(this).closest("label").append('<span class="bx-authform-starrequired"> '+t+"</span>"),$(this).detach()}),$(".bx_ordercart_coupon").each(function(){$(this).find(".bad").length?$(this).addClass("bad"):$(this).find(".good").length&&$(this).addClass("good")})}),funcDefined("InitLabelAnimation")||(InitLabelAnimation=function(t){$(t).length&&($(t).find(".form-group").each(function(){$(this).find("input[type=text], textarea").length&&!$(this).find(".dropdown-block").length&&""!=$(this).find("input[type=text], textarea").val()&&$(this).addClass("value_y")}),$(document).on("click",t+" .form-group:not(.bx-soa-pp-field) label",function(){$(this).parent().find("input, textarea").focus()}),$(document).on("focusout",t+" .form-group:not(.bx-soa-pp-field) input, "+t+" .form-group:not(.bx-soa-pp-field) textarea",function(){var t=$(this).val();""==t||$(this).closest(".form-group").find(".dropdown-block").length||$(this).closest(".form-group").find("#profile_change").length?$(this).closest(".form-group").removeClass("value_y"):$(this).closest(".form-group").addClass("value_y")}),$(document).on("focus",t+" .form-group:not(.bx-soa-pp-field) input, "+t+" .form-group:not(.bx-soa-pp-field) textarea",function(){$(this).closest(".form-group").find(".dropdown-block").length||$(this).closest(".form-group").find("#profile_change").length||$(this).closest(".form-group").find("[name=PERSON_TYPE_OLD]").length||$(this).closest(".form-group").addClass("value_y")}))}),checkPopupWidth=function(){$(".popup.show").each(function(){var t=$(this).actual("width");$(this).css({"margin-left":$(window).width()>t?"-"+t/2+"px":"-"+$(window).width()/2+"px"})})},checkCaptchaWidth=function(){$(".captcha-row").each(function(){var t=$(this).actual("width");$(this).hasClass("b")?t>320&&$(this).removeClass("b"):320>=t&&$(this).addClass("b")})},checkFormWidth=function(){$(".form .form_left").each(function(){var t=$(this).parents(".form"),e=t.actual("width");t.hasClass("b")?e>417&&t.removeClass("b"):417>=e&&t.addClass("b")})},checkFormControlWidth=function(){$(".form-control").each(function(){var t=$(this).actual("width"),e=$(this).find("label:not(.error) > span").actual("width"),a=$(this).find("label.error").actual("width");a>0?$(this).hasClass("h")?t>e+a+5&&$(this).removeClass("h"):e+a+5>=t&&$(this).addClass("h"):$(this).removeClass("h")})},scrollToTop=function(){if("NONE"!==arOptimusOptions.THEME.SCROLLTOTOP_TYPE){var t=!1;$("body").append($("<a />").addClass("scroll-to-top "+arOptimusOptions.THEME.SCROLLTOTOP_TYPE+" "+arOptimusOptions.THEME.SCROLLTOTOP_POSITION).attr({href:"#",id:"scrollToTop"})),$("#scrollToTop").click(function(t){return t.preventDefault(),$("body, html").animate({scrollTop:0},500),!1}),$(window).scroll(function(){t||(t=!0,$(window).scrollTop()>150?($("#scrollToTop").stop(!0,!0).addClass("visible"),t=!1):($("#scrollToTop").stop(!0,!0).removeClass("visible"),t=!1),checkScrollToTop())})}},checkScrollToTop=function(){var t=55,e=$(window).scrollTop(),a=$(window).height(),i=$("footer").offset().top+70;"CONTENT"==arOptimusOptions.THEME.SCROLLTOTOP_POSITION&&(warpperWidth=$("body > .wrapper > .wrapper_inner").width(),$("#scrollToTop").css("margin-left",Math.ceil(warpperWidth/2)+23)),e+a>i?$("#scrollToTop").css("bottom",t+e+a-i-0):parseInt($("#scrollToTop").css("bottom"))>t&&$("#scrollToTop").css("bottom",t)},CheckObjectsSizes=function(){$(".container iframe,.container object,.container video").each(function(){var t=$(this).attr("height"),e=$(this).attr("width");t&&e&&$(this).css("height",$(this).outerWidth()*t/e)})},!funcDefined("reloadTopBasket"))var reloadTopBasket=function(t,e,a,i,o,s){var n={PARAMS:$("#top_basket_params").val(),ACTION:t};"undefined"!=typeof s&&(n.delete_top_item="Y",n.delete_top_item_id=s.data("id")),$.post(arOptimusOptions.SITE_DIR+"ajax/show_basket_popup.php",n,$.proxy(function(t){$(e).html(t),getActualBasket(),"N"!==arOptimusOptions.THEME.SHOW_BASKET_ONADDTOCART&&$(window).outerWidth()>520&&("Y"==o&&$(e).find(".basket_popup_wrapp").stop(!0,!0).slideDown(a),
clearTimeout(basketTimeoutSlide),basketTimeoutSlide=setTimeout(function(){var t=$("#basket_line").find(".basket_popup_wrapp");t.is(":hover")?t.show():$("#basket_line").find(".basket_popup_wrapp").slideUp(a)},i))}))};if(!funcDefined("initCountdown"))var initCountdown=function(){$(".view_sale_block").size()&&$(".view_sale_block").each(function(){var t=$(this).find(".active_to").text(),e=new Date(t.replace(/(\d+)\.(\d+)\.(\d+)/,"$3/$2/$1"));$(this).find(".countdown").countdown({until:e,format:"dHMS",padZeroes:!0,layout:'{d<}<span class="days item">{dnn}<div class="text">{dl}</div></span>{d>} <span class="hours item">{hnn}<div class="text">{hl}</div></span> <span class="minutes item">{mnn}<div class="text">{ml}</div></span> <span class="sec item">{snn}<div class="text">{sl}</div></span>'},$.countdown.regionalOptions.ru)})};var isOnceInited=insertFilter=!1,animationTime=200,delayTime=200,topMenuEnterTimer=!1,isMobile=jQuery.browser.mobile;if(isMobile&&(document.documentElement.className+=" mobile"),!funcDefined("checkVerticalMobileFilter"))var checkVerticalMobileFilter=function(){$(".right_block1.catalog.vertical").length&&(window.matchMedia("(max-width: 950px)").matches?insertFilter||($(".js_filter .bx_filter.bx_filter_vertical").html($(".left_block .bx_filter.bx_filter_vertical").html()),$(".left_block .bx_filter.bx_filter_vertical .bx_filter_section").remove(),insertFilter=!0):insertFilter&&($(".left_block .bx_filter.bx_filter_vertical").html($(".js_filter .bx_filter.bx_filter_vertical").html()),$(".js_filter .bx_filter.bx_filter_vertical .bx_filter_section").remove(),insertFilter=!1))};$(document).on("click",".menu_top_block>li .more a",function(){$this=$(this),$this.parents(".dropdown").first().find(">.hidden").removeClass("hidden"),$this.parent().addClass("hidden"),setTimeout(function(){$this.parent().remove()},500)}),$(document).on("mouseenter",".menu_top_block.catalogfirst>li>.dropdown>li.full",function(){var t=$(this).find(">.dropdown");t.length&&topMenuEnterTimer&&(clearTimeout(topMenuEnterTimer),topMenuEnterTimer=!1)}),$(document).on("mouseenter",".menu_top_block>li:not(.full)",function(){var t=$(this).find(">.dropdown");if(t.length&&!t.hasClass("visible")){var e=$(this).parents(".menu"),a=e.parents(".wrap_menu"),i=a.actual("outerWidth"),o=a.offset().left,s=o+i,n=s-($(this).offset().left+t.actual("outerWidth"));if(window.matchMedia("(min-width: 951px)").matches&&$(this).hasClass("catalog")&&($(".banner_auto").hasClass("catalog_page")||$(".banner_auto").hasClass("front_page")))return;0>n&&t.css({left:n+"px"}),t.stop().slideDown(animationTime,function(){t.css({height:"",overflow:"visible"})}),$(this).on("mouseleave",function(){var e=setTimeout(function(){t.stop().slideUp(animationTime,function(){t.css({left:""})})},delayTime);$(this).on("mouseenter",function(){e&&(clearTimeout(e),e=!1)})})}}),$(document).on("mouseenter",".menu_top_block>li .dropdown>li",function(){var t=$(this),e=t.find(">.dropdown");if(e.length&&(!t.parents(".full").length&&!t.hasClass("full")||t.parents(".more").length)){var a=t.parents(".menu"),o=a.parents(".wrap_menu"),s=[];topMenuEnterTimer=setTimeout(function(){var a=o.actual("outerWidth"),i=o.offset().left,n=i+a,r=t.parent(),c=r.hasClass("toleft")?!0:!1;c=c?t.offset().left+t.actual("outerWidth")-e.actual("outerWidth")<i:t.offset().left+t.actual("outerWidth")+e.actual("outerWidth")>n,c?t.find(">.dropdown").addClass("toleft").show():t.find(">.dropdown").removeClass("toleft").show();var d=e.offset().left,l=d+e.actual("outerWidth");t.parents(".dropdown").each(function(){var t=$(this),e=t.offset().left,a=e+t.actual("outerWidth");(e>=d&&l-1>e||a>d+1&&l>=a)&&(s.push(t),t.find(">li>a").css({opacity:"0.1"}))})},delayTime),t.unbind("mouseleave"),t.on("mouseleave",function(){var e=setTimeout(function(){if(t.find(".dropdown").removeClass("toleft").hide(),s.length)for(i in s)s[i].find(">li>a").css({opacity:""})},delayTime);t.unbind("mouseenter"),t.on("mouseenter",function(){e&&(clearTimeout(e),e=!1)})})}}),getGridSize=function(t){var e=1;return window.matchMedia("(min-width: 1200px)").matches&&(e=t[0]),window.matchMedia("(max-width: 1200px)").matches&&(e=t[1]),window.matchMedia("(max-width: 992px)").matches&&(e=t[2]),t[3]&&window.matchMedia("(max-width: 600px)").matches&&(e=t[3]),t[4]&&window.matchMedia("(max-width: 400px)").matches&&(e=t[4]),e},CheckFlexSlider=function(){$(".flexslider:not(.thmb)").each(function(){var t=$(this);t.resize();var e=t.data("flexslider").vars.counts;if("undefined"!=typeof e){var a=getGridSize(e),i=a!=t.data("flexslider").vars.minItems||a!=t.data("flexslider").vars.maxItems||a!=t.data("flexslider").vars.move;i&&(t.data("flexslider").vars.minItems=a,t.data("flexslider").vars.maxItems=a,t.data("flexslider").vars.move=a,t.flexslider(0),t.resize(),t.resize())}})},InitFlexSlider=function(){$(".flexslider:not(.thmb):not(.flexslider-init)").each(function(){var t,e=$(this),a={animationLoop:!1,controlNav:!1,directionNav:!0,animation:"slide"},i=$.extend({},a,t,e.data("plugin-options"));e.parent().hasClass("top_slider_wrapp")||("undefined"!=typeof i.counts&&"vertical"!==i.direction&&(i.maxItems=getGridSize(i.counts),i.minItems=getGridSize(i.counts),i.move=getGridSize(i.counts),i.itemWidth=200),i.after=i.start=function(t){var e={slider:t};BX.onCustomEvent("onSlide",[e])},i.end=function(t){var e={slider:t};BX.onCustomEvent("onSlideEnd",[e])},e.flexslider(i).addClass("flexslider-init"),i.controlNav&&e.addClass("flexslider-control-nav"),i.directionNav&&e.addClass("flexslider-direction-nav"))})},InitZoomPict=function(){if($(".zoom_picture").length){var t,e=$(".zoom_picture").closest(".slides"),a=$(".zoom_picture"),i={zoomrange:[1,12],zoomstart:4,magnifierborder:"1px solid #cccccd",magnifiersize:[e.width(),e.height()],rightoffset:30},o=$.extend({},i,t,a.data("plugin-options"));a.imagezoomsl(o).addClass("zoom-init")}};var arBasketAsproCounters={};SetActualBasketFlyCounters=function(){1==arBasketAsproCounters.DEFAULT?$.ajax({url:arOptimusOptions.SITE_DIR+"ajax/basket_fly.php",type:"post",success:function(t){$("#basket_line .basket_fly").addClass("loaded").html(t)}}):($("#header .basket_fly .opener .basket_count .count").attr("class","count"+(arBasketAsproCounters.READY.COUNT>0?"":" empty_items")).find(".items div").text(arBasketAsproCounters.READY.COUNT),$("#header .basket_fly .opener .basket_count + a").attr("href",arBasketAsproCounters.READY.HREF),$("#header .basket_fly .opener .basket_count").attr("title",arBasketAsproCounters.READY.TITLE).attr("class","basket_count small clicked"+(arBasketAsproCounters.READY.COUNT>0?"":" empty")),$("#header .basket_fly .opener .wish_count .count").attr("class","count"+(arBasketAsproCounters.DELAY.COUNT>0?"":" empty_items")).find(".items div").text(arBasketAsproCounters.DELAY.COUNT),$("#header .basket_fly .opener .wish_count + a").attr("href",arBasketAsproCounters.DELAY.HREF),$("#header .basket_fly .opener .wish_count").attr("title",arBasketAsproCounters.DELAY.TITLE).attr("class","wish_count small clicked"+(arBasketAsproCounters.DELAY.COUNT>0?"":" empty")),$("#header .basket_fly .opener .compare_count .count").attr("class","count"+(arBasketAsproCounters.COMPARE.COUNT>0?"":" empty_items")).find(".items div").text(arBasketAsproCounters.COMPARE.COUNT),$("#header .basket_fly .opener .compare_count + a").attr("href",arBasketAsproCounters.COMPARE.HREF),$("#header .basket_fly .opener .user_block").attr("title",arBasketAsproCounters.PERSONAL.TITLE).find("+ a").attr("href",arBasketAsproCounters.PERSONAL.HREF),$("#header .basket_fly .opener .user_block .wraps_icon_block").attr("class","wraps_icon_block"+(arBasketAsproCounters.PERSONAL.ID>0?" user_auth":" user_reg")+(arBasketAsproCounters.PERSONAL.SRC?" w_img":" no_img")).attr("style",arBasketAsproCounters.PERSONAL.SRC?'background:url("'+arBasketAsproCounters.PERSONAL.SRC+'") center center no-repeat;':""))},$(document).ready(function(){if(arOptimusOptions.PAGES.ORDER_PAGE){var t=parseUrlQuery();"ORDER_ID"in t&&$.ajax({url:arOptimusOptions.SITE_DIR+"ajax/check_order.php",dataType:"json",type:"POST",data:{ID:t.ORDER_ID},success:function(t){parseInt(t)&&purchaseCounter(parseInt(t),BX.message("FULL_ORDER"))}})}scrollToTop(),checkVerticalMobileFilter(),setTimeout(function(){InitTopestMenuGummi(),InitTopMenuGummi(),isOnceInited=!0,InitFlexSlider();try{$("header .wrap_menu").css({overflow:"visible"}),$(".visible_on_ready").removeClass("visible_on_ready")}catch(t){console.error(t)}},100),InitZoomPict(),$("body").on("click",".captcha_reload",function(t){var e=$(this).parents(".captcha-row");t.preventDefault(),$.ajax({url:arOptimusOptions.SITE_DIR+"ajax/captcha.php"}).done(function(t){e.find("input[name=captcha_sid]").val(t),e.find("img").attr("src","/bitrix/tools/captcha.php?captcha_sid="+t),e.find("input[name=captcha_word]").val("").removeClass("error"),e.find(".captcha_input").removeClass("error").find(".error").remove()})}),setTimeout(function(){$(".bg_image_site").css({opacity:1})},200),window.matchMedia("(min-width: 768px)").matches&&$(".wrapper_middle_menu.wrap_menu").removeClass("mobile"),window.matchMedia("(max-width: 767px)").matches&&$(".wrapper_middle_menu.wrap_menu").addClass("mobile"),setTimeout(function(){$(window).scroll()},400),$(".show_props").live("click",function(){$(this).prev(".props_list_wrapp").stop().slideToggle(333),$(this).find(".char_title").toggleClass("opened")}),$(".see_more").live("click",function(t){t.preventDefault();var e=$(this).is(".see_more")?$(this):$(this).parents(".see_more").first(),a=e.find("> a").length?e.find("> a"):e,i=e.parent().find("> .d");return e.hasClass("open")?(a.text(BX.message("CATALOG_VIEW_MORE")),e.removeClass("open"),i.hide()):(a.text(BX.message("CATALOG_VIEW_LESS")),e.addClass("open"),i.show()),!1}),$(".button.faq_button").click(function(t){t.preventDefault(),$(this).toggleClass("opened"),$(".faq_ask .form").slideToggle()}),$(".staff.list .staff_section .staff_section_title a").click(function(t){t.preventDefault(),$(this).parents(".staff_section").toggleClass("opened"),$(this).parents(".staff_section").find(".staff_section_items").stop().slideToggle(600),$(this).parents(".staff_section_title").find(".opener_icon").toggleClass("opened")}),$(".jobs_wrapp .item .name").click(function(t){$(this).closest(".item").toggleClass("opened"),$(this).closest(".item").find(".description_wrapp").stop().slideToggle(600),$(this).closest(".item").find(".opener_icon").toggleClass("opened")}),$(".faq.list .item .q a").live("click",function(t){t.preventDefault(),$(this).parents(".item").toggleClass("opened"),$(this).parents(".item").find(".a").stop().slideToggle(),$(this).parents(".item").find(".q .opener_icon").toggleClass("opened")}),$(".opener_icon").click(function(t){t.preventDefault(),$(this).parent().find("a").trigger("click")}),$(".to-order").live("click",function(t){t.preventDefault(),$("body").append("<span class='evb-toorder' style='display:none;'></span>"),jqmEd("to-order",arOptimusOptions.FORM.TOORDER_FORM_ID,".evb-toorder","",this),$("body .evb-toorder").click(),$("body .evb-toorder").remove()}),$(".dotdot").dotdotdot(),$(".more_block span").live("click",function(){var t=$(".catalog_detail .tabs_section").offset();$("html, body").animate({scrollTop:t.top-23},400)}),$(".counter_block:not(.basket) .plus").live("click",function(){if(!$(this).parents(".basket_wrapp").length&&"Y"!=$(this).parent().data("offers")){var t=$(this).parents(".counter_block_wr").length;input=$(this).parents(".counter_block").find("input[type=text]"),tmp_ratio=t?$(this).parents("tr").first().find("td.buy .to-cart").data("ratio"):$(this).parents(".counter_wrapp").find(".to-cart").data("ratio"),isDblQuantity=t?$(this).parents("tr").first().find("td.buy .to-cart").data("float_ratio"):$(this).parents(".counter_wrapp").find(".to-cart").data("float_ratio"),ratio=isDblQuantity?parseFloat(tmp_ratio):parseInt(tmp_ratio,10),max_value="",currentValue=input.val(),isDblQuantity&&(ratio=Math.round(ratio*arOptimusOptions.JS_ITEM_CLICK.precisionFactor)/arOptimusOptions.JS_ITEM_CLICK.precisionFactor),curValue=isDblQuantity?parseFloat(currentValue):parseInt(currentValue,10),curValue+=ratio,isDblQuantity&&(curValue=Math.round(curValue*arOptimusOptions.JS_ITEM_CLICK.precisionFactor)/arOptimusOptions.JS_ITEM_CLICK.precisionFactor),parseFloat($(this).data("max"))>0?input.val()<$(this).data("max")&&(curValue>$(this).data("max")?input.val($(this).data("max")):input.val(curValue),input.change()):(input.val(curValue),input.change())}}),$(".counter_block:not(.basket) .minus").live("click",function(){if(!$(this).parents(".basket_wrapp").length&&"Y"!=$(this).parent().data("offers")){var t=$(this).parents(".counter_block_wr").length;input=$(this).parents(".counter_block").find("input[type=text]"),tmp_ratio=t?$(this).parents("tr").first().find("td.buy .to-cart").data("ratio"):$(this).parents(".counter_wrapp").find(".to-cart").data("ratio"),isDblQuantity=t?$(this).parents("tr").first().find("td.buy .to-cart").data("float_ratio"):$(this).parents(".counter_wrapp").find(".to-cart").data("float_ratio"),ratio=isDblQuantity?parseFloat(tmp_ratio):parseInt(tmp_ratio,10),max_value="",currentValue=input.val(),isDblQuantity&&(ratio=Math.round(ratio*arOptimusOptions.JS_ITEM_CLICK.precisionFactor)/arOptimusOptions.JS_ITEM_CLICK.precisionFactor),curValue=isDblQuantity?parseFloat(currentValue):parseInt(currentValue,10),curValue-=ratio,isDblQuantity&&(curValue=Math.round(curValue*arOptimusOptions.JS_ITEM_CLICK.precisionFactor)/arOptimusOptions.JS_ITEM_CLICK.precisionFactor),parseFloat($(this).parents(".counter_block").find(".plus").data("max"))>0?currentValue>ratio&&(curValue<ratio?input.val(ratio):input.val(curValue),input.change()):(curValue>ratio?input.val(curValue):ratio?input.val(ratio):currentValue>1&&input.val(curValue),input.change())}}),$(".counter_block input[type=text]").numeric({allow:"."}),$(".counter_block input[type=text]").live("focus",function(){$(this).addClass("focus")}),$(".counter_block input[type=text]").live("blur",function(){$(this).removeClass("focus")}),$(".counter_block input[type=text]").live("change",function(t){if(!$(this).parents(".basket_wrapp").length){var e=$(this).val(),a=$(this).parents(".counter_wrapp").find(".to-cart").data("ratio"),i=$(this).parents(".counter_wrapp").find(".to-cart").data("float_ratio"),o=i?parseFloat(a):parseInt(a,10);i&&(o=Math.round(o*arOptimusOptions.JS_ITEM_CLICK.precisionFactor)/arOptimusOptions.JS_ITEM_CLICK.precisionFactor),$(this).hasClass("focus")&&(e-=e%o),parseFloat($(this).parents(".counter_block").find(".plus").data("max"))>0&&e>parseFloat($(this).parents(".counter_block").find(".plus").data("max"))&&(e=parseFloat($(this).parents(".counter_block").find(".plus").data("max")),e-=e%o),o>e?e=o:parseFloat(e)||(e=1),$(this).parents(".counter_block").parent().parent().find(".to-cart").attr("data-quantity",e),$(this).parents(".counter_block").parent().parent().find(".one_click").attr("data-quantity",e),$(this).val(e)}}),$(document).on("mouseenter","#basket_line .basket_normal:not(.empty_cart):not(.bcart) .basket_block ",function(){$(this).closest(".basket_normal").find(".popup").addClass("block"),$(this).closest(".basket_normal").find(".basket_popup_wrapp").stop(!0,!0).slideDown(150)}),$(document).on("mouseleave","#basket_line .basket_normal .basket_block ",function(){var t=$(this);$(this).closest(".basket_normal").find(".basket_popup_wrapp").stop(!0,!0).slideUp(150,function(){t.closest(".basket_normal").find(".popup").removeClass("block")})}),$(document).on("click",".popup_button_basket",function(){var t=$(".to-cart[data-item="+$(this).data("item")+"]"),e=t.attr("data-quantity");e||($val=1);var a=t.data("props"),i="",o="",s="N",n={},r=t.data("iblockid"),c=t.data("offers"),d="",l="",u=t.attr("data-item");"Y"!=c?c="N":l=t.closest(".prices_tab").find(".bx_sku_props input").val(),a&&(i=a.split(";")),t.data("part_props")&&(o=t.data("part_props")),t.data("add_props")&&(s=t.data("add_props")),$(".rid_item").length?d=$(".rid_item").data("rid"):t.data("rid")&&(d=t.data("rid")),n=fillBasketPropsExt(t,"prop","bx_ajax_text"),n.quantity=e,n.add_item="Y",n.rid=d,n.offers=c,n.iblockID=r,n.part_props=o,n.add_props=s,n.props=JSON.stringify(i),n.item=u,n.basket_props=l,$.ajax({type:"POST",url:arOptimusOptions.SITE_DIR+"ajax/item.php",data:n,dataType:"json",success:function(e){$(".basket_error_frame").jqmHide(),"STATUS"in e?(getActualBasket(n.iblockID),"OK"===e.STATUS?(t.hide(),t.closest(".counter_wrapp").find(".counter_block").hide(),t.parents("tr").find(".counter_block_wr .counter_block").hide(),t.closest(".button_block").addClass("wide"),t.parent().find(".in-cart").show(),addBasketCounter(u),$(".wish_item[data-item="+u+"]").removeClass("added"),$(".wish_item[data-item="+u+"]").find(".value").show(),$(".wish_item[data-item="+u+"]").find(".value.added").hide(),$("#basket_line .cart").length?($("#basket_line .cart").is(".empty_cart")&&($("#basket_line .cart").removeClass("empty_cart").find(".cart_wrapp a.basket_link").removeAttr("href").addClass("cart-call"),$("#basket_line .cart").removeClass("ecart"),touchBasket(".cart:not(.empty_cart) .basket_block .link")),reloadTopBasket("add",$("#basket_line"),200,5e3,"Y")):$("#basket_line .basket_fly").length&&basketFly($(window).outerWidth()>768?"open":"refresh")):showBasketError(BX.message(e.MESSAGE))):showBasketError(BX.message("CATALOG_PARTIAL_BASKET_PROPERTIES_ERROR"))}})}),$(document).on("click",".to-cart:not(.read_more)",function(t){t.preventDefault();var e=$(this),a=$(this).attr("data-quantity");a||($val=1);var i=$(this).data("props"),o="",s="",n="N",r={},c=$(this).data("iblockid"),d=$(this).data("offers"),l="",u="",p=$(this).attr("data-item");"Y"!=d?d="N":u=$(this).closest(".prices_tab").find(".bx_sku_props input").val(),i&&(o=i.split(";")),$(this).data("part_props")&&(s=$(this).data("part_props")),$(this).data("add_props")&&(n=$(this).data("add_props")),$(".rid_item").length?l=$(".rid_item").data("rid"):$(this).data("rid")&&(l=$(this).data("rid")),r=fillBasketPropsExt(e,"prop",e.data("bakset_div")),r.quantity=a,r.add_item="Y",r.rid=l,r.offers=d,r.iblockID=c,r.part_props=s,r.add_props=n,r.props=JSON.stringify(o),r.item=p,r.basket_props=u,"N"==e.data("empty_props")?showBasketError($("#"+e.data("bakset_div")).html(),BX.message("ERROR_BASKET_PROP_TITLE"),"Y",e):$.ajax({type:"POST",url:arOptimusOptions.SITE_DIR+"ajax/item.php",data:r,dataType:"json",success:function(t){getActualBasket(r.iblockID),null!==t?"STATUS"in t?(null===t.MESSAGE_EXT&&(t.MESSAGE_EXT=""),"OK"===t.STATUS?(e.hide(),e.closest(".counter_wrapp").find(".counter_block").hide(),e.parents("tr").find(".counter_block_wr .counter_block").hide(),e.closest(".button_block").addClass("wide"),e.parent().find(".in-cart").show(),addBasketCounter(p),$(".wish_item[data-item="+p+"]").removeClass("added"),$(".wish_item[data-item="+p+"]").find(".value").show(),$(".wish_item[data-item="+p+"]").find(".value.added").hide(),$("#basket_line .cart").length?($("#basket_line .cart").is(".empty_cart")&&($("#basket_line .cart").removeClass("empty_cart").find(".cart_wrapp a.basket_link").removeAttr("href").addClass("cart-call"),$("#basket_line .cart").removeClass("ecart"),touchBasket(".cart:not(.empty_cart) .basket_block .link")),reloadTopBasket("add",$("#basket_line"),200,5e3,"Y")):$("#basket_line .basket_fly").length&&basketFly($(window).outerWidth()>768?"open":"refresh")):showBasketError(BX.message(t.MESSAGE)+" <br/>"+t.MESSAGE_EXT)):showBasketError(BX.message("CATALOG_PARTIAL_BASKET_PROPERTIES_ERROR")):(e.hide(),e.closest(".counter_wrapp").find(".counter_block").hide(),e.parents("tr").find(".counter_block_wr .counter_block").hide(),e.closest(".button_block").addClass("wide"),e.parent().find(".in-cart").show(),addBasketCounter(p),$(".wish_item[data-item="+p+"]").removeClass("added"),$(".wish_item[data-item="+p+"]").find(".value").show(),$(".wish_item[data-item="+p+"]").find(".value.added").hide(),$("#basket_line .cart").length?($("#basket_line .cart").is(".empty_cart")&&($("#basket_line .cart").removeClass("empty_cart").find(".cart_wrapp a.basket_link").removeAttr("href").addClass("cart-call"),$("#basket_line .cart").removeClass("ecart"),touchBasket(".cart:not(.empty_cart) .basket_block .link")),reloadTopBasket("add",$("#basket_line"),200,5e3,"Y")):$("#basket_line .basket_fly").length&&$(window).outerWidth()>768&&basketFly("open"))}})}),$(document).on("click",".to-subscribe",function(t){if(t.preventDefault(),$(this).is(".auth"))location.href=arOptimusOptions.SITE_DIR+"auth/?backurl="+location.pathname;else{var e=$(this).attr("data-item"),a=$(this).attr("data-iblockid");$(this).hide(),$(this).parent().find(".in-subscribe").show(),$.get(arOptimusOptions.SITE_DIR+"ajax/item.php?item="+e+"&subscribe_item=Y",$.proxy(function(t){$(".wish_item[data-item="+e+"]").removeClass("added"),getActualBasket(a)}))}}),$(document).on("click",".in-subscribe",function(t){t.preventDefault();var e=$(this).attr("data-item"),a=$(this).attr("data-iblockid");$(this).hide(),$(this).parent().find(".to-subscribe").show(),$.get(arOptimusOptions.SITE_DIR+"ajax/item.php?item="+e+"&subscribe_item=Y",$.proxy(function(t){getActualBasket(a)}))}),$(document).on("click",".wish_item",function(t){t.preventDefault();var e=$(this).attr("data-quantity"),a=$(this).data("offers"),i=$(this).data("iblock"),o=$(this).data("props"),s="",n=$(this).data("item");item2=$(this).attr("data-item"),e||($val=1),"Y"!=a&&(a="N"),o&&(s=o.split(";")),$(this).hasClass("text")?$(this).hasClass("added")?($(".wish_item[data-item="+n+"]").removeClass("added"),$(".wish_item[data-item="+n+"]").find(".value").show(),$(".wish_item[data-item="+n+"]").find(".value.added").hide(),$(".like_icons").each(function(){$(this).find(".wish_item_button").length&&($(this).find(".wish_item_button").find('.wish_item[data-item="'+n+'"]').removeClass("added"),$(this).find(".wish_item_button").find('.wish_item[data-item="'+n+'"]').find(".value").show(),$(this).find(".wish_item_button").find('.wish_item[data-item="'+n+'"]').find(".value.added").hide())})):($(".wish_item[data-item="+n+"]").addClass("added"),$(".wish_item[data-item="+n+"]").find(".value").hide(),$(".wish_item[data-item="+n+"]").find(".value.added").css("display","block"),$(".like_icons").each(function(){$(this).find(".wish_item_button").length&&($(this).find(".wish_item_button").find('.wish_item[data-item="'+n+'"]').addClass("added"),$(this).find(".wish_item_button").find('.wish_item[data-item="'+n+'"]').find(".value").hide(),$(this).find(".wish_item_button").find('.wish_item[data-item="'+n+'"]').find(".value.added").show())})):$(this).hasClass("added")?($(this).hide(),$(this).closest(".wish_item_button").find(".to").show(),$(".like_icons").each(function(){$(this).find('.wish_item.text[data-item="'+n+'"]').length&&($(this).find('.wish_item.text[data-item="'+n+'"]').removeClass("added"),$(this).find('.wish_item.text[data-item="'+n+'"]').find(".value").show(),$(this).find('.wish_item.text[data-item="'+n+'"]').find(".value.added").hide()),$(this).find(".wish_item_button").length&&($(this).find(".wish_item_button").find('.wish_item[data-item="'+n+'"]').removeClass("added"),$(this).find(".wish_item_button").find('.wish_item[data-item="'+n+'"]').find(".value").show(),$(this).find(".wish_item_button").find('.wish_item[data-item="'+n+'"]').find(".value.added").hide())})):($(this).hide(),$(this).closest(".wish_item_button").find(".in").addClass("added").show(),$(".like_icons").each(function(){$(this).find('.wish_item.text[data-item="'+n+'"]').length&&($(this).find('.wish_item.text[data-item="'+n+'"]').addClass("added"),$(this).find('.wish_item.text[data-item="'+n+'"]').find(".value").hide(),$(this).find('.wish_item.text[data-item="'+n+'"]').find(".value.added").css({display:"block"})),$(this).find(".wish_item_button").length&&($(this).find(".wish_item_button").find('.wish_item[data-item="'+n+'"]').addClass("added"),$(this).find(".wish_item_button").find('.wish_item[data-item="'+n+'"]').find(".value").hide(),$(this).find(".wish_item_button").find('.wish_item[data-item="'+n+'"]').find(".value.added").show())})),$(".in-cart[data-item="+n+"]").hide(),$(".to-cart[data-item="+n+"]").parent().removeClass("wide"),$(".to-cart[data-item="+n+"]").show(),$(".counter_block[data-item="+n+"]").show(),$(this).closest(".module-cart").size()||$.ajax({type:"GET",url:arOptimusOptions.SITE_DIR+"ajax/item.php",data:"item="+item2+"&quantity="+e+"&wish_item=Y&offers="+a+"&iblockID="+i+"&props="+JSON.stringify(s),dataType:"json",success:function(t){getActualBasket(i),null!==t?(null===t.MESSAGE_EXT&&(t.MESSAGE_EXT=""),"STATUS"in t&&"OK"===t.STATUS?$("#basket_line .cart").size()?reloadTopBasket("wish",$("#basket_line"),200,5e3,"N"):basketFly("wish"):showBasketError(BX.message(t.MESSAGE)+" <br/>"+t.MESSAGE_EXT,BX.message("ERROR_ADD_DELAY_ITEM"))):$("#basket_line .cart").size()?reloadTopBasket("wish",$("#basket_line"),200,5e3,"N"):basketFly("wish")}})}),$(document).on("click",".compare_item",function(t){t.preventDefault();var e=$(this).attr("data-item"),a=$(this).attr("data-iblock");$(this).hasClass("text")?$(this).hasClass("added")?($(".compare_item[data-item="+e+"]").removeClass("added"),$(".compare_item[data-item="+e+"]").find(".value").show(),$(".compare_item[data-item="+e+"]").find(".value.added").hide(),$(".like_icons").each(function(){$(this).find(".compare_item_button").length&&($(this).find(".compare_item_button").find('.compare_item[data-item="'+e+'"]').removeClass("added"),$(this).find(".compare_item_button").find('.compare_item[data-item="'+e+'"]').find(".value").show(),$(this).find(".compare_item_button").find('.compare_item[data-item="'+e+'"]').find(".value.added").hide())})):($(".compare_item[data-item="+e+"]").addClass("added"),$(".compare_item[data-item="+e+"]").find(".value").hide(),$(".compare_item[data-item="+e+"]").find(".value.added").css("display","block"),$(".like_icons").each(function(){$(this).find(".compare_item_button").length&&($(this).find(".compare_item_button").find('.compare_item[data-item="'+e+'"]').addClass("added"),$(this).find(".compare_item_button").find('.compare_item[data-item="'+e+'"]').find(".value.added").show(),$(this).find(".compare_item_button").find('.compare_item[data-item="'+e+'"]').find(".value").hide())})):$(this).hasClass("added")?($(this).hide(),$(this).closest(".compare_item_button").find(".to").show(),$(".like_icons").each(function(){$(this).find('.compare_item.text[data-item="'+e+'"]').length&&($(this).find('.compare_item.text[data-item="'+e+'"]').removeClass("added"),$(this).find('.compare_item.text[data-item="'+e+'"]').find(".value").show(),$(this).find('.compare_item.text[data-item="'+e+'"]').find(".value.added").hide()),$(this).find(".compare_item_button").length&&($(this).find(".compare_item_button").find('.compare_item[data-item="'+e+'"]').removeClass("added"),$(this).find(".compare_item_button").find('.compare_item[data-item="'+e+'"]').find(".value").show(),$(this).find(".compare_item_button").find('.compare_item[data-item="'+e+'"]').find(".value.added").hide())})):($(this).hide(),$(this).closest(".compare_item_button").find(".in").show(),$(".like_icons").each(function(){$(this).find('.compare_item.text[data-item="'+e+'"]').length&&($(this).find('.compare_item.text[data-item="'+e+'"]').addClass("added"),$(this).find('.compare_item.text[data-item="'+e+'"]').find(".value").hide(),$(this).find('.compare_item.text[data-item="'+e+'"]').find(".value.added").css({display:"block"})),$(this).find(".compare_item_button").length&&($(this).find(".compare_item_button").find('.compare_item[data-item="'+e+'"]').addClass("added"),$(this).find(".compare_item_button").find('.compare_item[data-item="'+e+'"]').find(".value.added").show(),$(this).find(".compare_item_button").find('.compare_item[data-item="'+e+'"]').find(".value").hide())})),$.get(arOptimusOptions.SITE_DIR+"ajax/item.php?item="+e+"&compare_item=Y&iblock_id="+a,$.proxy(function(t){getActualBasket(a),jsAjaxUtil.InsertDataToNode(arOptimusOptions.SITE_DIR+"ajax/show_compare_preview_top.php","compare_line",!1),$("#compare_fly").length&&jsAjaxUtil.InsertDataToNode(arOptimusOptions.SITE_DIR+"ajax/show_compare_preview_fly.php","compare_fly",!1)}))}),$(".fancy").fancybox({openEffect:"fade",closeEffect:"fade",nextEffect:"fade",prevEffect:"fade",tpl:{closeBtn:'<a title="'+BX.message("FANCY_CLOSE")+'" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="'+BX.message("FANCY_NEXT")+'" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="'+BX.message("FANCY_PREV")+'" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'}}),$(".tabs>li").on("click",function(){if(!$(this).hasClass("active")){var t=$(this).index(),e=$(this).closest(".top_blocks").find(".slider_navigation").find(">li:eq("+t+")"),a=$(this).closest(".top_blocks").siblings(".tabs_content").find(">li:eq("+t+")");$(this).addClass("active").addClass("cur").siblings().removeClass("active").removeClass("cur"),a.addClass("cur").siblings().removeClass("cur"),e.addClass("cur").siblings().removeClass("cur"),a.find(".catalog_block .catalog_item_wrapp .catalog_item .item_info:visible .item-title").sliceHeight({item:".catalog_item:visible"}),a.find(".catalog_block .catalog_item_wrapp .catalog_item .item_info:visible").sliceHeight({classNull:".footer_button",item:".catalog_item:visible"}),a.find(".catalog_block .catalog_item_wrapp .catalog_item:visible").sliceHeight({classNull:".footer_button",item:".catalog_item:visible"})}}),$(".search_block .icon").on("click",function(){var t=$(this);$(this).hasClass("open")?($(this).closest(".center_block").find(".search_middle_block").removeClass("active"),$(this).removeClass("open"),$(this).closest(".center_block").find(".search_middle_block").find(".noborder").hide()):(setTimeout(function(){t.closest(".center_block").find(".search_middle_block").find(".noborder").show()},100),$(this).closest(".center_block").find(".search_middle_block").addClass("active"),$(this).addClass("open"))}),$(document).on("mouseenter",".display_list .item_wrap",function(){$(this).prev().addClass("prev")}),$(document).on("mouseleave",".display_list .item_wrap",function(){$(this).prev().removeClass("prev")}),$(document).on("mouseenter",".catalog_block .item_wrap",function(){$(this).addClass("shadow_delay")}),$(document).on("mouseleave",".catalog_block .item_wrap",function(){$(this).removeClass("shadow_delay")}),$(document).on("click",".no_goods .button",function(){$(".bx_filter .smartfilter .bx_filter_search_reset").trigger("click")}),$(document).on("click",".ajax_load_btn",function(){var t=$(this).closest(".right_block").find(".module-pagination .flex-direction-nav .flex-next").attr("href"),e=$(this).find(".more_text_ajax");e.addClass("loading"),$.ajax({url:t,data:{ajax_get:"Y"},success:function(t){$.parseHTML(t);e.removeClass("loading"),$(".display_list").length?$(".display_list").append(t):$(".block_list").length?($(".block_list").append(t),touchItemBlock(".catalog_item a")):$(".module_products_list").length&&$(".module_products_list > tbody").append(t),setStatusButton(),initCountdown(),BX.onCustomEvent("onAjaxSuccess"),$(".bottom_nav").html($(t).find(".bottom_nav").html())}})}),$(document).on("click",".bx_compare .tabs-head li",function(){var t=$(this).find(".sortbutton").data("href");BX.showWait(BX("bx_catalog_compare_block")),$.ajax({url:t,data:{ajax_action:"Y"},success:function(e){history.pushState(null,null,t),$("#bx_catalog_compare_block").html(e),BX.closeWait()}})});var e;$(document).on({mouseover:function(t){var a=$(this),i=a.closest("tbody").index()+1,o=a.index()+1;e=$(t.delegateTarget).find(".data_table_props").children(":nth-child("+i+")").children(":nth-child("+o+")").addClass("hovered")},mouseleave:function(t){e&&e.removeClass("hovered")}},".bx_compare .data_table_props tbody>tr"),$(document).on("click",".fancy_offer",function(t){t.preventDefault();var e=[];$(".sliders li").each(function(){$(this).hasClass("current")?e.unshift($(this).data("big")):e.push($(this).data("big"))}),$.fancybox(e,{openEffect:"fade",
closeEffect:"fade",nextEffect:"fade",prevEffect:"fade",tpl:{closeBtn:'<a title="'+BX.message("FANCY_CLOSE")+'" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="'+BX.message("FANCY_NEXT")+'" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="'+BX.message("FANCY_PREV")+'" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'}})}),$(".tabs_section .tabs-head li").live("click",function(){$(this).is(".current")||($(".tabs_section .tabs-head li").removeClass("current"),$(this).addClass("current"),$(".tabs_section ul.tabs_content li").removeClass("current"),"product_reviews_tab"==$(this).attr("id")?($(".shadow.common").hide(),$("#reviews_content").show()):($(".shadow.common").show(),$("#reviews_content").hide(),$(".tabs_section ul.tabs_content > li:eq("+$(this).index()+")").addClass("current")))}),setTimeout(function(){$(".jobs_wrapp .item:first .name tr").trigger("click")},300),$(".buy_block .slide_offer").on("click",function(){scroll_block($(".tabs_section"))}),$(".share_wrapp .text").on("click",function(){$(this).parent().find(".shares").fadeToggle()}),$("html, body").live("mousedown",function(t){t.stopPropagation(),$(".shares").fadeOut(),$(".search_middle_block").removeClass("active_wide")}),$(".share_wrapp").find("*").live("mousedown",function(t){t.stopPropagation()}),$(document).on("click",".reviews-collapse-link",function(){$(".reviews-reply-form").slideToggle()}),initCountdown(),$(".menu.adaptive").on("click",function(){$(this).toggleClass("opened"),$(this).hasClass("opened")?$(".mobile_menu").toggleClass("opened").slideDown():$(".mobile_menu").toggleClass("opened").slideUp()}),$(".mobile_menu .has-child >a").on("click",function(t){var e=$(this).parent();t.preventDefault(),e.toggleClass("opened"),e.find(".dropdown").slideToggle()}),$(".mobile_menu .search-input-div input").live("keyup",function(t){var e=$(this).val();$(".center_block .stitle_form input").val(e),13==t.keyCode&&$(".center_block .stitle_form form").submit()}),$(".center_block .stitle_form input").live("keyup",function(t){var e=$(this).val();$(".mobile_menu .search-input-div input").val(e),13==t.keyCode&&$(".center_block .stitle_form form").submit()}),$(".mobile_menu .search-button-div button").live("click",function(t){t.preventDefault();var e=$(this).parents().find("input").val();$(".center_block .stitle_form input").val(e),$(".center_block .stitle_form form").submit()}),$(".btn.btn-add").on("click",function(){$.ajax({type:"GET",url:arOptimusOptions.SITE_DIR+"ajax/clearBasket.php",success:function(t){}})}),document.addEventListener("touchend",function(t){if($(t.target).closest(".menu_item_l1").length||($(".menu .menu_item_l1 .child").css({display:"none"}),$(".menu_item_l1").removeClass("hover")),$(t.target).closest(".basket_block").length||($(".basket_block .link").removeClass("hover"),$(".basket_block .basket_popup_wrapp").slideUp()),!$(t.target).closest(".catalog_item").length){var e=1*$(".tab:visible").attr("data-unhover");$(".tab:visible").stop().animate({height:e},100),$(".tab:visible").find(".catalog_item").removeClass("hover"),$(".tab:visible").find(".catalog_item .buttons_block").stop().fadeOut(233),$(".catalog_block").length&&$(".catalog_block").find(".catalog_item").removeClass("hover")}},!1),$(document).on("keyup",".coupon .input_coupon input",function(){$(this).val().length?($(this).removeClass("error"),$(this).closest(".input_coupon").find(".error").remove()):($(this).addClass("error"),$("<label class='error'>"+BX.message("INPUT_COUPON")+"</label>").insertBefore($(this)))}),BX.addCustomEvent(window,"onAjaxSuccess",function(){initSelects(document),InitOrderCustom(),$(".catalog_detail").length&&($(".bx_filter").remove(),InitFlexSlider()),arOptimusOptions.PAGES.ORDER_PAGE&&orderActions()}),BX.addCustomEvent(window,"onFrameDataRequestFail",function(t){console.log(t)})}),funcDefined("showPhoneMask")||(showPhoneMask=function(t){$(t).inputmask("mask",{mask:arOptimusOptions.THEME.PHONE_MASK,showMaskOnHover:!1})}),funcDefined("parseUrlQuery")||(parseUrlQuery=function(){var t={};if(location.search)for(var e=location.search.substr(1).split("&"),a=0;a<e.length;a++){var i=e[a].split("=");t[i[0]]=i[1]}return t}),funcDefined("getActualBasket")||(getActualBasket=function(t){var e="";"undefined"!=typeof t&&(e={iblockID:t}),$.ajax({type:"GET",url:arOptimusOptions.SITE_DIR+"ajax/actualBasket.php",data:e,success:function(t){$(".js_ajax").length||$("body").append('<div class="js_ajax"></div>'),$(".js_ajax").html(t)}})}),funcDefined("orderActions")||(orderActions=function(){arOptimusOptions.PAGES.ORDER_PAGE&&$(".bx-soa-cart-total").length&&($(".change_basket").length||$(".bx-soa-cart-total").prepend('<div class="change_basket">'+BX.message("BASKET_CHANGE_TITLE")+'<a href="'+arOptimusOptions.SITE_DIR+'basket/" class="change_link">'+BX.message("BASKET_CHANGE_LINK")+"</a></div>"),"object"==typeof BX.Sale.OrderAjaxComponent&&BX.Sale.OrderAjaxComponent.hasOwnProperty("params")&&($(".bx-soa-cart-total .change_link").attr("href",BX.Sale.OrderAjaxComponent.params.PATH_TO_BASKET),arOptimusOptions.PRICES.MIN_PRICE&&arOptimusOptions.PRICES.MIN_PRICE>Number(BX.Sale.OrderAjaxComponent.result.TOTAL.ORDER_PRICE)&&($('<div class="fademask_ext"></div>').appendTo($("body")),location.href=BX.Sale.OrderAjaxComponent.params.PATH_TO_BASKET)),$(".bx-ui-sls-quick-locations.quick-locations").on("click",function(){$(this).siblings().removeClass("active"),$(this).addClass("active")}))}),funcDefined("basketActions")||(basketActions=function(){arOptimusOptions.PAGES.BASKET_PAGE&&(checkMinPrice(),$(".bx_sort_container").append('<div class="top_control basket_sort"><span class="delete_all button grey_br transparent remove_all_basket">'+BX.message("BASKET_CLEAR_ALL_BUTTON")+"</span></div>"),"Y"==arOptimusOptions.THEME.SHOW_BASKET_PRINT&&$(".bx_sort_container .top_control").prepend('<span class="basket_print button grey_br transparent">'+BX.message("BASKET_PRINT_BUTTON")+"</span>"),$(".bx_sort_container .top_control .delete_all").data("type",$(".bx_sort_container a.current").index()),$(".bx_ordercart .bx_ordercart_coupon #coupon").wrap('<div class="input"></div>'),$(".bx_sort_container > a").on("click",function(){$(".bx_sort_container .top_control .delete_all").data("type",$(this).index())}),$(".basket_print").on("click",function(){window.open(location.pathname+"?print=Y","_blank")}),$(".delete_all").on("click",function(){$.post(arOptimusOptions.SITE_DIR+"ajax/action_basket.php","TYPE="+$(this).data("type")+"&CLEAR_ALL=Y",$.proxy(function(t){location.reload()}))}),$(".bx_item_list_section .bx_catalog_item").sliceHeight({row:".bx_item_list_slide",item:".bx_catalog_item"}),BX.addCustomEvent("onAjaxSuccess",function(){checkMinPrice();var t=$.trim($("#warning_message").text());$("#basket_items_list .error_text").detach(),""!=t&&($("#warning_message").hide().text(""),$("#basket_items_list").prepend('<div class="error_text">'+t+"</div>"))}))}),funcDefined("checkMinPrice")||(checkMinPrice=function(){if(arOptimusOptions.PAGES.BASKET_PAGE){var t=$("#allSum_FORMATED").text().replace(/[^0-9\.]/g,""),e=parseFloat(t);$(".catalog_back").length||$(".bx_ordercart_order_pay_center").prepend('<a href="/catalog/" class="catalog_back button transparent big_btn grey_br">'+BX.message("BASKET_CONTINUE_BUTTON")+"</a>"),arOptimusOptions.PRICES.MIN_PRICE?arOptimusOptions.PRICES.MIN_PRICE>e?($(".icon_error_wrapper").length||$(".bx_ordercart_order_pay_center").prepend('<div class="icon_error_wrapper"><div class="icon_error_block">'+BX.message("MIN_ORDER_PRICE_TEXT").replace("#PRICE#",jsPriceFormat(arOptimusOptions.PRICES.MIN_PRICE))+"</div></div>"),$(".oneclickbuy.fast_order").length&&$(".oneclickbuy.fast_order").remove(),$(".bx_ordercart_order_pay .checkout").length&&$(".bx_ordercart_order_pay .checkout").remove()):($(".icon_error_wrapper").length&&$(".icon_error_wrapper").remove(),$(".bx_ordercart_order_pay .checkout").length?$(".bx_ordercart .bx_ordercart_order_pay .checkout").css("opacity","1"):$(".bx_ordercart_order_pay_center").append('<a href="javascript:void(0)" onclick="checkOut();" class="checkout" style="opacity: 1;">'+BX.message("BASKET_ORDER_BUTTON")+"</a>"),$(".oneclickbuy.fast_order").length||$(".bx_ordercart_order_pay_center").append('<span class="oneclickbuy button big_btn fast_order" onclick="oneClickBuyBasket()">'+BX.message("BASKET_QUICK_ORDER_BUTTON")+"</span>")):($(".bx_ordercart .bx_ordercart_order_pay .checkout").css("opacity","1"),$(".oneclickbuy.fast_order").length||$(".bx_ordercart_order_pay_center").append('<span class="oneclickbuy button big_btn fast_order" onclick="oneClickBuyBasket()">'+BX.message("BASKET_QUICK_ORDER_BUTTON")+"</span>"))}});var isFrameDataReceived=!1;"undefined"!=typeof window.frameCacheVars?BX.addCustomEvent("onFrameDataReceived",function(t){initFull(),isFrameDataReceived=!0}):$(document).ready(initFull),funcDefined("setHeightBlockSlider")||(setHeightBlockSlider=function(){$(document).find(".specials.tab_slider_wrapp").outerWidth();$(document).find(".specials.tab_slider_wrapp .tabs_content > li.cur").css("height",""),$(document).find(".specials.tab_slider_wrapp .tabs_content .tab.cur .tabs_slider .buttons_block").hide(),$(document).find(".specials.tab_slider_wrapp .tabs_content > li.cur").equalize({children:".item-title"}),$(document).find(".specials.tab_slider_wrapp .tabs_content > li.cur").equalize({children:".item_info"}),$(document).find(".specials.tab_slider_wrapp .tabs_content > li.cur").equalize({children:".catalog_item"});var t=$(document).find(".specials.tab_slider_wrapp .tabs_content .tab.cur .tabs_slider li .buttons_block").height(),e=1*$(document).find(".specials.tab_slider_wrapp .tabs_content .tab.cur").height(),a=e+t+50;$(document).find(".specials.tab_slider_wrapp .tabs_content .tab.cur").attr("data-unhover",e),$(document).find(".specials.tab_slider_wrapp .tabs_content .tab.cur").attr("data-hover",a),$(document).find(".specials.tab_slider_wrapp .tabs_content").height(e)}),funcDefined("checkStickyFooter")||(checkStickyFooter=function(){try{ignoreResize.push(!0),$("#content").css("min-height","");var t=$("#content").offset().top,e=t+$("#content").outerHeight(),a=$("footer").offset().top;$("#content").css("min-height",$(window).height()-t-(a-e)-$("footer").outerHeight()+"px"),ignoreResize.pop()}catch(i){console.error(i)}});var timerResize=!1,ignoreResize=[];$(window).resize(function(){$("html.print").length||checkStickyFooter(),ignoreResize.length||(timerResize&&(clearTimeout(timerResize),timerResize=!1),timerResize=setTimeout(function(){BX.onCustomEvent("onWindowResize",!1)},50))});var timerScroll=!1,ignoreScroll=[],documentScrollTopLast=$(document).scrollTop();$(window).scroll(function(){documentScrollTopLast=$(document).scrollTop(),ignoreScroll.length||(timerScroll&&(clearTimeout(timerScroll),timerScroll=!1),timerScroll=setTimeout(function(){BX.onCustomEvent("onWindowScroll",!1)},50))}),BX.addCustomEvent("onWindowResize",function(t){try{if(ignoreResize.push(!0),checkScrollToTop(),checkPopupWidth(),checkCaptchaWidth(),checkFormWidth(),checkFormControlWidth(),touchMenu("ul.menu:not(.opened) > li.menu_item_l1"),touchBasket(".cart:not(.empty_cart) .basket_block .link"),CheckObjectsSizes(),CheckFlexSlider(),InitZoomPict(),initSly(),checkVerticalMobileFilter(),window.matchMedia("(max-width: 768px)").matches&&$(".group_description_block.top").length){var e=$(".adaptive_filter").position().top;$(".bx_filter.bx_filter_vertical").css({top:e+20})}window.matchMedia("(min-width: 767px)").matches&&$(".wrapper_middle_menu.wrap_menu").removeClass("mobile"),window.matchMedia("(max-width: 767px)").matches&&$(".wrapper_middle_menu.wrap_menu").addClass("mobile"),$(window).outerWidth()>600?($("#header ul.menu").removeClass("opened").css("display",""),$(".authorization-cols").length&&($(".authorization-cols").equalize({children:".col .auth-title",reset:!0}),$(".authorization-cols").equalize({children:".col .form-block",reset:!0}))):($(".authorization-cols .auth-title").css("height",""),$(".authorization-cols .form-block").css("height","")),$("#basket_form").length&&$(window).outerWidth()<=600&&$("#basket_form .tabs_content.basket > li.cur td").each(function(){$(this).css("width","")}),$(".front_slider_wrapp").length&&$(".extended_pagination li i").each(function(){$(this).css({borderBottomWidth:$(this).parent("li").outerHeight()/2,borderTopWidth:$(this).parent("li").outerHeight()/2})}),setHeightCompany(),$(".bx_filter_section .bx_filter_select_container").each(function(){var t=$(this).closest(".bx_filter_parameters_box").attr("property_id");$("#smartFilterDropDown"+t).length&&$("#smartFilterDropDown"+t).css("max-width",$(this).width())})}catch(a){}finally{ignoreResize.pop()}}),BX.addCustomEvent("onWindowScroll",function(t){try{ignoreScroll.push(!0)}catch(e){}finally{ignoreScroll.pop()}});100  112700|/aspro.optimus/install/wizards/aspro/optimus/site/templates/aspro_optimus/js/main.js|8df5b903var basketTimeoutSlide;
var resizeEventTimer;

var funcDefined = function(func){
	try {
		if (typeof func == 'function') {
			return true;
		} else {
			return typeof window[func] === "function";
		}
	} catch (e) {
		return false;
	}
}

if(!funcDefined('setLocationSKU')){
	function setLocationSKU(curLoc){
		try {
			history.pushState(null, null, curLoc);
			return;
		} catch(e) {}
			location.hash = '#' + curLoc.substr(1)
	}
}

if(!funcDefined('trimPrice')){
	var trimPrice = function trimPrice(s){
		s=s.split(" ").join("");
		s=s.split("&nbsp;").join("");
		return s;
	}
}

if(!funcDefined('markProductRemoveBasket')){
	var markProductRemoveBasket = function markProductRemoveBasket(id){
		$('.in-cart[data-item='+id+']').hide();
		$('.to-cart[data-item='+id+']').show();
		$('.to-cart[data-item='+id+']').closest('.button_block').removeClass('wide');
		$('.to-cart[data-item='+id+']').closest('.counter_wrapp').find('.counter_block').show();
		$('.counter_block[data-item='+id+']').show();
		$('.in-subscribe[data-item='+id+']').hide();
		$('.to-subscribe[data-item='+id+']').show();
		$('.wish_item[data-item='+id+']').removeClass("added");
		$('.wish_item[data-item='+id+'] .value:not(.added)').show();
		$('.wish_item[data-item='+id+'] .value.added').hide();
	}
}

if(!funcDefined('markProductAddBasket')){
	var markProductAddBasket = function markProductAddBasket(id){
		$('.to-cart[data-item='+id+']').hide();
		$('.to-cart[data-item='+id+']').closest('.counter_wrapp').find('.counter_block').hide();
		$('.to-cart[data-item='+id+']').closest('.button_block').addClass('wide');
		$('.in-cart[data-item='+id+']').show();
		$('.wish_item[data-item='+id+']').removeClass("added");
		$('.wish_item[data-item='+id+'] .value:not(.added)').show();
		$('.wish_item[data-item='+id+'] .value.added').hide();
	}
}

if(!funcDefined('markProductDelay')){
	var markProductDelay = function markProductDelay(id){
		$('.in-cart[data-item='+id+']').hide();
		$('.to-cart[data-item='+id+']').show();
		$('.to-cart[data-item='+id+']').closest('.counter_wrapp').find('.counter_block').show();
		$('.to-cart[data-item='+id+']').closest('.button_block').removeClass('wide');
		$('.wish_item[data-item='+id+']').addClass("added");
		$('.wish_item[data-item='+id+'] .value:not(.added)').hide();
		// $('.wish_item[data-item='+id+'] .value.added').show();
		$('.wish_item[data-item='+id+'] .value.added').css('display','block');
	}
}

if(!funcDefined('markProductSubscribe')){
	var markProductSubscribe = function markProductSubscribe(id){
		$('.to-subscribe[data-item='+id+']').hide();
		$('.in-subscribe[data-item='+id+']').css('display','block');
	}
}

if(!funcDefined('basketFly')){
	var basketFly = function basketFly(action){
		$.post( arOptimusOptions['SITE_DIR']+"ajax/basket_fly.php", "PARAMS="+$("#basket_form").find("input#fly_basket_params").val(), $.proxy(function( data ){
			var small=$('.opener .basket_count').hasClass('small'),
				basket_count=$(data).find('.basket_count').find('.items div').text();
			$('#basket_line .basket_fly').addClass('loaded').html(data);

			if(action=="refresh"){
				$('li[data-type=AnDelCanBuy]').trigger('click');
			}

			if(window.matchMedia('(min-width: 769px)').matches){
				if (action=='open') {
					if(small){
						if(arOptimusOptions['THEME']['SHOW_BASKET_ONADDTOCART'] !== 'N'){
							$('.opener .basket_count').click();
						}
					}else{
						$('.opener .basket_count').removeClass('small')
						$('.tabs_content.basket li[item-section="AnDelCanBuy"]').addClass('cur');
						$('#basket_line ul.tabs li[item-section="AnDelCanBuy"]').addClass('cur');
					}
				} else if (action=='wish') {
					if(small){
						if(arOptimusOptions['THEME']['SHOW_BASKET_ONADDTOCART'] !== 'N'){
							$('.opener .wish_count').click();
						}
					}else{
						$('.opener .wish_count').removeClass('small')
						$('.tabs_content.basket li[item-section="DelDelCanBuy"]').addClass('cur');
						$('#basket_line ul.tabs li[item-section="DelDelCanBuy"]').addClass('cur');
					}
				} else {
					if(arOptimusOptions['THEME']['SHOW_BASKET_ONADDTOCART'] !== 'N'){
						$('.opener .basket_count').click();
					}
				}
			}
		}));
	}
}

if(!funcDefined("clearViewedProduct")){
	function clearViewedProduct(){
		try{
			var siteID = arOptimusOptions.SITE_ID;
			var localKey = 'OPTIMUS_VIEWED_ITEMS_' + siteID;
			var cookieParams = {path: '/', expires: 30};
			if(typeof BX.localStorage !== 'undefined'){
				// remove local storage
				BX.localStorage.set(localKey, {}, 0);
			}
			// remove cookie
			$.removeCookie(localKey, cookieParams);
		}
		catch(e){
			console.error(e);
		}
	}
}

if(!funcDefined("setViewedProduct")){
	function setViewedProduct(id, arData){
		try{

			// save $.cookie option
			var bCookieJson = $.cookie.json;
			$.cookie.json = true;

			var siteID = arOptimusOptions.SITE_ID;
			var localKey = 'OPTIMUS_VIEWED_ITEMS_' + siteID;
			var cookieParams = {path: '/', expires: 30};

			if((typeof BX.localStorage !== 'undefined') && (typeof id !== 'undefined') && (typeof arData !== 'undefined')){
				var PRODUCT_ID = (typeof arData.PRODUCT_ID !== 'undefined') ? arData.PRODUCT_ID : id;
				var arViewedLocal = BX.localStorage.get(localKey) ? BX.localStorage.get(localKey) : {};
				var arViewedCookie = $.cookie(localKey) ? $.cookie(localKey) : {};
				var count = 0;

				// delete some items (sync cookie & local storage)
				for(var _id in arViewedLocal){
					arViewedLocal[_id].IS_LAST = false;
					if(typeof arViewedCookie[_id] === 'undefined'){
						delete arViewedLocal[_id];
					}
				}
				for(var _id in arViewedCookie){
					if(typeof arViewedLocal[_id] === 'undefined'){
						delete arViewedCookie[_id];
					}
				}

				for(var _id in arViewedCookie){
					count++;
				}

				// delete item if other item (offer) of that PRODUCT_ID is exists
				if(typeof arViewedLocal[PRODUCT_ID] !== 'undefined'){
					if(arViewedLocal[PRODUCT_ID].ID != id){
						delete arViewedLocal[PRODUCT_ID];
						delete arViewedCookie[PRODUCT_ID];
					}
				}

				delete arViewedLocal[2243];
				delete arViewedCookie[2243];

				var time = new Date().getTime();
				arData.ID = id;
				arData.ACTIVE_FROM = time;
				arData.IS_LAST = true;
				arViewedLocal[PRODUCT_ID] = arData;
				arViewedCookie[PRODUCT_ID] = [time.toString(), arData.PICTURE_ID];

				$.cookie(localKey, arViewedCookie, cookieParams);
				BX.localStorage.set(localKey, arViewedLocal, 2592000);  // 30 days
			}
		}
		catch(e){
			console.error(e);
		}
		finally{
			// restore $.cookie option
			$.cookie.json = bCookieJson;
		}
	}
}



if(!funcDefined('initSelects')){
	function initSelects(target){
		var iOS = ( navigator.userAgent.match(/(iPad|iPhone|iPod)/g) ? true : false );
		if ( iOS ) return;
		if($("#bx-soa-order").length)
			return;
		// SELECT STYLING
		$(target).find('.wrapper select:visible').ikSelect({
			syntax: '<div class="ik_select_link"> \
						<span class="ik_select_link_text"></span> \
						<div class="trigger"></div> \
					</div> \
					<div class="ik_select_dropdown"> \
						<div class="ik_select_list"> \
						</div> \
					</div>',
			dynamicWidth: true,
			ddMaxHeight: 112,
			customClass: 'common_select',
			//equalWidths: true,
			onShow: function(inst){
				inst.$dropdown.css('top', (parseFloat(inst.$dropdown.css('top'))-5)+'px');
				if ( inst.$dropdown.outerWidth() < inst.$link.outerWidth() ){
					inst.$dropdown.css('width', inst.$link.outerWidth());
				}
				if ( inst.$dropdown.outerWidth() > inst.$link.outerWidth() ){
					inst.$dropdown.css('width', inst.$link.outerWidth());
				}
				var count=0,
					client_height=0;
				inst.$dropdown.css('left', inst.$link.offset().left);
				$(inst.$listInnerUl).find('li').each(function(){
					if(!$(this).hasClass('ik_select_option_disabled')){
						++count;
						client_height+=$(this).outerHeight();
					}
				})
				if(client_height<112){
					inst.$listInner.css('height', 'auto');
				}else{
					inst.$listInner.css('height', '112px');
				}
				inst.$link.addClass('opened');
				inst.$listInner.addClass('scroller');
			},
			onHide: function(inst){
				inst.$link.removeClass('opened');
			}
		});
		// END OF SELECT STYLING

		var timeout;
		$(window).on('resize', function(){
			clearTimeout(timeout);
			timeout = setTimeout(function(){
				//$('select:visible').ikSelect('redraw');
				var inst='';
				if(inst=$('.common_select-link.opened + select').ikSelect().data('plugin_ikSelect')){
					inst.$dropdown.css('left', inst.$link.offset().left+'px');
				}
			}, 20);
		});
	}
}

if(!funcDefined('CheckTopMenuFullCatalogSubmenu')){
	CheckTopMenuFullCatalogSubmenu = function(){
		var $menu = $('.menu_top_block');
		var $wrapmenu = $menu.parents('.wrap_menu');
		var wrapMenuWidth = $wrapmenu.actual('outerWidth');
		var wrapMenuLeft = $wrapmenu.offset().left;
		var wrapMenuRight = wrapMenuLeft + wrapMenuWidth;
		var bCatalogFirst = $menu.hasClass('catalogfirst');
		var findMenuLi = $('.menu_top_block:visible li.full');
		var parentSubmenuWidth = $menu.actual('outerWidth');

		if($('.catalog_block.menu_top_block').length){
			if($('.catalog_block.menu_top_block').is(':visible'))
				findMenuLi=$('.menu_top_block.catalog_block li.full');
		}

		findMenuLi.each(function(){
			var $this = $(this);
			var $submenu = $this.find('>.dropdown');

			if($submenu.length){
				if(bCatalogFirst){
					$submenu.css({left: parentSubmenuWidth + 'px', width: (wrapMenuWidth - parentSubmenuWidth) + 'px', 'padding-left': '0px', 'padding-right': '0px'});
				}
				else{
					$submenu.css({left: ($this.offset().left * -1) + 'px', width: ($(window).width() - 1) + 'px', 'padding-left': wrapMenuLeft + 'px', 'padding-right': ($(window).width() - wrapMenuRight) + 'px'});
				}
				if(!isOnceInited && bCatalogFirst && arOptimusOptions["THEME"]["MENU_POSITION"]=="top"){
					$this.on('mouseenter', function(){
						$submenu.css('min-height', $this.closest('.dropdown').actual('outerHeight') + 'px');
					});
				}
			}
		});
	}
}

$.fn.getMaxHeights = function( outer, classNull, minHeight ){
	var maxHeight = this.map( function( i, e ){
		var calc_height=0;

		$(e).css('height', '');

		if( outer == true ){
			calc_height=$(e).actual('outerHeight');
		}else{
			calc_height=$(e).actual('height');
		}
		return calc_height;
	}).get();
	for(var i = 0, c = maxHeight.length; i < c; ++i){
		if(maxHeight[i] % 2){
			--maxHeight[i];
		}
	}
	return Math.max.apply( this, maxHeight );
}

$.fn.equalizeHeights = function( outer, classNull, minHeight ){
	var maxHeight = this.map( function( i, e ){
		var minus_height=0,
			calc_height=0;
		if(classNull!==false){
			minus_height=parseInt($(e).find(classNull).actual('outerHeight'));
		}
		if(minus_height)
			minus_height+=12;
		$(e).css('height', '');
		if( outer == true ){
			calc_height=$(e).actual('outerHeight')-minus_height;
		}else{
			calc_height=$(e).actual('height')-minus_height;
		}
		if(minHeight!==false){
			if(calc_height<minHeight){
				calc_height+=(minHeight-calc_height);
			}
			if(window.matchMedia('(max-width: 520px)').matches){
				calc_height=300;
			}
			if(window.matchMedia('(max-width: 400px)').matches){
				calc_height=200;
			}
		}
		return calc_height;
	}).get();

	for(var i = 0, c = maxHeight.length; i < c; ++i){
		if(maxHeight[i] % 2){
			--maxHeight[i];
		}
	}
	return this.height( Math.max.apply( this, maxHeight ) );
}

$.fn.getFloatWidth = function(){
	var width = 0

	if($(this).length){
		var rect = $(this)[0].getBoundingClientRect()
		if(!(width = rect.width)){
			width = rect.right - rect.left
		}
	}

	return width
}

$.fn.sliceHeight = function( options ){
	function _slice(el){

		el.each(function() {
			$(this).css('line-height', '');
			$(this).css('height', '');
		});
		if(typeof(options.autoslicecount) == 'undefined' || options.autoslicecount !== false){
			var row=(typeof(options.row) !== 'undefined' && options.row.length) ?  el.first().parents(options.row).getFloatWidth() : el.first().parents('.items').getFloatWidth(),
				elw=(typeof(options.item) !== 'undefined' && options.item.length) ? $(options.item).first().getFloatWidth() : (el.first().hasClass('item') ? el.first().getFloatWidth() : el.first().parents('.item').getFloatWidth());
			if(!row){
				row = el.first().parents('.row').getFloatWidth();
			}
			if(row && elw){
				options.slice = Math.floor(row / elw);
			}
		}

		if(options.slice){
			for(var i = 0; i < el.length; i += options.slice){
				$(el.slice(i, i + options.slice)).equalizeHeights(options.outer, options.classNull, options.minHeight);
			}
		}
		if(options.lineheight){
			var lineheightAdd = parseInt(options.lineheight);
			if(isNaN(lineheightAdd)){
				lineheightAdd = 0;
			}
			el.each(function() {
				$(this).css('line-height', ($(this).actual('height') + lineheightAdd) + 'px');
			});
		}

	}

	var options = $.extend({
		slice: null,
		outer: false,
		lineheight: false,
		autoslicecount: true,
		classNull: false,
		minHeight: false,
		options: false,
		resize: true,
		row:false,
		item:false
	}, options);

	var el = $(this);
	_slice(el);

	if(options.resize){
		BX.addCustomEvent('onWindowResize', function(eventdata) {
			ignoreResize.push(true);
			_slice(el);
			ignoreResize.pop();
		});
	}
}

$.fn.sliceHeightNoResize = function( options ){
	function _slice(el){

		el.each(function() {
			$(this).css('line-height', '');
			$(this).css('height', '');
		});
		if(typeof(options.autoslicecount) == 'undefined' || options.autoslicecount !== false){
			var elw = (el.first().hasClass('item') ? el.first().getFloatWidth() : el.first().parents('.item').getFloatWidth());
			var elsw = el.first().parents('.items').getFloatWidth();
			if(!elsw){
				elsw = el.first().parents('.row').getFloatWidth();
			}
			if(elsw && elw){
				options.slice = Math.floor(elsw / elw);
			}
		}

		if(options.slice){
			for(var i = 0; i < el.length; i += options.slice){

				$(el.slice(i, i + options.slice)).equalizeHeights(options.outer, options.classNull, options.minHeight);
			}
		}
		if(options.lineheight){
			var lineheightAdd = parseInt(options.lineheight);
			if(isNaN(lineheightAdd)){
				lineheightAdd = 0;
			}
			el.each(function() {
				$(this).css('line-height', ($(this).actual('height') + lineheightAdd) + 'px');
			});
		}
	}

	var options = $.extend({
		slice: null,
		outer: false,
		lineheight: false,
		autoslicecount: true,
		classNull: false,
		minHeight: false,
		options: false,
		resize: true,
	}, options);

	var el = $(this);
	_slice(el);
}

if(!funcDefined('initHoverBlock')){
	function initHoverBlock(target){
		$(target).find('.catalog_item.item_wrap').on('mouseenter', function(){
			$(this).addClass('hover');
		})
		$(target).find('.catalog_item.item_wrap').on('mouseleave', function(){
			$(this).removeClass('hover');
		})
	}
}

if(!funcDefined('setStatusButton')){
	function setStatusButton(){
		$.ajax({
			url: arOptimusOptions["SITE_DIR"]+'ajax/getAjaxBasket.php',
			type: 'POST',
			success: function(data){
				if(data.BASKET){
					for( var i in data.BASKET ){
						$('.to-cart[data-item='+data.BASKET[i]+']').hide();
						$('.counter_block[data-item='+data.BASKET[i]+']').hide();
						$('.in-cart[data-item='+data.BASKET[i]+']').show();
						$('.in-cart[data-item='+data.BASKET[i]+']').closest('.button_block').addClass('wide');
					}
				}
				if(data.DELAY){
					for( var i in data.DELAY ){
						$('.wish_item.to[data-item='+data.DELAY[i]+']').hide();
						$('.wish_item.in[data-item='+data.DELAY[i]+']').show();
						if ($('.wish_item[data-item='+data.DELAY[i]+']').find(".value.added").length) {
							$('.wish_item[data-item='+data.DELAY[i]+']').addClass("added");
							$('.wish_item[data-item='+data.DELAY[i]+']').find(".value").hide();
							$('.wish_item[data-item='+data.DELAY[i]+']').find(".value.added").show();
						}
					}
				}
				if(data.SUBSCRIBE){
					for( var i in data.SUBSCRIBE ){
						$('.to-subscribe[data-item='+data.SUBSCRIBE[i]+']').hide();
						$('.in-subscribe[data-item='+data.SUBSCRIBE[i]+']').show();
					}
				}
				if(data.COMPARE){
					for( var i in data.COMPARE ){
						$('.compare_item.to[data-item='+data.COMPARE[i]+']').hide();
						$('.compare_item.in[data-item='+data.COMPARE[i]+']').show();
						if ($('.compare_item[data-item='+data.COMPARE[i]+']').find(".value.added").length){
							$('.compare_item[data-item='+data.COMPARE[i]+']').find(".value").hide();
							$('.compare_item[data-item='+data.COMPARE[i]+']').find(".value.added").show();
						}
					}
				}
			}
		});
	}
}


if(!funcDefined('onLoadjqm')){
	var onLoadjqm = function(name, hash, requestData, selector, requestTitle, isButton, thButton){
		hash.w.addClass('show').css({
			'margin-left': ($(window).width() > hash.w.outerWidth() ? '-' + hash.w.outerWidth() / 2 + 'px' : '-' + $(window).width() / 2 + 'px'),
			'top': $(document).scrollTop() + (($(window).height() > hash.w.outerHeight() ? ($(window).height() - hash.w.outerHeight()) / 2 : 10))   + 'px',
			'opacity': 1
		});
		if(typeof(requestData) == 'undefined'){
			requestData = '';
		}
		if(typeof(selector) == 'undefined'){
			selector = false;
		}
		var width = $('.'+name+'_frame').width();
		$('.'+name+'_frame').css('margin-left', '-'+width/2+'px');

		if(name=='order-popup-call') {
		}
		else if(name=='order-button') {
			$(".order-button_frame").find("div[product_name]").find("input").val(hash.t.title).attr("readonly", "readonly").css({"overflow": "hidden", "text-overflow": "ellipsis"});
		}
		else if(name == "to-order" && selector){
			$(".to-order_frame").find('[data-sid="PRODUCT_NAME"]').val($(selector).data('name')).attr("readonly", "readonly").css({"overflow": "hidden", "text-overflow": "ellipsis"});
			$(".to-order_frame").find('[data-sid="PRODUCT_ID"]').val($(selector).attr('data-item'));
		}
		else if(name == "services" && selector) {
			$(".services_frame").find('[data-sid="SERVICE"]').val($(selector).attr('data-title'));
		}
		else if(name == "resume" && selector) {
			if($(selector).attr('data-jobs')){
				$(".resume_frame").find('[data-sid="POST"]').attr("readonly", "readonly").val($(selector).attr('data-jobs'));
			}
		}
		else if(name=='basket_error')
		{
			$(".basket_error_frame .pop-up-title").text(requestTitle);
			$(".basket_error_frame .ajax_text").html(requestData);
			// $('.basket_error_frame .ajax_text select').ikSelect('redraw');
			initSelects(document);
			if(isButton=="Y" && thButton){
				$("<div class='popup_button_basket_wr'><span class='popup_button_basket big_btn button' data-item="+thButton.data("item")+"><span>"+BX.message("ERROR_BASKET_BUTTON")+"</span></span></div>").insertAfter($(".basket_error_frame .ajax_text"));
			}
		}
		else if( name == 'one_click_buy') {
			$('#one_click_buy_form_button').on("click", function() {
				if(!$(this).hasClass("clicked")){
					if($('#one_click_buy_form').valid()){
						$(this).addClass("clicked");
						$("#one_click_buy_form").submit(); //otherwise don't works
					}
				}
			});

			$('#one_click_buy_form').submit( function() {
				if($('.'+name+'_frame form input.error').length || $('.'+name+'_frame form textarea.error').length) {
					return false
				}
				else{
					$.ajax({
						url: $(this).attr('action'),
						data: $(this).serialize(),
						type: 'POST',
						dataType: 'json',
						error: function(data) {
							alert('Error connecting server');
						},
						success: function(data) {
							if(data.result == 'Y'){
								$('.one_click_buy_result').show();
								$('.one_click_buy_result_success').show();
								purchaseCounter(data.message, arOptimusOptions["COUNTERS"]["TYPE"]["ONE_CLICK"]);
							}
							else{
								$('.one_click_buy_result').show();
								$('.one_click_buy_result_fail').show();
								$('.one_click_buy_result_text').html(data.message);
							}
							$('.one_click_buy_modules_button', self).removeClass('disabled');
							$('#one_click_buy_form').hide();
							$('#one_click_buy_form_result').show();
						}
					});
				}
				return false;
			});
		}
		else if( name == 'one_click_buy_basket') {
			$('#one_click_buy_form_button').on("click", function() {
				if(!$(this).hasClass("clicked")){
					if($('#one_click_buy_form').valid()){
						$(this).addClass("clicked");
						$("#one_click_buy_form").submit(); //otherwise don't works
					}
				}
			});

			$('#one_click_buy_form').on("submit", function(){
				if($('.'+name+'_frame form input.error').length || $('.'+name+'_frame form textarea.error').length) {
					return false
				}
				else{
					$.ajax({
						url: $(this).attr('action'),
						data: $(this).serialize(),
						type: 'POST',
						dataType: 'json',
						error: function(data) {
							window.console&&console.log(data);
						},
						success: function(data) {
							if(data.result == 'Y') {
								$('.one_click_buy_result').show();
								$('.one_click_buy_result_success').show();
								purchaseCounter(data.message, arOptimusOptions["COUNTERS"]["TYPE"]["QUICK_ORDER"]);
							}
							else{
								$('.one_click_buy_result').show();
								$('.one_click_buy_result_fail').show();
								$('.one_click_buy_result_text').text(data.message);
							}
							$('.one_click_buy_modules_button', self).removeClass('disabled');
							$('#one_click_buy_form').hide();
							$('#one_click_buy_form_result').show();
						}
					});
				}
				return false;
			});
		}

		$('.'+name+'_frame').show();
	}
}

if(!funcDefined('onHidejqm')){
	var onHidejqm = function(name, hash){
		if (hash.w.find('.one_click_buy_result_success').is(':visible') && name=="one_click_buy_basket") {
			window.location.href = window.location.href;
		}
		hash.w.css('opacity', 0).hide();
		hash.w.empty();
		hash.o.remove();
		hash.w.removeClass('show');
	}
}

if(!funcDefined("oneClickBuy")) {
	var oneClickBuy = function (elementID, iblockID, that) {
		var name = 'one_click_buy';
		var elementQuantity = 1;
		var offerProps = false;
		var buy_btn=$(that).closest('.buy_block').find('.to-cart');
		var buy_btn2=$(that).closest('tr').find('.to-cart');

		if(typeof(that) !== 'undefined'){
			elementQuantity = $(that).attr('data-quantity');
			offerProps = $(that).attr('data-props');
		}

		if(elementQuantity < 0){
			elementQuantity = 1;
		}

		var tmp_props=buy_btn.data("props"),
			tmp_props2=buy_btn2.data("props"),
			props='',
			part_props='',
			add_props='N',
			fill_prop={},
			iblockid = buy_btn.data('iblockid'),
			item = buy_btn.attr('data-item');

		if(tmp_props){
			props=tmp_props.split(";");
		}else if(tmp_props2){
			props=tmp_props2.split(";");
		}
		if(buy_btn.data("part_props")){
			part_props=buy_btn.data("part_props");
		}
		if(buy_btn.data("add_props")){
			add_props=buy_btn.data("add_props");
		}

		fill_prop=fillBasketPropsExt(buy_btn, 'prop', buy_btn.data('bakset_div'));
		fill_prop.iblockID=iblockid;
		fill_prop.part_props=part_props;
		fill_prop.add_props=add_props;
		fill_prop.props=JSON.stringify(props);
		fill_prop.item=item;
		fill_prop.ocb_item="Y";

		$('body').find('.'+name+'_frame').remove();
		$('body').append('<div class="'+name+'_frame popup"></div>');
		$('.'+name+'_frame').jqm({trigger: '.'+name+'_frame.popup', onHide: function(hash) { onHidejqm(name,hash); }, toTop: false, onLoad: function( hash ){ onLoadjqm(name, hash ); }, ajax: arOptimusOptions["SITE_DIR"]+'ajax/one_click_buy.php?ELEMENT_ID='+elementID+'&IBLOCK_ID='+iblockID+'&ELEMENT_QUANTITY='+elementQuantity+'&OFFER_PROPS='+fill_prop.props});
		$('.'+name+'_frame.popup').click();
	}
}

if(!funcDefined("oneClickBuyBasket")) {
	var oneClickBuyBasket = function () {
		name = 'one_click_buy_basket'
		$('body').find('.'+name+'_frame').remove();
		$('body').append('<div class="'+name+'_frame popup"></div>');
		$('.'+name+'_frame').jqm({trigger: '.'+name+'_frame.popup', onHide: function(hash) { onHidejqm(name,hash) }, onLoad: function( hash ){ onLoadjqm( name, hash ); }, ajax: arOptimusOptions["SITE_DIR"]+'ajax/one_click_buy_basket.php'});
		$('.'+name+'_frame.popup').click();
	}
}

if(!funcDefined("scroll_block")) {
	function scroll_block(block){
		var topPos = block.offset().top,
			headerH = $('header').outerHeight(true,true);
		if($(".stores_tab").length){
			$(".stores_tab").addClass("current").siblings().removeClass("current");
		}else{
			$(".prices_tab").addClass("current").siblings().removeClass("current");
			if($(".prices_tab .opener").length && !$(".prices_tab .opener .opened").length){
				var item = $(".prices_tab .opener").first();
				item.find(".opener_icon").addClass("opened");
				item.parents("tr").addClass("nb")
				item.parents("tr").next(".offer_stores").find(".stores_block_wrap").slideDown(200);
			}
		}
		$('html,body').animate({'scrollTop':topPos-30},150);
	}
}

if(!funcDefined("jqmEd")) {
	var jqmEd = function (name, form_id, open_trigger, requestData, selector, requestTitle, isButton, thButton){
		if(typeof(requestData) == "undefined"){
			requestData = '';
		}
		if(typeof(selector) == "undefined"){
			selector = false;
		}
		$('body').find('.'+name+'_frame').remove();
		$('body').append('<div class="'+name+'_frame popup"></div>');
		if(typeof open_trigger == "undefined" ){
			$('.'+name+'_frame').jqm({trigger: '.'+name+'_frame.popup',onHide: function(hash) { onHidejqm(name,hash); }, onLoad: function( hash ){ onLoadjqm( name , hash , requestData, selector); }, ajax: arOptimusOptions["SITE_DIR"]+'ajax/form.php?form_id='+form_id+(requestData.length ? '&' + requestData : '')});
		}else{
			if(name == 'enter'){
				$('.'+name+'_frame').jqm({trigger: open_trigger,onHide: function(hash) { onHidejqm(name,hash); },  onLoad: function( hash ){ onLoadjqm( name , hash , requestData, selector); }, ajax: arOptimusOptions["SITE_DIR"]+'ajax/auth.php'});
			}else if(name=='basket_error'){
				$('.'+name+'_frame').jqm({trigger: open_trigger, onHide: function(hash) { onHidejqm(name,hash); }, onLoad: function( hash ){ onLoadjqm( name , hash , requestData, selector, requestTitle, isButton, thButton); }, ajax: arOptimusOptions["SITE_DIR"]+'ajax/basket_error.php'});
			}else{
				$('.'+name+'_frame').jqm({trigger: open_trigger, onHide: function(hash) { onHidejqm(name,hash); }, onLoad: function( hash ){ onLoadjqm( name , hash , requestData, selector); }, ajax: arOptimusOptions["SITE_DIR"]+'ajax/form.php?form_id='+form_id+(requestData.length ? '&' + requestData : '')});
			}
			$(open_trigger).dblclick(function(){return false;})
		}
		return true;
	}
}

if (!funcDefined("replaceBasketPopup")){
	function replaceBasketPopup (hash){
		if(typeof hash != "undefined"){
			hash.w.hide();
			hash.o.hide();
		}
	}
}

if(!funcDefined("waitLayer")){
	function waitLayer(delay, callback){
		if((typeof dataLayer !== 'undefined') && (typeof callback === 'function')){
			callback();
		}
		else{
			setTimeout(function() {
				waitLayer(delay, callback);
			}, delay);
		}
	}
}

if(!funcDefined("InitTopestMenuGummi")){
	InitTopestMenuGummi = function(){
		if(!isOnceInited){
			function _init(){
				var arItems = $menuTopest.find('>li:not(.more)');
				var cntItems = arItems.length;
				if(cntItems){
					var itemsWidth = 0;
					for(var i = 0; i < cntItems; ++i){
						var item = arItems.eq(i);
						var itemWidth = item.actual('outerWidth',{includeMargin: true});
						arItemsHideWidth[i] = (itemsWidth += itemWidth) + (i !== (cntItems - 1) ? moreWidth : 0);
					}
				}
			}

			function _gummi(){
				var rowWidth = $menuTopest.actual('innerWidth');
				var arItems = $menuTopest.find('>li:not(.more),li.more>.dropdown>li');
				var cntItems = arItems.length;
				if(cntItems){
					var bMore = false;
					for(var i = cntItems - 1; i >= 0; --i){
						var item = arItems.eq(i);
						var bInMore = item.parents('.more').length > 0;
						if(!bInMore){
							if(arItemsHideWidth[i] > rowWidth){
								if(!bMore){
									bMore = true;
									more.removeClass('hidden');
								}
								var clone = item.clone();
								clone.find('>a').addClass('dark_font');
								clone.prependTo(moreDropdown);
								item.addClass('cloned');
							}
						}
					}
					for(var i = 0; i < cntItems; ++i){
						var item = arItems.eq(i);
						var bInMore = item.parents('.more').length > 0;
						if(bInMore){
							if(arItemsHideWidth[i] <= rowWidth){
								if(i === (cntItems - 1)){
									bMore = false;
									more.addClass('hidden');
								}
								var clone = item.clone();
								clone.find('>a').removeClass('dark_font');
								clone.insertBefore(more);
								item.addClass('cloned');
							}
						}
					}
					$menuTopest.find('li.cloned').remove();
				}
			}

			var $menuTopest = $('.menu.topest');
			var more = $menuTopest.find('>.more');
			var moreDropdown = more.find('>.dropdown');
			var moreWidth = more.actual('outerWidth',{includeMargin: true});
			var arItemsHideWidth = [];
			ignoreResize.push(true);
			_init();
			_gummi();
			ignoreResize.pop();

			$(window).resize(function(){
				ignoreResize.push(true);
				_gummi();
				ignoreResize.pop();
			});
		}
	}
}

if(!funcDefined("InitTopMenuGummi")){
	InitTopMenuGummi = function(){
		function _init(){
			var arItems = $topMenu.closest('.wrap_menu').find('.inc_menu .menu_top_block >li:not(.more)');
			var cntItems = arItems.length;
			if(cntItems){
				var itemsWidth = 0;
				for(var i = 0; i < cntItems; ++i){
					var item = arItems.eq(i);
						var itemWidth = item.actual('outerWidth');
						arItemsHideWidth[i] = (itemsWidth += itemWidth) + (i !== (cntItems - 1) ? moreWidth : 0);
				}
			}

		}

		function _gummi(){
			var rowWidth = $wrapMenu.actual('innerWidth') - $wrapMenuLeft.actual('innerWidth');
			var arItems = $topMenu.find('>li:not(.more):not(.catalog),li.more>.dropdown>li');
			var cntItems = arItems.length;

			if(cntItems){
				var bMore = false;
				for(var i = cntItems - 1; i >= 0; --i){
					var item = arItems.eq(i);
					var bInMore = item.parents('.more').length > 0;
					if(!bInMore){
						if(arItemsHideWidth[i] > rowWidth){
							if(!bMore){
								bMore = true;
								more.removeClass('hidden');
							}
							var clone = item.clone();
							clone.find('>.dropdown').removeAttr('style').removeClass('toleft');
							clone.find('>a').addClass('dark_font').removeAttr('style');
							clone.prependTo(moreDropdown);
							item.addClass('cloned');
						}
					}
				}
				for(var i = 0; i < cntItems; ++i){
					var item = arItems.eq(i);
					var bInMore = item.parents('.more').length > 0;
					if(bInMore){
						if(arItemsHideWidth[i] <= rowWidth){
							if(i === (cntItems - 1)){
								bMore = false;
								more.addClass('hidden');
							}
							var clone = item.clone();
							clone.find('>a').removeClass('dark_font');
							clone.insertBefore(more);
							item.addClass('cloned');
						}
					}
				}
				$topMenu.find('li.cloned').remove();

				var cntItemsVisible = $topMenu.find('>li:not(.more):not(.catalog)').length;
				var o = rowWidth - arItemsHideWidth[cntItemsVisible - 1];
				var itemsPaddingAdd = Math.floor(o / (cntItemsVisible + (more.hasClass('hidden') ? 0 : 1)));
				var itemsPadding_new = itemsPadding_min + itemsPaddingAdd;
				var itemsPadding_new_l = Math.floor(itemsPadding_new / 2);
				var itemsPadding_new_r = itemsPadding_new - itemsPadding_new_l;

				$topMenu.find('>li:not(.catalog):visible>a').each(function(){
					$(this).css({'padding-left': itemsPadding_new_l + 'px'});
					$(this).css({'padding-right': itemsPadding_new_r + 'px'});
				});

				var lastItemPadding_new = itemsPadding_new + o - (cntItemsVisible + (more.is(':visible') ? 1 : 0)) * itemsPaddingAdd;
				var lastItemPadding_new_l = Math.floor(lastItemPadding_new / 2);
				var lastItemPadding_new_r = lastItemPadding_new - lastItemPadding_new_l;
				$topMenu.find('>li:visible').last().find('>a').css({'padding-left': lastItemPadding_new_l + 'px'});
				$topMenu.find('>li:visible').last().find('>a').css({'padding-right': lastItemPadding_new_r + 'px'});
				CheckTopMenuFullCatalogSubmenu();
			}
		}

		var $topMenu = $('.menu_top_block');
		var $wrapMenu = $topMenu.parents('.wrap_menu');
		var $wrapMenuLeft = $wrapMenu.find('.catalog_menu_ext');
		var more = $topMenu.find('>.more');
		var moreWidth = more.actual('outerWidth',{includeMargin: true});
		more.addClass('hidden');
		var arItemsHideWidth = [];
		var moreDropdown = more.find('>.dropdown');
		var itemsPadding = parseInt(more.find('>a').css('padding-left')) * 2;
		var itemsPadding_min = itemsPadding;

		// setTimeout(function(){
			ignoreResize.push(true);
			_init();
			_gummi();
			ignoreResize.pop();
		// }, 100)

		$(window).resize(function(){
			ignoreResize.push(true);
			_gummi();
			ignoreResize.pop();
		});

		/*BX.addCustomEvent('onTopPanelFixUnfix', function(eventdata) {
			ignoreResize.push(true);
			_gummi();
			ignoreResize.pop();
		});*/
	}
}

if(!funcDefined("checkCounters")){
	function checkCounters(name){
		if(typeof name !== "undefined"){
			if(name == "google" && (arOptimusOptions["COUNTERS"]["GOOGLE_ECOMERCE"] == "Y" && arOptimusOptions["COUNTERS"]["GOOGLE_COUNTER"] > 0)){
				return true;
			}
			else if(name == "yandex" && (arOptimusOptions["COUNTERS"]["YANDEX_ECOMERCE"] == "Y" && arOptimusOptions["COUNTERS"]["YANDEX_COUNTER"] > 0)){
				return true;
			}
			else{
				return false;
			}
		}
		else if((arOptimusOptions["COUNTERS"]["YANDEX_ECOMERCE"] == "Y" && arOptimusOptions["COUNTERS"]["YANDEX_COUNTER"] > 0) || (arOptimusOptions["COUNTERS"]["GOOGLE_ECOMERCE"] == "Y" && arOptimusOptions["COUNTERS"]["GOOGLE_COUNTER"] > 0)) {
			return true;
		}
		else{
			return false;
		}
	}
}

if(!funcDefined("addBasketCounter")){
	function addBasketCounter(id){
		if(checkCounters()){
			$.ajax({
				url:arOptimusOptions['SITE_DIR'] + "ajax/goals.php",
				dataType: "json",
				type: "POST",
				data: {"ID": id},
				success: function(item){
					if(!!item && !!item.ID){
						waitLayer(100, function() {
							dataLayer.push({
								"event": arOptimusOptions["COUNTERS"]['GOOGLE_EVENTS']['ADD2BASKET'],
							    "ecommerce": {
							    	"currencyCode": item.CURRENCY,
							        "add": {
							            "products": [{
						                    "id": item.ID,
						                    "name": item.NAME,
						                    "price": item.PRICE,
						                    "brand": item.BRAND,
						                    "category": item.CATEGORY,
						                    "quantity": item.QUANTITY
						                }]
							        }
							    }
							});
						});
					}
				}
			});
		}
	}
}

if(!funcDefined("purchaseCounter")){
	function purchaseCounter(order_id, type){
		if(checkCounters()){
			$.ajax({
				url:arOptimusOptions['SITE_DIR'] + "ajax/goals.php",
				dataType: "json",
				type: "POST",
				data: {"ORDER_ID": order_id, "TYPE": type},
				success: function(order){
					var products = [];
					if(order.ITEMS){
						for(var i in order.ITEMS){
							products.push({
								"id": order.ITEMS[i].ID,
								"sku": order.ITEMS[i].ID,
			                    "name": order.ITEMS[i].NAME,
			                    "price": order.ITEMS[i].PRICE,
			                    "brand": order.ITEMS[i].BRAND,
			                    "category": order.ITEMS[i].CATEGORY,
			                    "quantity": order.ITEMS[i].QUANTITY
							});
						}
					}
					if(order.ID){
						waitLayer(100, function() {
							dataLayer.push({
							    "ecommerce": {
							    	"purchase": {
								    	"actionField":{
								    		"id": order.ACCOUNT_NUMBER,
								    		"shipping": order.PRICE_DELIVERY,
								    		"tax": order.TAX_VALUE,
								    		"list": type,
								    		"revenue": order.PRICE
								    	},
							            "products": products
							        }
							    }
							});
						});
					}
				}
			});
		}
	}
}

if(!funcDefined("viewItemCounter")){
	function viewItemCounter(id, price_id){
		if(checkCounters()){
			$.ajax({
				url:arOptimusOptions['SITE_DIR'] + "ajax/goals.php",
				dataType: "json",
				type: "POST",
				data: {"PRODUCT_ID": id, "PRICE_ID": price_id},
				success: function(item){
					if(item.ID){
						waitLayer(100, function() {
							dataLayer.push({
								//"event": "",
								"ecommerce": {
									"detail": {
										"products": [{
											"id": item.ID,
											"name": item.NAME,
											"price": item.PRICE,
											"brand": item.BRAND,
											"category": item.CATEGORY
										}]
									}
								}
							});
						});
					}
				}
			});
		}
	}
}

if(!funcDefined("checkoutCounter")){
	function checkoutCounter(step, option, callback){
		if(checkCounters('google')){
			$.ajax({
				url:arOptimusOptions['SITE_DIR'] + "ajax/goals.php",
				dataType: "json",
				type: "POST",
				data: {"BASKET": "Y"},
				success: function(basket){
					var products = [];
					if(basket.ITEMS){
						for(var i in basket.ITEMS){
							products.push({
								"id": basket.ITEMS[i].ID,
			                    "name": basket.ITEMS[i].NAME,
			                    "price": basket.ITEMS[i].PRICE,
			                    "brand": basket.ITEMS[i].BRAND,
			                    "category": basket.ITEMS[i].CATEGORY,
			                    "quantity": basket.ITEMS[i].QUANTITY
							});
						}
					}
					if(products){
						waitLayer(100, function() {
							dataLayer.push({
								"event": arOptimusOptions["COUNTERS"]['GOOGLE_EVENTS']['CHECKOUT_ORDER'],
							    "ecommerce": {
							    	"actionField":{
							    		"step": step,
							    		"option": option
							    	},
							        "products": products
							    },
							    /*"eventCallback": function() {
							    	if((typeof callback !== 'undefined') && (typeof callback === 'function')){
							    		callback();
							    	}
							   }*/
							});
						});
					}
				}
			});
		}
	}
}

if(!funcDefined("delFromBasketCounter")){
	function delFromBasketCounter(id, callback){
		if(checkCounters()){
			$.ajax({
				url:arOptimusOptions['SITE_DIR'] + "ajax/goals.php",
				dataType: "json",
				type: "POST",
				data: {"ID": id},
				success: function(item){
					if(item.ID){
						waitLayer(100, function() {
							dataLayer.push({
								"event": arOptimusOptions["COUNTERS"]['GOOGLE_EVENTS']['REMOVE_BASKET'],
							    "ecommerce": {
							        "remove": {
							            "products": [{
						                    "id": item.ID,
						                    "name": item.NAME,
						                    "category": item.CATEGORY
						                }]
							        }
							    }
							});
							if(typeof callback == 'function'){
								callback();
							}
						});
					}
				}
			});
		}
	}
}

if(!funcDefined("setHeightCompany")){
	function setHeightCompany(){
		$('.md-50.img').height($('.md-50.big').outerHeight()-35);
	}
}

if(!funcDefined("initSly")){
	function initSly(){
		var $frame  = $(document).find('.frame');
		var $slidee = $frame.children('ul').eq(0);
		var $wrap   = $frame.parent();

		if(arOptimusOptions["PAGES"]["CATALOG_PAGE"]){
			$frame.sly({
				horizontal: 1,
				itemNav: 'basic',
				smart: 1,
				mouseDragging: 0,
				touchDragging: 0,
				releaseSwing: 0,
				startAt: 0,
				scrollBar: $wrap.find('.scrollbar'),
				scrollBy: 1,
				speed: 300,
				elasticBounds: 0,
				easing: 'swing',
				dragHandle: 1,
				dynamicHandle: 1,
				clickBar: 1,

				// Buttons
				forward: $wrap.find('.forward'),
				backward: $wrap.find('.backward'),
			});
			$frame.sly('reload');
		}
	}
}

if(!funcDefined("createTableCompare")){
	function createTableCompare(originalTable, appendDiv, cloneTable){

		try{
			var clone = originalTable.clone().removeAttr('id').addClass('clone');
			if(cloneTable.length){
				cloneTable.remove();
				appendDiv.html('');
				appendDiv.html(clone);
			}else{
				appendDiv.append(clone);
			}
		}
		catch(e){}
		finally{

		}
	}
}

if(!funcDefined('fillBasketPropsExt')){
	fillBasketPropsExt = function(that, prop_code, basket_prop_div){
		var
			i = 0,
			propCollection = null,
			foundValues = false,
			basketParams = {},
			obBasketProps = null;

		// obBasketProps = that.closest('.catalog_detail').find('.basket_props_block');
		obBasketProps = BX(basket_prop_div);

		if (!!obBasketProps)
		{
			propCollection = obBasketProps.getElementsByTagName('select');
			if (!!propCollection && !!propCollection.length)
			{
				for (i = 0; i < propCollection.length; i++)
				{
					if (!propCollection[i].disabled)
					{
						switch(propCollection[i].type.toLowerCase())
						{
							case 'select-one':
								basketParams[propCollection[i].name] = propCollection[i].value;
								foundValues = true;
								break;
							default:
								break;
						}
					}
				}
			}
			propCollection = obBasketProps.getElementsByTagName('input');
			if (!!propCollection && !!propCollection.length)
			{
				for (i = 0; i < propCollection.length; i++)
				{
					if (!propCollection[i].disabled)
					{
						switch(propCollection[i].type.toLowerCase())
						{
							case 'hidden':
								basketParams[propCollection[i].name] = propCollection[i].value;
								foundValues = true;
								break;
							case 'radio':
								if (propCollection[i].checked)
								{
									basketParams[propCollection[i].name] = propCollection[i].value;
									foundValues = true;
								}
								break;
							default:
								break;
						}
					}
				}
			}
		}
		if (!foundValues)
		{
			basketParams[prop_code] = [];
			basketParams[prop_code][0] = 0;
		}
		return basketParams;
	}
}
if(!funcDefined('showBasketError')){
	showBasketError = function(mess, title, addButton, th){
		var title_set=(title ? title : BX.message("ERROR_BASKET_TITLE")),
			isButton="N",
			thButton="";
		if(typeof addButton!==undefined){
			isButton="Y";
		}
		if(typeof th!==undefined){
			thButton=th;
		}
		$("body").append("<span class='add-error-bakset' style='display:none;'></span>");
		jqmEd('basket_error', 'error-bakset', '.add-error-bakset', mess, this, title_set, isButton, thButton);
		$("body .add-error-bakset").click();
		$("body .add-error-bakset").remove();
	}
}

if(!funcDefined("isRealValue")){
	function isRealValue(obj){
		return obj && obj !== "null" && obj!== "undefined";
	}
}

if(!funcDefined("rightScroll")){
	function rightScroll(prop, id){
		var el = BX('prop_' + prop + '_' + id);
		if (el) {
			var curVal = parseInt(el.style.marginLeft);
			if (curVal >= 0) el.style.marginLeft = curVal - 20 + '%';
		}
	}
}

if(!funcDefined("leftScroll")){
	function leftScroll(prop, id){
		var el = BX('prop_' + prop + '_' + id);
		if (el) {
			var curVal = parseInt(el.style.marginLeft);
			if (curVal < 0) el.style.marginLeft = curVal + 20 + '%';
		}
	}
}

if(!funcDefined("InitOrderCustom")){
	InitOrderCustom = function () {
		$('.ps_logo img').wrap('<div class="image"></div>');

		$('#bx-soa-order .radio-inline').each(function() {
			if ($(this).find('input').attr('checked') == 'checked') {
				$(this).addClass('checked');
			}
		});

		$('#bx-soa-order .checkbox input[type=checkbox]').each(function() {
			if ($(this).attr('checked') == 'checked')
				$(this).parent().addClass('checked');
		});

		$('#bx-soa-order .bx-authform-starrequired').each(function() {
			var html = $(this).html();
			$(this).closest('label').append('<span class="bx-authform-starrequired"> '+ html + '</span>');
			$(this).detach();
		});
		$('.bx_ordercart_coupon').each(function() {
			if ($(this).find('.bad').length)
				$(this).addClass('bad');
			else if ($(this).find('.good').length)
				$(this).addClass('good');
		});
		/*if (typeof(propsMap) !== 'undefined') {
			$(propsMap).on('click', function () {
				var value = $('#orderDescription').val();
				if ($('#orderDescription')) {
					if (value != '') {
						$('#orderDescription').closest('.form-group').addClass('value_y');
					}
				}
			});
		}*/
	}
}

if(!funcDefined("InitLabelAnimation")){
	InitLabelAnimation = function(className) {
		// Fix order labels
		if (!$(className).length) {
			return;
		}
		$(className).find('.form-group').each(function() {
			if ($(this).find('input[type=text], textarea').length && !$(this).find('.dropdown-block').length && $(this).find('input[type=text], textarea').val() != '') {
				$(this).addClass('value_y');
			}
		});

		$(document).on('click', className+' .form-group:not(.bx-soa-pp-field) label', function() {
			$(this).parent().find('input, textarea').focus();
		});

		$(document).on('focusout', className+' .form-group:not(.bx-soa-pp-field) input, '+className+' .form-group:not(.bx-soa-pp-field) textarea', function() {
			var value = $(this).val();
			if (value != '' && !$(this).closest('.form-group').find('.dropdown-block').length && !$(this).closest('.form-group').find('#profile_change').length) {
				$(this).closest('.form-group').addClass('value_y');
			}else{
				$(this).closest('.form-group').removeClass('value_y');
			}
		});

		$(document).on('focus', className+' .form-group:not(.bx-soa-pp-field) input, '+className+' .form-group:not(.bx-soa-pp-field) textarea', function() {
			if (!$(this).closest('.form-group').find('.dropdown-block').length && !$(this).closest('.form-group').find('#profile_change').length && !$(this).closest('.form-group').find('[name=PERSON_TYPE_OLD]').length ) {
				$(this).closest('.form-group').addClass('value_y');
			}
		});
	};
}

checkPopupWidth = function(){
	$('.popup.show').each(function() {
		var width_form = $(this).actual('width');
		$(this).css({
			'margin-left': ($(window).width() > width_form ? '-' + width_form / 2 + 'px' : '-' + $(window).width() / 2 + 'px'),
		});
	});
}

checkCaptchaWidth = function(){
	$('.captcha-row').each(function() {
		var width = $(this).actual('width');
		if($(this).hasClass('b')){
			if(width > 320){
				$(this).removeClass('b');
			}
		}
		else{
			if(width <= 320){
				$(this).addClass('b');
			}
		}
	});
}

checkFormWidth = function(){
	$('.form .form_left').each(function() {
		var form = $(this).parents('.form');
		var width = form.actual('width');
		if(form.hasClass('b')){
			if(width > 417){
				form.removeClass('b');
			}
		}
		else{
			if(width <= 417){
				form.addClass('b');
			}
		}
	});
}

checkFormControlWidth = function(){
	$('.form-control').each(function() {
		var width = $(this).actual('width');
		var labelWidth = $(this).find('label:not(.error) > span').actual('width');
		var errorWidth = $(this).find('label.error').actual('width');
		if(errorWidth > 0){
			if($(this).hasClass('h')){
				if(width > (labelWidth + errorWidth + 5)){
					$(this).removeClass('h');
				}
			}
			else{
				if(width <= (labelWidth + errorWidth + 5)){
					$(this).addClass('h');
				}
			}
		}
		else{
			$(this).removeClass('h');
		}
	});
}

scrollToTop = function(){
	if(arOptimusOptions['THEME']['SCROLLTOTOP_TYPE'] !== 'NONE'){
		var _isScrolling = false;
		// Append Button
		$('body').append($('<a />').addClass('scroll-to-top ' + arOptimusOptions['THEME']['SCROLLTOTOP_TYPE'] + ' ' + arOptimusOptions['THEME']['SCROLLTOTOP_POSITION']).attr({'href': '#', 'id': 'scrollToTop'}));
		$('#scrollToTop').click(function(e){
			e.preventDefault();
			$('body, html').animate({scrollTop : 0}, 500);
			return false;
		});
		// Show/Hide Button on Window Scroll event.
		$(window).scroll(function(){
			if(!_isScrolling) {
				_isScrolling = true;
				if($(window).scrollTop() > 150){
					$('#scrollToTop').stop(true, true).addClass('visible');
					_isScrolling = false;
				}
				else{
					$('#scrollToTop').stop(true, true).removeClass('visible');
					_isScrolling = false;
				}
				checkScrollToTop();
			}
		});
	}
}

checkScrollToTop = function(){
	var bottom = 55,
		scrollVal = $(window).scrollTop(),
		windowHeight = $(window).height(),
		footerOffset = $('footer').offset().top +70;

	if(arOptimusOptions['THEME']['SCROLLTOTOP_POSITION'] == 'CONTENT'){
		warpperWidth = $('body > .wrapper > .wrapper_inner').width();
		$('#scrollToTop').css('margin-left', Math.ceil(warpperWidth / 2) + 23);
	}

	if(scrollVal + windowHeight > footerOffset){
		$('#scrollToTop').css('bottom', bottom  + scrollVal + windowHeight - footerOffset - 0);
	}
	else if(parseInt($('#scrollToTop').css('bottom')) > bottom){
		$('#scrollToTop').css('bottom', bottom);
	}
}

CheckObjectsSizes = function() {
	$('.container iframe,.container object,.container video').each(function() {
		var height_attr = $(this).attr('height');
		var width_attr = $(this).attr('width');
		if (height_attr && width_attr) {
			$(this).css('height', $(this).outerWidth() * height_attr / width_attr);
		}
	});
}

if(!funcDefined('reloadTopBasket')){
	var reloadTopBasket = function reloadTopBasket(action, basketWindow, speed, delay, slideDown, item){
		var obj={
				"PARAMS": $('#top_basket_params').val(),
				"ACTION": action
			};
		if(typeof item !== "undefined" ){
			obj.delete_top_item='Y';
			obj.delete_top_item_id=item.data('id');
		}
		$.post( arOptimusOptions['SITE_DIR']+"ajax/show_basket_popup.php", obj, $.proxy(function( data ){
			$(basketWindow).html(data);

			getActualBasket();

			if(arOptimusOptions['THEME']['SHOW_BASKET_ONADDTOCART'] !== 'N'){
				if($(window).outerWidth() > 520){
					if(slideDown=="Y")
						$(basketWindow).find('.basket_popup_wrapp').stop(true,true).slideDown(speed);
					clearTimeout(basketTimeoutSlide);
					basketTimeoutSlide = setTimeout(function() {
						var _this = $('#basket_line').find('.basket_popup_wrapp');
						if (_this.is(':hover')) {
							_this.show();
						}else{
							$('#basket_line').find('.basket_popup_wrapp').slideUp(speed);
						}
					},delay);
				}
			}
		}))
	}
}

/*countdown start*/
if(!funcDefined('initCountdown')){
	var initCountdown = function initCountdown(){
		if( $('.view_sale_block').size() ){
			$('.view_sale_block').each(function(){
				var activeTo=$(this).find('.active_to').text(),
					dateTo= new Date(activeTo.replace(/(\d+)\.(\d+)\.(\d+)/, '$3/$2/$1'));
				$(this).find('.countdown').countdown({until: dateTo, format: 'dHMS', padZeroes: true, layout: '{d<}<span class="days item">{dnn}<div class="text">{dl}</div></span>{d>} <span class="hours item">{hnn}<div class="text">{hl}</div></span> <span class="minutes item">{mnn}<div class="text">{ml}</div></span> <span class="sec item">{snn}<div class="text">{sl}</div></span>'}, $.countdown.regionalOptions['ru']);
			})
		}
	}
}
/*countdown end*/

var isOnceInited = insertFilter = false;
var animationTime = 200;
var delayTime = 200;
var topMenuEnterTimer = false;
var isMobile = jQuery.browser.mobile;

if(isMobile){
	document.documentElement.className += ' mobile';
}

/*filter start*/
if(!funcDefined('checkVerticalMobileFilter')){
	var checkVerticalMobileFilter = function checkVerticalMobileFilter(){
		if($('.right_block1.catalog.vertical').length){
			if(window.matchMedia('(max-width: 950px)').matches){
				if(!insertFilter){
					$('.js_filter .bx_filter.bx_filter_vertical').html($('.left_block .bx_filter.bx_filter_vertical').html());
					$('.left_block .bx_filter.bx_filter_vertical .bx_filter_section').remove();
					insertFilter=true;
				}
			}else{
				if(insertFilter){
					$('.left_block .bx_filter.bx_filter_vertical').html($('.js_filter .bx_filter.bx_filter_vertical').html());
					$('.js_filter .bx_filter.bx_filter_vertical .bx_filter_section').remove();
					insertFilter=false;
				}
			}
		}
	}
}
/*filter end*/

// TOP MENU ANIMATION
$(document).on('click', '.menu_top_block>li .more a', function(){
	$this = $(this);
	$this.parents('.dropdown').first().find('>.hidden').removeClass('hidden');
	$this.parent().addClass('hidden');
	setTimeout(function(){
		$this.parent().remove();
	}, 500);
});

$(document).on('mouseenter', '.menu_top_block.catalogfirst>li>.dropdown>li.full', function(){
	var $submenu = $(this).find('>.dropdown');

	if($submenu.length){
		if(topMenuEnterTimer){
			clearTimeout(topMenuEnterTimer);
			topMenuEnterTimer = false;
		}
	}
});

$(document).on('mouseenter', '.menu_top_block>li:not(.full)', function(){
	var $submenu = $(this).find('>.dropdown');

	if($submenu.length && !$submenu.hasClass('visible')){
		var $menu = $(this).parents('.menu');
		var $wrapmenu = $menu.parents('.wrap_menu');
		var wrapMenuWidth = $wrapmenu.actual('outerWidth');
		var wrapMenuLeft = $wrapmenu.offset().left;
		var wrapMenuRight = wrapMenuLeft + wrapMenuWidth;
		var left = wrapMenuRight - ($(this).offset().left + $submenu.actual('outerWidth'));
		if(window.matchMedia('(min-width: 951px)').matches && $(this).hasClass('catalog') && ( $('.banner_auto').hasClass('catalog_page') || $('.banner_auto').hasClass('front_page'))){
			return;
		}
		if(left < 0){
			$submenu.css({left: left + 'px'});
		}
		$submenu.stop().slideDown(animationTime, function(){
			$submenu.css({height: '', 'overflow':'visible'});
		});


		$(this).on('mouseleave', function(){
			var leaveTimer = setTimeout(function(){
				$submenu.stop().slideUp(animationTime, function(){
					$submenu.css({left: ''});
				});
			}, delayTime);

			$(this).on('mouseenter', function(){
				if(leaveTimer){
					clearTimeout(leaveTimer);
					leaveTimer = false;
				}
			});
		});
	}

});

$(document).on('mouseenter', '.menu_top_block>li .dropdown>li', function(){
	var $this = $(this);
	var $submenu = $this.find('>.dropdown');

	if($submenu.length && ((!$this.parents('.full').length && !$this.hasClass('full')) || $this.parents('.more').length)){
		var $menu = $this.parents('.menu');
		var $wrapmenu = $menu.parents('.wrap_menu');
		var arParentSubmenuForOpacity = [];
		topMenuEnterTimer = setTimeout(function(){

			var wrapMenuWidth = $wrapmenu.actual('outerWidth');
			var wrapMenuLeft = $wrapmenu.offset().left;
			var wrapMenuRight = wrapMenuLeft + wrapMenuWidth;
			var $parentSubmenu = $this.parent();
			var bToLeft = $parentSubmenu.hasClass('toleft') ? true : false;
			if(!bToLeft){
				bToLeft = $this.offset().left + $this.actual('outerWidth') + $submenu.actual('outerWidth') > wrapMenuRight;
			}
			else{
				bToLeft = $this.offset().left + $this.actual('outerWidth') - $submenu.actual('outerWidth') < wrapMenuLeft;
			}

			if(bToLeft){
				$this.find('>.dropdown').addClass('toleft').show();
			}
			else{
				$this.find('>.dropdown').removeClass('toleft').show();
			}
			var submenuLeft = $submenu.offset().left;
			var submenuRight = submenuLeft + $submenu.actual('outerWidth');

			$this.parents('.dropdown').each(function(){
				var $this = $(this);
				var leftOffset = $this.offset().left;
				var rightOffset = leftOffset + $this.actual('outerWidth');
				if(leftOffset >= submenuLeft  && leftOffset < (submenuRight - 1) || (rightOffset > (submenuLeft + 1) && rightOffset <= submenuRight)){
					arParentSubmenuForOpacity.push($this);
					$this.find('>li>a').css({opacity: '0.1'});
				}
			});
		}, delayTime);

		$this.unbind('mouseleave');
		$this.on('mouseleave', function(){
			var leaveTimer = setTimeout(function(){
				$this.find('.dropdown').removeClass('toleft').hide();
				if(arParentSubmenuForOpacity.length){
					for(i in arParentSubmenuForOpacity){
						arParentSubmenuForOpacity[i].find('>li>a').css({opacity: ''});
					}
				}
			}, delayTime);

			$this.unbind('mouseenter');
			$this.on('mouseenter', function(){
				if(leaveTimer){
					clearTimeout(leaveTimer);
					leaveTimer = false;
				}
			});
		});
	}
});

getGridSize = function(counts) {
	var counts_item=1;
		//wide
		if(window.matchMedia('(min-width: 1200px)').matches){
			counts_item=counts[0];
		}

		//large
		if(window.matchMedia('(max-width: 1200px)').matches){
			counts_item=counts[1];
		}

		//middle
		if(window.matchMedia('(max-width: 992px)').matches){
			counts_item=counts[2];
		}

		//small
		if(counts[3]){
			if(window.matchMedia('(max-width: 600px)').matches){
				counts_item=counts[3];
			}
		}

		//exsmall
		if(counts[4]){
			if(window.matchMedia('(max-width: 400px)').matches){
				counts_item=counts[4];
			}
		}
	return counts_item;
}

CheckFlexSlider = function(){
	$('.flexslider:not(.thmb)').each(function(){
		var slider = $(this);
		slider.resize();
		var counts = slider.data('flexslider').vars.counts;
		if(typeof(counts) != 'undefined'){
			var cnt = getGridSize(counts);
			var to0 = (cnt != slider.data('flexslider').vars.minItems || cnt != slider.data('flexslider').vars.maxItems || cnt != slider.data('flexslider').vars.move);
			if(to0){
				slider.data('flexslider').vars.minItems = cnt;
				slider.data('flexslider').vars.maxItems = cnt;
				slider.data('flexslider').vars.move = cnt;
				slider.flexslider(0);
				slider.resize();
				slider.resize(); // twise!
			}
		}
	});
}

InitFlexSlider = function() {
	$('.flexslider:not(.thmb):not(.flexslider-init)').each(function(){
		var slider = $(this);
		var options;
		var defaults = {
			animationLoop: false,
			controlNav: false,
			directionNav: true,
			animation: "slide"
		}
		var config = $.extend({}, defaults, options, slider.data('plugin-options'));
		if(!slider.parent().hasClass('top_slider_wrapp')){
			if(typeof(config.counts) != 'undefined' && config.direction !== 'vertical'){
				config.maxItems =  getGridSize(config.counts);
				config.minItems = getGridSize(config.counts);
				config.move = getGridSize(config.counts);
				config.itemWidth = 200;
			}

			config.after = config.start = function(slider){
				var eventdata = {slider: slider};
				BX.onCustomEvent('onSlide', [eventdata]);
			}

			config.end = function(slider){
				var eventdata = {slider: slider};
				BX.onCustomEvent('onSlideEnd', [eventdata]);
			}

			slider.flexslider(config).addClass('flexslider-init');
			if(config.controlNav)
				slider.addClass('flexslider-control-nav');
			if(config.directionNav)
				slider.addClass('flexslider-direction-nav');
		}
	});
}

InitZoomPict = function() {
	if($('.zoom_picture').length){
		// $('.zoom_picture').each(function(){
		var slide=$('.zoom_picture').closest('.slides');
		var zoomer = $('.zoom_picture'),
			options,
			defaults = {
				zoomrange: [1, 12],
				zoomstart: 4,
				magnifierborder: "1px solid #cccccd",
				magnifiersize:[slide.width(),slide.height()],
				rightoffset:30
			};
		var config = $.extend({}, defaults, options, zoomer.data('plugin-options'));
			zoomer.imagezoomsl(config).addClass('zoom-init');
		// });
	}
}

var arBasketAsproCounters = {}
SetActualBasketFlyCounters = function(){
	if(arBasketAsproCounters.DEFAULT == true){
		$.ajax({
			url: arOptimusOptions['SITE_DIR'] + 'ajax/basket_fly.php',
			type: 'post',
			success: function(html){
				$('#basket_line .basket_fly').addClass('loaded').html(html);
			}
		});
	}
	else{
		$('#header .basket_fly .opener .basket_count .count').attr('class', 'count' + (arBasketAsproCounters.READY.COUNT > 0 ? '' : ' empty_items')).find('.items div').text(arBasketAsproCounters.READY.COUNT)
		$('#header .basket_fly .opener .basket_count + a').attr('href', arBasketAsproCounters['READY']['HREF'])
		$('#header .basket_fly .opener .basket_count').attr('title', arBasketAsproCounters.READY.TITLE).attr('class', 'basket_count small clicked' + (arBasketAsproCounters.READY.COUNT > 0 ? '' : ' empty'))

		$('#header .basket_fly .opener .wish_count .count').attr('class', 'count' + (arBasketAsproCounters.DELAY.COUNT > 0 ? '' : ' empty_items')).find('.items div').text(arBasketAsproCounters.DELAY.COUNT)
		$('#header .basket_fly .opener .wish_count + a').attr('href', arBasketAsproCounters.DELAY.HREF)
		$('#header .basket_fly .opener .wish_count').attr('title', arBasketAsproCounters.DELAY.TITLE).attr('class', 'wish_count small clicked' + (arBasketAsproCounters.DELAY.COUNT > 0 ? '' : ' empty'))

		$('#header .basket_fly .opener .compare_count .count').attr('class', 'count' + (arBasketAsproCounters.COMPARE.COUNT > 0 ? '' : ' empty_items')).find('.items div').text(arBasketAsproCounters.COMPARE.COUNT)
		$('#header .basket_fly .opener .compare_count + a').attr('href', arBasketAsproCounters.COMPARE.HREF)

		$('#header .basket_fly .opener .user_block').attr('title', arBasketAsproCounters.PERSONAL.TITLE).find('+ a').attr('href', arBasketAsproCounters.PERSONAL.HREF)
		$('#header .basket_fly .opener .user_block .wraps_icon_block').attr('class', 'wraps_icon_block' + (arBasketAsproCounters.PERSONAL.ID > 0 ? ' user_auth' : ' user_reg') + (arBasketAsproCounters.PERSONAL.SRC ? ' w_img' : ' no_img')).attr('style', (arBasketAsproCounters.PERSONAL.SRC ? 'background:url("' + arBasketAsproCounters.PERSONAL.SRC + '") center center no-repeat;' : ''))
	}
}

$(document).ready(function(){
	//ecommerce order
	if(arOptimusOptions["PAGES"]["ORDER_PAGE"]){
		var arUrl = parseUrlQuery();
		if("ORDER_ID" in arUrl){
			$.ajax({
				url:arOptimusOptions['SITE_DIR']+"ajax/check_order.php",
				dataType: "json",
				type: "POST",
				data: { "ID": arUrl["ORDER_ID"] },
				success: function(id){
					if(parseInt(id)){
						purchaseCounter(parseInt(id), BX.message("FULL_ORDER"));
					}
				}
			})
		}
	}

	scrollToTop();
	checkVerticalMobileFilter();

	setTimeout(function(){
		InitTopestMenuGummi();
		InitTopMenuGummi();
		isOnceInited = true;

		InitFlexSlider();

		try{
			// SHOW TOP MENU ON READY AFTER GUMMI
			$('header .wrap_menu').css({overflow: 'visible'});
			$('.visible_on_ready').removeClass('visible_on_ready');
		}
		catch(e){console.error(e);}
	},100);



	InitZoomPict();

	$('body').on( 'click', '.captcha_reload', function(e){
		var captcha = $(this).parents('.captcha-row');
		e.preventDefault();
		$.ajax({
			url: arOptimusOptions['SITE_DIR'] + 'ajax/captcha.php'
		}).done(function(text){
			captcha.find('input[name=captcha_sid]').val(text);
			captcha.find('img').attr('src', '/bitrix/tools/captcha.php?captcha_sid=' + text);
			captcha.find('input[name=captcha_word]').val('').removeClass('error');
			captcha.find('.captcha_input').removeClass('error').find('.error').remove();
		});
	});

	setTimeout(function(){
		$('.bg_image_site').css({
			'opacity':1
		})
	},200);

	if(window.matchMedia('(min-width: 768px)').matches){
		$('.wrapper_middle_menu.wrap_menu').removeClass('mobile');
	}

	if(window.matchMedia('(max-width: 767px)').matches){
		$('.wrapper_middle_menu.wrap_menu').addClass('mobile');
	}

	setTimeout(function() {
		$(window).scroll();
	}, 400);

	$(".show_props").live('click', function(){
		$(this).prev(".props_list_wrapp").stop().slideToggle(333);
		$(this).find(".char_title").toggleClass("opened");
	});

	$('.see_more').live('click', function(e) {
		e.preventDefault();
		var see_more = ($(this).is('.see_more') ? $(this) : $(this).parents('.see_more').first());
		var see_moreText = (see_more.find('> a').length ? see_more.find('> a') : see_more);
		var see_moreHiden = see_more.parent().find('> .d');
		if(see_more.hasClass('open')){
			see_moreText.text(BX.message('CATALOG_VIEW_MORE'));
			see_more.removeClass('open');
			see_moreHiden.hide();
		}
		else{
			see_moreText.text(BX.message('CATALOG_VIEW_LESS'));
			see_more.addClass('open');
			see_moreHiden.show();
		}
		return false;
	});

	$('.button.faq_button').click(function(e){
		e.preventDefault();
		$(this).toggleClass('opened');
		$('.faq_ask .form').slideToggle();
	});

	$('.staff.list .staff_section .staff_section_title a').click(function(e) {
		e.preventDefault();
		$(this).parents('.staff_section').toggleClass('opened');
		$(this).parents('.staff_section').find('.staff_section_items').stop().slideToggle(600);
		$(this).parents('.staff_section_title').find('.opener_icon').toggleClass('opened');
	});

	$('.jobs_wrapp .item .name').click(function(e) {
		$(this).closest('.item').toggleClass('opened');
		$(this).closest('.item').find('.description_wrapp').stop().slideToggle(600);
		$(this).closest('.item').find('.opener_icon').toggleClass('opened');
	});

	$('.faq.list .item .q a').live('click', function(e){
		e.preventDefault();
		$(this).parents('.item').toggleClass('opened');
		$(this).parents('.item').find('.a').stop().slideToggle();
		$(this).parents('.item').find('.q .opener_icon').toggleClass('opened');
	});

	$('.opener_icon').click(function(e) {
		e.preventDefault();
		$(this).parent().find('a').trigger('click');
	});

	$('.to-order').live('click', function(e){
		e.preventDefault();
		$("body").append("<span class='evb-toorder' style='display:none;'></span>");
		jqmEd('to-order', arOptimusOptions['FORM']['TOORDER_FORM_ID'], '.evb-toorder', '', this);
		$("body .evb-toorder").click();
		$("body .evb-toorder").remove();
	});

	$('.dotdot').dotdotdot();

	$('.more_block span').live('click', function() {
		var content_offset=$('.catalog_detail .tabs_section').offset();
		$('html, body').animate({scrollTop: content_offset.top-23}, 400);
	});

	$(".counter_block:not(.basket) .plus").live("click", function(){
		if(!$(this).parents('.basket_wrapp').length){
			if($(this).parent().data("offers")!="Y"){
				var isDetailSKU2 = $(this).parents('.counter_block_wr').length;
					input = $(this).parents(".counter_block").find("input[type=text]")
					tmp_ratio = !isDetailSKU2 ? $(this).parents(".counter_wrapp").find(".to-cart").data('ratio') : $(this).parents('tr').first().find("td.buy .to-cart").data('ratio'),
					isDblQuantity = !isDetailSKU2 ? $(this).parents(".counter_wrapp").find(".to-cart").data('float_ratio') : $(this).parents('tr').first().find("td.buy .to-cart").data('float_ratio'),
					ratio=( isDblQuantity ? parseFloat(tmp_ratio) : parseInt(tmp_ratio, 10)),
					max_value='';
					currentValue = input.val();


				if(isDblQuantity)
					ratio = Math.round(ratio*arOptimusOptions.JS_ITEM_CLICK.precisionFactor)/arOptimusOptions.JS_ITEM_CLICK.precisionFactor;

				curValue = (isDblQuantity ? parseFloat(currentValue) : parseInt(currentValue, 10));

				curValue += ratio;
				if (isDblQuantity){
					curValue = Math.round(curValue*arOptimusOptions.JS_ITEM_CLICK.precisionFactor)/arOptimusOptions.JS_ITEM_CLICK.precisionFactor;
				}
				if(parseFloat($(this).data('max'))>0){
					if(input.val() < $(this).data('max')){
						if(curValue>$(this).data('max')){
							input.val($(this).data('max'));
						}else{
							input.val(curValue);
						}
						input.change();
					}
				}else{
					input.val(curValue);
					input.change();
				}
			}
		}
	});

	$(".counter_block:not(.basket) .minus").live("click", function(){
		if(!$(this).parents('.basket_wrapp').length){
			if($(this).parent().data("offers")!="Y"){
				var isDetailSKU2 = $(this).parents('.counter_block_wr').length;
					input = $(this).parents(".counter_block").find("input[type=text]")
					tmp_ratio = !isDetailSKU2 ? $(this).parents(".counter_wrapp").find(".to-cart").data('ratio') : $(this).parents('tr').first().find("td.buy .to-cart").data('ratio'),
					isDblQuantity = !isDetailSKU2 ? $(this).parents(".counter_wrapp").find(".to-cart").data('float_ratio') : $(this).parents('tr').first().find("td.buy .to-cart").data('float_ratio'),
					ratio=( isDblQuantity ? parseFloat(tmp_ratio) : parseInt(tmp_ratio, 10)),
					max_value='';
					currentValue = input.val();

				if(isDblQuantity)
					ratio = Math.round(ratio*arOptimusOptions.JS_ITEM_CLICK.precisionFactor)/arOptimusOptions.JS_ITEM_CLICK.precisionFactor;

				curValue = (isDblQuantity ? parseFloat(currentValue) : parseInt(currentValue, 10));

				curValue -= ratio;
				if (isDblQuantity){
					curValue = Math.round(curValue*arOptimusOptions.JS_ITEM_CLICK.precisionFactor)/arOptimusOptions.JS_ITEM_CLICK.precisionFactor;
				}

				if(parseFloat($(this).parents(".counter_block").find(".plus").data('max'))>0){
					if(currentValue > ratio){
						if(curValue<ratio){
							input.val(ratio);
						}else{
							input.val(curValue);
						}
						input.change();
					}
				}else{
					if(curValue > ratio){
						input.val(curValue);
					}else{
						if(ratio){
							input.val(ratio);
						}else if(currentValue > 1){
							input.val(curValue);
						}
					}
					input.change();
				}
			}
		}
	});

	$('.counter_block input[type=text]').numeric({allow:"."});
	$('.counter_block input[type=text]').live('focus', function(){
		$(this).addClass('focus');
	})
	$('.counter_block input[type=text]').live('blur', function(){
		$(this).removeClass('focus');
	})
	$('.counter_block input[type=text]').live('change', function(e){
		if(!$(this).parents('.basket_wrapp').length){
			var val = $(this).val(),
				tmp_ratio = $(this).parents(".counter_wrapp").find(".to-cart").data('ratio'),
				isDblQuantity = $(this).parents(".counter_wrapp").find(".to-cart").data('float_ratio'),
				ratio=( isDblQuantity ? parseFloat(tmp_ratio) : parseInt(tmp_ratio, 10));

			if(isDblQuantity)
				ratio = Math.round(ratio*arOptimusOptions.JS_ITEM_CLICK.precisionFactor)/arOptimusOptions.JS_ITEM_CLICK.precisionFactor;

			if($(this).hasClass('focus'))
				val -= (val % ratio);

			if(parseFloat($(this).parents(".counter_block").find(".plus").data('max'))>0){
				if(val>parseFloat($(this).parents(".counter_block").find(".plus").data('max'))){
					val=parseFloat($(this).parents(".counter_block").find(".plus").data('max'));
					val -= (val % ratio);
				}
			}
			if(val<ratio){
				val=ratio;
			}else if(!parseFloat(val)){
				val=1;
			}

			$(this).parents('.counter_block').parent().parent().find('.to-cart').attr('data-quantity', val);
			$(this).parents('.counter_block').parent().parent().find('.one_click').attr('data-quantity', val);
			$(this).val(val);
		}
	});

	/*slide cart*/
	$(document).on('mouseenter', '#basket_line .basket_normal:not(.empty_cart):not(.bcart) .basket_block ', function() {
		$(this).closest('.basket_normal').find('.popup').addClass('block');
		$(this).closest('.basket_normal').find('.basket_popup_wrapp').stop(true,true).slideDown(150);
	});
	$(document).on('mouseleave', '#basket_line .basket_normal .basket_block ', function() {
		var th=$(this);
		$(this).closest('.basket_normal').find('.basket_popup_wrapp').stop(true,true).slideUp(150, function(){
			th.closest('.basket_normal').find('.popup').removeClass('block');
		});
	});

	$(document).on('click', '.popup_button_basket', function(){
		var th=$(".to-cart[data-item="+$(this).data("item")+"]");

		var val = th.attr('data-quantity');

		if(!val) $val = 1;

		var tmp_props=th.data("props"),
			props='',
			part_props='',
			add_props='N',
			fill_prop={},
			iblockid = th.data('iblockid'),
			offer = th.data('offers'),
			rid='',
			basket_props='',
			item = th.attr('data-item');

		if(offer!="Y"){
			offer = "N";
		}else{
			basket_props=th.closest('.prices_tab').find('.bx_sku_props input').val();
		}
		if(tmp_props){
			props=tmp_props.split(";");
		}
		if(th.data("part_props")){
			part_props=th.data("part_props");
		}
		if(th.data("add_props")){
			add_props=th.data("add_props");
		}
		if($('.rid_item').length){
			rid=$('.rid_item').data('rid');
		}else if(th.data('rid')){
			rid=th.data('rid');
		}

		fill_prop=fillBasketPropsExt(th, 'prop', 'bx_ajax_text');

		fill_prop.quantity=val;
		fill_prop.add_item='Y';
		fill_prop.rid=rid;
		fill_prop.offers=offer;
		fill_prop.iblockID=iblockid;
		fill_prop.part_props=part_props;
		fill_prop.add_props=add_props;
		fill_prop.props=JSON.stringify(props);
		fill_prop.item=item;
		fill_prop.basket_props=basket_props;

		$.ajax({
			type:"POST",
			url:arOptimusOptions['SITE_DIR']+"ajax/item.php",
			data:fill_prop,
			dataType:"json",
			success:function(data){
				$('.basket_error_frame').jqmHide();
				if("STATUS" in data){
					getActualBasket(fill_prop.iblockID);
					if(data.STATUS === 'OK'){
						th.hide();
						th.closest('.counter_wrapp').find('.counter_block').hide();
						th.parents('tr').find('.counter_block_wr .counter_block').hide();
						th.closest('.button_block').addClass('wide');
						th.parent().find('.in-cart').show();

						addBasketCounter(item);
						$('.wish_item[data-item='+item+']').removeClass("added");
						$('.wish_item[data-item='+item+']').find(".value").show();
						$('.wish_item[data-item='+item+']').find(".value.added").hide();
						if($("#basket_line .cart").length)
						{
							if($("#basket_line .cart").is(".empty_cart"))
							{
								$("#basket_line .cart").removeClass("empty_cart").find(".cart_wrapp a.basket_link").removeAttr("href").addClass("cart-call");
								$("#basket_line .cart").removeClass("ecart");
								touchBasket('.cart:not(.empty_cart) .basket_block .link');
							}

							reloadTopBasket('add', $('#basket_line'), 200, 5000, 'Y');

						}else if($("#basket_line .basket_fly").length){
							if($(window).outerWidth()>768){
								basketFly('open');
							}else{
								basketFly('refresh');
							}
						}
					}else{
						showBasketError(BX.message(data.MESSAGE));
					}
				}else{
					showBasketError(BX.message("CATALOG_PARTIAL_BASKET_PROPERTIES_ERROR"));
				}
			}
		});
	})

	$(document).on( 'click', '.to-cart:not(.read_more)', function(e){
		e.preventDefault();
		var th=$(this);

		var val = $(this).attr('data-quantity');

		if(!val) $val = 1;

		var tmp_props=$(this).data("props"),
			props='',
			part_props='',
			add_props='N',
			fill_prop={},
			iblockid = $(this).data('iblockid'),
			offer = $(this).data('offers'),
			rid='',
			basket_props='',
			item = $(this).attr('data-item');

		if(offer!="Y"){
			offer = "N";
		}else{
			basket_props=$(this).closest('.prices_tab').find('.bx_sku_props input').val();
		}
		if(tmp_props){
			props=tmp_props.split(";");
		}
		if($(this).data("part_props")){
			part_props=$(this).data("part_props");
		}
		if($(this).data("add_props")){
			add_props=$(this).data("add_props");
		}
		if($('.rid_item').length){
			rid=$('.rid_item').data('rid');
		}else if($(this).data('rid')){
			rid=$(this).data('rid');
		}

		fill_prop=fillBasketPropsExt(th, 'prop', th.data('bakset_div'));

		fill_prop.quantity=val;
		fill_prop.add_item='Y';
		fill_prop.rid=rid;
		fill_prop.offers=offer;
		fill_prop.iblockID=iblockid;
		fill_prop.part_props=part_props;
		fill_prop.add_props=add_props;
		fill_prop.props=JSON.stringify(props);
		fill_prop.item=item;
		fill_prop.basket_props=basket_props;

		if(th.data("empty_props")=="N"){
			showBasketError($("#"+th.data("bakset_div")).html(), BX.message("ERROR_BASKET_PROP_TITLE"), "Y", th);
		}else{
			$.ajax({
				type:"POST",
				url:arOptimusOptions['SITE_DIR']+"ajax/item.php",
				data:fill_prop,
				dataType:"json",
				success:function(data){
					getActualBasket(fill_prop.iblockID);
					if(data !==null){
						if("STATUS" in data){
							if(data.MESSAGE_EXT===null)
								data.MESSAGE_EXT='';
							if(data.STATUS === 'OK'){
								th.hide();
								th.closest('.counter_wrapp').find('.counter_block').hide();
								th.parents('tr').find('.counter_block_wr .counter_block').hide();
								th.closest('.button_block').addClass('wide');
								th.parent().find('.in-cart').show();

								addBasketCounter(item);
								$('.wish_item[data-item='+item+']').removeClass("added");
								$('.wish_item[data-item='+item+']').find(".value").show();
								$('.wish_item[data-item='+item+']').find(".value.added").hide();
								if($("#basket_line .cart").length)
								{
									if($("#basket_line .cart").is(".empty_cart"))
									{
										$("#basket_line .cart").removeClass("empty_cart").find(".cart_wrapp a.basket_link").removeAttr("href").addClass("cart-call");
										$("#basket_line .cart").removeClass("ecart");
										touchBasket('.cart:not(.empty_cart) .basket_block .link');
									}

									reloadTopBasket('add', $('#basket_line'), 200, 5000, 'Y');

								}else if($("#basket_line .basket_fly").length){
									if($(window).outerWidth()>768){
										basketFly('open');
									}else{
										basketFly('refresh');
									}
								}
							}else{
								showBasketError(BX.message(data.MESSAGE)+' <br/>'+data.MESSAGE_EXT);
							}
						}else{
							showBasketError(BX.message("CATALOG_PARTIAL_BASKET_PROPERTIES_ERROR"));
						}
					}else{
						th.hide();
						th.closest('.counter_wrapp').find('.counter_block').hide();
						th.parents('tr').find('.counter_block_wr .counter_block').hide();
						th.closest('.button_block').addClass('wide');
						th.parent().find('.in-cart').show();

						addBasketCounter(item);
						$('.wish_item[data-item='+item+']').removeClass("added");
						$('.wish_item[data-item='+item+']').find(".value").show();
						$('.wish_item[data-item='+item+']').find(".value.added").hide();
						if($("#basket_line .cart").length)
						{
							if($("#basket_line .cart").is(".empty_cart"))
							{
								$("#basket_line .cart").removeClass("empty_cart").find(".cart_wrapp a.basket_link").removeAttr("href").addClass("cart-call");
								$("#basket_line .cart").removeClass("ecart");
								touchBasket('.cart:not(.empty_cart) .basket_block .link');
							}

							reloadTopBasket('add', $('#basket_line'), 200, 5000, 'Y');
						}else if($("#basket_line .basket_fly").length && $(window).outerWidth()>768){
							basketFly('open');
						}
					}
				}
			});
		}
	})

	$(document).on('click', '.to-subscribe', function(e){
		e.preventDefault();
		if($(this).is('.auth')){
			location.href=arOptimusOptions['SITE_DIR']+'auth/?backurl='+location.pathname;
		}
		else{
			var item = $(this).attr('data-item'),
				iblockid = $(this).attr('data-iblockid');
			$(this).hide();
			$(this).parent().find('.in-subscribe').show();
			$.get(arOptimusOptions['SITE_DIR'] + 'ajax/item.php?item=' + item + '&subscribe_item=Y',
				$.proxy(function(data){
					$('.wish_item[data-item=' + item + ']').removeClass('added');
					getActualBasket(iblockid);
				})
			);
		}
	})

	$(document).on('click', '.in-subscribe', function(e){
		e.preventDefault();
		var item = $(this).attr('data-item'),
			iblockid = $(this).attr('data-iblockid');;
		$(this).hide();
		$(this).parent().find('.to-subscribe').show();
		$.get(arOptimusOptions['SITE_DIR'] + 'ajax/item.php?item=' + item + '&subscribe_item=Y',
			$.proxy(function(data){
				getActualBasket(iblockid);
			})
		);
	})

	$(document).on('click', '.wish_item', function(e){
		e.preventDefault();
		var val = $(this).attr('data-quantity'),
			offer = $(this).data('offers'),
			iblockid = $(this).data('iblock'),
			tmp_props=$(this).data("props"),
			props='',
			item = $(this).data('item');
			item2 = $(this).attr('data-item');
		if(!val) $val = 1;
		if(offer!="Y") offer = "N";
		if(tmp_props){
			props=tmp_props.split(";");
		}
		if(!$(this).hasClass('text')){
			if($(this).hasClass('added')){
				$(this).hide();
				$(this).closest('.wish_item_button').find('.to').show();

				$('.like_icons').each(function(){
					if($(this).find('.wish_item.text[data-item="'+item+'"]').length){
						$(this).find('.wish_item.text[data-item="'+item+'"]').removeClass('added');
						$(this).find('.wish_item.text[data-item="'+item+'"]').find('.value').show();
						$(this).find('.wish_item.text[data-item="'+item+'"]').find('.value.added').hide();
					}
					if($(this).find('.wish_item_button').length){
						$(this).find('.wish_item_button').find('.wish_item[data-item="'+item+'"]').removeClass('added');
						$(this).find('.wish_item_button').find('.wish_item[data-item="'+item+'"]').find('.value').show();
						$(this).find('.wish_item_button').find('.wish_item[data-item="'+item+'"]').find('.value.added').hide();
					}
				})
			}
			else{
				$(this).hide();
				$(this).closest('.wish_item_button').find('.in').addClass('added').show();

				$('.like_icons').each(function(){
					if($(this).find('.wish_item.text[data-item="'+item+'"]').length){
						$(this).find('.wish_item.text[data-item="'+item+'"]').addClass('added');
						$(this).find('.wish_item.text[data-item="'+item+'"]').find('.value').hide();
						$(this).find('.wish_item.text[data-item="'+item+'"]').find('.value.added').css({"display":"block"})
					}
					if($(this).find('.wish_item_button').length){
						$(this).find('.wish_item_button').find('.wish_item[data-item="'+item+'"]').addClass('added');
						$(this).find('.wish_item_button').find('.wish_item[data-item="'+item+'"]').find('.value').hide();
						$(this).find('.wish_item_button').find('.wish_item[data-item="'+item+'"]').find('.value.added').show();
					}
				})
			}
		}else{
			if(!$(this).hasClass('added')){
				$('.wish_item[data-item=' + item + ']').addClass('added');
				$('.wish_item[data-item=' + item + ']').find('.value').hide();
				$('.wish_item[data-item=' + item + ']').find('.value.added').css('display','block');

				$('.like_icons').each(function(){
					if($(this).find('.wish_item_button').length){
						$(this).find('.wish_item_button').find('.wish_item[data-item="'+item+'"]').addClass('added');
						$(this).find('.wish_item_button').find('.wish_item[data-item="'+item+'"]').find('.value').hide();
						$(this).find('.wish_item_button').find('.wish_item[data-item="'+item+'"]').find('.value.added').show();
					}
				})
			}else{
				$('.wish_item[data-item=' + item + ']').removeClass('added');
				$('.wish_item[data-item=' + item + ']').find('.value').show();
				$('.wish_item[data-item=' + item + ']').find('.value.added').hide();

				$('.like_icons').each(function(){
					if($(this).find('.wish_item_button').length){
						$(this).find('.wish_item_button').find('.wish_item[data-item="'+item+'"]').removeClass('added');
						$(this).find('.wish_item_button').find('.wish_item[data-item="'+item+'"]').find('.value').show();
						$(this).find('.wish_item_button').find('.wish_item[data-item="'+item+'"]').find('.value.added').hide();
					}
				})
			}
		}

		$('.in-cart[data-item=' + item + ']').hide();
		$('.to-cart[data-item=' + item + ']').parent().removeClass('wide');
		$('.to-cart[data-item=' + item + ']').show();
		$('.counter_block[data-item=' + item + ']').show();
		if(!$(this).closest('.module-cart').size()){
			$.ajax({
				type:"GET",
				url:arOptimusOptions['SITE_DIR']+"ajax/item.php",
				data:"item="+item2+"&quantity="+val+"&wish_item=Y"+"&offers="+offer+"&iblockID="+iblockid+"&props="+JSON.stringify(props),
				dataType:"json",
				success: function(data){
					getActualBasket(iblockid);
					if(data !==null){
						if(data.MESSAGE_EXT===null)
							data.MESSAGE_EXT='';
						if("STATUS" in data){
							if(data.STATUS === 'OK'){
								if($("#basket_line .cart").size()){
									reloadTopBasket('wish', $('#basket_line'), 200, 5000, 'N');
								}else{
									basketFly('wish');
								}
							}else{
								showBasketError(BX.message(data.MESSAGE)+' <br/>'+data.MESSAGE_EXT, BX.message("ERROR_ADD_DELAY_ITEM"));
							}
						}else{
							showBasketError(BX.message(data.MESSAGE)+' <br/>'+data.MESSAGE_EXT, BX.message("ERROR_ADD_DELAY_ITEM"));
						}
					}else{
						if($("#basket_line .cart").size()){
							reloadTopBasket('wish', $('#basket_line'), 200, 5000, 'N');
						}else{
							basketFly('wish');
						}
					}
				}
			});
		}
	})

	// $('.compare_item').live('click', function(e){
	$(document).on('click', '.compare_item', function(e){
		e.preventDefault();
		var item = $(this).attr('data-item');
		var iblockID = $(this).attr('data-iblock');
		if(!$(this).hasClass('text')){
			if($(this).hasClass('added')){
				$(this).hide();
				$(this).closest('.compare_item_button').find('.to').show();

				/*sync other button*/
				$('.like_icons').each(function(){
					if($(this).find('.compare_item.text[data-item="'+item+'"]').length){
						$(this).find('.compare_item.text[data-item="'+item+'"]').removeClass('added');
						$(this).find('.compare_item.text[data-item="'+item+'"]').find('.value').show();
						$(this).find('.compare_item.text[data-item="'+item+'"]').find('.value.added').hide();
					}
					if($(this).find('.compare_item_button').length){
						$(this).find('.compare_item_button').find('.compare_item[data-item="'+item+'"]').removeClass('added');
						$(this).find('.compare_item_button').find('.compare_item[data-item="'+item+'"]').find('.value').show();
						$(this).find('.compare_item_button').find('.compare_item[data-item="'+item+'"]').find('.value.added').hide();
					}
				})
			}
			else{
				$(this).hide();
				$(this).closest('.compare_item_button').find('.in').show();

				/*sync other button*/
				$('.like_icons').each(function(){
					if($(this).find('.compare_item.text[data-item="'+item+'"]').length){
						$(this).find('.compare_item.text[data-item="'+item+'"]').addClass('added');;
						$(this).find('.compare_item.text[data-item="'+item+'"]').find('.value').hide();
						$(this).find('.compare_item.text[data-item="'+item+'"]').find('.value.added').css({"display":"block"});
					}
					if($(this).find('.compare_item_button').length){
						$(this).find('.compare_item_button').find('.compare_item[data-item="'+item+'"]').addClass('added');
						$(this).find('.compare_item_button').find('.compare_item[data-item="'+item+'"]').find('.value.added').show();
						$(this).find('.compare_item_button').find('.compare_item[data-item="'+item+'"]').find('.value').hide();
					}
				})
			}
		}else{
			if(!$(this).hasClass('added')){
				$('.compare_item[data-item=' + item + ']').addClass('added');
				$('.compare_item[data-item=' + item + ']').find('.value').hide();
				$('.compare_item[data-item=' + item + ']').find('.value.added').css('display','block');

				/*sync other button*/
				$('.like_icons').each(function(){
					if($(this).find('.compare_item_button').length){
						$(this).find('.compare_item_button').find('.compare_item[data-item="'+item+'"]').addClass('added');
						$(this).find('.compare_item_button').find('.compare_item[data-item="'+item+'"]').find('.value.added').show();
						$(this).find('.compare_item_button').find('.compare_item[data-item="'+item+'"]').find('.value').hide();
					}
				})
			}else{
				$('.compare_item[data-item=' + item + ']').removeClass('added');
				$('.compare_item[data-item=' + item + ']').find('.value').show();
				$('.compare_item[data-item=' + item + ']').find('.value.added').hide();

				/*sync other button*/
				$('.like_icons').each(function(){
					if($(this).find('.compare_item_button').length){
						$(this).find('.compare_item_button').find('.compare_item[data-item="'+item+'"]').removeClass('added');
						$(this).find('.compare_item_button').find('.compare_item[data-item="'+item+'"]').find('.value').show();
						$(this).find('.compare_item_button').find('.compare_item[data-item="'+item+'"]').find('.value.added').hide();
					}
				})
			}
		}

		$.get(arOptimusOptions['SITE_DIR'] + 'ajax/item.php?item=' + item + '&compare_item=Y&iblock_id=' + iblockID,
			$.proxy(function(data){
				getActualBasket(iblockID);
				jsAjaxUtil.InsertDataToNode(arOptimusOptions['SITE_DIR'] + 'ajax/show_compare_preview_top.php', 'compare_line', false);
				if($('#compare_fly').length){
					jsAjaxUtil.InsertDataToNode(arOptimusOptions['SITE_DIR'] + 'ajax/show_compare_preview_fly.php', 'compare_fly', false);
				}
			})
		);
	});

	$('.fancy').fancybox({
		openEffect  : 'fade',
		closeEffect : 'fade',
		nextEffect : 'fade',
		prevEffect : 'fade',
		tpl:{
			closeBtn : '<a title="'+BX.message('FANCY_CLOSE')+'" class="fancybox-item fancybox-close" href="javascript:;"></a>',
			next     : '<a title="'+BX.message('FANCY_NEXT')+'" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',
			prev     : '<a title="'+BX.message('FANCY_PREV')+'" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'
		},
	});

	$('.tabs>li').on('click', function(){
		if(!$(this).hasClass('active')){
			var sliderIndex = $(this).index(),
				curLiNav=$(this).closest('.top_blocks').find('.slider_navigation').find('>li:eq(' + sliderIndex + ')'),
				curLi=$(this).closest('.top_blocks').siblings('.tabs_content').find('>li:eq(' + sliderIndex + ')');
			$(this).addClass('active').addClass('cur').siblings().removeClass('active').removeClass('cur');
			curLi.addClass('cur').siblings().removeClass('cur');
			curLiNav.addClass('cur').siblings().removeClass('cur');

			/*equal height*/
			curLi.find('.catalog_block .catalog_item_wrapp .catalog_item .item_info:visible .item-title').sliceHeight({item:'.catalog_item:visible'});
			curLi.find('.catalog_block .catalog_item_wrapp .catalog_item .item_info:visible').sliceHeight({classNull: '.footer_button', item:'.catalog_item:visible'});
			curLi.find('.catalog_block .catalog_item_wrapp .catalog_item:visible').sliceHeight({classNull: '.footer_button', item:'.catalog_item:visible'});
		}
	})

	/*search click*/
	$('.search_block .icon').on('click', function(){
		var th=$(this);
		if($(this).hasClass('open')){
			$(this).closest('.center_block').find('.search_middle_block').removeClass('active');
			$(this).removeClass('open');
			$(this).closest('.center_block').find('.search_middle_block').find('.noborder').hide();
		}else{
			setTimeout(function(){
				th.closest('.center_block').find('.search_middle_block').find('.noborder').show();
			},100);
			$(this).closest('.center_block').find('.search_middle_block').addClass('active');
			$(this).addClass('open');
		}
	})
	$(document).on('mouseenter', '.display_list .item_wrap', function(){
		$(this).prev().addClass('prev');
	});
	$(document).on('mouseleave', '.display_list .item_wrap', function(){
		$(this).prev().removeClass('prev');
	});
	$(document).on('mouseenter', '.catalog_block .item_wrap', function(){
		$(this).addClass('shadow_delay');
	});
	$(document).on('mouseleave', '.catalog_block .item_wrap', function(){
		$(this).removeClass('shadow_delay');
	});
	$(document).on('click', '.no_goods .button', function(){
		$('.bx_filter .smartfilter .bx_filter_search_reset').trigger('click');
	});

	$(document).on('click', '.ajax_load_btn', function(){
		var url=$(this).closest('.right_block').find('.module-pagination .flex-direction-nav .flex-next').attr('href'),
			th=$(this).find('.more_text_ajax');
		th.addClass('loading');

		$.ajax({
			url: url,
			data: {"ajax_get": "Y"},
			success: function(html){
				var new_html=$.parseHTML(html);
				th.removeClass('loading');
				if($('.display_list').length){
					$('.display_list').append(html);
				}else if($('.block_list').length){
					$('.block_list').append(html);
					touchItemBlock('.catalog_item a');
				}else if($('.module_products_list').length){
					$('.module_products_list > tbody').append(html);
				}
				setStatusButton();
				initCountdown();
				BX.onCustomEvent('onAjaxSuccess');
				$('.bottom_nav').html($(html).find('.bottom_nav').html());
			}
		})
	})

	$(document).on('click', '.bx_compare .tabs-head li', function(){
		var url=$(this).find('.sortbutton').data('href');
		BX.showWait(BX("bx_catalog_compare_block"));
		$.ajax({
			url: url,
			data: {'ajax_action': 'Y'},
			success: function(html){
				history.pushState(null, null, url);
				$('#bx_catalog_compare_block').html(html);
				BX.closeWait();
			}
		})
	})
	var hoveredTrs;
	$(document).on({
		mouseover: function(e){
			var _ = $(this);
			var tbodyIndex = _.closest('tbody').index()+1; //+1 for nth-child
			var trIndex = _.index()+1; // +1 for nth-child
			hoveredTrs = $(e.delegateTarget).find('.data_table_props')
				.children(':nth-child('+tbodyIndex+')')
				.children(':nth-child('+trIndex+')').addClass('hovered');
		},
		mouseleave: function(e){
			if(hoveredTrs)
				hoveredTrs.removeClass('hovered');
		}
	}, '.bx_compare .data_table_props tbody>tr');
	$(document).on('click', '.fancy_offer', function(e){
		e.preventDefault();
		var arPict=[];
		$('.sliders li').each(function(){
			if($(this).hasClass('current')){
				arPict.unshift($(this).data('big'));
			}else{
				arPict.push($(this).data('big'));
			}
		})
		$.fancybox(arPict, {
			openEffect  : 'fade',
			closeEffect : 'fade',
			nextEffect : 'fade',
			prevEffect : 'fade',
			//'type'              : 'image',
			tpl:{
				closeBtn : '<a title="'+BX.message('FANCY_CLOSE')+'" class="fancybox-item fancybox-close" href="javascript:;"></a>',
				next     : '<a title="'+BX.message('FANCY_NEXT')+'" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',
				prev     : '<a title="'+BX.message('FANCY_PREV')+'" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'
			},
		});
	})

	/*tabs*/
	$(".tabs_section .tabs-head li").live("click", function(){
		if(!$(this).is(".current")){
			$(".tabs_section .tabs-head li").removeClass("current");
			$(this).addClass("current");
			$(".tabs_section ul.tabs_content li").removeClass("current");
			if($(this).attr("id") == "product_reviews_tab"){
				$(".shadow.common").hide(); $("#reviews_content").show();
			}
			else{
				$(".shadow.common").show();
				$("#reviews_content").hide();
				$(".tabs_section ul.tabs_content > li:eq("+$(this).index()+")").addClass("current");
			}
		}
	});
	/*open first section slide*/
	setTimeout(function() {
		$('.jobs_wrapp .item:first .name tr').trigger('click');
	}, 300);

	$('.buy_block .slide_offer').on('click', function(){
		scroll_block($('.tabs_section'));
	});
	$('.share_wrapp .text').on('click', function(){
		$(this).parent().find('.shares').fadeToggle();
	})
	$('html, body').live('mousedown', function(e) {
		e.stopPropagation();
		$('.shares').fadeOut();
		$('.search_middle_block').removeClass('active_wide');
	})
	$('.share_wrapp').find('*').live('mousedown', function(e) {
		e.stopPropagation();
	});
	$(document).on('click', '.reviews-collapse-link', function(){
		$('.reviews-reply-form').slideToggle();
	})

	initCountdown();

	/*adaptive menu start*/
	$('.menu.adaptive').on('click', function(){
		$(this).toggleClass('opened');
		if($(this).hasClass('opened')){
			$('.mobile_menu').toggleClass('opened').slideDown();
		}else{
			$('.mobile_menu').toggleClass('opened').slideUp();
		}
	});
	$('.mobile_menu .has-child >a').on('click', function(e){
		var parentLi=$(this).parent();
		e.preventDefault();
		parentLi.toggleClass('opened');
		parentLi.find('.dropdown').slideToggle();
	})

	$('.mobile_menu .search-input-div input').live('keyup', function(e) {
		var inputValue = $(this).val();
		$('.center_block .stitle_form input').val(inputValue);
		if(e.keyCode == 13){
			$('.center_block .stitle_form form').submit();
		}
	});

	$('.center_block .stitle_form input').live('keyup', function(e) {
		var inputValue = $(this).val();
		$('.mobile_menu .search-input-div input').val(inputValue);
		if(e.keyCode == 13){
			$('.center_block .stitle_form form').submit();
		}
	});

	$('.mobile_menu .search-button-div button').live('click', function(e) {
		e.preventDefault();
		var inputValue = $(this).parents().find('input').val();
		$('.center_block .stitle_form input').val(inputValue);
		$('.center_block .stitle_form form').submit();
	});
	/*adaptive menu end*/

	$('.btn.btn-add').on('click', function(){
		$.ajax({
			type:"GET",
			url:arOptimusOptions['SITE_DIR']+"ajax/clearBasket.php",
			success: function(data){
			}
		});
	})

	/*touch event*/
	document.addEventListener('touchend', function(event) {
		if(!$(event.target).closest('.menu_item_l1').length){
			$('.menu .menu_item_l1 .child').css({'display':'none'});
			$('.menu_item_l1').removeClass('hover');
		}
		if(!$(event.target).closest('.basket_block').length){
			$('.basket_block .link').removeClass('hover');
			$('.basket_block .basket_popup_wrapp').slideUp();
		}
		if(!$(event.target).closest('.catalog_item').length){
			var tabsContentUnhoverHover = $('.tab:visible').attr('data-unhover') * 1;
			$('.tab:visible').stop().animate({'height': tabsContentUnhoverHover}, 100);
			$('.tab:visible').find('.catalog_item').removeClass('hover');
			$('.tab:visible').find('.catalog_item .buttons_block').stop().fadeOut(233);
			if($('.catalog_block').length){
				$('.catalog_block').find('.catalog_item').removeClass('hover');
				//$('.catalog_block').find('.catalog_item').blur();
			}
		}
	}, false);
	//touchItemBlock('.catalog_item a');
	$(document).on('keyup', '.coupon .input_coupon input', function(){
		if($(this).val().length){
			$(this).removeClass('error');
			$(this).closest('.input_coupon').find('.error').remove();
		}else{
			$(this).addClass('error');
			$("<label class='error'>"+BX.message("INPUT_COUPON")+"</label>").insertBefore($(this));
		}
	})
	// showPhoneMask('input[autocomplete=tel]');
	BX.addCustomEvent(window, "onAjaxSuccess", function(){
		initSelects(document);
		// InitLabelAnimation('#bx-soa-order-form');
		InitOrderCustom();
		// showPhoneMask('input[autocomplete=tel]');
		if($('.catalog_detail').length){
			$('.bx_filter').remove();
			InitFlexSlider();
		}

		if(arOptimusOptions["PAGES"]["ORDER_PAGE"]){
			orderActions();
		}
	});
	BX.addCustomEvent(window, "onFrameDataRequestFail", function(response){
		console.log(response);
	});
});

if(!funcDefined('showPhoneMask')){
	showPhoneMask=function(className){
		$(className).inputmask('mask', {'mask': arOptimusOptions['THEME']['PHONE_MASK'], 'showMaskOnHover':false });
	}
}

if(!funcDefined('parseUrlQuery')){
	parseUrlQuery=function() {
	    var data = {};
	    if(location.search) {
	        var pair = (location.search.substr(1)).split('&');
	        for(var i = 0; i < pair.length; i ++) {
	            var param = pair[i].split('=');
	            data[param[0]] = param[1];
	        }
	    }
	    return data;
	}
}

if(!funcDefined('getActualBasket')){
	getActualBasket=function(iblockID){
		var data='';
		if(typeof iblockID !=="undefined"){
			data={"iblockID":iblockID}
		}
		$.ajax({
			type:"GET",
			url:arOptimusOptions['SITE_DIR']+"ajax/actualBasket.php",
			data:data,
			success: function(data){
				if(!$('.js_ajax').length)
					$('body').append('<div class="js_ajax"></div>');
				$('.js_ajax').html(data);
			}
		});
	}
}

function touchMenu(selector){
	if($(window).outerWidth()>600){
		$(selector).each(function(){
			var th=$(this);
			th.on('touchend', function(e) {
				if (th.find('.child').length && !th.hasClass('hover')) {
					e.preventDefault();
					e.stopPropagation();
					th.siblings().removeClass('hover');
					th.addClass('hover');
					$('.menu .child').css({'display':'none'});
					th.find('.child').css({'display':'block'});
				}
			})
		})
	}else{
		$(selector).off();
	}
}
function touchItemBlock(selector){
	$(selector).each(function(){
		var th=$(this),
			item=th.closest('.catalog_item');
		th.on('touchend', function(e) {
			if (!item.hasClass('hover')) {
				e.preventDefault();
				e.stopPropagation();
				item.siblings().removeClass('hover');
				item.siblings().blur();
				item.closest('.catalog_block').find('.catalog_item').removeClass('hover');
				item.addClass('hover');
				item.addClass('touch');

				var tabsContentHover = th.closest('.tab').attr('data-hover') * 1,
					tabsContentUnhoverHover = th.closest('.tab').attr('data-unhover') * 1;

				th.closest('.tab').stop().animate({'height': tabsContentUnhoverHover}, 100);
				th.closest('.catalog_item').siblings().find('.buttons_block').stop().fadeOut(233)

				th.closest('.tab').fadeTo(100, 1);
				th.closest('.tab').stop().css({'height': tabsContentHover});
				th.closest('.catalog_item').find('.buttons_block').fadeIn(450, 'easeOutCirc');
			}
		})
	})
}
function touchBasket(selector){
	if(arOptimusOptions['THEME']['SHOW_BASKET_ONADDTOCART'] !== 'N'){
		if($(window).outerWidth()>600){
			$(document).find(selector).on('touchend', function(e) {
				if ($(this).parent().find('.basket_popup_wrapp').length && !$(this).hasClass('hover')) {
					e.preventDefault();
					e.stopPropagation();
					$(this).addClass('hover');
					$(this).parent().find('.basket_popup_wrapp').slideDown();
				}
			})
		}else{
			$(selector).off();
		}
	}
}
function initFull(){
	initSelects(document);
	initHoverBlock(document);
	touchItemBlock('.catalog_item a');
	// InitLabelAnimation('#bx-soa-order-form');
	InitOrderCustom();
	if(!$('html.print').length)
		checkStickyFooter();
	else
		window.print();

	basketActions();
	orderActions();
}
if(!funcDefined('orderActions')){
	orderActions = function(){
		if(arOptimusOptions["PAGES"]["ORDER_PAGE"]){
			if($('.bx-soa-cart-total').length){
				if(!$('.change_basket').length)
					$('.bx-soa-cart-total').prepend('<div class="change_basket">'+BX.message("BASKET_CHANGE_TITLE")+'<a href="'+arOptimusOptions["SITE_DIR"]+'basket/" class="change_link">'+BX.message("BASKET_CHANGE_LINK")+'</a></div>');
				if(typeof (BX.Sale.OrderAjaxComponent) == "object"){
					if(BX.Sale.OrderAjaxComponent.hasOwnProperty("params")){
						$('.bx-soa-cart-total .change_link').attr('href', BX.Sale.OrderAjaxComponent.params.PATH_TO_BASKET);
						if(arOptimusOptions["PRICES"]["MIN_PRICE"]){
							if(arOptimusOptions["PRICES"]["MIN_PRICE"]>Number(BX.Sale.OrderAjaxComponent.result.TOTAL.ORDER_PRICE)){
								$('<div class="fademask_ext"></div>').appendTo($('body'));
								location.href=BX.Sale.OrderAjaxComponent.params.PATH_TO_BASKET;
							}
						}
					}
				}
				$('.bx-ui-sls-quick-locations.quick-locations').on('click', function(){
					$(this).siblings().removeClass('active');
					$(this).addClass('active');
				})
			}
		}
	}
}

if(!funcDefined('basketActions')){
	basketActions = function(){
		if(arOptimusOptions["PAGES"]["BASKET_PAGE"]){
			checkMinPrice();

			$('.bx_sort_container').append('<div class="top_control basket_sort"><span class="delete_all button grey_br transparent remove_all_basket">'+BX.message("BASKET_CLEAR_ALL_BUTTON")+'</span></div>');
			if(arOptimusOptions["THEME"]["SHOW_BASKET_PRINT"]=="Y"){
				$('.bx_sort_container .top_control').prepend('<span class="basket_print button grey_br transparent">'+BX.message("BASKET_PRINT_BUTTON")+'</span>');
			}
			$('.bx_sort_container .top_control .delete_all').data("type",$('.bx_sort_container a.current').index());
			$('.bx_ordercart .bx_ordercart_coupon #coupon').wrap('<div class="input"></div>');

			$('.bx_sort_container > a').on('click', function() {
				$('.bx_sort_container .top_control .delete_all').data("type", $(this).index());
			});

			$('.basket_print').on('click', function() {
				 window.open(location.pathname+"?print=Y",'_blank');
			});

			$('.delete_all').on('click', function() {
				$.post( arOptimusOptions['SITE_DIR']+"ajax/action_basket.php", "TYPE="+$(this).data('type')+"&CLEAR_ALL=Y", $.proxy(function( data ) {
					location.reload();
				}));
			});

			$('.bx_item_list_section .bx_catalog_item').sliceHeight({row:'.bx_item_list_slide', item:'.bx_catalog_item'});

			BX.addCustomEvent('onAjaxSuccess', function() {
				checkMinPrice();

				var errorText = $.trim($('#warning_message').text());
				$('#basket_items_list .error_text').detach();
				if (errorText != '') {
					$('#warning_message').hide().text('');
					$('#basket_items_list').prepend('<div class="error_text">' +errorText+ '</div>');
				}
			});
		}
	}
}

if(!funcDefined('checkMinPrice')){
	checkMinPrice = function(){
		if(arOptimusOptions["PAGES"]["BASKET_PAGE"]){
			var summ_raw=$('#allSum_FORMATED').text().replace(/[^0-9\.]/g,''),
				summ=parseFloat(summ_raw);
			if(!$('.catalog_back').length)
				$('.bx_ordercart_order_pay_center').prepend('<a href="/catalog/" class="catalog_back button transparent big_btn grey_br">'+BX.message("BASKET_CONTINUE_BUTTON")+'</a>');

			if(arOptimusOptions["PRICES"]["MIN_PRICE"]){
				if(arOptimusOptions["PRICES"]["MIN_PRICE"]>summ){
					if(!$('.icon_error_wrapper').length){
						$('.bx_ordercart_order_pay_center').prepend('<div class="icon_error_wrapper"><div class="icon_error_block">'+BX.message("MIN_ORDER_PRICE_TEXT").replace("#PRICE#", jsPriceFormat(arOptimusOptions["PRICES"]["MIN_PRICE"]))+'</div></div>');
					}

					if($('.oneclickbuy.fast_order').length)
						$('.oneclickbuy.fast_order').remove();

					if($('.bx_ordercart_order_pay .checkout').length)
						$('.bx_ordercart_order_pay .checkout').remove();
				}else{
					if($('.icon_error_wrapper').length)
						$('.icon_error_wrapper').remove();

					if($('.bx_ordercart_order_pay .checkout').length)
						$('.bx_ordercart .bx_ordercart_order_pay .checkout').css('opacity','1');
					else
						$('.bx_ordercart_order_pay_center').append('<a href="javascript:void(0)" onclick="checkOut();" class="checkout" style="opacity: 1;">'+BX.message("BASKET_ORDER_BUTTON")+'</a>');
					if(!$('.oneclickbuy.fast_order').length)
						$('.bx_ordercart_order_pay_center').append('<span class="oneclickbuy button big_btn fast_order" onclick="oneClickBuyBasket()">'+BX.message("BASKET_QUICK_ORDER_BUTTON")+'</span>');


				}
			}else{
				$('.bx_ordercart .bx_ordercart_order_pay .checkout').css('opacity','1');
				if(!$('.oneclickbuy.fast_order').length)
					$('.bx_ordercart_order_pay_center').append('<span class="oneclickbuy button big_btn fast_order" onclick="oneClickBuyBasket()">'+BX.message("BASKET_QUICK_ORDER_BUTTON")+'</span>');
			}
		}
	}
}

var isFrameDataReceived = false;
if (typeof window.frameCacheVars !== "undefined"){
	BX.addCustomEvent("onFrameDataReceived", function (json){
		initFull();
		isFrameDataReceived = true;
	});
}else{
	$( document ).ready(initFull);
}

if(!funcDefined('setHeightBlockSlider')){
	setHeightBlockSlider = function(){
		var sliderWidth = $(document).find('.specials.tab_slider_wrapp').outerWidth();

		$(document).find('.specials.tab_slider_wrapp .tabs_content > li.cur').css('height', '');
		$(document).find('.specials.tab_slider_wrapp .tabs_content .tab.cur .tabs_slider .buttons_block').hide();
		$(document).find('.specials.tab_slider_wrapp .tabs_content > li.cur').equalize({children: '.item-title'});
		$(document).find('.specials.tab_slider_wrapp .tabs_content > li.cur').equalize({children: '.item_info'});
		$(document).find('.specials.tab_slider_wrapp .tabs_content > li.cur').equalize({children: '.catalog_item'});
		var itemsButtonsHeight = $(document).find('.specials.tab_slider_wrapp .tabs_content .tab.cur .tabs_slider li .buttons_block').height();
		var tabsContentUnhover = $(document).find('.specials.tab_slider_wrapp .tabs_content .tab.cur').height() * 1;
		var tabsContentHover = tabsContentUnhover + itemsButtonsHeight+50;
		$(document).find('.specials.tab_slider_wrapp .tabs_content .tab.cur').attr('data-unhover', tabsContentUnhover);
		$(document).find('.specials.tab_slider_wrapp .tabs_content .tab.cur').attr('data-hover', tabsContentHover);
		$(document).find('.specials.tab_slider_wrapp .tabs_content').height(tabsContentUnhover);
	}
}

if(!funcDefined('checkStickyFooter')){
	checkStickyFooter = function() {
		try{
			ignoreResize.push(true);
			$('#content').css('min-height', '');
			var contentTop = $('#content').offset().top;
			var contentBottom = contentTop + $('#content').outerHeight();
			var footerTop = $('footer').offset().top;
			$('#content').css('min-height', $(window).height() - contentTop - (footerTop - contentBottom) - $('footer').outerHeight() + 'px');
			ignoreResize.pop();
		}
		catch(e){console.error(e);}
	}
}

/* EVENTS */
var timerResize = false, ignoreResize = [];
$(window).resize(function(){
	if(!$('html.print').length)
		checkStickyFooter();

	// here immediate functions
	if(!ignoreResize.length){
		if(timerResize){
			clearTimeout(timerResize);
			timerResize = false;
		}
		timerResize = setTimeout(function(){
			// here delayed functions in event
			BX.onCustomEvent('onWindowResize', false);
		}, 50);
	}
});

var timerScroll = false, ignoreScroll = [], documentScrollTopLast = $(document).scrollTop();
$(window).scroll(function(){
	// here immediate functions
	documentScrollTopLast = $(document).scrollTop();
	if(!ignoreScroll.length){
		if(timerScroll){
			clearTimeout(timerScroll);
			timerScroll = false;
		}
		timerScroll = setTimeout(function(){
			// here delayed functions in event
			BX.onCustomEvent('onWindowScroll', false);
		}, 50);
	}
});

BX.addCustomEvent('onWindowResize', function(eventdata){
	try{
		ignoreResize.push(true);

		// CheckTopMenuFullCatalogSubmenu();

		checkScrollToTop();
		checkPopupWidth();
		checkCaptchaWidth();
		checkFormWidth();
		checkFormControlWidth();
		touchMenu('ul.menu:not(.opened) > li.menu_item_l1');
		touchBasket('.cart:not(.empty_cart) .basket_block .link');
		CheckObjectsSizes();

		CheckFlexSlider();
		InitZoomPict();
		initSly();

		checkVerticalMobileFilter();

		if(window.matchMedia('(max-width: 768px)').matches){
			if($('.group_description_block.top').length){
				var top_pos=$('.adaptive_filter').position().top;
				$('.bx_filter.bx_filter_vertical').css({'top':top_pos+20});
			}

		}

		if(window.matchMedia('(min-width: 767px)').matches){
			$('.wrapper_middle_menu.wrap_menu').removeClass('mobile');
		}
		if(window.matchMedia('(max-width: 767px)').matches){
			$('.wrapper_middle_menu.wrap_menu').addClass('mobile');
		}

		if($(window).outerWidth()>600){
			$("#header ul.menu").removeClass("opened").css("display", "");

			if($(".authorization-cols").length){
				$('.authorization-cols').equalize({children: '.col .auth-title', reset: true});
				$('.authorization-cols').equalize({children: '.col .form-block', reset: true});
			}
		} else {
			$('.authorization-cols .auth-title').css("height", "");
			$('.authorization-cols .form-block').css("height", "");
		}


		if($("#basket_form").length && $(window).outerWidth()<=600){
			$("#basket_form .tabs_content.basket > li.cur td").each(function() { $(this).css("width","");});
		}

		if($(".front_slider_wrapp").length){
			$(".extended_pagination li i").each(function(){
				$(this).css({"borderBottomWidth": ($(this).parent("li").outerHeight()/2), "borderTopWidth": ($(this).parent("li").outerHeight()/2)});
			});
		}

		setHeightCompany();
		$(".bx_filter_section .bx_filter_select_container").each(function(){
			var prop_id=$(this).closest('.bx_filter_parameters_box').attr('property_id');
			if($('#smartFilterDropDown'+prop_id).length){
				$('#smartFilterDropDown'+prop_id).css("max-width", $(this).width());
			}
		})
	}
	catch(e){}
	finally{
		ignoreResize.pop();
	}
});

BX.addCustomEvent('onWindowScroll', function(eventdata){
	try{
		ignoreScroll.push(true);
	}
	catch(e){}
	finally{
		ignoreScroll.pop();
	}
});90   2452|/aspro.optimus/install/components/aspro/catalog.viewed.optimus/component.php|b55ade5c<?
if(!defined('B_PROLOG_INCLUDED') || B_PROLOG_INCLUDED !== true) die();
$arResult = array('ERROR' => '', 'ITEMS' => array());

if(!CModule::IncludeModule('aspro.optimus')){
	$arResult['ERROR'] = GetMessage('OPTIMUS_T_ERROR_MODULE_NOT_INCLUDED_NOTE');
}
else{
	global $TEMPLATE_OPTIONS, $STARTTIME;

	$localKey = 'OPTIMUS_VIEWED_ITEMS_'.SITE_ID;
	$arItemsACTIVE_FROMByID = array();
	$arViewed = (isset($_COOKIE[$localKey]) && strlen($_COOKIE[$localKey])) ? json_decode($_COOKIE[$localKey], true) : array();

	if($arViewed && is_array($arViewed)){
		$viewedDays = COption::GetOptionString("sale", "viewed_time", "5");
		$viewedCntMax = COption::GetOptionString("sale", "viewed_count", "10");
		$arResult['DIETIME'] = $DIETIME = $STARTTIME - $viewedDays * 86400000;

		foreach($arViewed as $PRODUCT_ID => $arItem){
			// delete old items
			if($arItem[0] < $DIETIME){
				unset($arViewed[$PRODUCT_ID]);
				continue;
			}

			// make array $PRODUCT_ID => ACTIVE_FROM for DESC sort
			$arItemsACTIVE_FROMByID[$PRODUCT_ID] = $arItem[0];

			// get image
			$arImage = array();
			if($PICTURE_ID = isset($arItem['1']) ? $arItem['1'] : false){
				$arImage = CFile::ResizeImageGet($PICTURE_ID, array('width' => 110, 'height' => 110), BX_RESIZE_IMAGE_PROPORTIONAL, true);
			}

			// make item array
			$arViewed[$PRODUCT_ID] = array(
				'PRODUCT_ID' => $PRODUCT_ID,
				'ACTIVE_FROM' => $arItem[0],
				'PICTURE' => array(
					'ID' => $PICTURE_ID,
					'SRC' => $arImage ? $arImage['src'] : SITE_TEMPLATE_PATH.'/images/no_photo_medium.png',
					'ALT' => $arImage ? (strlen($arImage['DESCRIPTION']) ? $arImage['DESCRIPTION'] : (strlen($arImage['ALT']) ? $arImage['ALT'] : false)) : false,
					'TITLE' => $arImage ? (strlen($arImage['DESCRIPTION']) ? $arImage['DESCRIPTION'] : (strlen($arImage['TITLE']) ? $arImage['TITLE'] : false)) : false,
				),
			);
		}

		// sort by ACTIVE_FROM
		arsort($arItemsACTIVE_FROMByID);

		// make RESULT items
		foreach($arItemsACTIVE_FROMByID as $PRODUCT_ID => $ACTIVE_FROM){
			// only $viewedCntMax items
			if(count($arResult['ITEMS']) < $viewedCntMax){
				$arResult['ITEMS'][] = $arViewed[$PRODUCT_ID];
			}
			else{
				break;
			}
		}
	}

	// time of last viewed product
	$arResult['LAST_ACTIVE_FROM'] = $arResult['ITEMS'] ? $arResult['ITEMS'][count($arResult['ITEMS']) - 1]['ACTIVE_FROM'] : $STARTTIME;
}

$this->IncludeComponentTemplate();
?>104  6319|/aspro.optimus/install/components/aspro/catalog.viewed.optimus/templates/main/template.php|b6de8973<?
if(!defined('B_PROLOG_INCLUDED') || B_PROLOG_INCLUDED !== true) die();
$this->setFrameMode(true);
$arParams['TITLE_BLOCK'] = strlen($arParams['TITLE_BLOCK']) ? $arParams['TITLE_BLOCK'] : GetMessage('CATALOG_VIEWED_TITLE');
?>
<!-- noindex -->
<?if(strlen($arResult['ERROR'])):?>
	<?ShowError($arResult['ERROR']);?>
<?else:?>
	<?if($arResult['ITEMS']):?>
		<?//print_r($arResult);?>
		<div class="viewed_block">
			<div class="title_block"><?=$arParams["TITLE_BLOCK"]?></div>
			<div class="outer_wrap">
				<div class="rows_block items">
					<?foreach($arResult['ITEMS'] as $key=>$arItem):?>
						<?
						if($key > 7)
							continue;
						$isItem = (isset($arItem['PRODUCT_ID']) ? true : false);
						?>
						<div class="item_block">
							<?if($isItem):?>
								<div data-id=<?=$arItem['PRODUCT_ID']?> data-picture='<?=str_replace('\'', '"', CUtil::PhpToJSObject($arItem['PICTURE']))?>' class="item_wrap item <?=($isItem ? 'has-item' : '' );?>" id=<?=$this->GetEditAreaId($arItem['PRODUCT_ID'])?>>
									<?
									$this->AddEditAction($arItem['PRODUCT_ID'], $arItem['EDIT_LINK'], CIBlock::GetArrayByID($arParams['IBLOCK_ID'], 'ELEMENT_EDIT'));
									$this->AddDeleteAction($arItem['PRODUCT_ID'], $arItem['DELETE_LINK'], CIBlock::GetArrayByID($arParams['IBLOCK_ID'], 'ELEMENT_DELETE'), array('CONFIRM' => GetMessage('CT_BCS_ELEMENT_DELETE_CONFIRM')));
									?>
								</div>
							<?else:?>
								<div class="item_wrap item"></div>
							<?endif;?>
						</div>
					<?endforeach;?>
				</div>
			</div>
		</div>
		<script type="text/javascript">
		$(document).ready(function() {
			var lastViewedTime = <?=$arResult['LAST_ACTIVE_FROM']?>;
			var bShowMeasure = <?=($arParams['SHOW_MEASURE'] !== 'N' ? 'true' : 'false')?>;
			var $viewedSlider = $('.viewed_block .item_block');

			if($viewedSlider.length){
				// save $.cookie option
				var bCookieJson = $.cookie.json;
				$.cookie.json = true;

				var arViewedLocal = {};
				var arViewedCookie = {};

				try{
					if(typeof BX.localStorage !== 'undefined'){
						var localKey = 'OPTIMUS_VIEWED_ITEMS_<?=SITE_ID?>';
						var cookieParams = {path: '/', expires: 30};
						arViewedLocal = BX.localStorage.get(localKey) ? BX.localStorage.get(localKey) : {};
						arViewedCookie = $.cookie(localKey) ? $.cookie(localKey) : {};
						for(var PRODUCT_ID in arViewedLocal){
							var $item = $viewedSlider.find('div[data-id=' + PRODUCT_ID + ']');
							if($item.length){
								var item = arViewedLocal[PRODUCT_ID];
								var picture = (typeof $item.attr('data-picture') !== 'undefined') ? JSON.parse($item.attr('data-picture')) : {ID: false, SRC: '<?=SITE_TEMPLATE_PATH.'/images/no_photo_medium.png'?>', ALT: item.NAME, TITLE: item.NAME};
								var bIsOffer = (typeof item.IS_OFFER !== 'undefined') ? (item.IS_OFFER === 'Y') : false;
								var bWithOffers = (typeof item.WITH_OFFERS !== 'undefined') ? (item.WITH_OFFERS === 'Y') : false;

								$item.html(
									'<div class="inner_wrap">'+
										'<div class="image_wrapper_block">'+
											'<a href="' + item.DETAIL_PAGE_URL + '" class="thumb">'+
												'<img border="0" src="' + picture.SRC + '" alt="' + (picture.ALT.length ? picture.ALT : item.NAME) + '" title="' + (picture.TITLE.length ? picture.TITLE : item.NAME) + '" />'+
											'</a>'+
										'</div>'+
										'<div class="item_info">'+
											'<div class="item-title">'+
												'<a href="' + item.DETAIL_PAGE_URL + '"><span>' + item.NAME + '</span></a>'+
											'</div>'+
											'<div class="cost prices clearfix">'+
												(item.MIN_PRICE ?
													((((item.MIN_PRICE.VALUE * 1) > (item.MIN_PRICE.DISCOUNT_VALUE * 1))) ?
														'<div class="price only_price">' + (bWithOffers ? '<?=GetMessage('CATALOG_FROM')?> ' : '') + item.MIN_PRICE.PRINT_DISCOUNT_VALUE + (bShowMeasure && item.CATALOG_MEASURE_NAME.length ? '/' + item.CATALOG_MEASURE_NAME : '') + '</div>'
													: '<div class="price only_price">' + (bWithOffers ? '<?=GetMessage('CATALOG_FROM')?> ' : '') + item.MIN_PRICE.PRINT_VALUE + (bShowMeasure && item.CATALOG_MEASURE_NAME.length ? '/' + item.CATALOG_MEASURE_NAME : '') + '</div>')
												: '')+
											'</div>'+
										'</div>'+
									'</div>'
								);
							}
							else{
								// item not finded
								// may be if it`s new item (it`s detail page), than ACTIVE_FROM > last viewed exists item
								// or it`s old died item and quantity limit
								var ACTIVE_FROM = (typeof arViewedLocal[PRODUCT_ID].ACTIVE_FROM !== 'undefined') ? arViewedLocal[PRODUCT_ID].ACTIVE_FROM : ((typeof arViewedCookie[PRODUCT_ID] !== 'undefined') ? arViewedCookie[PRODUCT_ID][0] : false);
								if(!ACTIVE_FROM || ACTIVE_FROM < lastViewedTime){
									// get actual for save
									var _arViewedLocal = BX.localStorage.get(localKey) ? BX.localStorage.get(localKey) : {};
									var _arViewedCookie = $.cookie(localKey) ? $.cookie(localKey) : {};
									delete _arViewedLocal[PRODUCT_ID];
									delete _arViewedCookie[PRODUCT_ID];
									BX.localStorage.set(localKey, _arViewedLocal, 2592000);  // 30 days
									$.cookie(localKey, _arViewedCookie, cookieParams);
								}
							}
						}
					}

					//remove some items
					$viewedSlider.find('>.item').each(function() {
						var PRODUCT_ID = (typeof $(this).attr('data-id') !== 'undefined') ? $(this).attr('data-id') : false;
						if(PRODUCT_ID && (typeof arViewedLocal[PRODUCT_ID] === 'undefined')){
							$(this).removeClass('has-item').find('>.inner_wrap').remove();
						}
					});

					// if no items than remove block
					if(!$viewedSlider.find('>.item.has-item').length){
						$viewedSlider.closest('.viewed_block').remove();
					}
				}
				catch(e){
					console.error(e);
				}
				finally{
					// restore $.cookie option
					$.cookie.json = bCookieJson;
				}
			}

			$('.viewed_block .rows_block .item .item-title').dotdotdot();
			$('.viewed_block .rows_block .item .item-title').sliceHeightNoResize({outer:true, slice:8, autoslicecount:false});
			$('.viewed_block .rows_block .item').sliceHeightNoResize({slice:8, autoslicecount:false});
		});
		</script>
	<?endif;?>
<?endif;?>
<!-- /noindex -->87   1486|/aspro.optimus/install/components/aspro/oneclickbuy.optimus/component.php|2f7a5ece<?if(!defined('B_PROLOG_INCLUDED') || B_PROLOG_INCLUDED !== true) die();
if(intval($arParams['CACHE_TIME']) < 0){
	$arParams['CACHE_TIME'] = 36000;
}
if(!strlen($arParams['DEFAULT_CURRENCY'])){
	$arParams['DEFAULT_CURRENCY'] = COption::GetOptionString('sale', 'default_currency', 'RUB');
}
if(empty($arParams['PROPERTIES'])){
	$arParams['PROPERTIES'] = array('FIO', 'PHONE');
}
if(empty($arParams['REQUIRED'])){
	$arParams['REQUIRED'] = array('FIO', 'PHONE');
}
$arParams['ELEMENT_ID'] = intval($arParams['ELEMENT_ID']);

$arResult = array(
	'ERRORS' => array(),
	'SCRIPT_PATH' => $this->{'__path'},
	'USER_ID' => false,
	'USER_FIO' => '',
	'USER_EMAIL' => '',
	'USER_PHONE' => '',
);

global $USER;
if($arResult['USER_ID'] = $USER->GetID()){
	$dbUser = $USER->GetByID($arResult['USER_ID']);
	$arUser = $dbUser->Fetch();
	$arResult['USER_FIO'] = $USER->GetFullName();
	$arResult['USER_EMAIL'] = $USER->GetEmail();
	$arResult['USER_PHONE'] = $arUser['PERSONAL_PHONE'];
}

if($this->StartResultCache()){
	CModule::IncludeModule('sale');
	$arProps = array();
	$rsProps = CSaleOrderProps::GetList(array(), array("CODE" => $arParams["PROPERTIES"], "PERSON_TYPE_ID" => $arParams["DEFAULT_PERSON_TYPE"]));
    while($arProp = $rsProps->Fetch()){
    	if(strlen($arProp["CODE"]) && $arProp["TYPE"] === "TEXT"){
	    	$arProps[$arProp["CODE"]] = $arProp["NAME"];
		}
    }
    $arResult["PROPS"] = $arProps;

	$this->IncludeComponentTemplate();
}
?>87   3351|/aspro.optimus/install/components/aspro/oneclickbuy.optimus/functions.php|26ffa78d<?
function getPropertyByCode($propertyCollection, $code){
	foreach ($propertyCollection as $property){
		if($property->getField('CODE') == $code){
			return $property;
		}
	}
}
function checkNewVersionExt($module="main"){
	if($info = CModule::CreateModuleObject($module)){
		$testVersion = '16.0.30';
		
		if(CheckVersion($info->MODULE_VERSION, $testVersion)){
			return true;
		}else{
			return false;
		}
	}
	return false;
}

function placeOrder($registeredUserID, $basketUserID, $newOrder, $arOrderDat, $POST){
	$deliveryName = $paymentName = "";
	if(class_exists('\Bitrix\Sale\Delivery\Services\Manager')){
		$service = \Bitrix\Sale\Delivery\Services\Manager::getObjectById($newOrder["DELIVERY_ID"]);
		if(is_object($service)){
			if ($service->isProfile())
				$arDelivery['DELIVERY_NAME'] = $service->getNameWithParent();
			else
				$arDelivery['DELIVERY_NAME'] = $service->getName();
			$deliveryName = $arDelivery["DELIVERY_NAME"];
		}else{
			$deliveryName = "QUICK_ORDER";
		}
	}else{
		$deliveryName = "QUICK_ORDER";
	}

	if(class_exists('\Bitrix\Sale\PaySystem\Manager')){
		$service = \Bitrix\Sale\PaySystem\Manager::getObjectById($newOrder["PAY_SYSTEM_ID"]);
		if(is_object($service)){
			$paymentName=$service->getField('NAME');
		}else{
			$paymentName = "QUICK_ORDER";
		}
	}else{
		$paymentName = "QUICK_ORDER";
	}
	
	$siteId = \Bitrix\Main\Context::getCurrent()->getSite();
			
	$order = Bitrix\Sale\Order::create($siteId, $basketUserID);
	
	$order->setPersonTypeId($newOrder['PERSON_TYPE_ID']);
	
	//set basket
	$basket = Bitrix\Sale\Basket::loadItemsForFUser($basketUserID, $siteId)->getOrderableItems();
	$order->setBasket($basket);
	
	/*Shipment*/
	$shipmentCollection = $order->getShipmentCollection();
	$shipment = $shipmentCollection->createItem();
	$shipment->setFields(array(
		'DELIVERY_ID' => $newOrder["DELIVERY_ID"],
		'DELIVERY_NAME' => $deliveryName,
		'PRICE_DELIVERY' => 0,
		'BASE_PRICE_DELIVERY' => 0,
		'CUSTOM_PRICE_DELIVERY' => "Y",
		'CURRENCY' => $arOrderDat["CURRENCY"]
	));
	$shipmentItemCollection = $shipment->getShipmentItemCollection();
	foreach ($order->getBasket() as $item){
		$shipmentItem = $shipmentItemCollection->createItem($item);
		$shipmentItem->setQuantity($item->getQuantity());
	}
	/**/

	/*Payment*/
	$paymentCollection = $order->getPaymentCollection();
	$extPayment = $paymentCollection->createItem();
	$extPayment->setFields(array(
	   'PAY_SYSTEM_ID' => $newOrder['PAY_SYSTEM_ID'],
	   'PAY_SYSTEM_NAME' => $paymentName,
	));
	/**/
	$order->doFinalAction(true);
	
	$order->setField('CURRENCY', $arOrderDat["CURRENCY"]);
	$order->setFields(array(
		'USER_DESCRIPTION' => $POST['ONE_CLICK_BUY']['COMMENT'],
		'COMMENTS' => GetMessage('FAST_ORDER_COMMENT'),
	));
	
	
	$order->setFieldNoDemand('USER_ID', $registeredUserID);
	
	$propertyCollection = $order->getPropertyCollection();
	if($POST['ONE_CLICK_BUY']['EMAIL']){
		$obProperty = getPropertyByCode($propertyCollection, 'EMAIL');
		$obProperty->setValue($POST['ONE_CLICK_BUY']['EMAIL']);
	}		
	/*if($POST['ONE_CLICK_BUY']['LOCATION']){
		$obProperty = getPropertyByCode($propertyCollection, 'LOCATION');
		$obProperty->setValue($POST['ONE_CLICK_BUY']['LOCATION']);
	}*/
	$r=$order->save();
	if (!$r->isSuccess()){
		die(getJson(GetMessage('ORDER_CREATE_FAIL'), 'N', implode('<br />', (array)$r->getErrors())));
	}
	return $r;
}
?>RTIBE